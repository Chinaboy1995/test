/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

/*
 Leaflet 1.0.0, a JS library for interactive maps. http://leafletjs.com
 (c) 2010-2016 Vladimir Agafonkin, (c) 2010-2011 CloudMade
*/

/*!
 * Bootstrap v3.3.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/* esri-leaflet - v2.0.7 - Tue Jan 10 2017 09:03:47 GMT-0800 (PST)
 * Copyright (c) 2017 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */

/*
	 * Copyright 2015 Esri
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *     http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the Liscense.
	 */

// add copyright text listed in service metadata

/*
 Leaflet.draw 0.4.9, a plugin that adds drawing and editing tools to Leaflet powered maps.
 (c) 2012-2017, Jacob Toye, Jon West, Smartrak, Leaflet

 https://github.com/Leaflet/Leaflet.draw
 http://leafletjs.com
 */

/*! jQuery UI - v1.12.1 - 2016-09-16
 * http://jqueryui.com
 * Includes: position.js
 * Copyright jQuery Foundation and other contributors; Licensed MIT */

/*!
     * jQuery UI Position 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/position/
     */

/*!
 * jQuery contextMenu v2.4.3-dev - Plugin for simple contextMenu handling
 *
 * Version: v2.4.3-dev
 *
 * Authors: Bj√∂rn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)
 * Web: http://swisnl.github.io/jQuery-contextMenu/
 *
 * Copyright (c) 2011-2017 SWIS BV and contributors
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 * Date: 2017-01-21T11:53:09.617Z
 */

/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */

/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */

/*
 * JQuery zTree 2.3
 * http://code.google.com/p/jquerytree/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Date: 2011-01-04
 *
 */

/******************************************************************************
 * jquery.i18n.properties
 *
 * Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and
 * MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses.
 *
 * @version     1.2.2
 * @url         https://github.com/jquery-i18n-properties/jquery-i18n-properties
 * @inspiration Localisation assistance for jQuery (http://keith-wood.name/localisation.html)
 *              by Keith Wood (kbwood{at}iinet.com.au) June 2007
 *

 *****************************************************************************/

/* Cross-Browser Split 1.0.1
       (c) Steven Levithan <stevenlevithan.com>; MIT License
       An ECMA-compliant, uniform cross-browser split method */

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=wt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function o(){dt.addEventListener?(dt.removeEventListener("DOMContentLoaded",u,!1),e.removeEventListener("load",u,!1)):(dt.detachEvent("onreadystatechange",u),e.detachEvent("onload",u))}function u(){(dt.addEventListener||"load"===event.type||"complete"===dt.readyState)&&(o(),it.ready())}function a(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Nt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function f(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(it.acceptData(e)){var i,s,o=it.expando,u=e.nodeType,a=u?it.cache:e,f=u?e[o]:e[o]&&o;if(f&&a[f]&&(r||a[f].data)||void 0!==n||"string"!=typeof t)return f||(f=u?e[o]=J.pop()||it.guid++:o),a[f]||(a[f]=u?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?a[f]=it.extend(a[f],t):a[f].data=it.extend(a[f].data,t)),s=a[f],r||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[it.camelCase(t)]=n),"string"==typeof t?(i=s[t],null==i&&(i=s[it.camelCase(t)])):i=s,i}}function c(e,t,n){if(it.acceptData(e)){var r,i,s=e.nodeType,o=s?it.cache:e,u=s?e[it.expando]:it.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!f(r):!it.isEmptyObject(r))return}(n||(delete o[u].data,f(o[u])))&&(s?it.cleanData([e],!0):nt.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function h(){return!0}function p(){return!1}function d(){try{return dt.activeElement}catch(e){}}function v(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function m(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==St?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==St?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?s.push(r):it.merge(s,m(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],s):s}function g(e){Ot.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=$t.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function S(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,s=it._data(e),o=it._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)it.event.add(t,n,u[n][r])}o.data&&(o.data=it.extend({},o.data))}}function x(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ot.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),s}function N(e){var t=dt,n=Zt[e];return n||(n=T(e,t),"none"!==n&&n||(Yt=(Yt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Yt[0].contentWindow||Yt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Yt.detach()),Zt[e]=n),n}function C(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pn.length;while(i--)if(t=pn[i]+n,t in e)return t;return r}function L(e,t){for(var n,r,i,s=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(s[o]=it._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(s[o]=it._data(r,"olddisplay",N(r.nodeName)))):(i=Lt(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function A(e,t,n){var r=fn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function O(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=it.css(e,n+kt[s],!0,i)),r?("content"===n&&(o-=it.css(e,"padding"+kt[s],!0,i)),"margin"!==n&&(o-=it.css(e,"border"+kt[s]+"Width",!0,i))):(o+=it.css(e,"padding"+kt[s],!0,i),"padding"!==n&&(o+=it.css(e,"border"+kt[s]+"Width",!0,i)));return o}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=nn(e),o=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=rn(e,t,s),(0>i||null==i)&&(i=e.style[t]),tn.test(i))return i;r=o&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+O(e,t,n||(o?"border":"content"),r,s)+"px"}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function D(){return setTimeout(function(){dn=void 0}),dn=it.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=kt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var r,i=(wn[t]||[]).concat(wn["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function B(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&Lt(e),v=it._data(e,"fxshow");n.queue||(u=it._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,it.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=it.css(e,"display"),l="none"===f?it._data(e,"olddisplay")||N(e.nodeName):f,"inline"===l&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mn.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;d=!0}h[r]=v&&v[r]||it.style(e,r)}else f=void 0;if(it.isEmptyObject(h))"inline"===("none"===f?N(e.nodeName):f)&&(p.display=f);else{v?"hidden"in v&&(d=v.hidden):v=it._data(e,"fxshow",{}),s&&(v.hidden=!d),d?it(e).show():c.done(function(){it(e).hide()}),c.done(function(){var t;it._removeData(e,"fxshow");for(t in h)it.style(e,t,h[t])});for(r in h)o=H(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function j(e,t){var n,r,i,s,o;for(n in e)if(r=it.camelCase(n),i=t[r],s=e[n],it.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=it.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,s=0,o=bn.length,u=it.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=dn||D(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dn||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(j(l,f.opts.specialEasing);o>s;s++)if(r=bn[s].call(f,e,l,f.opts))return r;return it.map(l,H,f),it.isFunction(f.opts.start)&&f.opts.start.call(e,f),it.fx.timer(it.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(bt)||[];if(it.isFunction(n))while(r=s[i++])"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function q(e,t,n,r){function i(u){var a;return s[u]=!0,it.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||o||s[f]?o?!(a=f):void 0:(t.dataTypes.unshift(f),i(f),!1)}),a}var s={},o=e===Wn;return i(t.dataTypes[0])||!s["*"]&&i("*")}function R(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function U(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function z(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function W(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Jn.test(e)?r(e,i):W(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)W(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],K=J.slice,Q=J.concat,G=J.push,Y=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.1",it=function(e,t){return new it.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,ut=/-([\da-z])/gi,at=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||it.isFunction(o)||(o={}),u===a&&(o=this,u--);a>u;u++)if(null!=(i=arguments[u]))for(r in i)e=o[r],n=i[r],o!==n&&(f&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,s=e&&it.isArray(e)?e:[]):s=e&&it.isPlainObject(e)?e:{},o[r]=it.extend(f,s,n)):void 0!==n&&(o[r]=n));return o},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(ut,at)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,s=0,o=e.length,u=n(e);if(r){if(u){for(;o>s;s++)if(i=t.apply(e[s],r),i===!1)break}else for(s in e)if(i=t.apply(e[s],r),i===!1)break}else if(u){for(;o>s;s++)if(i=t.call(e[s],s,e[s]),i===!1)break}else for(s in e)if(i=t.call(e[s],s,e[s]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Y)return Y.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(n>r)e[i++]=t[r++];if(n!==n)while(void 0!==t[r])e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,r){var i,s=0,o=e.length,u=n(e),a=[];if(u)for(;o>s;s++)i=t(e[s],s,r),null!=i&&a.push(i);else for(s in e)i=t(e[s],s,r),null!=i&&a.push(i);return Q.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=K.call(arguments,2),r=function(){return e.apply(t||this,n.concat(K.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+(new Date)},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ft=function(e){function t(e,t,n,r){var i,s,o,u,a,f,c,p,d,v;if((t?t.ownerDocument||t:q)!==_&&M(t),t=t||_,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(P&&!r){if(i=yt.exec(e))if(o=i[1]){if(9===u){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&F(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(E.qsa&&(!H||!H.test(e))){if(p=c=I,d=t,v=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=N(e),(c=t.getAttribute("id"))?p=c.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",a=f.length;while(a--)f[a]=p+h(f[a]);d=bt.test(e)&&l(t.parentNode)||t,v=f.join(",")}if(v)try{return Z.apply(n,d.querySelectorAll(v)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return k(e.replace(at,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=_.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){var n=e.split("|"),r=e.length;while(r--)S.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function f(e){return r(function(t){return t=+t,r(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&typeof e.getElementsByTagName!==$&&e}function c(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=U++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[R,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[I]||(t[I]={}),(u=a[r])&&u[0]===R&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function d(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(e,n,r){for(var i=0,s=n.length;s>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function g(e,t,n,i,s,o){return i&&!i[I]&&(i=g(i)),s&&!s[I]&&(s=g(s,o)),r(function(r,o,u,a){var f,l,c,h=[],p=[],d=o.length,g=r||v(t||"*",u.nodeType?[u]:u,[]),y=!e||!r&&t?g:m(g,h,e,u,a),b=n?s||(r?e:d||i)?[]:o:y;if(n&&n(y,b,u,a),i){f=m(b,p),i(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(b[p[l]]=!(y[p[l]]=c))}if(r){if(s||e){if(s){f=[],l=b.length;while(l--)(c=b[l])&&f.push(y[l]=c);s(null,b=[],f,a)}l=b.length;while(l--)(c=b[l])&&(f=s?tt.call(r,c):h[l])>-1&&(r[f]=!(o[f]=c))}}else b=m(b===o?b.splice(d,b.length):b),s?s(null,o,b,a):Z.apply(o,b)})}function y(e){for(var t,n,r,i=e.length,s=S.relative[e[0].type],o=s||S.relative[" "],u=s?1:0,a=p(function(e){return e===t},o,!0),f=p(function(e){return tt.call(t,e)>-1},o,!0),l=[function(e,n,r){return!s&&(r||n!==L)||((t=n).nodeType?a(e,n,r):f(e,n,r))}];i>u;u++)if(n=S.relative[e[u].type])l=[p(d(l),n)];else{if(n=S.filter[e[u].type].apply(null,e[u].matches),n[I]){for(r=++u;i>r;r++)if(S.relative[e[r].type])break;return g(u>1&&d(l),u>1&&h(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(at,"$1"),n,r>u&&y(e.slice(u,r)),i>r&&y(e=e.slice(r)),i>r&&h(e))}l.push(n)}return d(l)}function b(e,n){var i=n.length>0,s=e.length>0,o=function(r,o,u,a,f){var l,c,h,p=0,d="0",v=r&&[],g=[],y=L,b=r||s&&S.find.TAG("*",f),w=R+=null==y?1:Math.random()||.1,E=b.length;for(f&&(L=o!==_&&o);d!==E&&null!=(l=b[d]);d++){if(s&&l){c=0;while(h=e[c++])if(h(l,o,u)){a.push(l);break}f&&(R=w)}i&&((l=!h&&l)&&p--,r&&v.push(l))}if(p+=d,i&&d!==p){c=0;while(h=n[c++])h(v,g,o,u);if(r){if(p>0)while(d--)v[d]||g[d]||(g[d]=G.call(a));g=m(g)}Z.apply(a,g),f&&!r&&g.length>0&&p+n.length>1&&t.uniqueSort(a)}return f&&(R=w,L=y),v};return i?r(o):o}var w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I="sizzle"+ -(new Date),q=e.document,R=0,U=0,z=n(),W=n(),X=n(),V=function(e,t){return e===t&&(O=!0),0},$="undefined",J=1<<31,K={}.hasOwnProperty,Q=[],G=Q.pop,Y=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=it.replace("w","w#"),ot="\\["+rt+"*("+it+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+rt+"*\\]",ut=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ft=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ct=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ht=new RegExp(ut),pt=new RegExp("^"+st+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),St=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(xt){Z={apply:Q.length?function(e,t){Y.apply(e,et.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}E=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:q,r=n.defaultView;return n!==_&&9===n.nodeType&&n.documentElement?(_=n,D=n.documentElement,P=!T(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){M()},!1):r.attachEvent&&r.attachEvent("onunload",function(){M()})),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=gt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=i(function(e){return D.appendChild(e).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),E.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==$&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},S.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==$&&P?t.getElementsByClassName(e):void 0},B=[],H=[],(E.qsa=gt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(E.matchesSelector=gt.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){E.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),B.push("!=",ut)}),H=H.length&&new RegExp(H.join("|")),B=B.length&&new RegExp(B.join("|")),t=gt.test(D.compareDocumentPosition),F=t||gt.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return O=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!E.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===q&&F(q,e)?-1:t===n||t.ownerDocument===q&&F(q,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&r?-1:1)}:function(e,t){if(e===t)return O=!0,0;var r,i=0,s=e.parentNode,u=t.parentNode,a=[e],f=[t];if(!s||!u)return e===n?-1:t===n?1:s?-1:u?1:A?tt.call(A,e)-tt.call(A,t):0;if(s===u)return o(e,t);r=e;while(r=r.parentNode)a.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(a[i]===f[i])i++;return i?o(a[i],f[i]):a[i]===q?-1:f[i]===q?1:0},n):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&M(e),n=n.replace(ct,"='$1']"),!(!E.matchesSelector||!P||B&&B.test(n)||H&&H.test(n)))try{var r=j.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&M(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&M(e);var n=S.attrHandle[t.toLowerCase()],r=n&&K.call(S.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:E.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!E.detectDuplicates,A=!E.sortStable&&e.slice(0),e.sort(V),O){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return A=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=x(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,St),e[3]=(e[3]||e[4]||e[5]||"").replace(Et,St),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return dt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,St).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var s=t.attr(i,e);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[I]||(m[I]={}),f=l[e]||[],p=f[0]===R&&f[1],h=f[0]===R&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[R,p,h];break}}else if(y&&(f=(t[I]||(t[I]={}))[e])&&f[0]===R)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[I]||(c[I]={}))[e]=[R,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,s=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[I]?s(n):s.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){var r,i=s(e,n),o=i.length;while(o--)r=tt.call(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(at,"$1"));return i[I]?r(function(e,t,n,r){var s,o=i(e,null,r,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Et,St).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,n){return[0>n?n+t:n]}),even:f(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:f(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:f(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:f(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=u(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=a(w);return c.prototype=S.filters=S.pseudos,S.setFilters=new c,N=t.tokenize=function(e,n){var r,i,s,o,u,a,f,l=W[e+" "];if(l)return n?0:l.slice(0);u=e,a=[],f=S.preFilter;while(u){(!r||(i=ft.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),r=!1,(i=lt.exec(u))&&(r=i.shift(),s.push({value:r,type:i[0].replace(at," ")}),u=u.slice(r.length));for(o in S.filter)!(i=dt[o].exec(u))||f[o]&&!(i=f[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):W(e,a).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],s=X[e+" "];if(!s){t||(t=N(e)),n=t.length;while(n--)s=y(t[n]),s[I]?r.push(s):i.push(s);s=X(e,b(i,r)),s.selector=e}return s},k=t.select=function(e,t,n,r){var i,s,o,u,a,f="function"==typeof e&&e,c=!r&&N(e=f.selector||e);if(n=n||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&E.getById&&9===t.nodeType&&P&&S.relative[s[1].type]){if(t=(S.find.ID(o.matches[0].replace(Et,St),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(s.shift().value.length)}i=dt.needsContext.test(e)?0:s.length;while(i--){if(o=s[i],S.relative[u=o.type])break;if((a=S.find[u])&&(r=a(o.matches[0].replace(Et,St),bt.test(s[0].type)&&l(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&h(s),!e)return Z.apply(n,r),n;break}}}return(f||C(e,c))(r,t,!P,n,bt.test(e)&&l(t.parentNode)||t),n},E.sortStable=I.split("").sort(V).join("")===I,E.detectDuplicates=!!O,M(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=ft,it.expr=ft.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ft.uniqueSort,it.text=ft.getText,it.isXMLDoc=ft.isXML,it.contains=ft.contains;var lt=it.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&lt.test(e)?it(e):e||[],!1).length}});var pt,dt=e.document,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:vt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:dt,!0)),ct.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=dt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pt.find(e);this.length=1,this[0]=r}return this.context=dt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};mt.prototype=it.fn,pt=it(dt);var gt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n)))1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=lt.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?it.unique(s):s)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),gt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,wt={};it.Callbacks=function(e){e="string"==typeof e?wt[e]||s(e):it.extend({},e);var t,n,r,i,o,u,a=[],f=!e.once&&[],l=function(s){for(n=e.memory&&s,r=!0,o=u||0,u=0,i=a.length,t=!0;a&&i>o;o++)if(a[o].apply(s[0],s[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function s(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),t?i=a.length:n&&(u=r,l(n))}return this},remove:function(){return a&&it.each(arguments,function(e,n){var r;while((r=it.inArray(n,a,r))>-1)a.splice(r,1),t&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?it.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],i=0,this},disable:function(){return a=f=n=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,n){return!a||r&&!f||(n=n||[],n=[e,n.slice?n.slice():n],t?f.push(n):l(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,s){var o=it.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=K.call(arguments),r=n.length,i=1!==r||e&&it.isFunction(e.promise)?r:0,s=1===i?e:it.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?K.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=new Array(r),a=new Array(r),f=new Array(r);r>t;t++)n[t]&&it.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}});var Et;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!dt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(Et.resolveWith(dt,[it]),it.fn.triggerHandler&&(it(dt).triggerHandler("ready"),it(dt).off("ready")))}}}),it.ready.promise=function(t){if(!Et)if(Et=it.Deferred(),"complete"===dt.readyState)setTimeout(it.ready);else if(dt.addEventListener)dt.addEventListener("DOMContentLoaded",u,!1),e.addEventListener("load",u,!1);else{dt.attachEvent("onreadystatechange",u),e.attachEvent("onload",u);var n=!1;try{n=null==e.frameElement&&dt.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}o(),it.ready()}}()}return Et.promise(t)};var St="undefined",xt;for(xt in it(nt))break;nt.ownLast="0"!==xt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=dt.getElementsByTagName("body")[0],n&&n.style&&(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==St&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=dt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!f(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return c(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return c(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=it.data(s),1===s.nodeType&&!it._data(s,"parsedAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),a(s,r,i[r])));it._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):s?a(s,e,it.data(s,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),s=it._queueHooks(e,t),o=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=it._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],Lt=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},At=it.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===it.type(n)){i=!0;for(u in n)it.access(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(it(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},Ot=/^(?:checkbox|radio)$/i;!function(){var e=dt.createElement("input"),t=dt.createElement("div"),n=dt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==dt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=dt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Mt=/^(?:input|select|textarea)$/i,_t=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=it._data(e);if(m){n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=it.guid++),(o=m.events)||(o=m.events={}),(l=m.handle)||(l=m.handle=function(e){return typeof it===St||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(bt)||[""],u=t.length;while(u--)s=Ht.exec(t[u])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p&&(f=it.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=it.event.special[p]||{},c=it.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:d.join(".")},a),(h=o[p])||(h=o[p]=[],h.delegateCount=0,f.setup&&f.setup.call(e,r,d,l)!==!1||(e.addEventListener?e.addEventListener(p,l,!1):e.attachEvent&&e.attachEvent("on"+p,l))),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),it.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=it.hasData(e)&&it._data(e);if(m&&(l=m.events)){t=(t||"").match(bt)||[""],f=t.length;while(f--)if(u=Ht.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=it.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],!i&&v!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||it.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)it.event.remove(e,p+t[f],n,r,!0);it.isEmptyObject(l)&&(delete m.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,o,u,a,f,l,c,h=[r||dt],p=tt.call(t,"type")?t.type:t,d=tt.call(t,"namespace")?t.namespace.split("."):[];if(u=l=r=r||dt,3!==r.nodeType&&8!==r.nodeType&&!Pt.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),f=it.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!it.isWindow(r)){for(a=f.delegateType||p,Pt.test(a+p)||(u=u.parentNode);u;u=u.parentNode)h.push(u),l=u;l===(r.ownerDocument||dt)&&h.push(l.defaultView||l.parentWindow||e)}c=0;while((u=h[c++])&&!t.isPropagationStopped())t.type=c>1?a:f.bindType||p,s=(it._data(u,"events")||{})[t.type]&&it._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&it.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!f._default||f._default.apply(h.pop(),n)===!1)&&it.acceptData(r)&&o&&r[p]&&!it.isWindow(r)){l=r[o],l&&(r[o]=null),it.event.triggered=p;try{r[p]()}catch(v){}it.event.triggered=void 0,l&&(r[o]=l)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,s,o=[],u=K.call(arguments),a=(it._data(this,"events")||{})[e.type]||[],f=it.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,e)!==!1){o=it.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,s=0;while((r=i.handlers[s++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,u),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()))}return f.postDispatch&&f.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(i=[],s=0;u>s;s++)r=t[s],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(a)>=0:it.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=Dt.test(i)?this.mouseHooks:_t.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new it.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||dt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||dt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=dt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===St&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void (this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(o=r,r=function(e){return it().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Bt+")[\\s/>]","i"),It=/^\s+/,qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,Ut=/<tbody/i,zt=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=v(dt),Gt=Qt.appendChild(dt.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,it.extend({clone:function(e,t,n){var r,i,s,o,u,a=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Ft.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Gt.innerHTML=e.outerHTML,Gt.removeChild(s=Gt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=m(s),u=m(e),o=0;null!=(i=u[o]);++o)r[o]&&x(i,r[o]);if(t)if(n)for(u=u||m(e),r=r||m(s),o=0;null!=(i=u[o]);o++)S(i,r[o]);else S(e,s);return r=m(s,"script"),r.length>0&&E(r,!a&&m(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,u,a,f,l,c=e.length,h=v(t),p=[],d=0;c>d;d++)if(s=e[d],s||0===s)if("object"===it.type(s))it.merge(p,s.nodeType?[s]:s);else if(zt.test(s)){u=u||h.appendChild(t.createElement("div")),a=(Rt.exec(s)||["",""])[1].toLowerCase(),l=Kt[a]||Kt._default,u.innerHTML=l[1]+s.replace(qt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;if(!nt.leadingWhitespace&&It.test(s)&&p.push(t.createTextNode(It.exec(s)[0])),!nt.tbody){s="table"!==a||Ut.test(s)?"<table>"!==l[1]||Ut.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)it.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}it.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}else p.push(t.createTextNode(s));u&&h.removeChild(u),nt.appendChecked||it.grep(m(p,"input"),g),d=0;while(s=p[d++])if((!r||-1===it.inArray(s,r))&&(o=it.contains(s.ownerDocument,s),u=m(h.appendChild(s),"script"),o&&E(u),n)){i=0;while(s=u[i++])Vt.test(s.type||"")&&n.push(s)}return u=null,h},cleanData:function(e,t){for(var n,r,i,s,o=0,u=it.expando,a=it.cache,f=nt.deleteExpando,l=it.event.special;null!=(n=e[o]);o++)if((t||it.acceptData(n))&&(i=n[u],s=i&&a[i])){if(s.events)for(r in s.events)l[r]?it.event.remove(n,r):it.removeEvent(n,r,s.handle);a[i]&&(delete a[i],f?delete n[u]:typeof n.removeAttribute!==St?n.removeAttribute(u):n[u]=null,J.push(i))}}}),it.fn.extend({text:function(e){return At(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||dt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&E(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&it.cleanData(m(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(jt,""):void 0;if(!("string"!=typeof e||Wt.test(e)||!nt.htmlSerialize&&Ft.test(e)||!nt.leadingWhitespace&&It.test(e)||Kt[(Rt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(qt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=it.isFunction(h);if(p||f>1&&"string"==typeof h&&!nt.checkClone&&Xt.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f&&(u=it.buildFragment(e,this[0].ownerDocument,!1,this),n=u.firstChild,1===u.childNodes.length&&(u=n),n)){for(s=it.map(m(u,"script"),b),i=s.length;f>a;a++)r=u,a!==c&&(r=it.clone(r,!0,!0),i&&it.merge(s,m(r,"script"))),t.call(this[a],r,a);if(i)for(o=s[s.length-1].ownerDocument,it.map(s,w),a=0;i>a;a++)r=s[a],Vt.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(o,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));u=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],s=it(e),o=s.length-1;o>=r;r++)n=r===o?this:this.clone(!0),it(s[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Yt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=dt.getElementsByTagName("body")[0],n&&n.style?(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==St&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(dt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en=/^margin/,tn=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),nn,rn,sn=/^(top|right|bottom|left)$/;e.getComputedStyle?(nn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},rn=function(e,t,n){var r,i,s,o,u=e.style;return n=n||nn(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||it.contains(e.ownerDocument,e)||(o=it.style(e,t)),tn.test(o)&&en.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0===o?o:o+""}):dt.documentElement.currentStyle&&(nn=function(e){return e.currentStyle},rn=function(e,t,n){var r,i,s,o,u=e.style;return n=n||nn(e),o=n?n[t]:void 0,null==o&&u&&u[t]&&(o=u[t]),tn.test(o)&&!sn.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),void 0===o?o:o+""||"auto"}),!function(){var t,n,r,i,s,o,u;if(t=dt.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style){n.cssText="float:left;opacity:.5",nt.opacity="0.5"===n.opacity,nt.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===t.style.backgroundClip,nt.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==o&&a(),o},boxSizingReliable:function(){return null==s&&a(),s},pixelPosition:function(){return null==i&&a(),i},reliableMarginRight:function(){return null==u&&a(),u}});function a(){var t,n,r,a;n=dt.getElementsByTagName("body")[0],n&&n.style&&(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(dt.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===a[0].offsetHeight,o&&(a[0].style.display="",a[1].style.display="none",o=0===a[0].offsetHeight),n.removeChild(r))}}}(),it.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var on=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,an=/^(none|table(?!-c[ea]).+)/,fn=new RegExp("^("+Ct+")(.*)$","i"),ln=new RegExp("^([+-])=("+Ct+")","i"),cn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=it.camelCase(t),a=e.style;if(t=it.cssProps[u]||(it.cssProps[u]=k(a,u)),o=it.cssHooks[t]||it.cssHooks[u],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:a[t];if(s=typeof n,"string"===s&&(i=ln.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||it.cssNumber[u]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{a[t]=n}catch(f){}}},css:function(e,t,n,r){var i,s,o,u=it.camelCase(t);return t=it.cssProps[u]||(it.cssProps[u]=k(e.style,u)),o=it.cssHooks[t]||it.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=rn(e,t,r)),"normal"===s&&t in hn&&(s=hn[t]),""===n||n?(i=parseFloat(s),n===!0||it.isNumeric(i)?i||0:s):s}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?an.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,cn,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var i=r&&nn(e);return A(e,n,r?O(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(s.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=on.test(s)?s.replace(on,i):s+" "+i)}}),it.cssHooks.marginRight=C(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},rn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+kt[r]+t]=s[r]||s[r-2]||s[0];return i}},en.test(e)||(it.cssHooks[e+t].set=A)}),it.fn.extend({css:function(e,t){return At(this,function(e,t,n){var r,i,s={},o=0;if(it.isArray(t)){for(r=nn(e),i=t.length;i>o;o++)s[t[o]]=it.css(e,t[o],!1,r);return s}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?it(this).show():it(this).hide()})}}),it.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(it.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=_.prototype.init,it.fx.step={};var dn,vn,mn=/^(?:toggle|show|hide)$/,gn=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[B],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gn.exec(t),s=i&&i[3]||(it.cssNumber[e]?"":"px"),o=(it.cssNumber[e]||"px"!==s&&+r)&&gn.exec(it.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,it.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(F,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),s=it.speed(t,n,r),o=function(){var t=F(this,it.extend({},e),s);(i||it._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=it.timers,o=it._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&yn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=it.timers,o=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),it.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(dn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),dn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){vn||(vn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(vn),vn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=dt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=dt.createElement("select"),i=n.appendChild(dt.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!dt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=dt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var En=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(En,""):null==n?"":n)}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=it.makeArray(t),o=i.length;while(o--)if(r=i[o],it.inArray(it.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Sn,xn,Tn=it.expr.attrHandle,Nn=/^(?:checked|selected)$/i,Cn=nt.getSetAttribute,kn=nt.input;it.fn.extend({attr:function(e,t){return At(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===St?it.prop(e,t,n):(1===s&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?xn:Sn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(bt);if(s&&1===e.nodeType)while(n=s[i++])r=it.propFix[n]||n,it.expr.match.bool.test(n)?kn&&Cn||!Nn.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(Cn?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):kn&&Cn||!Nn.test(n)?e.setAttribute(!Cn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||it.find.attr;Tn[t]=kn&&Cn||!Nn.test(t)?function(e,t,r){var i,s;return r||(s=Tn[t],Tn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Tn[t]=s),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),kn&&Cn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void (e.defaultValue=t):Sn&&Sn.set(e,t,n)}}),Cn||(Sn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Sn.set},it.attrHooks.contenteditable={set:function(e,t,n){Sn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ln=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return At(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!it.isXMLDoc(e),s&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):Ln.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var On=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(bt)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(On," "):" ")){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=it.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(bt)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(On," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?it.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n){var t,r=0,i=it(this),s=e.match(bt)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else(n===St||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(On," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Mn=it.now(),_n=/\?/,Dn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(Dn,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var Pn,Hn,Bn=/#.*$/,jn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qn=/^(?:GET|HEAD)$/,Rn=/^\/\//,Un=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},Wn={},Xn="*/".concat("*");try{Hn=location.href}catch(Vn){Hn=dt.createElement("a"),Hn.href="",Hn=Hn.href}Pn=Un.exec(Hn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hn,type:"GET",isLocal:In.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,it.ajaxSettings),t):R(it.ajaxSettings,e)},ajaxPrefilter:I(zn),ajaxTransport:I(Wn),ajax:function(e,t){function n(e,t,n,r){var i,l,g,y,w,S=t;2!==b&&(b=2,u&&clearTimeout(u),f=void 0,o=r||"",E.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=U(c,E,n)),y=z(c,y,E,i),i?(c.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(it.lastModified[s]=w),w=E.getResponseHeader("etag"),w&&(it.etag[s]=w)),204===e||"HEAD"===c.type?S="nocontent":304===e?S="notmodified":(S=y.state,l=y.data,g=y.error,i=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),E.status=e,E.statusText=(t||S)+"",i?d.resolveWith(h,[l,S,E]):d.rejectWith(h,[E,S,g]),E.statusCode(m),m=void 0,a&&p.trigger(i?"ajaxSuccess":"ajaxError",[E,c,i?l:g]),v.fireWith(h,[E,S]),a&&(p.trigger("ajaxComplete",[E,c]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=it.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?it(h):it.event,d=it.Deferred(),v=it.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l){l={};while(t=Fn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return f&&f.abort(t),n(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,c.url=((e||c.url||Hn)+"").replace(Bn,"").replace(Rn,Pn[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=it.trim(c.dataType||"*").toLowerCase().match(bt)||[""],null==c.crossDomain&&(r=Un.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===Pn[1]&&r[2]===Pn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=it.param(c.data,c.traditional)),q(zn,c,t,E),2===b)return E;a=c.global,a&&0===it.active++&&it.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!qn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(_n.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=jn.test(s)?s.replace(jn,"$1_="+Mn++):s+(_n.test(s)?"&":"?")+"_="+Mn++)),c.ifModified&&(it.lastModified[s]&&E.setRequestHeader("If-Modified-Since",it.lastModified[s]),it.etag[s]&&E.setRequestHeader("If-None-Match",it.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",c.contentType),E.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Xn+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)E.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,E,c)!==!1&&2!==b){w="abort";for(i in{success:1,error:1,complete:1})E[i](c[i]);if(f=q(Wn,c,t,E)){E.readyState=1,a&&p.trigger("ajaxSend",[E,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){E.abort("timeout")},c.timeout));try{b=1,f.send(g,n)}catch(S){if(!(2>b))throw S;n(-1,S)}}else n(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var $n=/%20/g,Jn=/\[\]$/,Kn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Gn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)W(n,e[n],t,i);return r.join("&").replace($n,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Gn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Ot.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Kn,"\r\n")}}):{name:t.name,value:n.replace(Kn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||V()}:X;var Yn=0,Zn={},er=it.ajaxSettings.xhr();e.ActiveXObject&&it(e).on("unload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Yn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||4===s.readyState))if(delete Zn[o],t=void 0,s.onreadystatechange=it.noop,i)4!==s.readyState&&s.abort();else{f={},u=s.status,"string"==typeof s.responseText&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Zn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=dt.head||it("head")[0]||dt.documentElement;return{send:function(r,i){t=dt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Mn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(_n.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||it.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),o&&it.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||dt;var r=ct.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=it.trim(e.slice(u,e.length)),e=e.slice(0,u)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&it.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=it.css(e,"position"),c=it(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=it.css(e,"top"),a=it.css(e,"left"),f=("absolute"===l||"fixed"===l)&&it.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),it.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return t=s.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==St&&(r=i.getBoundingClientRect()),n=$(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||ir;while(e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position"))e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return At(this,function(e,r,i){var s=$(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void (s?s.scrollTo(n?it(s).scrollLeft():i,n?i:it(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=C(nt.pixelPosition,function(e,n){return n?(n=rn(e,t),tn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return At(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,o):it.style(t,n,r,o)},t,s?r:void 0,s,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var sr=e.jQuery,or=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=or),t&&e.jQuery===it&&(e.jQuery=sr),it},typeof t===St&&(e.jQuery=e.$=it),it}),define("library/requirejs/css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]||"WebkitAppearance"in document.documentElement.style?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o,u=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},a=0,f=[],l,c=function(e){o.addImport(e),s.onload=function(){h()},a++,a==31&&(u(),a=0)},h=function(){l();var e=f.shift();if(!e){l=null;return}l=e[1],c(e[0])},p=function(e,t){(!o||!o.addImport)&&u();if(o&&o.addImport)l?f.push([e,t]):(c(e),l=t);else{s.textContent='@import "'+e+'";';var n=setInterval(function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},d=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?p:d)(t.toUrl(e+".css"),r)},i}),define("library/requirejs/css!library/leaflet/leafletCore/leaflet",[],function(){}),!function(e,t,n){function r(){var t=e.L;i.noConflict=function(){return e.L=t,this},e.L=i}var i={version:"1.0.0"};"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd&&define("leaflet",i),"undefined"!=typeof e&&r(),i.Util={extend:function(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++){i=arguments[n];for(t in i)e[t]=i[t]}return e},create:Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),bind:function(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}},stamp:function(e){return e._leaflet_id=e._leaflet_id||++i.Util.lastId,e._leaflet_id},lastId:0,throttle:function(e,t,n){var r,i,s,o;return o=function(){r=!1,i&&(s.apply(n,i),i=!1)},s=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)}},wrapNum:function(e,t,n){var r=t[1],i=t[0],s=r-i;return e===r&&n?e:((e-i)%s+s)%s+i},falseFn:function(){return!1},formatNum:function(e,t){var n=Math.pow(10,t||5);return Math.round(e*n)/n},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return i.Util.trim(e).split(/\s+/)},setOptions:function(e,t){e.hasOwnProperty("options")||(e.options=e.options?i.Util.create(e.options):{});for(var n in t)e.options[n]=t[n];return e.options},getParamString:function(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&t.indexOf("?")!==-1?"&":"?")+r.join("&")},template:function(e,t){return e.replace(i.Util.templateRe,function(e,r){var i=t[r];if(i===n)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},indexOf:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return e["webkit"+t]||e["moz"+t]||e["ms"+t]}function n(t){var n=+(new Date),i=Math.max(0,16-(n-r));return r=n+i,e.setTimeout(t,i)}var r=0,s=e.requestAnimationFrame||t("RequestAnimationFrame")||n,o=e.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){e.clearTimeout(t)};i.Util.requestAnimFrame=function(t,r,o){return o&&s===n?void t.call(r):s.call(e,i.bind(t,r))},i.Util.cancelAnimFrame=function(t){t&&o.call(e,t)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,r=i.Util.create(n);r.constructor=t,t.prototype=r;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(t[s]=this[s]);return e.statics&&(i.extend(t,e.statics),delete e.statics),e.includes&&(i.Util.extend.apply(null,[r].concat(e.includes)),delete e.includes),r.options&&(e.options=i.Util.extend(i.Util.create(r.options),e.options)),i.extend(r,e),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},t},i.Class.include=function(e){return i.extend(this.prototype,e),this},i.Class.mergeOptions=function(e){return i.extend(this.prototype.options,e),this},i.Class.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},i.Evented=i.Class.extend({on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else{e=i.Util.splitWords(e);for(var s=0,o=e.length;s<o;s++)this._on(e[s],t,n)}return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=i.Util.splitWords(e);for(var s=0,o=e.length;s<o;s++)this._off(e[s],t,n)}else delete this._events;return this},_on:function(e,t,r){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),r===this&&(r=n);for(var s={fn:t,ctx:r},o=i,u=0,a=o.length;u<a;u++)if(o[u].fn===t&&o[u].ctx===r)return;o.push(s),i.count++},_off:function(e,t,r){var s,o,u;if(this._events&&(s=this._events[e])){if(!t){for(o=0,u=s.length;o<u;o++)s[o].fn=i.Util.falseFn;return void delete this._events[e]}if(r===this&&(r=n),s)for(o=0,u=s.length;o<u;o++){var a=s[o];if(a.ctx===r&&a.fn===t)return a.fn=i.Util.falseFn,this._firingCount&&(this._events[e]=s=s.slice()),void s.splice(o,1)}}},fire:function(e,t,n){if(!this.listens(e,n))return this;var r=i.Util.extend({},t,{type:e,target:this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var o=0,u=s.length;o<u;o++){var a=s[o];a.fn.call(a.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var s=i.bind(function(){this.off(e,t,n).off(e,s,n)},this);return this.on(e,t,n).on(e,s,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[i.stamp(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[i.stamp(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i.extend({layer:e.target},e),!0)}});var s=i.Evented.prototype;s.addEventListener=s.on,s.removeEventListener=s.clearAllEventListeners=s.off,s.addOneTimeEventListener=s.once,s.fireEvent=s.fire,s.hasEventListeners=s.listens,i.Mixin={Events:s},function(){var n=navigator.userAgent.toLowerCase(),r=t.documentElement,s="ActiveXObject"in e,o=n.indexOf("webkit")!==-1,u=n.indexOf("phantom")!==-1,a=n.search("android [23]")!==-1,f=n.indexOf("chrome")!==-1,l=n.indexOf("gecko")!==-1&&!o&&!e.opera&&!s,c=0===navigator.platform.indexOf("Win"),h="undefined"!=typeof orientation||n.indexOf("mobile")!==-1,p=!e.PointerEvent&&e.MSPointerEvent,d=e.PointerEvent||p,v=s&&"transition"in r.style,m="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix&&!a,g="MozPerspective"in r.style,y="OTransition"in r.style,b=!e.L_NO_TOUCH&&(d||"ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch);i.Browser={ie:s,ielt9:s&&!t.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in t),webkit:o,gecko:l,android:n.indexOf("android")!==-1,android23:a,chrome:f,safari:!f&&n.indexOf("safari")!==-1,win:c,ie3d:v,webkit3d:m,gecko3d:g,opera12:y,any3d:!e.L_DISABLE_3D&&(v||m||g)&&!y&&!u,mobile:h,mobileWebkit:h&&o,mobileWebkit3d:h&&m,mobileOpera:h&&e.opera,mobileGecko:h&&l,touch:!!b,msPointer:!!p,pointer:!!d,retina:(e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)>1}}(),i.Point=function(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(e){return this.clone()._add(i.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(i.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new i.Point(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new i.Point(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(e){e=i.point(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=i.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=i.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+i.Util.formatNum(this.x)+", "+i.Util.formatNum(this.y)+")"}},i.point=function(e,t,r){return e instanceof i.Point?e:i.Util.isArray(e)?new i.Point(e[0],e[1]):e===n||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new i.Point(e.x,e.y):new i.Point(e,t,r)},i.Bounds=function(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])},i.Bounds.prototype={extend:function(e){return e=i.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"==typeof e[0]||e instanceof i.Point?i.point(e):i.bounds(e),e instanceof i.Bounds?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=i.bounds(e);var t=this.min,n=this.max,r=e.min,s=e.max,o=s.x>=t.x&&r.x<=n.x,u=s.y>=t.y&&r.y<=n.y;return o&&u},overlaps:function(e){e=i.bounds(e);var t=this.min,n=this.max,r=e.min,s=e.max,o=s.x>t.x&&r.x<n.x,u=s.y>t.y&&r.y<n.y;return o&&u},isValid:function(){return!!this.min&&!!this.max}},i.bounds=function(e,t){return!e||e instanceof i.Bounds?e:new i.Bounds(e,t)},i.Transformation=function(e,t,n,r){this._a=e,this._b=t,this._c=n,this._d=r},i.Transformation.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new i.Point((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}},i.DomUtil={get:function(e){return"string"==typeof e?t.getElementById(e):e},getStyle:function(e,n){var r=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!r||"auto"===r)&&t.defaultView){var i=t.defaultView.getComputedStyle(e,null);r=i?i[n]:null}return"auto"===r?null:r},create:function(e,n,r){var i=t.createElement(e);return i.className=n||"",r&&r.appendChild(i),i},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},toFront:function(e){e.parentNode.appendChild(e)},toBack:function(e){var t=e.parentNode;t.insertBefore(e,t.firstChild)},hasClass:function(e,t){if(e.classList!==n)return e.classList.contains(t);var r=i.DomUtil.getClass(e);return r.length>0&&(new RegExp("(^|\\s)"+t+"(\\s|$)")).test(r)},addClass:function(e,t){if(e.classList!==n)for(var r=i.Util.splitWords(t),s=0,o=r.length;s<o;s++)e.classList.add(r[s]);else if(!i.DomUtil.hasClass(e,t)){var u=i.DomUtil.getClass(e);i.DomUtil.setClass(e,(u?u+" ":"")+t)}},removeClass:function(e,t){e.classList!==n?e.classList.remove(t):i.DomUtil.setClass(e,i.Util.trim((" "+i.DomUtil.getClass(e)+" ").replace(" "+t+" "," ")))},setClass:function(e,t){e.className.baseVal===n?e.className=t:e.className.baseVal=t},getClass:function(e){return e.className.baseVal===n?e.className:e.className.baseVal},setOpacity:function(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&i.DomUtil._setOpacityIE(e,t)},_setOpacityIE:function(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"},testProp:function(e){for(var n=t.documentElement.style,r=0;r<e.length;r++)if(e[r]in n)return e[r];return!1},setTransform:function(e,t,n){var r=t||new i.Point(0,0);e.style[i.DomUtil.TRANSFORM]=(i.Browser.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(e,t){e._leaflet_pos=t,i.Browser.any3d?i.DomUtil.setTransform(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")},getPosition:function(e){return e._leaflet_pos||new i.Point(0,0)}},function(){i.DomUtil.TRANSFORM=i.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var n=i.DomUtil.TRANSITION=i.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(i.DomUtil.TRANSITION_END="webkitTransition"===n||"OTransition"===n?n+"End":"transitionend","onselectstart"in t)i.DomUtil.disableTextSelection=function(){i.DomEvent.on(e,"selectstart",i.DomEvent.preventDefault)},i.DomUtil.enableTextSelection=function(){i.DomEvent.off(e,"selectstart",i.DomEvent.preventDefault)};else{var r=i.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);i.DomUtil.disableTextSelection=function(){if(r){var e=t.documentElement.style;this._userSelect=e[r],e[r]="none"}},i.DomUtil.enableTextSelection=function(){r&&(t.documentElement.style[r]=this._userSelect,delete this._userSelect)}}i.DomUtil.disableImageDrag=function(){i.DomEvent.on(e,"dragstart",i.DomEvent.preventDefault)},i.DomUtil.enableImageDrag=function(){i.DomEvent.off(e,"dragstart",i.DomEvent.preventDefault)},i.DomUtil.preventOutline=function(t){for(;t.tabIndex===-1;)t=t.parentNode;t&&t.style&&(i.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",i.DomEvent.on(e,"keydown",i.DomUtil.restoreOutline,this))},i.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,i.DomEvent.off(e,"keydown",i.DomUtil.restoreOutline,this))}}(),i.LatLng=function(e,t,r){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,r!==n&&(this.alt=+r)},i.LatLng.prototype={equals:function(e,t){if(!e)return!1;e=i.latLng(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(t===n?1e-9:t)},toString:function(e){return"LatLng("+i.Util.formatNum(this.lat,e)+", "+i.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){return i.CRS.Earth.distance(this,i.latLng(e))},wrap:function(){return i.CRS.Earth.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return i.latLngBounds([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new i.LatLng(this.lat,this.lng,this.alt)}},i.latLng=function(e,t,r){return e instanceof i.LatLng?e:i.Util.isArray(e)&&"object"!=typeof e[0]?3===e.length?new i.LatLng(e[0],e[1],e[2]):2===e.length?new i.LatLng(e[0],e[1]):null:e===n||null===e?e:"object"==typeof e&&"lat"in e?new i.LatLng(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===n?null:new i.LatLng(e,t,r)},i.LatLngBounds=function(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])},i.LatLngBounds.prototype={extend:function(e){var t,n,r=this._southWest,s=this._northEast;if(e instanceof i.LatLng)t=e,n=e;else{if(!(e instanceof i.LatLngBounds))return e?this.extend(i.latLng(e)||i.latLngBounds(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||s?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),s.lat=Math.max(n.lat,s.lat),s.lng=Math.max(n.lng,s.lng)):(this._southWest=new i.LatLng(t.lat,t.lng),this._northEast=new i.LatLng(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,s=Math.abs(t.lng-n.lng)*e;return new i.LatLngBounds(new i.LatLng(t.lat-r,t.lng-s),new i.LatLng(n.lat+r,n.lng+s))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new i.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof i.LatLng?i.latLng(e):i.latLngBounds(e);var t,n,r=this._southWest,s=this._northEast;return e instanceof i.LatLngBounds?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=s.lat&&t.lng>=r.lng&&n.lng<=s.lng},intersects:function(e){e=i.latLngBounds(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),s=e.getNorthEast(),o=s.lat>=t.lat&&r.lat<=n.lat,u=s.lng>=t.lng&&r.lng<=n.lng;return o&&u},overlaps:function(e){e=i.latLngBounds(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),s=e.getNorthEast(),o=s.lat>t.lat&&r.lat<n.lat,u=s.lng>t.lng&&r.lng<n.lng;return o&&u},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){return!!e&&(e=i.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast()))},isValid:function(){return!!this._southWest&&!!this._northEast}},i.latLngBounds=function(e,t){return e instanceof i.LatLngBounds?e:new i.LatLngBounds(e,t)},i.Projection={},i.Projection.LonLat={project:function(e){return new i.Point(e.lng,e.lat)},unproject:function(e){return new i.LatLng(e.y,e.x)},bounds:i.bounds([-180,-90],[180,90])},i.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),s=Math.sin(r*t);return new i.Point(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new i.LatLng((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return i.bounds([-e,-e],[e,e])}()},i.CRS={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e),r=this.transformation.transform(t.min,n),s=this.transformation.transform(t.max,n);return i.bounds(r,s)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?i.Util.wrapNum(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?i.Util.wrapNum(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return i.latLng(n,t,r)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0}),i.CRS.Earth=i.extend({},i.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,s=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos((t.lng-e.lng)*n);return this.R*Math.acos(Math.min(s,1))}}),i.CRS.EPSG3857=i.extend({},i.CRS.Earth,{code:"EPSG:3857",projection:i.Projection.SphericalMercator,transformation:function(){var e=.5/(Math.PI*i.Projection.SphericalMercator.R);return new i.Transformation(e,.5,-e,.5)}()}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:"EPSG:900913"}),i.CRS.EPSG4326=i.extend({},i.CRS.Earth,{code:"EPSG:4326",projection:i.Projection.LonLat,transformation:new i.Transformation(1/180,1,-1/180,.5)}),i.Map=i.Evented.extend({options:{crs:i.CRS.EPSG3857,center:n,zoom:n,minZoom:n,maxZoom:n,layers:[],maxBounds:n,renderer:n,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=i.setOptions(this,t),this._initContainer(e),this._initLayout(),this._onResize=i.bind(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==n&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==n&&this.setView(i.latLng(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(e,t){return t=t===n?this.getZoom():t,this._resetView(i.latLng(e),t),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(i.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(i.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),s=this.getSize().divideBy(2),o=e instanceof i.Point?e:this.latLngToContainerPoint(e),u=o.subtract(s).multiplyBy(1-1/r),a=this.containerPointToLatLng(s.add(u));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():i.latLngBounds(e);var n=i.point(t.paddingTopLeft||t.padding||[0,0]),r=i.point(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,n.add(r));s="number"==typeof t.maxZoom?Math.min(t.maxZoom,s):s;var o=r.subtract(n).divideBy(2),u=this.project(e.getSouthWest(),s),a=this.project(e.getNorthEast(),s),f=this.unproject(u.add(a).divideBy(2).add(o),s);return{center:f,zoom:s}},fitBounds:function(e,t){if(e=i.latLngBounds(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(i.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){return e=i.latLngBounds(e),e.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){return this.options.minZoom=e,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(e):this},setMaxZoom:function(e){return this.options.maxZoom=e,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,i.latLngBounds(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=i.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=t.divideBy(2).round(),s=n.divideBy(2).round(),o=r.subtract(s);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=n,this._containerId=n}i.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=i.DomUtil.create("div",n,t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new i.LatLngBounds(t,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=i.latLngBounds(e),n=i.point(n||[0,0]);var r=this.getZoom()||0,s=this.getMinZoom(),o=this.getMaxZoom(),u=e.getNorthWest(),a=e.getSouthEast(),f=this.getSize().subtract(n),l=this.project(a,r).subtract(this.project(u,r)),c=i.Browser.any3d?this.options.zoomSnap:1,h=Math.min(f.x/l.x,f.y/l.y);return r=this.getScaleZoom(h,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(s,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new i.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===n?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var r=this.options.crs;return t=t===n?this._zoom:t,r.scale(e)/r.scale(t)},getScaleZoom:function(e,t){var r=this.options.crs;t=t===n?this._zoom:t;var i=r.zoom(e*r.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=t===n?this._zoom:t,this.options.crs.latLngToPoint(i.latLng(e),t)},unproject:function(e,t){return t=t===n?this._zoom:t,this.options.crs.pointToLatLng(i.point(e),t)},layerPointToLatLng:function(e){var t=i.point(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(i.latLng(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(i.latLng(e))},distance:function(e,t){return this.options.crs.distance(i.latLng(e),i.latLng(t))},containerPointToLayerPoint:function(e){return i.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return i.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(i.point(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(e)))},mouseEventToContainerPoint:function(e){return i.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=i.DomUtil.get(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");i.DomEvent.addListener(t,"scroll",this._onScroll,this),this._containerId=i.Util.stamp(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&i.Browser.any3d,i.DomUtil.addClass(e,"leaflet-container"+(i.Browser.touch?" leaflet-touch":"")+(i.Browser.retina?" leaflet-retina":"")+(i.Browser.ielt9?" leaflet-oldie":"")+(i.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=i.DomUtil.getStyle(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(i.DomUtil.addClass(e.markerPane,"leaflet-zoom-hide"),i.DomUtil.addClass(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){i.DomUtil.setPosition(this._mapPane,new i.Point(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e){return e&&this.fire("zoomstart"),this.fire("movestart")},_move:function(e,t,r){t===n&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return i.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(i.DomEvent){this._targets={},this._targets[i.stamp(this._container)]=this;var n=t?"off":"on";i.DomEvent[n](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&i.DomEvent[n](e,"resize",this._onResize,this),i.Browser.any3d&&this.options.transform3DLimit&&this[n]("moveend",this._onMoveEnd)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],s="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,u=!1;o;){if(n=this._targets[i.stamp(o)],n&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){u=!0;break}if(n&&n.listens(t,!0)){if(s&&!i.DomEvent._isExternalTarget(o,e))break;if(r.push(n),s)break}if(o===this._container)break;o=o.parentNode}return r.length||u||s||!i.DomEvent._isExternalTarget(o,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!i.DomEvent._skipped(e)){var t="keypress"===e.type&&13===e.keyCode?"click":e.type;"mousedown"===t&&i.DomUtil.preventOutline(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_fireDOMEvent:function(e,t,n){if("click"===e.type){var r=i.Util.extend({},e);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t)),n.length)){var s=n[0];"contextmenu"===t&&s.listens(t,!0)&&i.DomEvent.preventDefault(e);var o={originalEvent:e};if("keypress"!==e.type){var u=s instanceof i.Marker;o.containerPoint=u?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(e),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=u?s.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var a=0;a<n.length;a++)if(n[a].fire(t,o,!0),o.originalEvent._stopped||n[a].options.nonBubblingEvents&&i.Util.indexOf(n[a].options.nonBubblingEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)||new i.Point(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var r=e&&t!==n?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),s=this.getSize().divideBy(2),o=new i.Bounds(r.subtract(s),r.add(s)),u=this._getBoundsOffset(o,n,t);return u.round().equals([0,0])?e:this.unproject(r.add(u),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new i.Bounds(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=i.bounds(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),s=r.min.subtract(e.min),o=r.max.subtract(e.max),u=this._rebound(s.x,-o.x),a=this._rebound(s.y,-o.y);return new i.Point(u,a)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=i.Browser.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))}}),i.map=function(e,t){return new i.Map(e,t)},i.Layer=i.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[i.stamp(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[i.stamp(e)],this},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}}),i.Map.include({addLayer:function(e){var t=i.stamp(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=i.stamp(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&i.stamp(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?i.Util.isArray(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[i.stamp(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=i.stamp(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,r=this._getZoomSpan();for(var i in this._zoomBoundLayers){var s=this._zoomBoundLayers[i].options;e=s.minZoom===n?e:Math.min(e,s.minZoom),t=s.maxZoom===n?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?n:t,this._layersMinZoom=e===1/0?n:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),i.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:i.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,s=this.R_MINOR/n,o=Math.sqrt(1-s*s),u=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-u)/(1+u),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new i.Point(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,s=this.R_MINOR/r,o=Math.sqrt(1-s*s),u=Math.exp(-e.y/r),a=Math.PI/2-2*Math.atan(u),f=0,l=.1;f<15&&Math.abs(l)>1e-7;f++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),l=Math.PI/2-2*Math.atan(u*t)-a,a+=l;return new i.LatLng(a*n,e.x*n/r)}},i.CRS.EPSG3395=i.extend({},i.CRS.Earth,{code:"EPSG:3395",projection:i.Projection.Mercator,transformation:function(){var e=.5/(Math.PI*i.Projection.Mercator.R);return new i.Transformation(e,.5,-e,.5)}()}),i.GridLayer=i.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:i.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:n,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){i.setOptions(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),i.DomUtil.remove(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(i.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(i.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return t.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof i.Point?e:new i.Point(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,s=n.length;i<s;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!i.Browser.ielt9){i.DomUtil.setOpacity(this._container,this.options.opacity);var e=+(new Date),t=!1,n=!1;for(var r in this._tiles){var s=this._tiles[r];if(s.current&&s.loaded){var o=Math.min(1,(e-s.loaded)/200);i.DomUtil.setOpacity(s.el,o),o<1?t=!0:(s.active&&(n=!0),s.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(i.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=i.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=i.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e===n)return n;for(var r in this._levels)this._levels[r].el.children.length||r===e?this._levels[r].el.style.zIndex=t-Math.abs(e-r):(i.DomUtil.remove(this._levels[r].el),this._removeTilesAtZoom(r),delete this._levels[r]);var s=this._levels[e],o=this._map;return s||(s=this._levels[e]={},s.el=i.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=t,s.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),s.zoom=e,this._setZoomTransform(s,o.getCenter(),o.getZoom()),i.Util.falseFn(s.el.offsetWidth)),this._level=s,s},_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)i.DomUtil.remove(this._levels[e].el),delete this._levels[e];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(e,t,n,r){var s=Math.floor(e/2),o=Math.floor(t/2),u=n-1,a=new i.Point(+s,+o);a.z=+u;var f=this._tileCoordsToKey(a),l=this._tiles[f];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),u>r&&this._retainParent(s,o,u,r))},_retainChildren:function(e,t,n,r){for(var s=2*e;s<2*e+2;s++)for(var o=2*t;o<2*t+2;o++){var u=new i.Point(s,o);u.z=n+1;var a=this._tileCoordsToKey(u),f=this._tiles[a];f&&f.active?f.retain=!0:(f&&f.loaded&&(f.retain=!0),n+1<r&&this._retainChildren(s,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_setView:function(e,t,r,i){var s=Math.round(t);(this.options.maxZoom!==n&&s>this.options.maxZoom||this.options.minZoom!==n&&s<this.options.minZoom)&&(s=n);var o=this.options.updateWhenZooming&&s!==this._tileZoom;i&&!o||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==n&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),s=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();i.Browser.any3d?i.DomUtil.setTransform(e.el,s,r):i.DomUtil.setPosition(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),s=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new i.Bounds(s.subtract(o),s.add(o))},_update:function(e){var r=this._map;if(r){var s=r.getZoom();if(e===n&&(e=r.getCenter()),this._tileZoom!==n){var o=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(o),a=u.getCenter(),f=[],l=this.options.keepBuffer,c=new i.Bounds(u.getBottomLeft().subtract([l,-l]),u.getTopRight().add([l,-l]));for(var h in this._tiles){var p=this._tiles[h].coords;p.z===this._tileZoom&&c.contains(i.point(p.x,p.y))||(this._tiles[h].current=!1)}if(Math.abs(s-this._tileZoom)>1)return void this._setView(e,s);for(var d=u.min.y;d<=u.max.y;d++)for(var v=u.min.x;v<=u.max.x;v++){var m=new i.Point(v,d);if(m.z=this._tileZoom,this._isValidTile(m)){var g=this._tiles[this._tileCoordsToKey(m)];g?g.current=!0:f.push(m)}}if(f.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),0!==f.length){this._loading||(this._loading=!0,this.fire("loading"));var y=t.createDocumentFragment();for(v=0;v<f.length;v++)this._addTile(f[v],y);this._level.el.appendChild(y)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return i.latLngBounds(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToBounds:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),s=r.add(n),o=t.unproject(r,e.z),u=t.unproject(s,e.z);return this.options.noWrap||(o=t.wrapLatLng(o),u=t.wrapLatLng(u)),new i.LatLngBounds(o,u)},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new i.Point(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(i.DomUtil.remove(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){i.DomUtil.addClass(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=i.Util.falseFn,e.onmousemove=i.Util.falseFn,i.Browser.ielt9&&this.options.opacity<1&&i.DomUtil.setOpacity(e,this.options.opacity),i.Browser.android&&!i.Browser.android23&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),i.bind(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&i.Util.requestAnimFrame(i.bind(this._tileReady,this,e,null,s)),i.DomUtil.setPosition(s,n),this._tiles[r]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,n){if(this._map){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+(new Date),this._map._fadeAnimated?(i.DomUtil.setOpacity(n.el,0),i.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=i.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),i.Browser.ielt9||!this._map._fadeAnimated?i.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(i.bind(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new i.Point(this._wrapX?i.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?i.Util.wrapNum(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new i.Bounds(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),i.gridLayer=function(e){return new i.GridLayer(e)},i.TileLayer=i.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,t=i.setOptions(this,t),t.detectRetina&&i.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),i.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,n){var r=t.createElement("img");return i.DomEvent.on(r,"load",i.bind(this._tileOnLoad,this,n,r)),i.DomEvent.on(r,"error",i.bind(this._tileOnError,this,n,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var t={r:i.Browser.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return i.Util.template(this._url,i.extend(t,this.options))},_tileOnLoad:function(e,t){i.Browser.ielt9?setTimeout(i.bind(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&(t.src=r),e(n,t)},getTileSize:function(){var e=this._map,t=i.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,r=this.options.maxNativeZoom;return null!==r&&n>r?t.divideBy(e.getZoomScale(r,n)).round():t},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this.options,t=this._tileZoom;return e.zoomReverse&&(t=e.maxZoom-t),t+=e.zoomOffset,null!==e.maxNativeZoom?Math.min(t,e.maxNativeZoom):t},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=i.Util.falseFn,t.onerror=i.Util.falseFn,t.complete||(t.src=i.Util.emptyImageUrl,i.DomUtil.remove(t)))}}),i.tileLayer=function(e,t){return new i.TileLayer(e,t)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=i.extend({},this.defaultWmsParams);for(var r in t)r in this.options||(n[r]=t[r]);t=i.setOptions(this,t),n.width=n.height=t.tileSize*(t.detectRetina&&i.Browser.retina?2:1),this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,i.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToBounds(e),n=this._crs.project(t.getNorthWest()),r=this._crs.project(t.getSouthEast()),s=(this._wmsVersion>=1.3&&this._crs===i.CRS.EPSG4326?[r.y,n.x,n.y,r.x]:[n.x,r.y,r.x,n.y]).join(","),o=i.TileLayer.prototype.getTileUrl.call(this,e);return o+i.Util.getParamString(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){return i.extend(this.wmsParams,e),t||this.redraw(),this}}),i.tileLayer.wms=function(e,t){return new i.TileLayer.WMS(e,t)},i.ImageOverlay=i.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(e,t,n){this._url=e,this._bounds=i.latLngBounds(t),i.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(i.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){i.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&i.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&i.DomUtil.toBack(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=e,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._image=i.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));e.onselectstart=i.Util.falseFn,e.onmousemove=i.Util.falseFn,e.onload=i.bind(this.fire,this,"load"),this.options.crossOrigin&&(e.crossOrigin=""),e.src=this._url,e.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),e.zoom,e.center);i.DomUtil.setTransform(this._image,n,t)},_reset:function(){var e=this._image,t=new i.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();i.DomUtil.setPosition(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(e,t,n){return new i.ImageOverlay(e,t,n)},i.Icon=i.Class.extend({initialize:function(e){i.setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var s=i.point(r),o=i.point("shadow"===t&&n.shadowAnchor||n.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,n){return n=n||t.createElement("img"),n.src=e,n},_getIconUrl:function(e){return i.Browser.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),i.icon=function(e){return new i.Icon(e)},i.Icon.Default=i.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return i.Icon.Default.imagePath||(i.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||i.Icon.Default.imagePath)+i.Icon.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=i.DomUtil.create("div","leaflet-default-icon-path",t.body),n=i.DomUtil.getStyle(e,"background-image")||i.DomUtil.getStyle(e,"backgroundImage");return t.body.removeChild(e),0===n.indexOf("url")?n.replace(/^url\([\"\']?/,"").replace(/[\"\']?\)$/,""):""}}),i.Marker=i.Layer.extend({options:{icon:new i.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(e,t){i.setOptions(this,t),this._latlng=i.latLng(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=i.latLng(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),e.alt&&(n.alt=e.alt)),i.DomUtil.addClass(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var s=e.icon.createShadow(this._shadow),o=!1;s!==this._shadow&&(this._removeShadow(),o=!0),s&&i.DomUtil.addClass(s,t),this._shadow=s,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),i.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&i.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(e){i.DomUtil.setPosition(this._icon,e),this._shadow&&i.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(i.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),i.Handler.MarkerDrag)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new i.Handler.MarkerDrag(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;i.DomUtil.setOpacity(this._icon,e),this._shadow&&i.DomUtil.setOpacity(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(e,t){return new i.Marker(e,t)},i.DivIcon=i.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&"DIV"===e.tagName?e:t.createElement("div"),r=this.options;if(n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var s=i.point(r.bgPos);n.style.backgroundPosition=-s.x+"px "+ -s.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),i.divIcon=function(e){return new i.DivIcon(e)},i.DivOverlay=i.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){i.setOptions(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&i.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&i.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(i.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(i.bind(i.DomUtil.remove,i.DomUtil,this._container),200)):i.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=i.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&i.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&i.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=i.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?i.DomUtil.setPosition(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}}),i.Popup=i.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){i.DivOverlay.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof i.Path||this._source.on("preclick",i.DomEvent.stopPropagation))},onRemove:function(e){i.DivOverlay.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof i.Path||this._source.off("preclick",i.DomEvent.stopPropagation))},getEvents:function(){var e=i.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=i.DomUtil.create("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=i.DomUtil.create("a",e+"-close-button",t);n.href="#close",n.innerHTML="&#215;",i.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var r=this._wrapper=i.DomUtil.create("div",e+"-content-wrapper",t);this._contentNode=i.DomUtil.create("div",e+"-content",r),i.DomEvent.disableClickPropagation(r).disableScrollPropagation(this._contentNode).on(r,"contextmenu",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create("div",e+"-tip-container",t),this._tip=i.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,s=this.options.maxHeight,o="leaflet-popup-scrolled";s&&r>s?(t.height=s+"px",i.DomUtil.addClass(e,o)):i.DomUtil.removeClass(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();i.DomUtil.setPosition(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(i.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,s=new i.Point(this._containerLeft,-n-this._containerBottom);s._add(i.DomUtil.getPosition(this._container));var o=e.layerPointToContainerPoint(s),u=i.point(this.options.autoPanPadding),a=i.point(this.options.autoPanPaddingTopLeft||u),f=i.point(this.options.autoPanPaddingBottomRight||u),l=e.getSize(),c=0,h=0;o.x+r+f.x>l.x&&(c=o.x+r-l.x+f.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+f.y>l.y&&(h=o.y+n-l.y+f.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&e.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(e){this._close(),i.DomEvent.stop(e)},_getAnchor:function(){return i.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),i.popup=function(e,t){return new i.Popup(e,t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Map.include({openPopup:function(e,t,n){return e instanceof i.Popup||(e=(new i.Popup(n)).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),i.Layer.include({bindPopup:function(e,t){return e instanceof i.Popup?(i.setOptions(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new i.Popup(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof i.Layer||(t=e,e=this),e instanceof i.FeatureGroup)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(this._popup&&this._map)return i.DomEvent.stop(e),t instanceof i.Path?void this.openPopup(e.layer||e.target,e.latlng):void (this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),i.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),i.Tooltip=i.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){i.DivOverlay.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){i.DivOverlay.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=i.DivOverlay.prototype.getEvents.call(this);return i.Browser.touch&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=i.DomUtil.create("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),s=t.layerPointToContainerPoint(e),o=this.options.direction,u=n.offsetWidth,a=n.offsetHeight,f=i.point(this.options.offset),l=this._getAnchor();"top"===o?e=e.add(i.point(-u/2+f.x,-a+f.y+l.y)):"bottom"===o?e=e.subtract(i.point(u/2-f.x,-f.y)):"center"===o?e=e.subtract(i.point(u/2+f.x,a/2-l.y+f.y)):"right"===o||"auto"===o&&s.x<r.x?(o="right",e=e.add([f.x+l.x,l.y-a/2+f.y])):(o="left",e=e.subtract(i.point(u+l.x-f.x,a/2-l.y-f.y))),i.DomUtil.removeClass(n,"leaflet-tooltip-right"),i.DomUtil.removeClass(n,"leaflet-tooltip-left"),i.DomUtil.removeClass(n,"leaflet-tooltip-top"),i.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),i.DomUtil.addClass(n,"leaflet-tooltip-"+o),i.DomUtil.setPosition(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&i.DomUtil.setOpacity(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return i.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),i.tooltip=function(e,t){return new i.Tooltip(e,t)},i.Map.include({openTooltip:function(e,t,n){return e instanceof i.Tooltip||(e=(new i.Tooltip(n)).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),i.Layer.include({bindTooltip:function(e,t){return e instanceof i.Tooltip?(i.setOptions(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=i.tooltip(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),i.Browser.touch&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof i.Layer||(t=e,e=this),e instanceof i.FeatureGroup)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(i.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(i.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:n)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}}),i.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),i.LayerGroup=i.Layer.extend({initialize:function(e){this._layers={};var t,n;if(e)for(t=0,n=e.length;t<n;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){for(var e in this._layers)this.removeLayer(this._layers[e]);return this},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,r);return this},onAdd:function(e){for(var t in this._layers)e.addLayer(this._layers[t])},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t])},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return i.stamp(e)}}),i.layerGroup=function(e){return new i.LayerGroup(e)},i.FeatureGroup=i.LayerGroup.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),i.LayerGroup.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),i.LayerGroup.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new i.LatLngBounds;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),i.featureGroup=function(e){return new i.FeatureGroup(e)},i.Renderer=i.Layer.extend({options:{padding:.1},initialize:function(e){i.setOptions(this,e),i.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&i.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){i.DomUtil.remove(this._container)},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=i.DomUtil.getPosition(this._container),s=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),u=this._map.project(e,t),a=u.subtract(o),f=s.multiplyBy(-n).add(r).add(s).subtract(a);i.Browser.any3d?i.DomUtil.setTransform(this._container,f,n):i.DomUtil.setPosition(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new i.Bounds(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),i.Map.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&i.canvas()||i.svg()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||e===n)return!1;var t=this._paneRenderers[e];return t===n&&(t=i.SVG&&i.svg({pane:e})||i.Canvas&&i.canvas({pane:e}),this._paneRenderers[e]=t),t}}),i.Path=i.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this),this._renderer.on("update",this._update,this)},onRemove:function(){this._renderer._removePath(this),this._renderer.off("update",this._update,this)},getEvents:function(){return{zoomend:this._project,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return i.setOptions(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(i.Browser.touch?10:0)}}),i.LineUtil={simplify:function(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=this._reducePoints(e,n),e=this._simplifyDP(e,n)},pointToSegmentDistance:function(e,t,n){return Math.sqrt(this._sqClosestPointOnSegment(e,t,n,!0))},closestPointOnSegment:function(e,t,n){return this._sqClosestPointOnSegment(e,t,n)},_simplifyDP:function(e,t){var r=e.length,i=typeof Uint8Array!=n+""?Uint8Array:Array,s=new i(r);s[0]=s[r-1]=1,this._simplifyDPStep(e,s,t,0,r-1);var o,u=[];for(o=0;o<r;o++)s[o]&&u.push(e[o]);return u},_simplifyDPStep:function(e,t,n,r,i){var s,o,u,a=0;for(o=r+1;o<=i-1;o++)u=this._sqClosestPointOnSegment(e[o],e[r],e[i],!0),u>a&&(s=o,a=u);a>n&&(t[s]=1,this._simplifyDPStep(e,t,n,r,s),this._simplifyDPStep(e,t,n,s,i))},_reducePoints:function(e,t){for(var n=[e[0]],r=1,i=0,s=e.length;r<s;r++)this._sqDist(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<s-1&&n.push(e[s-1]),n},clipSegment:function(e,t,n,r,i){var s,o,u,a=r?this._lastCode:this._getBitCode(e,n),f=this._getBitCode(t,n);for(this._lastCode=f;;){if(!(a|f))return[e,t];if(a&f)return!1;s=a||f,o=this._getEdgeIntersection(e,t,s,n,i),u=this._getBitCode(o,n),s===a?(e=o,a=u):(t=o,f=u)}},_getEdgeIntersection:function(e,t,n,r,s){var o,u,a=t.x-e.x,f=t.y-e.y,l=r.min,c=r.max;return 8&n?(o=e.x+a*(c.y-e.y)/f,u=c.y):4&n?(o=e.x+a*(l.y-e.y)/f,u=l.y):2&n?(o=c.x,u=e.y+f*(c.x-e.x)/a):1&n&&(o=l.x,u=e.y+f*(l.x-e.x)/a),new i.Point(o,u,s)},_getBitCode:function(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},_sqClosestPointOnSegment:function(e,t,n,r){var s,o=t.x,u=t.y,a=n.x-o,f=n.y-u,l=a*a+f*f;return l>0&&(s=((e.x-o)*a+(e.y-u)*f)/l,s>1?(o=n.x,u=n.y):s>0&&(o+=a*s,u+=f*s)),a=e.x-o,f=e.y-u,r?a*a+f*f:new i.Point(o,u)}},i.Polyline=i.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){i.setOptions(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,s=null,o=i.LineUtil._sqClosestPointOnSegment,u=0,a=this._parts.length;u<a;u++)for(var f=this._parts[u],l=1,c=f.length;l<c;l++){t=f[l-1],n=f[l];var h=o(e,t,n,!0);h<r&&(r=h,s=o(e,t,n))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,s,o,u=this._rings[0],a=u.length;if(!a)return null;for(e=0,t=0;e<a-1;e++)t+=u[e].distanceTo(u[e+1])/2;if(0===t)return this._map.layerPointToLatLng(u[0]);for(e=0,r=0;e<a-1;e++)if(i=u[e],s=u[e+1],n=i.distanceTo(s),r+=n,r>t)return o=(r-t)/n,this._map.layerPointToLatLng([s.x-o*(s.x-i.x),s.y-o*(s.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=i.latLng(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new i.LatLngBounds,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return i.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=i.Polyline._flat(e),r=0,s=e.length;r<s;r++)n?(t[r]=i.latLng(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new i.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new i.Point(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var r,s,o=e[0]instanceof i.LatLng,u=e.length;if(o){for(s=[],r=0;r<u;r++)s[r]=this._map.latLngToLayerPoint(e[r]),n.extend(s[r]);t.push(s)}else for(r=0;r<u;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void (this._parts=this._rings);var t,n,r,s,o,u,a,f=this._parts;for(t=0,r=0,s=this._rings.length;t<s;t++)for(a=this._rings[t],n=0,o=a.length;n<o-1;n++)u=i.LineUtil.clipSegment(a[n],a[n+1],e,n,!0),u&&(f[r]=f[r]||[],f[r].push(u[0]),u[1]===a[n+1]&&n!==o-2||(f[r].push(u[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=i.LineUtil.simplify(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),i.polyline=function(e,t){return new i.Polyline(e,t)},i.Polyline._flat=function(e){return!i.Util.isArray(e[0])||"object"!=typeof e[0][0]&&"undefined"!=typeof e[0][0]},i.PolyUtil={},i.PolyUtil.clipPolygon=function(e,t,n){var r,s,o,u,a,f,l,c,h,p=[1,4,2,8],d=i.LineUtil;for(s=0,l=e.length;s<l;s++)e[s]._code=d._getBitCode(e[s],t);for(u=0;u<4;u++){for(c=p[u],r=[],s=0,l=e.length,o=l-1;s<l;o=s++)a=e[s],f=e[o],a._code&c?f._code&c||(h=d._getEdgeIntersection(f,a,c,t,n),h._code=d._getBitCode(h,t),r.push(h)):(f._code&c&&(h=d._getEdgeIntersection(f,a,c,t,n),h._code=d._getBitCode(h,t),r.push(h)),r.push(a));e=r}return e},i.Polygon=i.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,s,o,u,a,f=this._rings[0],l=f.length;if(!l)return null;for(s=o=u=0,e=0,t=l-1;e<l;t=e++)n=f[e],r=f[t],i=n.y*r.x-r.y*n.x,o+=(n.x+r.x)*i,u+=(n.y+r.y)*i,s+=3*i;return a=0===s?f[0]:[o/s,u/s],this._map.layerPointToLatLng(a)},_convertLatLngs:function(e){var t=i.Polyline.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof i.LatLng&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){i.Polyline.prototype._setLatLngs.call(this,e),i.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return i.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new i.Point(t,t);if(e=new i.Bounds(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void (this._parts=this._rings);for(var r,s=0,o=this._rings.length;s<o;s++)r=i.PolyUtil.clipPolygon(this._rings[s],e,!0),r.length&&this._parts.push(r)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),i.polygon=function(e,t){return new i.Polygon(e,t)},i.Rectangle=i.Polygon.extend({initialize:function(e,t){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=i.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),i.rectangle=function(e,t){return new i.Rectangle(e,t)},i.CircleMarker=i.Path.extend({options:{fill:!0,radius:10},initialize:function(e,t){i.setOptions(this,t),this._latlng=i.latLng(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=i.latLng(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return i.Path.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new i.Bounds(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),i.circleMarker=function(e,t){return new i.CircleMarker(e,t)},i.Circle=i.CircleMarker.extend({initialize:function(e,t,n){if("number"==typeof t&&(t=i.extend({},n,{radius:t})),i.setOptions(this,t),this._latlng=i.latLng(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new i.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:i.Path.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===i.CRS.Earth.distance){var s=Math.PI/180,o=this._mRadius/i.CRS.Earth.R/s,u=n.project([t+o,e]),a=n.project([t-o,e]),f=u.add(a).divideBy(2),l=n.unproject(f).lat,c=Math.acos((Math.cos(o*s)-Math.sin(t*s)*Math.sin(l*s))/(Math.cos(t*s)*Math.cos(l*s)))/s;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=f.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(f.x-n.project([l,e-c]).x),1),this._radiusY=Math.max(Math.round(f.y-u.y),1)}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),i.circle=function(e,t,n){return new i.Circle(e,t,n)},i.SVG=i.Renderer.extend({getEvents:function(){var e=i.Renderer.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=i.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=i.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){i.Renderer.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),i.DomUtil.setPosition(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=i.SVG.create("path");e.options.className&&i.DomUtil.addClass(t,e.options.className),e.options.interactive&&i.DomUtil.addClass(t,"leaflet-interactive"),this._updateStyle(e)},_addPath:function(e){this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){i.DomUtil.remove(e._path),e.removeInteractiveTarget(e._path)},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,i.SVG.pointsToPath(e._parts,t))},_updateCircle:function(e){var t=e._point,n=e._radius,r=e._radiusY||n,i="a"+n+","+r+" 0 1,0 ",s=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,s)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){i.DomUtil.toFront(e._path)},_bringToBack:function(e){i.DomUtil.toBack(e._path)}}),i.extend(i.SVG,{create:function(e){return t.createElementNS("http://www.w3.org/2000/svg",e)},pointsToPath:function(e,t){var n,r,s,o,u,a,f="";for(n=0,s=e.length;n<s;n++){for(u=e[n],r=0,o=u.length;r<o;r++)a=u[r],f+=(r?"L":"M")+a.x+" "+a.y;f+=t?i.Browser.svg?"z":"x":""}return f||"M0 0"}}),i.Browser.svg=!!t.createElementNS&&!!i.SVG.create("svg").createSVGRect,i.svg=function(e){return i.Browser.svg||i.Browser.vml?new i.SVG(e):null},i.Browser.vml=!i.Browser.svg&&function(){try{var e=t.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(e){return!1}}(),i.SVG.include(i.Browser.vml?{_initContainer:function(){this._container=i.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||i.Renderer.prototype._update.call(this)},_initPath:function(e){var t=e._container=i.SVG.create("shape");i.DomUtil.addClass(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=i.SVG.create("path"),t.appendChild(e._path),this._updateStyle(e)},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;i.DomUtil.remove(t),e.removeInteractiveTarget(t)},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,s=e._container;s.stroked=!!r.stroke,s.filled=!!r.fill,r.stroke?(t||(t=e._stroke=i.SVG.create("stroke")),s.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=i.Util.isArray(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(s.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=i.SVG.create("fill")),s.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(s.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){i.DomUtil.toFront(e._container)},_bringToBack:function(e){i.DomUtil.toBack(e._container)}}:{}),i.Browser.vml&&(i.SVG.create=function(){try{return t.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return t.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),i.Canvas=i.Renderer.extend({onAdd:function(){i.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var e=this._container=t.createElement("canvas");i.DomEvent.on(e,"mousemove",i.Util.throttle(this._onMouseMove,32,this),this).on(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},i.Renderer.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=i.Browser.retina?2:1;i.DomUtil.setPosition(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",i.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_initPath:function(e){this._updateDashArray(e),this._layers[i.stamp(e)]=e},_addPath:i.Util.falseFn,_removePath:function(e){e._removed=!0,this._requestRedraw(e)},_updatePath:function(e){this._redrawBounds=e._pxBounds,this._draw(!0),e._project(),e._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,n=e.options.dashArray.split(","),r=[];for(t=0;t<n.length;t++)r.push(Number(n[t]));e.options._dashArray=r}},_requestRedraw:function(e){if(this._map){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new i.Bounds,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t])),this._redrawRequest=this._redrawRequest||i.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(e){this._clear=e;var t,n=this._redrawBounds;this._ctx.save(),n&&(this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,n.max.x-n.min.x,n.max.y-n.min.y),this._ctx.clip());for(var r in this._layers)t=this._layers[r],(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath(),e&&t._removed&&(delete t._removed,delete this._layers[r]);this._ctx.restore()},_updatePoly:function(e,t){var n,r,i,s,o=e._parts,u=o.length,a=this._ctx;if(u){for(this._drawnLayers[e._leaflet_id]=e,a.beginPath(),a.setLineDash&&a.setLineDash(e.options&&e.options._dashArray||[]),n=0;n<u;n++){for(r=0,i=o[n].length;r<i;r++)s=o[n][r],a[r?"lineTo":"moveTo"](s.x,s.y);t&&a.closePath()}this._fillStroke(a,e)}},_updateCircle:function(e){if(!e._empty()){var t=e._point,n=this._ctx,r=e._radius,i=(e._radiusY||r)/r;this._drawnLayers[e._leaflet_id]=e,1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=this._clear,r=t.options;e.globalCompositeOperation=n?"destination-out":"source-over",r.fill&&(e.globalAlpha=n?1:r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&0!==r.weight&&(e.globalAlpha=n?1:r.opacity,t._prevWeight=e.lineWidth=n?t._prevWeight+1:r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){var t,n=this._map.mouseEventToLayerPoint(e),r=[];for(var s in this._layers)t=this._layers[s],t.options.interactive&&t._containsPoint(n)&&!this._map._draggableMoved(t)&&(i.DomEvent._fakeStop(e),r.push(t));r.length&&this._fireEvent(r,e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseOut(e,t),this._handleMouseHover(e,t)}},_handleMouseOut:function(e,t){var n=this._hoveredLayer;!n||"mouseout"!==e.type&&n._containsPoint(t)||(i.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){var n,r;for(n in this._drawnLayers)r=this._drawnLayers[n],r.options.interactive&&r._containsPoint(t)&&(i.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:i.Util.falseFn,_bringToBack:i.Util.falseFn}),i.Browser.canvas=function(){return!!t.createElement("canvas").getContext}(),i.canvas=function(e){return i.Browser.canvas?new i.Canvas(e):null},i.Polyline.prototype._containsPoint=function(e,t){var n,r,s,o,u,a,f=this._clickTolerance();if(!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],r=0,u=a.length,s=u-1;r<u;s=r++)if((t||0!==r)&&i.LineUtil.pointToSegmentDistance(e,a[s],a[r])<=f)return!0;return!1},i.Polygon.prototype._containsPoint=function(e){var t,n,r,s,o,u,a,f,l=!1;if(!this._pxBounds.contains(e))return!1;for(s=0,a=this._parts.length;s<a;s++)for(t=this._parts[s],o=0,f=t.length,u=f-1;o<f;u=o++)n=t[o],r=t[u],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||i.Polyline.prototype._containsPoint.call(this,e,!0)},i.CircleMarker.prototype._containsPoint=function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()},i.GeoJSON=i.FeatureGroup.extend({initialize:function(e,t){i.setOptions(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,s=i.Util.isArray(e)?e:e.features;if(s){for(t=0,n=s.length;t<n;t++)r=s[t],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var u=i.GeoJSON.geometryToLayer(e,o);return u?(u.feature=i.GeoJSON.asFeature(e),u.defaultOptions=u.options,this.resetStyle(u),o.onEachFeature&&o.onEachFeature(e,u),this.addLayer(u)):this},resetStyle:function(e){return e.options=i.Util.extend({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),i.extend(i.GeoJSON,{geometryToLayer:function(e,t){var n,r,s,o,u="Feature"===e.type?e.geometry:e,a=u?u.coordinates:null,f=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||this.coordsToLatLng;if(!a&&!u)return null;switch(u.type){case"Point":return n=c(a),l?l(e,n):new i.Marker(n);case"MultiPoint":for(s=0,o=a.length;s<o;s++)n=c(a[s]),f.push(l?l(e,n):new i.Marker(n));return new i.FeatureGroup(f);case"LineString":case"MultiLineString":return r=this.coordsToLatLngs(a,"LineString"===u.type?0:1,c),new i.Polyline(r,t);case"Polygon":case"MultiPolygon":return r=this.coordsToLatLngs(a,"Polygon"===u.type?1:2,c),new i.Polygon(r,t);case"GeometryCollection":for(s=0,o=u.geometries.length;s<o;s++){var h=this.geometryToLayer({geometry:u.geometries[s],type:"Feature",properties:e.properties},t);h&&f.push(h)}return new i.FeatureGroup(f);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new i.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,t,n){for(var r,i=[],s=0,o=e.length;s<o;s++)r=t?this.coordsToLatLngs(e[s],t-1,n):(n||this.coordsToLatLng)(e[s]),i.push(r);return i},latLngToCoords:function(e){return e.alt!==n?[e.lng,e.lat,e.alt]:[e.lng,e.lat]},latLngsToCoords:function(e,t,n){for(var r=[],s=0,o=e.length;s<o;s++)r.push(t?i.GeoJSON.latLngsToCoords(e[s],t-1,n):i.GeoJSON.latLngToCoords(e[s]));return!t&&n&&r.push(r[0]),r},getFeature:function(e,t){return e.feature?i.extend({},e.feature,{geometry:t}):i.GeoJSON.asFeature(t)},asFeature:function(e){return"Feature"===e.type?e:{type:"Feature",properties:{},geometry:e}}});var o={toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"Point",coordinates:i.GeoJSON.latLngToCoords(this.getLatLng())})}};i.Marker.include(o),i.Circle.include(o),i.CircleMarker.include(o),i.Polyline.prototype.toGeoJSON=function(){var e=!i.Polyline._flat(this._latlngs),t=i.GeoJSON.latLngsToCoords(this._latlngs,e?1:0);return i.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"LineString",coordinates:t})},i.Polygon.prototype.toGeoJSON=function(){var e=!i.Polyline._flat(this._latlngs),t=e&&!i.Polyline._flat(this._latlngs[0]),n=i.GeoJSON.latLngsToCoords(this._latlngs,t?2:e?1:0,!0);return e||(n=[n]),i.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"Polygon",coordinates:n})},i.LayerGroup.include({toMultiPoint:function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),i.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint();var t="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON();n.push(t?r.geometry:i.GeoJSON.asFeature(r))}}),t?i.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),i.geoJSON=function(e,t){return new i.GeoJSON(e,t)},i.geoJson=i.geoJSON;var u="_leaflet_events";i.DomEvent={on:function(e,t,n,r){if("object"==typeof t)for(var s in t)this._on(e,s,t[s],n);else{t=i.Util.splitWords(t);for(var o=0,u=t.length;o<u;o++)this._on(e,t[o],n,r)}return this},off:function(e,t,n,r){if("object"==typeof t)for(var s in t)this._off(e,s,t[s],n);else{t=i.Util.splitWords(t);for(var o=0,u=t.length;o<u;o++)this._off(e,t[o],n,r)}return this},_on:function(t,n,r,s){var o=n+i.stamp(r)+(s?"_"+i.stamp(s):"");if(t[u]&&t[u][o])return this;var a=function(n){return r.call(s||t,n||e.event)},f=a;return i.Browser.pointer&&0===n.indexOf("touch")?this.addPointerListener(t,n,a,o):i.Browser.touch&&"dblclick"===n&&this.addDoubleTapListener?this.addDoubleTapListener(t,a,o):"addEventListener"in t?"mousewheel"===n?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===n||"mouseleave"===n?(a=function(n){n=n||e.event,i.DomEvent._isExternalTarget(t,n)&&f(n)},t.addEventListener("mouseenter"===n?"mouseover":"mouseout",a,!1)):("click"===n&&i.Browser.android&&(a=function(e){return i.DomEvent._filterClick(e,f)}),t.addEventListener(n,a,!1)):"attachEvent"in t&&t.attachEvent("on"+n,a),t[u]=t[u]||{},t[u][o]=a,this},_off:function(e,t,n,r){var s=t+i.stamp(n)+(r?"_"+i.stamp(r):""),o=e[u]&&e[u][s];return o?(i.Browser.pointer&&0===t.indexOf("touch")?this.removePointerListener(e,t,s):i.Browser.touch&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,s):"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",o,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o),e[u][s]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,i.DomEvent._skipped(e),this},disableScrollPropagation:function(e){return i.DomEvent.on(e,"mousewheel",i.DomEvent.stopPropagation)},disableClickPropagation:function(e){var t=i.DomEvent.stopPropagation;return i.DomEvent.on(e,i.Draggable.START.join(" "),t),i.DomEvent.on(e,{click:i.DomEvent._fakeStop,dblclick:t})},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return i.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,t){if(!t)return new i.Point(e.clientX,e.clientY);var n=t.getBoundingClientRect();return new i.Point(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},_wheelPxFactor:i.Browser.win&&i.Browser.chrome?2:i.Browser.gecko?e.devicePixelRatio:1,getWheelDelta:function(e){return i.Browser.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/i.DomEvent._wheelPxFactor:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(e){i.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var t=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,t},_isExternalTarget:function(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e},_filterClick:function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=i.DomEvent._lastClick&&n-i.DomEvent._lastClick;return r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated?void i.DomEvent.stop(e):(i.DomEvent._lastClick=n,void t(e))}},i.DomEvent.addListener=i.DomEvent.on,i.DomEvent.removeListener=i.DomEvent.off,i.Draggable=i.Evented.extend({options:{clickTolerance:3},statics:{START:i.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(e,t,n){this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(i.DomEvent.on(this._dragStartTarget,i.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(i.DomEvent.off(this._dragStartTarget,i.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!i.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(i.Draggable._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&this._enabled&&(i.Draggable._dragging=!0,this._preventOutline&&i.DomUtil.preventOutline(this._element),i.DomUtil.disableImageDrag(),i.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var n=e.touches?e.touches[0]:e;this._startPoint=new i.Point(n.clientX,n.clientY),i.DomEvent.on(t,i.Draggable.MOVE[e.type],this._onMove,this).on(t,i.Draggable.END[e.type],this._onUp,this)}},_onMove:function(n){if(!n._simulated&&this._enabled){if(n.touches&&n.touches.length>1)return void (this._moved=!0);var r=n.touches&&1===n.touches.length?n.touches[0]:n,s=new i.Point(r.clientX,r.clientY),o=s.subtract(this._startPoint);(o.x||o.y)&&(Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(i.DomEvent.preventDefault(n),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(o),i.DomUtil.addClass(t.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,e.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),i.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._lastEvent=n,this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),i.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){if(!e._simulated&&this._enabled){i.DomUtil.removeClass(t.body,"leaflet-dragging"),this._lastTarget&&(i.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var n in i.Draggable.MOVE)i.DomEvent.off(t,i.Draggable.MOVE[n],this._onMove,this).off(t,i.Draggable.END[n],this._onUp,this);i.DomUtil.enableImageDrag(),i.DomUtil.enableTextSelection(),this._moved&&this._moving&&(i.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,i.Draggable._dragging=!1}}}),i.Handler=i.Class.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new i.Draggable(e._mapPane,e._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}i.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){i.DomUtil.removeClass(this._map._container,"leaflet-grab"),i.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var e=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=i.latLngBounds(this._map.options.maxBounds);this._offsetLimit=i.bounds(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+(new Date),n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",e).fire("drag",e)},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,s=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(s+n)?i:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,u=n.easeLinearity,a=s.multiplyBy(u/o),f=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,f),c=a.multiplyBy(l/f),h=l/(n.inertiaDeceleration*u),p=c.multiplyBy(-h/2).round();p.x||p.y?(p=t._limitOffset(p,t.options.maxBounds),i.Util.requestAnimFrame(function(){t.panBy(p,{duration:h,easeLinearity:u,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}}),i.Map.addInitHook("addHandler","dragging",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}}),i.Map.addInitHook("addHandler","doubleClickZoom",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=i.DomEvent.getWheelDelta(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+(new Date));var r=Math.max(n-(+(new Date)-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),r),i.DomEvent.stop(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,s=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?s:-s))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}}),i.Map.addInitHook("addHandler","scrollWheelZoom",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msPointer?"MSPointerDown":i.Browser.pointer?"pointerdown":"touchstart",_touchend:i.Browser.msPointer?"MSPointerUp":i.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(e,t,n){function r(e){var t;if(t=i.Browser.pointer?i.DomEvent._pointersCount:e.touches.length,!(t>1)){var n=Date.now(),r=n-(o||n);u=e.touches?e.touches[0]:e,a=r>0&&r<=f,o=n}}function s(){if(a&&!u.cancelBubble){if(i.Browser.pointer){var e,n,r={};for(n in u)e=u[n],r[n]=e&&e.bind?e.bind(u):e;u=r}u.type="dblclick",t(u),o=null}}var o,u,a=!1,f=250,l="_leaflet_",c=this._touchstart,h=this._touchend;return e[l+c+n]=r,e[l+h+n]=s,e[l+"dblclick"+n]=t,e.addEventListener(c,r,!1),e.addEventListener(h,s,!1),i.Browser.edge||e.addEventListener("dblclick",t,!1),this},removeDoubleTapListener:function(e,t){var n="_leaflet_",r=e[n+this._touchstart+t],s=e[n+this._touchend+t],o=e[n+"dblclick"+t];return e.removeEventListener(this._touchstart,r,!1),e.removeEventListener(this._touchend,s,!1),i.Browser.edge||e.removeEventListener("dblclick",o,!1),this}}),i.extend(i.DomEvent,{POINTER_DOWN:i.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:i.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:i.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:i.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(e,t,n,r){return"touchstart"===t?this._addPointerStart(e,n,r):"touchmove"===t?this._addPointerMove(e,n,r):"touchend"===t&&this._addPointerEnd(e,n,r),this},removePointerListener:function(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(this.POINTER_DOWN,r,!1):"touchmove"===t?e.removeEventListener(this.POINTER_MOVE,r,!1):"touchend"===t&&(e.removeEventListener(this.POINTER_UP,r,!1),e.removeEventListener(this.POINTER_CANCEL,r,!1)),this},_addPointerStart:function(e,n,r){var s=i.bind(function(e){if("mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(e.target.tagName)<0))return;i.DomEvent.preventDefault(e)}this._handlePointer(e,n)},this);if(e["_leaflet_touchstart"+r]=s,e.addEventListener(this.POINTER_DOWN,s,!1),!this._pointerDocListener){var o=i.bind(this._globalPointerUp,this);t.documentElement.addEventListener(this.POINTER_DOWN,i.bind(this._globalPointerDown,this),!0),t.documentElement.addEventListener(this.POINTER_MOVE,i.bind(this._globalPointerMove,this),!0),t.documentElement.addEventListener(this.POINTER_UP,o,!0),t.documentElement.addEventListener(this.POINTER_CANCEL,o,!0),this._pointerDocListener=!0}},_globalPointerDown:function(e){this._pointers[e.pointerId]=e,this._pointersCount++},_globalPointerMove:function(e){this._pointers[e.pointerId]&&(this._pointers[e.pointerId]=e)},_globalPointerUp:function(e){delete this._pointers[e.pointerId],this._pointersCount--},_handlePointer:function(e,t){e.touches=[];for(var n in this._pointers)e.touches.push(this._pointers[n]);e.changedTouches=[e],t(e)},_addPointerMove:function(e,t,n){var r=i.bind(function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&this._handlePointer(e,t)},this);e["_leaflet_touchmove"+n]=r,e.addEventListener(this.POINTER_MOVE,r,!1)},_addPointerEnd:function(e,t,n){var r=i.bind(function(e){this._handlePointer(e,t)},this);e["_leaflet_touchend"+n]=r,e.addEventListener(this.POINTER_UP,r,!1),e.addEventListener(this.POINTER_CANCEL,r,!1)}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23,bounceAtZoomLimits:!0}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),i.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){i.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),i.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(e.touches&&2===e.touches.length&&!n._animatingZoom&&!this._zooming){var r=n.mouseEventToContainerPoint(e.touches[0]),s=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(s)._divideBy(2))),this._startDist=r.distanceTo(s),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),i.DomEvent.on(t,"touchmove",this._onTouchMove,this).on(t,"touchend",this._onTouchEnd,this),i.DomEvent.preventDefault(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),s=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest);var u=i.bind(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=i.Util.requestAnimFrame(u,this,!0),i.DomEvent.preventDefault(e)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,i.Util.cancelAnimFrame(this._animRequest),i.DomEvent.off(t,"touchmove",this._onTouchMove).off(t,"touchend",this._onTouchEnd),void (this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void (this._zooming=!1)}}),i.Map.addInitHook("addHandler","touchZoom",i.Map.TouchZoom),i.Map.mergeOptions({tap:!0,tapTolerance:15}),i.Map.Tap=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(i.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=e.touches[0],r=n.target;this._startPos=this._newPos=new i.Point(n.clientX,n.clientY),r.tagName&&"a"===r.tagName.toLowerCase()&&i.DomUtil.addClass(r,"leaflet-active"),this._holdTimeout=setTimeout(i.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),this._simulateEvent("mousedown",n),i.DomEvent.on(t,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),i.DomEvent.off(t,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var n=e.changedTouches[0],r=n.target;r&&r.tagName&&"a"===r.tagName.toLowerCase()&&i.DomUtil.removeClass(r,"leaflet-active"),this._simulateEvent("mouseup",n),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new i.Point(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(n,r){var i=t.createEvent("MouseEvents");i._simulated=!0,r.target._simulatedClick=!0,i.initMouseEvent(n,!0,!0,e,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),r.target.dispatchEvent(i)}}),i.Browser.touch&&!i.Browser.pointer&&i.Map.addInitHook("addHandler","tap",i.Map.Tap),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){i.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(e){return!(!e.shiftKey||1!==e.which&&1!==e.button)&&(this._resetState(),i.DomUtil.disableTextSelection(),i.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(e),void i.DomEvent.on(t,{contextmenu:i.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=i.DomUtil.create("div","leaflet-zoom-box",this._container),i.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new i.Bounds(this._point,this._startPoint),n=t.getSize();i.DomUtil.setPosition(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(i.DomUtil.remove(this._box),i.DomUtil.removeClass(this._container,"leaflet-crosshair")),i.DomUtil.enableTextSelection(),i.DomUtil.enableImageDrag(),i.DomEvent.off(t,{contextmenu:i.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){setTimeout(i.bind(this._resetState,this),0);var t=new i.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}}),i.Map.addInitHook("addHandler","boxZoom",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),i.DomEvent.on(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),i.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=t.body,r=t.documentElement,i=n.scrollTop||r.scrollTop,s=n.scrollLeft||r.scrollLeft;this._map._container.focus(),e.scrollTo(s,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){i.DomEvent.on(t,"keydown",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.off(t,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;t=this._panKeys[n],e.shiftKey&&(t=i.point(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;r.closePopup()}i.DomEvent.stop(e)}}}),i.Map.addInitHook("addHandler","keyboard",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),i.DomUtil.addClass(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&i.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=this._marker,n=t._shadow,r=i.DomUtil.getPosition(t._icon),s=t._map.layerPointToLatLng(r);n&&i.DomUtil.setPosition(n,r),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),i.Control=i.Class.extend({options:{position:"topright"},initialize:function(e){i.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return i.DomUtil.addClass(t,"leaflet-control"),n.indexOf("bottom")!==-1?r.insertBefore(t,r.firstChild):r.appendChild(t),this},remove:function(){return this._map?(i.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),i.control=function(e){return new i.Control(e)},i.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,s){var o=n+e+" "+n+s;t[e+s]=i.DomUtil.create("div",o,r)}var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=i.DomUtil.create("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){i.DomUtil.remove(this._controlContainer)}}),i.Control.Zoom=i.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=i.DomUtil.create("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,s){var o=i.DomUtil.create("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,i.DomEvent.on(o,"mousedown dblclick",i.DomEvent.stopPropagation).on(o,"click",i.DomEvent.stop).on(o,"click",s,this).on(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";i.DomUtil.removeClass(this._zoomInButton,t),i.DomUtil.removeClass(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&i.DomUtil.addClass(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&i.DomUtil.addClass(this._zoomInButton,t)}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(e){return new i.Control.Zoom(e)},i.Control.Attribution=i.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){i.setOptions(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=i.DomUtil.create("div","leaflet-control-attribution"),i.DomEvent&&i.DomEvent.disableClickPropagation(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(new i.Control.Attribution).addTo(this)}),i.control.attribution=function(e){return new i.Control.Attribution(e)},i.Control.Scale=i.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=i.DomUtil.create("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=i.DomUtil.create("div",t,n)),e.imperial&&(this._iScale=i.DomUtil.create("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),i.control.scale=function(e){return new i.Control.Scale(e)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(e,t,n){i.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){return this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(i.stamp(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){i.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(i.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):i.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return i.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=i.DomUtil.create("div",e);t.setAttribute("aria-haspopup",!0),i.DomEvent.disableClickPropagation(t),i.Browser.touch||i.DomEvent.disableScrollPropagation(t);var n=this._form=i.DomUtil.create("form",e+"-list");if(this.options.collapsed){i.Browser.android||i.DomEvent.on(t,{mouseenter:this.expand,mouseleave:this.collapse},this);var r=this._layersLink=i.DomUtil.create("a",e+"-toggle",t);r.href="#",r.title="Layers",i.Browser.touch?i.DomEvent.on(r,"click",i.DomEvent.stop).on(r,"click",this.expand,this):i.DomEvent.on(r,"focus",this.expand,this),i.DomEvent.on(n,"click",function(){setTimeout(i.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=i.DomUtil.create("div",e+"-base",n),this._separator=i.DomUtil.create("div",e+"-separator",n),this._overlaysList=i.DomUtil.create("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&i.stamp(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;i.DomUtil.empty(this._baseLayersList),i.DomUtil.empty(this._overlaysList);var e,t,n,r,s=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,s+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(i.stamp(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",i=t.createElement("div");return i.innerHTML=r,i.firstChild},_addItem:function(e){var n,r=t.createElement("label"),s=this._map.hasLayer(e.layer);e.overlay?(n=t.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=s):n=this._createRadioElement("leaflet-base-layers",s),n.layerId=i.stamp(e.layer),i.DomEvent.on(n,"click",this._onInputClick,this);var o=t.createElement("span");o.innerHTML=" "+e.name;var u=t.createElement("div");r.appendChild(u),u.appendChild(n),u.appendChild(o);var a=e.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){var e,t,n,r=this._form.getElementsByTagName("input"),i=[],s=[];this._handlingClick=!0;for(var o=r.length-1;o>=0;o--)e=r[o],t=this._getLayer(e.layerId).layer,n=this._map.hasLayer(t),e.checked&&!n?i.push(t):!e.checked&&n&&s.push(t);for(o=0;o<s.length;o++)this._map.removeLayer(s[o]);for(o=0;o<i.length;o++)this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,r=this._form.getElementsByTagName("input"),i=this._map.getZoom(),s=r.length-1;s>=0;s--)e=r[s],t=this._getLayer(e.layerId).layer,e.disabled=t.options.minZoom!==n&&i<t.options.minZoom||t.options.maxZoom!==n&&i>t.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),i.control.layers=function(e,t,n){return new i.Control.Layers(e,t,n)},i.PosAnimation=i.Evented.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=i.DomUtil.getPosition(e),this._offset=t.subtract(this._startPos),this._startTime=+(new Date),this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(e){var t=+(new Date)-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),i.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),i.Map.include({setView:function(e,t,r){if(t=t===n?this._zoom:this._limitZoom(t),e=this._limitCenter(i.latLng(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==n&&(r.zoom=i.extend({animate:r.animate},r.zoom),r.pan=i.extend({animate:r.animate,duration:r.duration},r.pan));var s=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t),this},panBy:function(e,t){if(e=i.point(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){i.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._floor();return((t&&t.animate)===!0||!!this.getSize().contains(n))&&(this.panBy(n,t),!0)}}),i.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var a=i.DomUtil.TRANSITION&&i.Browser.any3d&&!i.Browser.mobileOpera;a&&i.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),i.DomEvent.on(this._proxy,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),i.Map.include(a?{_createAnimProxy:function(){var e=this._proxy=i.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var n=i.DomUtil.TRANSFORM,r=e.style[n];i.DomUtil.setTransform(e,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),r===e.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),n=this.getZoom();i.DomUtil.setTransform(e,this.project(t,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/r);return(n.animate===!0||!!this.getSize().contains(s))&&(i.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,i.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(i.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(i.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),i.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),i.Map.include({flyTo:function(e,t,r){function s(e){var t=e?-1:1,n=e?y:g,r=y*y-g*g+t*E*E*b*b,i=2*n*E*b,s=r/i,o=Math.sqrt(s*s+1)-s,u=o<1e-9?-18:Math.log(o);return u}function o(e){return(Math.exp(e)-Math.exp(-e))/2}function u(e){return(Math.exp(e)+Math.exp(-e))/2}function a(e){return o(e)/u(e)}function f(e){return g*(u(S)/u(S+w*e))}function l(e){return g*(u(S)*a(S+w*e)-o(S))/E}function c(e){return 1-Math.pow(1-e,1.5)}function h(){var n=(Date.now()-x)/N,r=c(n)*T;n<=1?(this._flyToFrame=i.Util.requestAnimFrame(h,this),this._move(this.unproject(p.add(d.subtract(p).multiplyBy(l(r)/b)),m),this.getScaleZoom(g/f(r),m),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}if(r=r||{},r.animate===!1||!i.Browser.any3d)return this.setView(e,t,r);this._stop();var p=this.project(this.getCenter()),d=this.project(e),v=this.getSize(),m=this._zoom;e=i.latLng(e),t=t===n?m:t;var g=Math.max(v.x,v.y),y=g*this.getZoomScale(m,t),b=d.distanceTo(p)||1,w=1.42,E=w*w,S=s(0),x=Date.now(),T=(s(1)-S)/w,N=r.duration?1e3*r.duration:1e3*T*.8;return this._moveStart(!0),h.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)}}),i.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(e){if(e=this._locateOptions=i.extend({},this._defaultLocateOptions,e),"geolocation"in navigator){var t=i.bind(this._handleGeolocationResponse,this),n=i.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this}return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new i.LatLng(t,n),s=r.toBounds(e.coords.accuracy),o=this._locateOptions;if(o.setView){var u=this.getBoundsZoom(s);this.setView(r,o.maxZoom?Math.min(u,o.maxZoom):u)}var a={latlng:r,bounds:s,timestamp:e.timestamp};for(var f in e.coords)"number"==typeof e.coords[f]&&(a[f]=e.coords[f]);this.fire("locationfound",a)}})}(window,document),define("library/requirejs/css!library/bootstrap/css/bootstrap",[],function(){});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.0",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus","focus"==t.type)})}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.0",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n="prev"==e?-1:1,r=this.getItemIndex(t),i=(r+n)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(t,i),o=this.interval,u="next"==t?"left":"right",a="next"==t?"first":"last",f=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var l=s[0],c=e.Event("slide.bs.carousel",{relatedTarget:l,direction:u});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:l,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),s=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&s.toggle&&"show"==t&&(s.toggle=!1),i||n.data("bs.collapse",i=new r(this,s)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.0",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][a])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var s=t(i),o=s.data("bs.collapse"),u=o?"toggle":e.extend({},i.data(),{trigger:this});n.call(s,u)})}(jQuery),+function(e){function t(t){t&&3===t.which||(e(i).remove(),e(s).each(function(){var r=e(this),i=n(r),s={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.0",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),o=i.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",a=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(a.length){var f=a.index(t.target);38==t.which&&f>0&&f--,40==t.which&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.0",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t,o=s&&s.selector;(i||"destroy"!=t)&&(o?(i||r.data("bs.tooltip",i={}),i[o]||(i[o]=new n(this,s))):i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.0",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",a="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void (n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,f=a.test(u);f&&(u=u.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var l=this.getPosition(),c=s[0].offsetWidth,h=s[0].offsetHeight;if(f){var p=u,d=this.options.container?e(this.options.container):this.$element.parent(),v=this.getPosition(d);u="bottom"==u&&l.bottom+h>v.bottom?"top":"top"==u&&l.top-h<v.top?"bottom":"right"==u&&l.right+c>v.width?"left":"left"==u&&l.left-c<v.left?"right":u,s.removeClass(p).addClass(u)}var m=this.getCalculatedOffset(u,l,c,h);this.applyPlacement(m,u);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;"top"==n&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(n),h=c?2*l.left-i+a:2*l.top-s+f,p=c?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][p],c)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&s.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,s=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t,o=s&&s.selector;(i||"destroy"!=t)&&(o?(i||r.data("bs.popover",i={}),i[o]||(i[o]=new n(this,s))):i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.0",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=s.top?!1:"bottom":e-r>=i+o?!1:"bottom";var u=null==this.affixed,a=u?i:s.top,f=u?o:t;return null!=n&&n>=a?"top":null!=r&&a+f>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=e("body").height();"object"!=typeof r&&(s=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(o,t,i,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var a="affix"+(u?"-"+u:""),f=e.Event(a+".bs.affix");if(this.$element.trigger(f),f.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:o-t-s})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),define("bootstrap",["jquery","css!library/bootstrap/css/bootstrap"],function(){}),define("library/requirejs/css!themes/css/system.main",[],function(){}),define("leaflet/fix",["leaflet"],function(e){e.Marker.include({setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;t===0?this._icon.style.display="none":t===1?this._icon.style.display="block":e.DomUtil.setOpacity(this._icon,t),this._shadow&&e.DomUtil.setOpacity(this._shadow,t)}}),e.VectorLabelCanvas=e.Canvas.extend({initialize:function(t){e.Canvas.prototype.initialize.call(this,t)},_updatePoly:function(t,n){e.Canvas.prototype._updatePoly.call(this,t,n);if(!t.options.text)return;this._text(t,n)},_text:function(e,t){var n=this._ctx,r=e.options.text,i=this._map,s=e.getBounds().getCenter(),o=i.latLngToLayerPoint(s);n.textAlign="center",n.textBaseline="middle",n.font="Microsoft YaHei",n.fillStyle="#000",n.fillText(r,o.x,o.y)}})}),define("core/namespace",["leaflet"],function(e){window.L=window.L||{},e.ICT=e.ICT||{},e.ict=e.ict||{},e.ICT.App=e.ict.app=e.ICT.App||{},e.ICT.Func=e.ICT.Func||{},e.ICT.Util=e.ICT.Util||{},e.ICT.Control=e.ICT.Control||{}}),define("core/baseobject",["leaflet","core/namespace"],function(e){return e.ICT.BaseObject=e.Class.extend({includes:e.Mixin.Events,id:null,initialize:function(){},getType:function(){return typeof this}}),e.ICT.BaseObject}),define("leaflet/chartLayer",["leaflet"],function(e){var t={errorUrl:"",tempurl:Project_ParamConfig.ChartLayerUrl};e.TileLayer.ChartLayer=e.TileLayer.extend({initialize:function(n,r){r=e.setOptions(this,r),r.errorTileUrl=t.errorUrl;var i=t.tempurl;this.url=i+"{s}/{x}.jpg",e.TileLayer.prototype.initialize.call(this,this.url,r)}}),e.TileLayer.ChartLayer.prototype.getTileUrl=function(t){return e.Util.template(this._url,e.extend({s:function(){var n=t.z,r=t.y,i=levDir=rowDir="";return n<2?levDir="LN"+n.toString():n<12?levDir="L0"+(n-2).toString():levDir="L"+(n-2).toString(),rowDir="R"+e.tileLayer.getHexString(r),i=levDir+"/"+rowDir,i},x:"C"+e.tileLayer.getHexString(t.x)}))},e.tileLayer.getHexString=function(e){var t=e.toString(16);switch(t.length){case 1:t="0000000"+t;break;case 2:return t="000000"+t;case 3:t="00000"+t;break;case 4:t="0000"+t;break;case 5:t="000"+t;break;case 6:t="00"+t;break;case 7:t="0"+t;break;default:}return t},e.tileLayer.ChartLayer=function(t,n){return new e.TileLayer.ChartLayer(t,n)}}),define("leaflet/googleLayer",["leaflet"],function(e){var t={errorUrl:"",tempurl:"http://mt{num}.google.cn/vt/lyrs={lyrs}&hl=zh-CN&gl=cn&s=Gal&z={z}&x={x}&y={y}"};e.TileLayer.GoogleLayer=e.TileLayer.extend({initialize:function(n,r){e.setOptions(this,r),r.errorTileUrl=t.errorUrl,this._url=t.tempurl,e.TileLayer.prototype.initialize.call(this,this._url,r)},getTileUrl:function(t){return e.Util.template(this._url,{num:2,x:t.x,y:t.y,z:t.z,lyrs:this.options.lyrs||"m"})}}),e.tileLayer.GoogleLayer=function(t,n){return new e.TileLayer.GoogleLayer(t,n)}}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("leaflet")):typeof define=="function"&&define.amd?define("esri/leaflet",["exports","leaflet"],t):t((e.L=e.L||{},e.L.esri=e.L.esri||{}),e.L)}(this,function(e,t){function n(e){var t="";e.f=e.f||"json";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=Object.prototype.toString.call(r),s;t.length&&(t+="&"),i==="[object Array]"?s=Object.prototype.toString.call(r[0])==="[object Object]"?JSON.stringify(r):r.join(","):i==="[object Object]"?s=JSON.stringify(r):i==="[object Date]"?s=r.valueOf():s=r,t+=encodeURIComponent(n)+"="+encodeURIComponent(s)}return t}function r(e,n){var r=new window.XMLHttpRequest;return r.onerror=function(i){r.onreadystatechange=t.Util.falseFn,e.call(n,{error:{code:500,message:"XMLHttpRequest error"}},null)},r.onreadystatechange=function(){var i,s;if(r.readyState===4){try{i=JSON.parse(r.responseText)}catch(o){i=null,s={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!s&&i.error&&(s=i.error,i=null),r.onerror=t.Util.falseFn,e.call(n,s,i)}},r.ontimeout=function(){this.onerror()},r}function i(e,t,i,s){var o=r(i,s);return o.open("POST",e),typeof s!="undefined"&&s!==null&&typeof s.options!="undefined"&&(o.timeout=s.options.timeout),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n(t)),o}function s(e,t,i,s){var o=r(i,s);return o.open("GET",e+"?"+n(t),!0),typeof s!="undefined"&&s!==null&&typeof s.options!="undefined"&&(o.timeout=s.options.timeout),o.send(null),o}function o(e,t,i,s){var o=n(t),a=r(i,s),f=(e+"?"+o).length;f<=2e3&&et.cors?a.open("GET",e+"?"+o):f>2e3&&et.cors&&(a.open("POST",e),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),typeof s!="undefined"&&s!==null&&typeof s.options!="undefined"&&(a.timeout=s.options.timeout);if(f<=2e3&&et.cors)a.send(null);else{if(!(f>2e3&&et.cors)){if(f<=2e3&&!et.cors)return u(e,t,i,s);O("a request to "+e+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");return}a.send(o)}return a}function u(e,r,i,s){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var o="c"+nt;r.callback="window._EsriLeafletCallbacks."+o,window._EsriLeafletCallbacks[o]=function(e){if(window._EsriLeafletCallbacks[o]!==!0){var t,n=Object.prototype.toString.call(e);n!=="[object Object]"&&n!=="[object Array]"&&(t={error:{code:500,message:"Expected array or object as JSONP response"}},e=null),!t&&e.error&&(t=e,e=null),i.call(s,t,e),window._EsriLeafletCallbacks[o]=!0}};var u=t.DomUtil.create("script",null,document.body);return u.type="text/javascript",u.src=e+"?"+n(r),u.id=o,nt++,{id:o,url:u.src,abort:function(){window._EsriLeafletCallbacks._callback[o]({code:0,message:"Request aborted."})}}}function a(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return a(e[0],e[e.length-1])||e.push(e[0]),e}function l(e){var t=0,n=0,r=e.length,i=e[n],s;for(n;n<r-1;n++)s=e[n+1],t+=(s[0]-i[0])*(s[1]+i[1]),i=s;return t>=0}function c(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),s=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(o!==0){var u=i/o,a=s/o;if(u>=0&&u<=1&&a>=0&&a<=1)return!0}return!1}function h(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(c(e[n],e[n+1],t[r],t[r+1]))return!0;return!1}function p(e,t){var n=!1;for(var r=-1,i=e.length,s=i-1;++r<i;s=r)(e[r][1]<=t[1]&&t[1]<e[s][1]||e[s][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[s][0]-e[r][0])*(t[1]-e[r][1])/(e[s][1]-e[r][1])+e[r][0]&&(n=!n);return n}function d(e,t){var n=h(e,t),r=p(e,t[0]);return!n&&r?!0:!1}function v(e){var t=[],n=[],r,i,s;for(var o=0;o<e.length;o++){var u=f(e[o].slice(0));if(u.length<4)continue;if(l(u)){var a=[u];t.push(a)}else n.push(u)}var c=[];while(n.length){s=n.pop();var p=!1;for(r=t.length-1;r>=0;r--){i=t[r][0];if(d(i,s)){t[r].push(s),p=!0;break}}p||c.push(s)}while(c.length){s=c.pop();var v=!1;for(r=t.length-1;r>=0;r--){i=t[r][0];if(h(i,s)){t[r].push(s),v=!0;break}}v||t.push([s.reverse()])}return t.length===1?{type:"Polygon",coordinates:t[0]}:{type:"MultiPolygon",coordinates:t}}function m(e){var t=[],n=e.slice(0),r=f(n.shift().slice(0));if(r.length>=4){l(r)||r.reverse(),t.push(r);for(var i=0;i<n.length;i++){var s=f(n[i].slice(0));s.length>=4&&(l(s)&&s.reverse(),t.push(s))}}return t}function g(e){var t=[];for(var n=0;n<e.length;n++){var r=m(e[n]);for(var i=r.length-1;i>=0;i--){var s=r[i].slice(0);t.push(s)}}return t}function y(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function b(e,t){var n={};typeof e.x=="number"&&typeof e.y=="number"&&(n.type="Point",n.coordinates=[e.x,e.y]),e.points&&(n.type="MultiPoint",n.coordinates=e.points.slice(0)),e.paths&&(e.paths.length===1?(n.type="LineString",n.coordinates=e.paths[0].slice(0)):(n.type="MultiLineString",n.coordinates=e.paths.slice(0))),e.rings&&(n=v(e.rings.slice(0)));if(e.geometry||e.attributes)n.type="Feature",n.geometry=e.geometry?b(e.geometry):null,n.properties=e.attributes?y(e.attributes):null,e.attributes&&(n.id=e.attributes[t]||e.attributes.OBJECTID||e.attributes.FID);return n}function w(e,t){t=t||"OBJECTID";var n={wkid:4326},r={},i;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],r.spatialReference=n;break;case"MultiPoint":r.points=e.coordinates.slice(0),r.spatialReference=n;break;case"LineString":r.paths=[e.coordinates.slice(0)],r.spatialReference=n;break;case"MultiLineString":r.paths=e.coordinates.slice(0),r.spatialReference=n;break;case"Polygon":r.rings=m(e.coordinates.slice(0)),r.spatialReference=n;break;case"MultiPolygon":r.rings=g(e.coordinates.slice(0)),r.spatialReference=n;break;case"Feature":e.geometry&&(r.geometry=w(e.geometry,t)),r.attributes=e.properties?y(e.properties):{},e.id&&(r.attributes[t]=e.id);break;case"FeatureCollection":r=[];for(i=0;i<e.features.length;i++)r.push(w(e.features[i],t));break;case"GeometryCollection":r=[];for(i=0;i<e.geometries.length;i++)r.push(w(e.geometries[i],t))}return r}function E(e,t){return w(e,t)}function S(e,t){return b(e,t)}function x(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T(e){if(e.xmin!=="NaN"&&e.ymin!=="NaN"&&e.xmax!=="NaN"&&e.ymax!=="NaN"){var n=t.latLng(e.ymin,e.xmin),r=t.latLng(e.ymax,e.xmax);return t.latLngBounds(n,r)}return null}function N(e){return e=t.latLngBounds(e),{xmin:e.getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}function C(e,t){var n,r=e.features||e.results,i=r.length;if(t)n=t;else if(e.objectIdFieldName)n=e.objectIdFieldName;else if(e.fields){for(var s=0;s<=e.fields.length-1;s++)if(e.fields[s].type==="esriFieldTypeOID"){n=e.fields[s].name;break}}else if(i)for(var o in r[0].attributes)if(o.match(/^(OBJECTID|FID|OID|ID)$/i)){n=o;break}var u={type:"FeatureCollection",features:[]};if(i)for(var a=r.length-1;a>=0;a--){var f=S(r[a],n);u.features.push(f)}return u}function k(e){return e=t.Util.trim(e),e[e.length-1]!=="/"&&(e+="/"),e}function L(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function A(e){var t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":t="esriGeometryPolyline";break;case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":t="esriGeometryPolygon";break;case"MultiPolygon":t="esriGeometryPolygon"}return t}function O(){console&&console.warn&&console.warn.apply(console,arguments)}function M(e){return e.getSize().x-tt.attributionWidthOffset+"px"}function _(e){if(e.attributionControl&&!e.attributionControl._esriAttributionAdded){e.attributionControl.setPrefix('<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Powered by <a href="https://www.esri.com">Esri</a>');var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(n),t.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover");var r=document.createElement("style");r.type="text/css",r.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+M(e)+";"+"}",document.getElementsByTagName("head")[0].appendChild(r),t.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution"),e.on("resize",function(t){e.attributionControl._container.style.maxWidth=M(t.target)}),e.attributionControl._esriAttributionAdded=!0}}function D(e,n){u(e,{},t.Util.bind(function(e,r){if(e)return;n._esriAttributions=[];for(var i=0;i<r.contributors.length;i++){var s=r.contributors[i];for(var o=0;o<s.coverageAreas.length;o++){var u=s.coverageAreas[o],a=t.latLng(u.bbox[0],u.bbox[1]),f=t.latLng(u.bbox[2],u.bbox[3]);n._esriAttributions.push({attribution:s.attribution,score:u.score,bounds:t.latLngBounds(a,f),minZoom:u.zoomMin,maxZoom:u.zoomMax})}}n._esriAttributions.sort(function(e,t){return t.score-e.score});var l={target:n};P(l)},this))}function P(e){var n=e.target,r=n._esriAttributions;if(n&&n.attributionControl&&r){var i="",s=n.getBounds(),o=t.latLngBounds(s.getSouthWest().wrap(),s.getNorthEast().wrap()),u=n.getZoom();for(var a=0;a<r.length;a++){var f=r[a],l=f.attribution;!i.match(l)&&f.bounds.intersects(o)&&u>=f.minZoom&&u<=f.maxZoom&&(i+=", "+l)}i=i.substr(2);var c=n.attributionControl._container.querySelector(".esri-dynamic-attribution");c.innerHTML=i,c.style.maxWidth=M(n),n.fire("attributionupdated",{attribution:i})}}function H(e){return new ot(e)}function B(e){return new ut(e)}function j(e){return new at(e)}function F(e){return new ft(e)}function I(e){return new lt(e)}function q(e){return new ct(e)}function R(e){return new ht(e)}function U(e){return new pt(e)}function z(e){return new dt(e)}function W(e){return new vt(e)}function X(e,t){return new gt(e,t)}function V(e,t){return new yt(e,t)}function $(e,t){return new Et(e,t)}function J(e,t){return new St(e,t)}function K(e){this.values=[].concat(e||[])}function Q(e){return new Nt(e)}t=window.L||{},t.esri=t.esri||{},e=t.esri,t="default"in t?t["default"]:t;var G="2.0.7",Y=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,Z=document.documentElement.style.pointerEvents==="",et={cors:Y,pointerEvents:Z},tt={attributionWidthOffset:55},nt=0,rt=et.cors?s:u;rt.CORS=s,rt.JSONP=u;var it={request:o,get:rt,post:i},st={shallowClone:x,warn:O,cleanUrl:k,isArcgisOnline:L,geojsonTypeToArcGIS:A,responseToFeatureCollection:C,geojsonToArcGIS:E,arcgisToGeoJSON:S,boundsToExtent:N,extentToBounds:T,calcAttributionWidth:M,setEsriAttribution:_,_getAttributionData:D,_updateMapAttribution:P},ot=t.Class.extend({options:{proxy:!1,useCors:Y},generateSetter:function(e,n){return t.Util.bind(function(t){return this.params[e]=t,this},n)},initialize:function(e){e.request&&e.options?(this._service=e,t.Util.setOptions(this,e.options)):(t.Util.setOptions(this,e),this.options.url=k(e.url)),this.params=t.Util.extend({},this.params||{});if(this.setters)for(var n in this.setters){var r=this.setters[n];this[n]=this.generateSetter(r,this)}},token:function(e){return this._service?this._service.authenticate(e):this.params.token=e,this},request:function(e,t){return this._service?this._service.request(this.path,this.params,e,t):this._request("request",this.path,this.params,e,t)},_request:function(e,t,n,r,i){var s=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return e!=="get"&&e!=="request"||!!this.options.useCors?it[e](s,n,r,i):it.get.JSONP(s,n,r,i)}}),ut=ot.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSr:4326,outFields:"*"},within:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(e){return this._setGeometry(e),this.params.spatialRel="esriSpatialRelOverlaps",this},nearby:function(e,n){return e=t.latLng(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=n,this.params.inSr=4326,this},where:function(e){return this.params.where=e,this},between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},orderBy:function(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[e,t].join(" "),this},run:function(e,t){return this._cleanParams(),this.options.isModern||st.isArcgisOnline(this.options.url)?(this.params.f="geojson",this.request(function(n,r){this._trapSQLerrors(n),e.call(t,n,r,r)},this)):this.request(function(n,r){this._trapSQLerrors(n),e.call(t,n,r&&st.responseToFeatureCollection(r),r)},this)},count:function(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(t,n){e.call(this,t,n&&n.count,n)},t)},ids:function(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(t,n){e.call(this,t,n&&n.objectIds,n)},t)},bounds:function(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(n,r){r&&r.extent&&st.extentToBounds(r.extent)?e.call(t,n,st.extentToBounds(r.extent),r):(n={message:"Invalid Bounds"},e.call(t,n,null,r))},t)},pixelSize:function(e){return e=t.point(e),this.params.pixelSize=[e.x,e.y],this},layer:function(e){return this.path=e+"/query",this},_trapSQLerrors:function(e){e&&e.code==="400"&&st.warn("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometry:function(e){this.params.inSr=4326;if(e instanceof t.LatLngBounds){this.params.geometry=st.boundsToExtent(e),this.params.geometryType="esriGeometryEnvelope";return}e.getLatLng&&(e=e.getLatLng()),e instanceof t.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof t.GeoJSON&&(e=e.getLayers()[0].feature.geometry,this.params.geometry=st.geojsonToArcGIS(e),this.params.geometryType=st.geojsonTypeToArcGIS(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),e.type==="Feature"&&(e=e.geometry);if(e.type==="Point"||e.type==="LineString"||e.type==="Polygon"||e.type==="MultiPolygon"){this.params.geometry=st.geojsonToArcGIS(e),this.params.geometryType=st.geojsonTypeToArcGIS(e.type);return}st.warn("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object");return}}),at=ot.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request(function(n,r){e.call(t,n,r&&st.responseToFeatureCollection(r),r)},t)}}),ft=ot.extend({path:"identify",between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}}),lt=ft.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(e){var t=st.boundsToExtent(e.getBounds()),n=e.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(e){return e=t.latLng(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this},layerDef:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*(1-t),this},run:function(e,t){return this.request(function(n,r){if(n){e.call(t,n,undefined,r);return}var i=st.responseToFeatureCollection(r);r.results=r.results.reverse();for(var s=0;s<i.features.length;s++){var o=i.features[s];o.layerId=r.results[s].layerId}e.call(t,undefined,i,r)})}}),ct=ft.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(e){return e=t.latLng(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(e,t){return this.request(function(n,r){e.call(t,n,r&&this._responseToGeoJSON(r),r)},this)},_responseToGeoJSON:function(e){var t=e.location,n=e.catalogItems,r=e.catalogItemVisibilities,i={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};e.properties&&e.properties.Values&&(i.pixel.properties.values=e.properties.Values);if(n&&n.features){i.catalogItems=st.responseToFeatureCollection(n);if(r&&r.length===i.catalogItems.features.length)for(var s=r.length-1;s>=0;s--)i.catalogItems.features[s].properties.catalogItemVisibility=r[s]}return i}}),ht=t.Evented.extend({options:{proxy:!1,useCors:Y,timeout:0},initialize:function(e){e=e||{},this._requestQueue=[],this._authenticating=!1,t.Util.setOptions(this,e),this.options.url=k(this.options.url)},get:function(e,t,n,r){return this._request("get",e,t,n,r)},post:function(e,t,n,r){return this._request("post",e,t,n,r)},request:function(e,t,n,r){return this._request("request",e,t,n,r)},metadata:function(e,t){return this._request("get","",{},e,t)},authenticate:function(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(e){this.options.timeout=e},_request:function(e,t,n,r,i){this.fire("requeststart",{url:this.options.url+t,params:n,method:e},!0);var s=this._createServiceCallback(e,t,n,r,i);this.options.token&&(n.token=this.options.token);if(this._authenticating){this._requestQueue.push([e,t,n,r,i]);return}var o=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return e!=="get"&&e!=="request"||!!this.options.useCors?it[e](o,n,s,i):it.get.JSONP(o,n,s,i)},_createServiceCallback:function(e,n,r,i,s){return t.Util.bind(function(o,u){o&&(o.code===499||o.code===498)&&(this._authenticating=!0,this._requestQueue.push([e,n,r,i,s]),this.fire("authenticationrequired",{authenticate:t.Util.bind(this.authenticate,this)},!0),o.authenticate=t.Util.bind(this.authenticate,this)),i.call(s,o,u),o?this.fire("requesterror",{url:this.options.url+n,params:r,message:o.message,code:o.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+n,params:r,response:u,method:e},!0),this.fire("requestend",{url:this.options.url+n,params:r,method:e},!0)},this)},_runQueue:function(){for(var e=this._requestQueue.length-1;e>=0;e--){var t=this._requestQueue[e],n=t.shift();this[n].apply(this,t)}this._requestQueue=[]}}),pt=ht.extend({identify:function(){return I(this)},find:function(){return j(this)},query:function(){return B(this)}}),dt=ht.extend({query:function(){return B(this)},identify:function(){return q(this)}}),vt=ht.extend({options:{idAttribute:"OBJECTID"},query:function(){return B(this)},addFeature:function(e,t,n){return delete e.id,e=E(e),this.post("addFeatures",{features:[e]},function(e,r){var i=r&&r.addResults?r.addResults[0]:undefined;t&&t.call(n,e||r.addResults[0].error,i)},n)},updateFeature:function(e,t,n){return e=E(e,this.options.idAttribute),this.post("updateFeatures",{features:[e]},function(e,r){var i=r&&r.updateResults?r.updateResults[0]:undefined;t&&t.call(n,e||r.updateResults[0].error,i)},n)},deleteFeature:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},function(e,r){var i=r&&r.deleteResults?r.deleteResults[0]:undefined;t&&t.call(n,e||r.deleteResults[0].error,i)},n)},deleteFeatures:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},function(e,r){var i=r&&r.deleteResults?r.deleteResults:undefined;t&&t.call(n,e||r.deleteResults[0].error,i)},n)}}),mt=window.location.protocol!=="https:"?"http:":"https:",gt=t.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:mt+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane"}},NationalGeographic:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community"}},ImageryLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane"}},ShadedRelief:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:Z?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:mt+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}}}},initialize:function(e,n){var r;if(typeof e=="object"&&e.urlTemplate&&e.options)r=e;else{if(typeof e!="string"||!gt.TILES[e])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');r=gt.TILES[e]}var i=t.Util.extend(r.options,n);t.Util.setOptions(this,i),this.options.token&&(r.urlTemplate+="?token="+this.options.token),t.TileLayer.prototype.initialize.call(this,r.urlTemplate,i)},onAdd:function(e){_(e),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&D(this.options.attributionUrl,e),e.on("moveend",P),t.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){e.off("moveend",P),t.TileLayer.prototype.onRemove.call(this,e)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var e='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return e}}),yt=t.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(e){e.url=k(e.url),e=t.Util.setOptions(this,e),this.tileUrl=e.url+"tile/{z}/{y}/{x}",this.service=U(e),this.service.addEventParent(this);var n=new RegExp(/tiles.arcgis(online)?\.com/g);n.test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),t.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl:function(e){var n=this._getZoomForUrl();return t.Util.template(this.tileUrl,t.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&this._lodMap[n]?this._lodMap[n]:n},this.options))},createTile:function(e,n){var r=document.createElement("img");return t.DomEvent.on(r,"load",t.bind(this._tileOnLoad,this,n,r)),t.DomEvent.on(r,"error",t.bind(this._tileOnError,this,n,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?r.src=this.getTileUrl(e):this.once("lodmap",function(){r.src=this.getTileUrl(e)},this),r},onAdd:function(e){_(e),this._lodMap||this.metadata(function(n,r){if(!n&&r.spatialReference){var i=r.spatialReference.latestWkid||r.spatialReference.wkid;!this.options.attribution&&e.attributionControl&&r.copyrightText&&(this.options.attribution=r.copyrightText,e.attributionControl.addAttribution(this.getAttribution()));if(e.options.crs===t.CRS.EPSG3857&&i===102100||i===3857){this._lodMap={};var s=r.tileInfo.lods,o=yt.MercatorZoomLevels;for(var u=0;u<s.length;u++){var a=s[u];for(var f in o){var l=o[f];if(this._withinPercentage(a.resolution,l,this.options.zoomOffsetAllowance)){this._lodMap[f]=a.level;break}}}this.fire("lodmap")}else proj4||O("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html")}},this),t.TileLayer.prototype.onAdd.call(this,e)},metadata:function(e,t){return this.service.metadata(e,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(e){var t="?token="+e;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage:function(e,t,n){var r=Math.abs(e/t-1);return r<n}}),bt=t.ImageOverlay.extend({onAdd:function(e){this._topLeft=e.getPixelBounds().min,t.ImageOverlay.prototype.onAdd.call(this,e)},_reset:function(){this._map.options.crs===t.CRS.EPSG3857?t.ImageOverlay.prototype._reset.call(this):t.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),wt=t.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:Y,attribution:null,interactive:!1,alt:""},onAdd:function(e){_(e),this._update=t.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(t,n){!t&&!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(e){this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(e,n){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=t.popup(n),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata:function(e,t){return this.service.metadata(e,t),this},authenticate:function(e){return this.service.authenticate(e),this},redraw:function(){this._update()},_renderImage:function(e,t,n){if(this._map){n&&(e="data:"+n+";base64,"+e);var r=(new bt(e,t,{opacity:0,crossOrigin:this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive})).addTo(this._map);r.once("load",function(e){if(this._map){var n=e.target,r=this._currentImage;n._bounds.equals(t)&&n._bounds.equals(this._map.getBounds())?(this._currentImage=n,this.options.position==="front"?this.bringToFront():this.bringToBack(),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),r&&this._map&&this._map.removeLayer(r),r&&r._map&&r._map.removeLayer(r)):this._map.removeLayer(n)}this.fire("load",{bounds:t})},this),this.fire("loading",{bounds:t})}},_update:function(){if(!this._map)return;var e=this._map.getZoom(),t=this._map.getBounds();if(this._animatingZoom)return;if(this._map._panTransition&&this._map._panTransition._inProgress)return;if(e>this.options.maxZoom||e<this.options.minZoom){this._currentImage&&this._currentImage._map.removeLayer(this._currentImage);return}var n=this._buildExportParams();this._requestExport(n,t)},_renderPopup:function(e,n,r,i){e=t.latLng(e);if(this._shouldRenderPopup&&this._lastClick.equals(e)){var s=this._popupFunction(n,r,i);s&&this._popup.setLatLng(e).setContent(s).openOn(this._map)}},_resetPopupState:function(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng}}),Et=wt.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"json"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(e){e.url=k(e.url),this.service=z(e),this.service.addEventParent(this),t.Util.setOptions(this,e)},setPixelType:function(e){return this.options.pixelType=e,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(e){return t.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(e,n){return t.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),n&&(this.options.noDataInterpretation=n),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(e){this.options.renderingRule=e,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(e){this.options.mosaicRule=e,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(e){var n=t.Util.bind(function(n,r,i){if(n)return;setTimeout(t.Util.bind(function(){this._renderPopup(e.latlng,n,r,i)},this),300)},this),r=this.identify().at(e.latlng);this.options.mosaicRule&&r.setMosaicRule(this.options.mosaicRule),r.run(n),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=this._map.getBounds(),t=this._map.getSize(),n=this._map.options.crs.project(e._northEast),r=this._map.options.crs.project(e._southWest),i=this._map.latLngToLayerPoint(e._northEast),s=this._map.latLngToLayerPoint(e._southWest);if(i.y>0||s.y<t.y)t.y=s.y-i.y;var o=parseInt(this._map.options.crs.code.split(":")[1],10),u={bbox:[r.x,r.y,n.x,n.y].join(","),size:t.x+","+t.y,format:this.options.format,transparent:this.options.transparent,bboxSR:o,imageSR:o};return this.options.from&&this.options.to&&(u.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(u.pixelType=this.options.pixelType),this.options.interpolation&&(u.interpolation=this.options.interpolation),this.options.compressionQuality&&(u.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(u.bandIds=this.options.bandIds),this.options.noData&&(u.noData=this.options.noData),this.options.noDataInterpretation&&(u.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(u.token=this.service.options.token),this.options.renderingRule&&(u.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(u.mosaicRule=JSON.stringify(this.options.mosaicRule)),u},_requestExport:function(e,n){this.options.f==="json"?this.service.request("exportImage",e,function(e,t){if(e)return;this.options.token&&(t.href+="?token="+this.options.token),this._renderImage(t.href,n)},this):(e.f="image",this._renderImage(this.options.url+"exportImage"+t.Util.getParamString(e),n))}}),St=wt.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png24",transparent:!0,f:"json"},initialize:function(e){e.url=k(e.url),this.service=U(e),this.service.addEventParent(this),(e.proxy||e.token)&&e.f!=="json"&&(e.f="json"),t.Util.setOptions(this,e)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(e){return this.options.dynamicLayers=e,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(e){return this.options.layers=e,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(e){return this.options.timeOptions=e,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(e){var n=t.Util.bind(function(n,r,i){if(n)return;setTimeout(t.Util.bind(function(){this._renderPopup(e.latlng,n,r,i)},this),300)},this),r=this.identify().on(this._map).at(e.latlng);this.options.layers?r.layers("visible:"+this.options.layers.join(",")):r.layers("visible"),r.run(n),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=this._map.getBounds(),t=this._map.getSize(),n=this._map.options.crs.project(e.getNorthEast()),r=this._map.options.crs.project(e.getSouthWest()),i=parseInt(this._map.options.crs.code.split(":")[1],10),s=this._map.latLngToLayerPoint(e._northEast),o=this._map.latLngToLayerPoint(e._southWest);if(s.y>0||o.y<t.y)t.y=o.y-s.y;var u={bbox:[r.x,r.y,n.x,n.y].join(","),size:t.x+","+t.y,dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:i,imageSR:i};return this.options.dynamicLayers&&(u.dynamicLayers=this.options.dynamicLayers),this.options.layers&&(u.layers="show:"+this.options.layers.join(",")),this.options.layerDefs&&(u.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(u.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(u.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(u.token=this.service.options.token),this.options.proxy&&(u.proxy=this.options.proxy),u},_requestExport:function(e,n){this.options.f==="json"?this.service.request("export",e,function(e,t){if(e)return;this.options.token&&(t.href+="?token="+this.options.token),this.options.proxy&&(t.href=this.options.proxy+"?"+t.href),t.href?this._renderImage(t.href,n):this._renderImage(t.imageData,n,t.contentType)},this):(e.f="image",this._renderImage(this.options.url+"export"+t.Util.getParamString(e),n))}}),xt=t.Layer.extend({options:{cellSize:512,updateInterval:150},initialize:function(e){e=t.setOptions(this,e),this._zooming=!1},onAdd:function(e){this._map=e,this._update=t.Util.throttle(this._update,this.options.updateInterval,this),this._reset(),this._update()},onRemove:function(){this._map.removeEventListener(this.getEvents(),this),this._removeCells()},getEvents:function(){var e={moveend:this._update,zoomstart:this._zoomstart,zoomend:this._reset};return e},addTo:function(e){return e.addLayer(this),this},removeFrom:function(e){return e.removeLayer(this),this},_zoomstart:function(){this._zooming=!0},_reset:function(){this._removeCells(),this._cells={},this._activeCells={},this._cellsToLoad=0,this._cellsTotal=0,this._cellNumBounds=this._getCellNumBounds(),this._resetWrap(),this._zooming=!1},_resetWrap:function(){var e=this._map,t=e.options.crs;if(t.infinite)return;var n=this._getCellSize();t.wrapLng&&(this._wrapLng=[Math.floor(e.project([0,t.wrapLng[0]]).x/n),Math.ceil(e.project([0,t.wrapLng[1]]).x/n)]),t.wrapLat&&(this._wrapLat=[Math.floor(e.project([t.wrapLat[0],0]).y/n),Math.ceil(e.project([t.wrapLat[1],0]).y/n)])},_getCellSize:function(){return this.options.cellSize},_update:function(){if(!this._map)return;var e=this._map.getPixelBounds(),n=this._getCellSize(),r=t.bounds(e.min.divideBy(n).floor(),e.max.divideBy(n).floor());this._removeOtherCells(r),this._addCells(r),this.fire("cellsupdated")},_addCells:function(e){var n=[],r=e.getCenter(),i=this._map.getZoom(),s,o,u;for(s=e.min.y;s<=e.max.y;s++)for(o=e.min.x;o<=e.max.x;o++)u=t.point(o,s),u.z=i,this._isValidCell(u)&&n.push(u);var a=n.length;if(a===0)return;this._cellsToLoad+=a,this._cellsTotal+=a,n.sort(function(e,t){return e.distanceTo(r)-t.distanceTo(r)});for(o=0;o<a;o++)this._addCell(n[o])},_isValidCell:function(e){var n=this._map.options.crs;if(!n.infinite){var r=this._cellNumBounds;if(!n.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!n.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var i=this._cellCoordsToBounds(e);return t.latLngBounds(this.options.bounds).intersects(i)},_cellCoordsToBounds:function(e){var n=this._map,r=this.options.cellSize,i=e.multiplyBy(r),s=i.add([r,r]),o=n.wrapLatLng(n.unproject(i,e.z)),u=n.wrapLatLng(n.unproject(s,e.z));return t.latLngBounds(o,u)},_cellCoordsToKey:function(e){return e.x+":"+e.y},_keyToCellCoords:function(e){var n=e.split(":"),r=parseInt(n[0],10),i=parseInt(n[1],10);return t.point(r,i)},_removeOtherCells:function(e){for(var t in this._cells)e.contains(this._keyToCellCoords(t))||this._removeCell(t)},_removeCell:function(e){var t=this._activeCells[e];t&&(delete this._activeCells[e],this.cellLeave&&this.cellLeave(t.bounds,t.coords),this.fire("cellleave",{bounds:t.bounds,coords:t.coords}))},_removeCells:function(){for(var e in this._cells){var t=this._cells[e].bounds,n=this._cells[e].coords;this.cellLeave&&this.cellLeave(t,n),this.fire("cellleave",{bounds:t,coords:n})}},_addCell:function(e){this._wrapCoords(e);var t=this._cellCoordsToKey(e),n=this._cells[t];n&&!this._activeCells[t]&&(this.cellEnter&&this.cellEnter(n.bounds,e),this.fire("cellenter",{bounds:n.bounds,coords:e}),this._activeCells[t]=n),n||(n={coords:e,bounds:this._cellCoordsToBounds(e)},this._cells[t]=n,this._activeCells[t]=n,this.createCell&&this.createCell(n.bounds,e),this.fire("cellcreate",{bounds:n.bounds,coords:e}))},_wrapCoords:function(e){e.x=this._wrapLng?t.Util.wrapNum(e.x,this._wrapLng):e.x,e.y=this._wrapLat?t.Util.wrapNum(e.y,this._wrapLat):e.y},_getCellNumBounds:function(){var e=this._map.getPixelWorldBounds(),n=this._getCellSize();return e?t.bounds(e.min.divideBy(n).floor(),e.max.divideBy(n).ceil().subtract([1,1])):null}});K.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]},K.prototype.getIndex=function(e){this.dirty&&this.sort();var t=0,n=this.values.length-1,r,i;while(t<=n){r=(t+n)/2|0,i=this.values[Math.round(r)];if(+i.value<+e)t=r+1;else{if(!(+i.value>+e))return r;n=r-1}}return Math.abs(~n)},K.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(n===0&&r===0)return[];while(this.values[n-1]&&this.values[n-1].value===e)n--;while(this.values[r+1]&&this.values[r+1].value===t)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)},K.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this},K.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this},K.prototype.sort=function(){return this.values.sort(function(e,t){return+t.value- +e.value}).reverse(),this.dirty=!1,this};var Tt=xt.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6},initialize:function(e){xt.prototype.initialize.call(this,e),e.url=k(e.url),e=t.setOptions(this,e),this.service=W(e),this.service.addEventParent(this);if(this.options.fields[0]!=="*"){var n=!1;for(var r=0;r<this.options.fields.length;r++)this.options.fields[r].match(/^(OBJECTID|FID|OID|ID)$/i)&&(n=!0);n===!1&&O("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new K,this._endTimeIndex=new K):this.options.timeField&&(this._timeIndex=new K),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(e){return _(e),this.service.metadata(function(t,n){if(!t){var r=n.supportedQueryFormats;r&&r.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}},this),e.on("zoomend",this._handleZoomChange,this),xt.prototype.onAdd.call(this,e)},onRemove:function(e){return e.off("zoomend",this._handleZoomChange,this),xt.prototype.onRemove.call(this,e)},getAttribution:function(){return this.options.attribution},createCell:function(e,t){this._requestFeatures(e,t)},_requestFeatures:function(e,n,r){return this._activeRequests++,this._activeRequests===1&&this.fire("loading",{bounds:e},!0),this._buildQuery(e).run(function(i,s,o){o&&o.exceededTransferLimit&&this.fire("drawlimitexceeded"),!i&&s&&s.features.length&&t.Util.requestAnimFrame(t.Util.bind(function(){this._addFeatures(s.features,n),this._postProcessFeatures(e)},this)),!i&&s&&!s.features.length&&this._postProcessFeatures(e),i&&this._postProcessFeatures(e),r&&r.call(this,i,s)},this)},_postProcessFeatures:function(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey:function(e){return e.z+":"+e.x+":"+e.y},_addFeatures:function(e,t){var n=this._cacheKey(t);this._cache[n]=this._cache[n]||[];for(var r=e.length-1;r>=0;r--){var i=e[r].id;this._currentSnapshot.push(i),this._cache[n].push(i)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery:function(e){var t=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.simplifyFactor&&t.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&t.between(this.options.from,this.options.to),t},setWhere:function(e,n,r){this.options.where=e&&e.length?e:"1=1";var i=[],s=[],o=0,u=null,a=t.Util.bind(function(e,a){e&&(u=e);if(a)for(var f=a.features.length-1;f>=0;f--)s.push(a.features[f].id);o--,o<=0&&(this._currentSnapshot=s,t.Util.requestAnimFrame(t.Util.bind(function(){this.removeLayers(i),this.addLayers(s),n&&n.call(r,u)},this)))},this);for(var f=this._currentSnapshot.length-1;f>=0;f--)i.push(this._currentSnapshot[f]);for(var l in this._activeCells){o++;var c=this._keyToCellCoords(l),h=this._cellCoordsToBounds(c);this._requestFeatures(h,l,a)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,n,r,i){var s=this.options.from,o=this.options.to,u=0,a=null,f=t.Util.bind(function(t){t&&(a=t),this._filterExistingFeatures(s,o,e,n),u--,r&&u<=0&&r.call(i,a)},this);this.options.from=e,this.options.to=n,this._filterExistingFeatures(s,o,e,n);if(this.options.timeFilterMode==="server")for(var l in this._activeCells){u++;var c=this._keyToCellCoords(l),h=this._cellCoordsToBounds(c);this._requestFeatures(h,l,f)}return this},refresh:function(){for(var e in this._activeCells){var t=this._keyToCellCoords(e),n=this._cellCoordsToBounds(t);this._requestFeatures(n,e)}this.redraw&&this.once("load",function(){this.eachFeature(function(e){this._redraw(e.feature.id)},this)},this)},_filterExistingFeatures:function(e,n,r,i){var s=e&&n?this._getFeaturesInTimeRange(e,n):this._currentSnapshot,o=this._getFeaturesInTimeRange(r,i);if(o.indexOf)for(var u=0;u<o.length;u++){var a=s.indexOf(o[u]);a>=0&&s.splice(a,1)}t.Util.requestAnimFrame(t.Util.bind(function(){this.removeLayers(s),this.addLayers(o)},this))},_getFeaturesInTimeRange:function(e,t){var n=[],r;if(this.options.timeField.start&&this.options.timeField.end){var i=this._startTimeIndex.between(e,t),s=this._endTimeIndex.between(e,t);r=i.concat(s)}else r=this._timeIndex.between(e,t);for(var o=r.length-1;o>=0;o--)n.push(r[o].id);return n},_buildTimeIndexes:function(e){var t,n;if(this.options.timeField.start&&this.options.timeField.end){var r=[],i=[];for(t=e.length-1;t>=0;t--)n=e[t],r.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),i.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(i)}else{var s=[];for(t=e.length-1;t>=0;t--)n=e[t],s.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(s)}},_featureWithinTimeRange:function(e){if(!this.options.from||!this.options.to)return!0;var t=+this.options.from.valueOf(),n=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){var r=+e.properties[this.options.timeField];return r>=t&&r<=n}if(this.options.timeField.start&&this.options.timeField.end){var i=+e.properties[this.options.timeField.start],s=+e.properties[this.options.timeField.end];return i>=t&&i<=n||s>=t&&s<=n}},_visibleZoom:function(){if(!this._map)return!1;var e=this._map.getZoom();return e>this.options.maxZoom||e<this.options.minZoom?!1:!0},_handleZoomChange:function(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot),this._currentSnapshot=[];else for(var e in this._activeCells){var t=this._activeCells[e].coords,n=this._cacheKey(t);this._cache[n]&&this.addLayers(this._cache[n])}},authenticate:function(e){return this.service.authenticate(e),this},metadata:function(e,t){return this.service.metadata(e,t),this},query:function(){return this.service.query()},_getMetadata:function(e){if(this._metadata){var n;e(n,this._metadata)}else this.metadata(t.Util.bind(function(t,n){this._metadata=n,e(t,this._metadata)},this))},addFeature:function(e,n,r){this._getMetadata(t.Util.bind(function(i,s){if(i){n&&n.call(this,i,null);return}this.service.addFeature(e,t.Util.bind(function(t,i){t||(e.properties[s.objectIdField]=i.objectId,e.id=i.objectId,this.createLayers([e])),n&&n.call(r,t,i)},this))},this))},updateFeature:function(e,t,n){this.service.updateFeature(e,function(r,i){r||(this.removeLayers([e.id],!0),this.createLayers([e])),t&&t.call(n,r,i)},this)},deleteFeature:function(e,t,n){this.service.deleteFeature(e,function(e,r){!e&&r.objectId&&this.removeLayers([r.objectId],!0),t&&t.call(n,e,r)},this)},deleteFeatures:function(e,t,n){return this.service.deleteFeatures(e,function(e,r){if(!e&&r.length>0)for(var i=0;i<r.length;i++)this.removeLayers([r[i].objectId],!0);t&&t.call(n,e,r)},this)}}),Nt=Tt.extend({options:{cacheLayers:!0},initialize:function(e){Tt.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return Tt.prototype.onRemove.call(this,e)},createNewLayer:function(e){var n=t.GeoJSON.geometryToLayer(e,this.options);return n.defaultOptions=n.options,n},_updateLayer:function(e,n){var r=[],i=this.options.coordsToLatLng||t.GeoJSON.coordsToLatLng;n.properties&&(e.feature.properties=n.properties);switch(n.geometry.type){case"Point":r=t.GeoJSON.coordsToLatLng(n.geometry.coordinates),e.setLatLng(r);break;case"LineString":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,0,i),e.setLatLngs(r);break;case"MultiLineString":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,1,i),e.setLatLngs(r);break;case"Polygon":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,1,i),e.setLatLngs(r);break;case"MultiPolygon":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,2,i),e.setLatLngs(r)}},createLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=this._layers[n.id],i;this._visibleZoom()&&r&&!this._map.hasLayer(r)&&(this._map.addLayer(r),this.fire("addfeature",{feature:r.feature},!0)),r&&this.options.simplifyFactor>0&&(r.setLatLngs||r.setLatLng)&&this._updateLayer(r,n),r||(i=this.createNewLayer(n),i.feature=n,i.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(i.feature,i),this._layers[i.feature.id]=i,this.setFeatureStyle(i.feature.id,this.options.style),this.fire("createfeature",{feature:i.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(n))&&this._map.addLayer(i))}},addLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=this._layers[e[t]];n&&this._map.addLayer(n)}},removeLayers:function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n],i=this._layers[r];i&&(this.fire("removefeature",{feature:i.feature,permanent:t},!0),this._map.removeLayer(i)),i&&t&&delete this._layers[r]}},cellEnter:function(e,n){!this._zooming&&this._map&&t.Util.requestAnimFrame(t.Util.bind(function(){var e=this._cacheKey(n),t=this._cellCoordsToKey(n),r=this._cache[e];this._activeCells[t]&&r&&this.addLayers(r)},this))},cellLeave:function(e,n){this._zooming||t.Util.requestAnimFrame(t.Util.bind(function(){if(this._map){var e=this._cacheKey(n),t=this._cellCoordsToKey(n),r=this._cache[e],i=this._map.getBounds();if(!this._activeCells[t]&&r){var s=!0;for(var o=0;o<r.length;o++){var u=this._layers[r[o]];u&&u.getBounds&&i.intersects(u.getBounds())&&(s=!1)}s&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&s&&(delete this._cache[e],delete this._cells[t],delete this._activeCells[t])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(e){this.resetFeatureStyle(e.feature.id)},this),this},setStyle:function(e){return this.options.style=e,this.eachFeature(function(t){this.setFeatureStyle(t.feature.id,e)},this),this},resetFeatureStyle:function(e){var n=this._layers[e],r=this._originalStyle||t.Path.prototype.options;return n&&(t.Util.extend(n.options,n.defaultOptions),this.setFeatureStyle(e,r)),this},setFeatureStyle:function(e,t){var n=this._layers[e];return typeof t=="function"&&(t=t(n.feature)),n.setStyle&&n.setStyle(t),this},eachFeature:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getFeature:function(e){return this._layers[e]},bringToBack:function(){this.eachFeature(function(e){e.bringToBack&&e.bringToBack()})},bringToFront:function(){this.eachFeature(function(e){e.bringToFront&&e.bringToFront()})},redraw:function(e){return e&&this._redraw(e),this},_redraw:function(e){var n=this._layers[e],r=n.feature;if(n&&n.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var i=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),s=i.options.icon;n.setIcon(s)}if(n&&n.setStyle&&this.options.pointToLayer){var o=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),u=o.options;this.setFeatureStyle(r.id,u)}n&&n.setStyle&&this.options.style&&this.resetStyle(r.id)}});e.VERSION=G,e.Support=et,e.options=tt,e.Util=st,e.get=rt,e.post=i,e.request=o,e.Task=ot,e.task=H,e.Query=ut,e.query=B,e.Find=at,e.find=j,e.Identify=ft,e.identify=F,e.IdentifyFeatures=lt,e.identifyFeatures=I,e.IdentifyImage=ct,e.identifyImage=q,e.Service=ht,e.service=R,e.MapService=pt,e.mapService=U,e.ImageService=dt,e.imageService=z,e.FeatureLayerService=vt,e.featureLayerService=W,e.BasemapLayer=gt,e.basemapLayer=X,e.TiledMapLayer=yt,e.tiledMapLayer=V,e.RasterLayer=wt,e.ImageMapLayer=Et,e.imageMapLayer=$,e.DynamicMapLayer=St,e.dynamicMapLayer=J,e.FeatureManager=Tt,e.FeatureLayer=Nt,e.featureLayer=Q}),define("data/ajax",["leaflet","core/namespace"],function(e){e.ICT.Ajax=e.Class.extend({_timeout:6e4,_defs:[],initialize:function(){this._defs=[]},setTimeout:function(e){return this._timeout=e,this},getDefs:function(){return this._defs},abort:function(){for(var e=0,t=this._defs.length;e<t;e++)this._defs[e]&&this._defs[e].abort();this._defs=[]},get:function(e,t,n,r,i,s){return s||(s=this.error),this._isCrossDomain(e)?this.request(e,t,n,r,i,s):this._request({url:e,data:t,async:n,dataType:"json",type:"GET",context:r,contentType:"application/x-www-form-urlencoded;",success:i,error:s})},post:function(e,t,n,r,i,s){return s||(s=this.error),this._isCrossDomain(e)&&(e=Project_ParamConfig.defaultAjaxProxy+"?"+e),this._request({url:e,data:t,async:n,dataType:"json",type:"POST",context:r,contentType:"application/x-www-form-urlencoded;",success:i,error:s})},put:function(e,t,n,r,i,s){return s||(s=this.error),$.ajax({url:e,data:t,async:n,context:r,dataType:"text",type:"PUT",timeout:this._timeout,cache:!1,success:i,error:s})},request:function(e,t,n,r,i,s){return s||(s=this.error),$.isEmptyObject(t)||(e=e+"?"+$.param(t)),this._request({url:e,async:n,context:r,dataType:"jsonp",type:"GET",contentType:"application/x-www-form-urlencoded;",success:i,error:s,timeout:this._timeout})},_removeDef:function(e){for(var t=0;t<this._defs.length;t++)this._defs[t]===e&&this._defs.splice(t,1)},_isSamePort:function(e){var t=window.location.port,n=e.split("/")[2].split(":")[1];return t===n},_isCrossDomain:function(e){if(e.indexOf("http")==-1)return!1;if(!this._isSamePort(e))return!0;var t=window.location.hostname,n=e.split("/")[2].split(":")[0];return t.toLowerCase()!==n.toLowerCase()},_request:function(e){var t;try{var n=this;e.error||(e.error=n.error),t=$.ajax({url:e.url,data:e.data,dataType:e.dataType,type:e.type,contentType:"application/x-www-form-urlencoded",async:e.async,cache:!1,context:e.context,timeout:n._timeout}),t.then(function(r){n._removeDef(t);try{e.type!=="text"&&typeof r=="string"&&(r=$.parseJSON(r))}catch(i){console.log(i.message)}e.success.call(e.context,r)},function(r){n._removeDef(t),e.error.call(e.context,r)}),this._defs.push(t)}catch(r){console.log(r.message)}return t},error:function(e){console.log(e.message)}})}),define("library/requirejs/css!library/leaflet/leafletDraw/leaflet.draw",[],function(){}),!function(e,t,n){L.drawVersion="0.4.9",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.shapeOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){this._map.fire("draw:canceled",{layerType:this.type}),27===e.keyCode&&this.disable()}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,n=t.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(r,!1)}},addVertex:function(e){var t=this._markers.length;return t>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),void this._vertexChanged(e,!0))},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);return!this.options.allowIntersection&&t||!this._shapeIsValid()?void this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),void (this.options.repeatMode&&this.enable()))},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent),n=this._map.layerPointToLatLng(t);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(t),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var t=e.originalEvent,n=t.clientX,r=t.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,n=t.clientX,r=t.clientY;this._endPoint.call(this,n,r,e),this._clickHandled=null},_endPoint:function(t,n,r){if(this._mouseDownOrigin){var i=L.point(t,n).distanceTo(this._mouseDownOrigin),s=this._calculateFinishDistance(r.latlng);s<10&&L.Browser.touch?this._finishShape():Math.abs(i)<9*(e.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,n,r=e.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,n),this._endPoint.call(this,t,n,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),i=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),s=this._map.latLngToContainerPoint(i.getLatLng());t=r.distanceTo(s)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(t)},_drawGuide:function(e,t){var n,r,i,s=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),o=this.options.guidelineDistance,u=this.options.maxGuideLineLength,a=s>u?s-u:o;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));a<s;a+=this.options.guidelineDistance)n=a/s,r={x:Math.floor(e.x*(1-n)+n*t.x),y:Math.floor(e.y*(1-n)+n*t.y)},i=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),i.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(i,r)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,n=this._guidesContainer.childNodes.length;t<n;t++)this._guidesContainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,n=this.options.showLength;return L.Browser.touch&&(n=!1),0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=n?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var n,r,i=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=i-(t?2:1),r=e.distanceTo(this._markers[n].getLatLng()),this._measurementRunningTotal+=r*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return e=this._measurementRunningTotal+t.distanceTo(n),L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.length?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?e=L.drawLocal.draw.handlers.polygon.tooltip.cont:(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext:t}},_getMeasurementString:function(){var e=this._area;return e?L.GeometryUtil.readableArea(e,this.options.metric):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),i=this._shape,s=this.options.showArea;return i&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),n=s?L.GeometryUtil.readableArea(t,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(e)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,n=e.latlng,r=this.options.showRadius,i=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),t=this._shape.getRadius().toFixed(1);var s="";r&&(s=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,i,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:s})}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var n=parseInt(e.style.marginTop,10)-t,r=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=n+"px",e.style.marginLeft=r+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({options:{},initialize:function(e,t){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,L.setOptions(this,t),this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(e){e.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(e){e.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(e){e.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this.options))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,t,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=t,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly;e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,t,n,r,i=this._defaultShape();for(e=0,n=i.length;e<n;e++)r=this._createMarker(i[e],e),r.on("click",this._onMarkerClick,this),this._markers.push(r);var s,o;for(e=0,t=n-1;e<n;t=e++)(0!==e||L.Polygon&&this._poly instanceof L.Polygon)&&(s=this._markers[t],o=this._markers[e],this._createMiddleMarker(s,o),this._updatePrevNext(s,o))},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return n._origLatLng=e,n._index=t,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,n=this._poly;if(L.extend(t._origLatLng,t._latlng),t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),n.options.poly){var r=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var i=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&t.dragging._draggable._onUp(e),this._onMarkerClick(e),r&&r.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){n.setStyle({color:i}),r&&r.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=e.target;this._defaultShape().length<t||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer(function(n){n._index>e&&(n._index+=t)})},_createMiddleMarker:function(e,t){var n,r,i,s=this._getMiddleLatLng(e,t),o=this._createMarker(s);o.setOpacity(.6),e._middleRight=t._middleLeft=o,r=function(){o.off("touchmove",r,this);var i=t._index;o._index=i,o.off("click",n,this).on("click",this._onMarkerClick,this),s.lat=o.getLatLng().lat,s.lng=o.getLatLng().lng,this._spliceLatLngs(i,0,s),this._markers.splice(i,0,o),o.setOpacity(1),this._updateIndexes(i,1),t._index++,this._updatePrevNext(e,o),this._updatePrevNext(o,t),this._poly.fire("editstart")},i=function(){o.off("dragstart",r,this),o.off("dragend",i,this),o.off("touchmove",r,this),this._createMiddleMarker(e,o),this._createMiddleMarker(o,t)},n=function(){r.call(this),i.call(this),this._fireEdit()},o.on("click",n,this).on("dragstart",r,this).on("dragend",i,this).on("touchmove",r,this),this._markerGroup.addLayer(o)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_getMiddleLatLng:function(e,t){var n=this._poly._map,r=n.project(e.getLatLng()),i=n.project(t.getLatLng());return n.unproject(r._add(i)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this,this.options.poly),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){var t=e.target;t.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,n=t.getLatLng();t===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){var t=e.target;t.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),n=e.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;return r===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(e){var t=e.target;t.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds(),t=e.getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,n=e.length;t<n;t++)this._resizeMarkers.push(this._createMarker(e[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),n=e.target,r=n._cornerIndex;this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)},_onMarkerDragEnd:function(e){var t,n,r=e.target;r===this._moveMarker&&(t=this._shape.getBounds(),n=t.getCenter(),r.setLatLng(n)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var t,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds(),i=r.getCenter(),s=[],o=0,u=n.length;o<u;o++)t=[n[o].lat-i.lat,n[o].lng-i.lng],s.push([e.lat+t[0],e.lng+t[1]]);this._shape.setLatLngs(s),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMarker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds(),t=e.getNorthWest(),n=e.getNorthEast(),r=e.getSouthEast(),i=e.getSouthWest();return[t,n,r,i]},_toggleCornerMarkers:function(e){for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var e=this._shape.getLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(e);return this._map.unproject([n.x+t,n.y-t])},_move:function(e){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t),this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t=this._moveMarker.getLatLng(),n=t.distanceTo(e);this._shape.setRadius(n),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(e,t){var n={};if("undefined"!=typeof e.touches){if(!e.touches.length)return;n=e.touches[0]}else{if("touch"!==e.pointerType)return;if(n=e,!this._filterClick(e))return}var r=this._map.mouseEventToContainerPoint(n),i=this._map.mouseEventToLayerPoint(n),s=this._map.layerPointToLatLng(i);this._map.fire(t,{latlng:s,layerPoint:i,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,n=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){if(this._map._loaded){var t="touchstart";this._touchEvent(e,t)}},_onTouchEnd:function(e){if(this._map._loaded){var t="touchend";this._touchEvent(e,t)}},_onTouchCancel:function(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){if(this._map._loaded){var t="touchleave";this._touchEvent(e,t)}},_onTouchMove:function(e){if(this._map._loaded){var t="touchmove";this._touchEvent(e,t)}},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);var r=t.indexOf("Trident/");if(r>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)L.DomEvent.on(e,t[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);var r=t.indexOf("Trident/");if(r>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],n=0,r=e.length;n<r;n++)Array.isArray(e[n])?t.push(L.LatLngUtil.cloneLatLngs(e[n])):t.push(this.cloneLatLng(e[n]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,n,r=e.length,i=0,s=Math.PI/180;if(r>2){for(var o=0;o<r;o++)t=e[o],n=e[(o+1)%r],i+=(n.lng-t.lng)*s*(2+Math.sin(t.lat*s)+Math.sin(n.lat*s));i=6378137*i*6378137/2}return Math.abs(i)},readableArea:function(e,t){var n;return t?n=e>=1e4?(1e-4*e).toFixed(2)+" ha":e.toFixed(2)+" m&sup2;":(e/=.836127,n=e>=3097600?(e/3097600).toFixed(2)+" mi&sup2;":e>=4840?(e/4840).toFixed(2)+" acres":Math.ceil(e)+" yd&sup2;"),n},readableDistance:function(e,t,n,r){var i,s;switch(s="string"==typeof t?t:n?"feet":r?"nauticalMile":t?"metric":"yards"){case"metric":i=e>1e3?(e/1e3).toFixed(2)+" km":Math.ceil(e)+" m";break;case"feet":e*=3.28083,i=Math.ceil(e)+" ft";break;case"nauticalMile":e*=.53996,i=(e/1e3).toFixed(2)+" nm";break;case"yards":default:e*=1.09361,i=e>1760?(e/1760).toFixed(2)+" miles":Math.ceil(e)+" yd"}return i}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,n,r){return this._checkCounterclockwise(e,n,r)!==this._checkCounterclockwise(t,n,r)&&this._checkCounterclockwise(e,t,n)!==this._checkCounterclockwise(e,t,r)},_checkCounterclockwise:function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,n,r=this._getProjectedPoints(),i=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=i-1;e>=3;e--)if(t=r[e-1],n=r[e],this._lineSegmentsIntersectsRange(t,n,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var n=this._getProjectedPoints(),r=n?n.length:0,i=n?n[r-1]:null,s=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(i,e,s,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),n=t?t.length:0;return n+=e||0,!t||n<=3},_lineSegmentsIntersectsRange:function(e,t,n,r){var i,s,o=this._getProjectedPoints();r=r||0;for(var u=n;u>r;u--)if(i=o[u-1],s=o[u],L.LineUtil.segmentsIntersect(e,t,i,s))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],t=this._defaultShape(),n=0;n<t.length;n++)e.push(this._map.latLngToLayerPoint(t[n]));return e}}),L.Polygon.include({intersects:function(){var e,t,n,r,i,s=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!(e=L.Polyline.prototype.intersects.call(this))||(t=s.length,n=s[0],r=s[t-1],i=t-2,this._lineSegmentsIntersectsRange(r,n,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,e);var t;this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var t,n=L.DomUtil.create("div","leaflet-draw"),r=!1,i="leaflet-draw-toolbar-top";for(var s in this._toolbars)this._toolbars.hasOwnProperty(s)&&(t=this._toolbars[s].addToolbar(e),t&&(r||(L.DomUtil.hasClass(t,i)||L.DomUtil.addClass(t.childNodes[0],i),r=!0),n.appendChild(t)));return n},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var n in this._toolbars)this._toolbars[n]!==t&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,i=this._toolbarClass||"",s=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,t=0;t<s.length;t++)s[t].enabled&&this._initModeHandler(s[t].handler,this._toolbarContainer,r++,i,s[t].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,n=this._actionButtons.length;t<n;t++)this._disposeButton(this._actionButtons[t].button,this._actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,n,r,i){var s=e.type;this._modes[s]={},this._modes[s].handler=e,this._modes[s].button=this._createButton({type:s,title:i,className:r+"-"+s,container:t,callback:this._modes[s].handler.enable,context:this._modes[s].handler}),this._modes[s].buttonIndex=n,this._modes[s].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),n=L.DomUtil.create("span","sr-only",e.container);return t.href="#",t.appendChild(n),e.title&&(t.title=e.title,n.innerHTML=e.title),e.text&&(t.innerHTML=e.text,n.innerHTML=e.text),L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,"click",e.callback,e.context),t},_disposeButton:function(e,t){L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,"click",t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,n,r,i,s=this._actionsContainer,o=this.getActions(e),u=o.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];s.firstChild;)s.removeChild(s.firstChild);for(var a=0;a<u;a++)"enabled"in o[a]&&!o[a].enabled||(t=L.DomUtil.create("li","",s),i=this._createButton({title:o[a].title,text:o[a].text,container:t,callback:o[a].callback,context:o[a].context}),this._actionButtons.push({button:i,callback:o[a].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",this):this},updatePosition:function(e){var t=this._map.latLngToLayerPoint(e),n=this._container;return this._container&&(n.style.visibility="inherit",L.DomUtil.setPosition(n,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){L.setOptions(this,e);for(var t in this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setOptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&("undefined"==typeof e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,t=this.options.featureGroup,n=0!==t.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,n?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,n?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),this._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(e){this._revertLayer(e)},this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer(function(t){t.edited&&(e.addLayer(t),t.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:e instanceof L.Marker&&(this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):e instanceof L.Marker&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var t,n,r=e.layer||e.target||e;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&(t=L.Util.extend({},this.options.selectedPathOptions),t.maintainColor&&(t.color=r.options.color,t.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=t),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Marker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(t),r=this._map.layerPointToLatLng(n);e.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},_enableLayerDelete:function(e){var t=e.layer||e.target||e;t.on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._deletedLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document),define("leaflet/draw",["leaflet","css!library/leaflet/leafletDraw/leaflet.draw"],function(){}),define("control/draw",["leaflet","leaflet/draw","core/namespace"],function(e){e.ICT.Draw=e.Class.extend({initialize:function(e){this._map=e,this.Tools={point:null,polyline:null,path:null,circle:null,rectangle:null,polygon:null,sector:null}},disable:function(){for(var e in this.Tools)this.Tools[e]!==null&&this.Tools[e].disable()},clear:function(){},point:function(t,n){this.disable(),this.Tools.point===null&&(this.Tools.point=new e.ICT.DrawPoint(this._map)),this.Tools.point.enable(t,n)},polyline:function(t,n){this.disable(),this.Tools.polyline===null&&(this.Tools.polyline=new e.ICT.DrawPolyline(this._map)),this.Tools.polyline.enable(t,n)},path:function(t,n){this.disable(),this.Tools.path===null&&(this.Tools.path=new e.ICT.DrawPath(this._map)),this.Tools.path.enable(t,n)},circle:function(t,n){this.disable(),this.Tools.circle===null&&(this.Tools.circle=new e.ICT.DrawCircle(this._map)),this.Tools.circle.enable(t,n)},rectangle:function(t,n){this.disable(),this.Tools.rectangle===null&&(this.Tools.rectangle=new e.ICT.DrawRectangle(this._map)),this.Tools.rectangle.enable(t,n)},polygon:function(t,n){this.disable(),this.Tools.polygon===null&&(this.Tools.polygon=new e.ICT.DrawPolygon(this._map)),this.Tools.polygon.enable(t,n)},sector:function(e,t){}}),e.ICT.DrawPoint=e.Draw.Marker.extend({options:{clickable:!1,repeatMode:!1,declaredClass:"DrawPoint"},initialize:function(){e.Draw.Marker.prototype.initialize.apply(this,arguments)},enable:function(t,n){e.Draw.Marker.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.Marker.prototype.addHooks.call(this)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.Marker.prototype.removeHooks.call(this)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return e.marker(this.getLatLng(),this.options)},clear:function(){},_fireCreatedEvent:function(){var t=e.marker(this._marker.getLatLng(),this.options);e.Draw.Marker.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}}),e.ICT.DrawPolyline=e.Draw.Polyline.extend({options:{repeatMode:!1,showLength:!0,clickable:!1,metric:!1,feet:!1,nautic:!0},initialize:function(){e.Draw.Polyline.prototype.initialize.apply(this,arguments)},enable:function(t,n){e.Draw.Polyline.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.Polyline.prototype.addHooks.call(this)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.Polyline.prototype.removeHooks.call(this)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return e.polyline(this.getLatLngs(),this.options)},clear:function(){},_fireCreatedEvent:function(){var t=e.polyline(this._poly.getLatLngs(),this.options.shapeOptions);e.Draw.Polyline.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}}),e.ICT.DrawPath=e.Draw.SimpleShape.extend({statics:{TYPE:"path",tooltip_start_txt:"ÁÇπÂáªÊãñÂä®ÁªòÂà∂Áõ¥Á∫ø",tooltip_end_txt:"ÈáäÊîæÈº†Ê†áÂÆåÊàêÁªòÂà∂"},options:{repeatMode:!1,clickable:!1},initialize:function(t,n){e.Draw.SimpleShape.prototype.initialize.call(this,t,n),this.type=e.ICT.DrawPath.TYPE,this._initialLabelText=e.ICT.DrawPath.tooltip_start_txt,this._endLabelText=e.ICT.DrawPath.tooltip_end_txt},enable:function(t,n){e.Draw.SimpleShape.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.SimpleShape.prototype.addHooks.call(this)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.SimpleShape.prototype.removeHooks.call(this)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return e.polyline(this.getLatLngs(),this.options)},clear:function(){},_drawShape:function(t){this._shape?this._shape.setLatLngs([this._startLatLng,t]):(this._shape=new e.Polyline([this._startLatLng,t],this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new e.Polyline(this._shape.getLatLngs(),this.options.shapeOptions);e.Draw.SimpleShape.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}}),e.ICT.DrawPolygon=e.Draw.Polygon.extend({options:{repeatMode:!1,showArea:!1,clickable:!1},initialize:function(){e.Draw.Polygon.prototype.initialize.apply(this,arguments)},enable:function(t,n){e.Draw.Polygon.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.Polygon.prototype.addHooks.call(this)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.Polygon.prototype.removeHooks.call(this)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return e.polygon(this.getLatLngs(),this.options)},clear:function(){},_fireCreatedEvent:function(){var t=e.polygon(this._poly.getLatLngs(),this.options.shapeOptions);e.Draw.Polygon.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}}),e.ICT.DrawCircle=e.Draw.Circle.extend({options:{repeatMode:!1,showRadius:!1,clickable:!1},initialize:function(){e.Draw.Circle.prototype.initialize.apply(this,arguments)},enable:function(t,n){e.Draw.Circle.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.Circle.prototype.addHooks.apply(this,arguments)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.Circle.prototype.removeHooks.apply(this,arguments)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return new e.Circle(this.getLatLng(),this.getRadius(),this.options)},clear:function(){},_fireCreatedEvent:function(){var t=new e.Circle(this._startLatLng,this._shape.getRadius(),this.options);e.Draw.Circle.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}}),e.ICT.DrawRectangle=e.Draw.Rectangle.extend({options:{repeatMode:!1,clickable:!1},initialize:function(){e.Draw.Rectangle.prototype.initialize.apply(this,arguments)},enable:function(t,n){e.Draw.Rectangle.prototype.enable.call(this),this.ictcallback=t,this.ictcontext=n},addHooks:function(){this._map.on("mouseup",this.exist,this),e.Draw.Rectangle.prototype.addHooks.apply(this,arguments)},removeHooks:function(){this._map.off("mouseup",this.exist,this),e.Draw.Rectangle.prototype.removeHooks.apply(this,arguments)},exist:function(e){e.originalEvent.button==2&&this.disable()},clone:function(){return new e.Rectangle(this.getBounds(),this.options)},clear:function(){},_fireCreatedEvent:function(){var t=new e.Rectangle(this._shape.getBounds(),this.options.shapeOptions);e.Draw.Rectangle.prototype._fireCreatedEvent.call(this),typeof this.ictcallback=="function"?this.ictcallback.apply(this.ictcontext||this,[{layer:t,layerType:this.type}]):null}})}),define("library/requirejs/css!themes/css/control.layerswitch",[],function(){}),define("control/layerswitch",["leaflet","core/namespace"],function(e){e.ICT.Control.LayerSwitch=e.Control.extend({includes:e.Mixin.Events,initialize:function(t){e.setOptions(this,t),this.changeLayers=Project_ParamConfig.changeLayers},onAdd:function(e){return this._map=e,this._initLayout(),this._initEvts(),this._container},onRemove:function(e){},getBaseLayerById:function(e){for(var t=0;t<this.changeLayers.length;t++)if(this.changeLayers[t].id==e)return this.changeLayers[t].layer},hideAllBaseLayer:function(){for(var e=0;e<this.changeLayers.length;e++){var t=this.changeLayers[e].layer;t.setOpacity(0)}},showBaseLayer:function(e){var t=this.getBaseLayerById(e);t.options.opacity===0&&(this.hideAllBaseLayer(),t.setOpacity(1),this.fire("baseLayerChangeEvent",{curBaseLayer:t}))},_initLayout:function(){var t="ict-leaflet-control-layers",n=this._container=e.DomUtil.create("div",t),r=[];r.push("<ul>");for(var i=0,s=this.changeLayers.length;i<s;i++)this.changeLayers[i].active?Project_ParamConfig.lang==="zh"?r.push('<li class="active" data-id="'+this.changeLayers[i].id+'"><a>'+this.changeLayers[i].name+"</a></li>"):r.push('<li class="active" data-id="'+this.changeLayers[i].id+'"><a>'+this.changeLayers[i].name_en+"</a></li>"):Project_ParamConfig.lang==="zh"?r.push('<li data-id="'+this.changeLayers[i].id+'"><a>'+this.changeLayers[i].name+"</a></li>"):r.push('<li data-id="'+this.changeLayers[i].id+'"><a>'+this.changeLayers[i].name_en+"</a></li>");r.push("</ul>"),r=r.join(""),n.innerHTML=r},_initEvts:function(){var e=this;$(this._container).find("ul>li").on("click",function(t){t.stopPropagation(),$(this).addClass("active").siblings().removeClass("active");var n=$(this).data("id");e.showBaseLayer(n)})}})}),define("library/requirejs/css!themes/css/func.realTarget",[],function(){}),define("leaflet/shipDistLayer",["leaflet"],function(e){e.TileLayer.ShipDistLayer=e.TileLayer.extend({initialize:function(t,n){e.setOptions(this,n),this._url=t+"{s}/{z}-{x}-{y}.png",e.TileLayer.prototype.initialize.call(this,this._url,this.options)},getTileUrl:function(t){return e.Util.template(this._url,e.extend({s:function(){var e;if(t.z>6){var n=Math.pow(2,t.z-5),r="R"+Math.floor(t.y/n),i="C"+Math.floor(t.x/n);e=t.z+"/"+r+"/"+i}else e=t.z;return e},z:t.z,x:t.x,y:t.y}))}}),e.tileLayer.shipDistLayer=function(t,n){return new e.TileLayer.ShipDistLayer(t,n)}}),define("leaflet/rotateMarker",["leaflet"],function(e){var t=e.Marker.prototype._initIcon,n=e.Marker.prototype._setPos,r=e.DomUtil.TRANSFORM==="msTransform";e.Marker.addInitHook(function(){var e=this.options.icon.options.iconAnchor;e&&(e=e[0]+"px "+e[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||e||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0}),e.Marker.include({_initIcon:function(){t.call(this)},_setPos:function(t){n.call(this,t),this.options.rotationAngle&&(this._icon.style[e.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,r?this._icon.style[e.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[e.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(e){return this.options.rotationAngle=e,this.update(),this},setRotationOrigin:function(e){return this.options.rotationOrigin=e,this.update(),this}})}),function(e){typeof define=="function"&&define.amd?define("plugins/uiposition",["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{};var t=e.ui.version="1.12.1";(function(){function t(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var i,s=Math.max,o=Math.abs,u=/left|center|right/,a=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(i!==undefined)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&n[0].nodeType===9,s=!r&&!i;return{element:n,isWindow:r,isDocument:i,offset:s?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return h.apply(this,arguments);i=e.extend({},i);var c,p,d,v,m,g,y=e(i.of),b=e.position.getWithinInfo(i.within),w=e.position.getScrollInfo(b),E=(i.collision||"flip").split(" "),S={};return g=r(y),y[0].preventDefault&&(i.at="left top"),p=g.width,d=g.height,v=g.offset,m=e.extend({},v),e.each(["my","at"],function(){var e=(i[this]||"").split(" "),t,n;e.length===1&&(e=u.test(e[0])?e.concat(["center"]):a.test(e[0])?["center"].concat(e):["center","center"]),e[0]=u.test(e[0])?e[0]:"center",e[1]=a.test(e[1])?e[1]:"center",t=f.exec(e[0]),n=f.exec(e[1]),S[this]=[t?t[0]:0,n?n[0]:0],i[this]=[l.exec(e[0])[0],l.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),i.at[0]==="right"?m.left+=p:i.at[0]==="center"&&(m.left+=p/2),i.at[1]==="bottom"?m.top+=d:i.at[1]==="center"&&(m.top+=d/2),c=t(S.at,p,d),m.left+=c[0],m.top+=c[1],this.each(function(){var r,u,a=e(this),f=a.outerWidth(),l=a.outerHeight(),h=n(this,"marginLeft"),g=n(this,"marginTop"),x=f+h+n(this,"marginRight")+w.width,T=l+g+n(this,"marginBottom")+w.height,N=e.extend({},m),C=t(S.my,a.outerWidth(),a.outerHeight());i.my[0]==="right"?N.left-=f:i.my[0]==="center"&&(N.left-=f/2),i.my[1]==="bottom"?N.top-=l:i.my[1]==="center"&&(N.top-=l/2),N.left+=C[0],N.top+=C[1],r={marginLeft:h,marginTop:g},e.each(["left","top"],function(t,n){e.ui.position[E[t]]&&e.ui.position[E[t]][n](N,{targetWidth:p,targetHeight:d,elemWidth:f,elemHeight:l,collisionPosition:r,collisionWidth:x,collisionHeight:T,offset:[c[0]+C[0],c[1]+C[1]],my:i.my,at:i.at,within:b,elem:a})}),i.using&&(u=function(e){var t=v.left-N.left,n=t+p-f,r=v.top-N.top,u=r+d-l,c={target:{element:y,left:v.left,top:v.top,width:p,height:d},element:{element:a,left:N.left,top:N.top,width:f,height:l},horizontal:n<0?"left":t>0?"right":"center",vertical:u<0?"top":r>0?"bottom":"middle"};p<f&&o(t+n)<p&&(c.horizontal="center"),d<l&&o(r+u)<d&&(c.vertical="middle"),s(o(t),o(n))>s(o(r),o(u))?c.important="horizontal":c.important="vertical",i.using.call(this,e,c)}),a.offset(e.extend(N,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,i=n.width,o=e.left-t.collisionPosition.marginLeft,u=r-o,a=o+t.collisionWidth-i-r,f;t.collisionWidth>i?u>0&&a<=0?(f=e.left+u+t.collisionWidth-i-r,e.left+=u-f):a>0&&u<=0?e.left=r:u>a?e.left=r+i-t.collisionWidth:e.left=r:u>0?e.left+=u:a>0?e.left-=a:e.left=s(e.left-o,e.left)},top:function(e,t){var n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,i=t.within.height,o=e.top-t.collisionPosition.marginTop,u=r-o,a=o+t.collisionHeight-i-r,f;t.collisionHeight>i?u>0&&a<=0?(f=e.top+u+t.collisionHeight-i-r,e.top+=u-f):a>0&&u<=0?e.top=r:u>a?e.top=r+i-t.collisionHeight:e.top=r:u>0?e.top+=u:a>0?e.top-=a:e.top=s(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,i=n.width,s=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-s,f=u+t.collisionWidth-i-s,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-i-r;if(p<0||p<o(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-s;if(d>0||o(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,i=n.height,s=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-s,f=u+t.collisionHeight-i-s,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;if(a<0){v=e.top+c+h+p+t.collisionHeight-i-r;if(v<0||v<o(a))e.top+=c+h+p}else if(f>0){d=e.top-t.collisionPosition.marginTop+c+h+p-s;if(d>0||o(d)<f)e.top+=c+h+p}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}})();var n=e.ui.position}),define("library/requirejs/css!plugins/jquery.contextmenu/jquery.contextMenu",[],function(){}),function(e){typeof define=="function"&&define.amd?define("plugins/contextmenu",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=e.split(/\s+/),n=[];for(var r=0,i;i=t[r];r++)i=i.charAt(0).toUpperCase(),n.push(i);return n}function n(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function r(t,i,s){return s||(s=0),i.each(function(){var i=e(this),o=this,u=this.nodeName.toLowerCase(),a,f;u==="label"&&i.find("input, textarea, select").length&&(a=i.text(),i=i.children().first(),o=i.get(0),u=o.nodeName.toLowerCase());switch(u){case"menu":f={name:i.attr("label"),items:{}},s=r(f.items,i.children(),s);break;case"a":case"button":f={name:i.text(),disabled:!!i.attr("disabled"),callback:function(){return function(){i.click()}}()};break;case"menuitem":case"command":switch(i.attr("type")){case undefined:case"command":case"menuitem":f={name:i.attr("label"),disabled:!!i.attr("disabled"),icon:i.attr("icon"),callback:function(){return function(){i.click()}}()};break;case"checkbox":f={type:"checkbox",disabled:!!i.attr("disabled"),name:i.attr("label"),selected:!!i.attr("checked")};break;case"radio":f={type:"radio",disabled:!!i.attr("disabled"),name:i.attr("label"),radio:i.attr("radiogroup"),value:i.attr("id"),selected:!!i.attr("checked")};break;default:f=undefined}break;case"hr":f="-------";break;case"input":switch(i.attr("type")){case"text":f={type:"text",name:a||n(o),disabled:!!i.attr("disabled"),value:i.val()};break;case"checkbox":f={type:"checkbox",name:a||n(o),disabled:!!i.attr("disabled"),selected:!!i.attr("checked")};break;case"radio":f={type:"radio",name:a||n(o),disabled:!!i.attr("disabled"),radio:!!i.attr("name"),value:i.val(),selected:!!i.attr("checked")};break;default:f=undefined}break;case"select":f={type:"select",name:a||n(o),disabled:!!i.attr("disabled"),selected:i.val(),options:{}},i.children().each(function(){f.options[this.value]=e(this).text()});break;case"textarea":f={type:"textarea",name:a||n(o),disabled:!!i.attr("disabled"),value:i.val()};break;case"label":break;default:f={type:"html",html:i.clone(!0)}}f&&(s++,t["key"+s]=f)}),s}e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement;if(!e.ui||!e.widget)e.cleanData=function(t){return function(n){var r,i,s;for(s=0;n[s]!=null;s++){i=n[s];try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}}t(n)}}(e.cleanData);var i=null,s=!1,o=e(window),u=0,a={},f={},l={},c={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var r;if(!t&&!n){e.determinePosition.call(this,e.$menu);return}t==="maintain"&&n==="maintain"?r=e.$menu.position():r={top:n,left:t};var i=o.scrollTop()+o.height(),s=o.scrollLeft()+o.width(),u=e.$menu.outerHeight(),a=e.$menu.outerWidth();r.top+u>i&&(r.top-=u),r.top<0&&(r.top=0),r.left+a>s&&(r.left-=a),r.left<0&&(r.left=0),e.$menu.css(r)},positionSubmenu:function(t){if(t===undefined)return;if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},h={timer:null,pageX:null,pageY:null},p=function(e){var t=0,n=e;for(;;){t=Math.max(t,parseInt(n.css("z-index"),10)||0),n=n.parent();if(!n||!n.length||"html body".indexOf(n.prop("nodeName").toLowerCase())>-1)break}return t},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var n=e(this);t.data.trigger==="right"&&(t.preventDefault(),t.stopImmediatePropagation());if(t.data.trigger!=="right"&&t.data.trigger!=="demand"&&t.originalEvent)return;if(!(t.mouseButton===undefined||!t.data||t.data.trigger==="left"&&t.mouseButton===0||t.data.trigger==="right"&&t.mouseButton===2))return;if(n.hasClass("context-menu-active"))return;if(!n.hasClass("context-menu-disabled")){i=n;if(t.data.build){var r=t.data.build(i,t);if(r===!1)return;t.data=e.extend(!0,{},c,t.data,r||{});if(!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=i,v.create(t.data)}var s=!1;for(var o in t.data.items)if(t.data.items.hasOwnProperty(o)){var u;e.isFunction(t.data.items[o].visible)?u=t.data.items[o].visible.call(e(t.currentTarget),o,t.data):typeof t.data.items[o]!="undefined"&&t.data.items[o].visible?u=t.data.items[o].visible===!0:u=!0,u&&(s=!0)}s&&v.show.call(n,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var n=e(this);i&&i.length&&!i.is(n)&&i.data("contextMenu").$menu.trigger("contextmenu:hide"),t.button===2&&(i=n.data("contextMenuActive",!0))},mouseup:function(t){var n=e(this);n.data("contextMenuActive")&&i&&i.length&&i.is(n)&&!n.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),i=n,n.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),n.removeData("contextMenuActive")},mouseenter:function(t){var n=e(this),r=e(t.relatedTarget),s=e(document);if(r.is(".context-menu-list")||r.closest(".context-menu-list").length)return;if(i&&i.length)return;h.pageX=t.pageX,h.pageY=t.pageY,h.data=t.data,s.on("mousemove.contextMenuShow",d.mousemove),h.timer=setTimeout(function(){h.timer=null,s.off("mousemove.contextMenuShow"),i=n,n.trigger(e.Event("contextmenu",{data:h.data,pageX:h.pageX,pageY:h.pageY}))},t.data.delay)},mousemove:function(e){h.pageX=e.pageX,h.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(n.is(".context-menu-list")||n.closest(".context-menu-list").length)return;try{clearTimeout(h.timer)}catch(t){}h.timer=null},layerClick:function(t){var n=e(this),r=n.data("contextMenuRoot"),i=t.button,s=t.pageX,u=t.pageY,a,f;t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){var n,l=r.trigger==="left"&&i===0||r.trigger==="right"&&i===2;if(document.elementFromPoint&&r.$layer){r.$layer.hide(),a=document.elementFromPoint(s-o.scrollLeft(),u-o.scrollTop());if(a.isContentEditable){var c=document.createRange(),h=window.getSelection();c.selectNode(a),c.collapse(!0),h.removeAllRanges(),h.addRange(c)}r.$layer.show()}if(r.reposition&&l)if(document.elementFromPoint){if(r.$trigger.is(a)||r.$trigger.has(a).length){r.position.call(r.$trigger,r,s,u);return}}else{f=r.$trigger.offset(),n=e(window),f.top+=n.scrollTop();if(f.top<=t.pageY){f.left+=n.scrollLeft();if(f.left<=t.pageX){f.bottom=f.top+r.$trigger.outerHeight();if(f.bottom>=t.pageY){f.right=f.left+r.$trigger.outerWidth();if(f.right>=t.pageX){r.position.call(r.$trigger,r,s,u);return}}}}}a&&l&&r.$trigger.one("contextmenu:hidden",function(){e(a).contextMenu({x:s,y:u,button:i})}),r!=null&&r.$menu!=null&&r.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};i&&(t=i.data("contextMenu")||{}),t.zIndex===undefined&&(t.zIndex=0);var n=0,r=function(e){e.style.zIndex!==""?n=e.style.zIndex:e.offsetParent!==null&&e.offsetParent!==undefined?r(e.offsetParent):e.parentElement!==null&&e.parentElement!==undefined&&r(e.parentElement)};r(e.target);if(n>t.zIndex)return;switch(e.keyCode){case 9:case 38:d.keyStop(e,t);if(t.isInput){if(e.keyCode===9&&e.shiftKey){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu!=null&&t.$menu.trigger("prevcommand");return}if(e.keyCode===38&&t.$selected.find("input, textarea, select").prop("type")==="checkbox"){e.preventDefault();return}}else if(e.keyCode!==9||e.shiftKey){t.$menu!=null&&t.$menu.trigger("prevcommand");return}break;case 40:d.keyStop(e,t);if(!t.isInput){t.$menu!=null&&t.$menu.trigger("nextcommand");return}if(e.keyCode===9){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu!=null&&t.$menu.trigger("nextcommand");return}if(e.keyCode===40&&t.$selected.find("input, textarea, select").prop("type")==="checkbox"){e.preventDefault();return}break;case 37:d.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var s=t.$selected.parent().parent();t.$selected.trigger("contextmenu:blur"),t.$selected=s;return}break;case 39:d.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;var o=t.$selected.data("contextMenu")||{};if(o.$menu&&t.$selected.hasClass("context-menu-submenu")){t.$selected=null,o.$selected=null,o.$menu.trigger("nextcommand");return}break;case 35:case 36:if(t.$selected&&t.$selected.find("input, textarea, select").length)return;(t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[e.keyCode===36?"first":"last"]().trigger("contextmenu:focus"),e.preventDefault();return;case 13:d.keyStop(e,t);if(t.isInput){if(t.$selected&&!t.$selected.is("textarea, select")){e.preventDefault();return}break}typeof t.$selected!="undefined"&&t.$selected!==null&&t.$selected.trigger("mouseup");return;case 32:case 33:case 34:d.keyStop(e,t);return;case 27:d.keyStop(e,t),t.$menu!=null&&t.$menu.trigger("contextmenu:hide");return;default:var u=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[u]){t.accesskeys[u].$node.trigger(t.accesskeys[u].$menu?"contextmenu:focus":"mouseup");return}}e.stopPropagation(),typeof t.$selected!="undefined"&&t.$selected!==null&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=i}var s=n.$menu.children(),o=!n.$selected||!n.$selected.prev().length?s.last():n.$selected.prev(),u=o;while(o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden")){o.prev().length?o=o.prev():o=s.last();if(o.is(u))return}n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(o.get(0),t);var a=o.find("input, textarea, select");a.length&&a.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=i}var s=n.$menu.children(),o=!n.$selected||!n.$selected.next().length?s.first():n.$selected.next(),u=o;while(o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden")){o.next().length?o=o.next():o=s.first();if(o.is(u))return}n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(o.get(0),t);var a=o.find("input, textarea, select");a.length&&a.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),r=n.contextMenu,i=n.contextMenuRoot;i.$selected=r.$selected=t,i.isInput=r.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),r=n.contextMenu,i=n.contextMenuRoot;i.isInput=r.isInput=!1},menuMouseenter:function(){var t=e(this).data().contextMenuRoot;t.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.hovering=!0,t&&s.$layer&&s.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(i.$menu?i:s).$menu.children("."+s.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur");if(n.hasClass(s.classNames.disabled)||n.hasClass(s.classNames.notSelectable)){i.$selected=null;return}n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(s!==i&&s.$layer&&s.$layer.is(t.relatedTarget)){typeof s.$selected!="undefined"&&s.$selected!==null&&s.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),s.$selected=i.$selected=i.$node;return}n.trigger("contextmenu:blur")},itemClick:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot,o=r.contextMenuKey,u;if(!i.items[o]||n.is("."+s.classNames.disabled+", .context-menu-separator, ."+s.classNames.notSelectable)||n.is(".context-menu-submenu")&&s.selectableSubMenu===!1)return;t.preventDefault(),t.stopImmediatePropagation();if(e.isFunction(i.callbacks[o])&&Object.prototype.hasOwnProperty.call(i.callbacks,o))u=i.callbacks[o];else{if(!e.isFunction(s.callback))return;u=s.callback}u.call(s.$trigger,o,s)!==!1?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&v.update.call(s.$trigger,s)},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var r=e(this).data("contextMenuRoot");v.hide.call(r.$trigger,r,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(n.hasClass(s.classNames.disabled)||n.hasClass(s.classNames.notSelectable))return;n.addClass([s.classNames.hover,s.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(s.classNames.visible).filter("."+s.classNames.hover).trigger("contextmenu:blur"),i.$selected=s.$selected=n,i.$node&&s.positionSubmenu.call(i.$node,i.$menu)},blurItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;i.autoHide&&n.removeClass(s.classNames.visible),n.removeClass(s.classNames.hover),i.$selected=null}},v={show:function(t,n,r){var s=e(this),o={};e("#context-menu-layer").trigger("mousedown"),t.$trigger=s;if(t.events.show.call(s,t)===!1){i=null;return}v.update.call(s,t),t.position.call(s,t,n,r);if(t.zIndex){var u=t.zIndex;typeof t.zIndex=="function"&&(u=t.zIndex.call(s,t)),o.zIndex=p(s)+u}v.layer.call(t.$menu,t,o.zIndex),t.$menu.find("ul").css("zIndex",o.zIndex+1),t.$menu.css(o)[t.animation.show](t.animation.duration,function(){s.trigger("contextmenu:visible")}),s.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var n=s.offset();n.right=n.left+s.outerWidth(),n.bottom=n.top+s.outerHeight(),t.$layer&&!t.hovering&&(!(e.pageX>=n.left&&e.pageX<=n.right)||!(e.pageY>=n.top&&e.pageY<=n.bottom))&&setTimeout(function(){!t.hovering&&t.$menu!=null&&t.$menu.trigger("contextmenu:hide")},50)})},hide:function(t,n){var r=e(this);t||(t=r.data("contextMenu")||{});if(!n&&t.events&&t.events.hide.call(r,t)===!1)return;r.removeData("contextMenu").removeClass("context-menu-active");if(t.$layer){setTimeout(function(e){return function(){e.remove()}}(t.$layer),10);try{delete t.$layer}catch(s){t.$layer=null}}i=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,function(){t.build&&(t.$menu.remove(),e.each(t,function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=undefined;try{delete t[e]}catch(n){}return!0}})),setTimeout(function(){r.trigger("contextmenu:hidden")},10)})},create:function(n,r){function i(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(typeof t.accesskey!="undefined")throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}r===undefined&&(r=n),n.$menu=e('<ul class="context-menu-list"></ul>').addClass(n.className||"").data({contextMenu:n,contextMenuRoot:r}),e.each(["callbacks","commands","inputs"],function(e,t){n[t]={},r[t]||(r[t]={})}),r.accesskeys||(r.accesskeys={}),e.each(n.items,function(s,o){var u=e('<li class="context-menu-item"></li>').addClass(o.className||""),a=null,f=null;u.on("click",e.noop);if(typeof o=="string"||o.type==="cm_separator")o={type:"cm_seperator"};o.$node=u.data({contextMenu:n,contextMenuRoot:r,contextMenuKey:s});if(typeof o.accesskey!="undefined"){var c=t(o.accesskey);for(var h=0,p;p=c[h];h++)if(!r.accesskeys[p]){r.accesskeys[p]=o;var m=o.name.match(new RegExp("^(.*?)("+p+")(.*)$","i"));m&&(o._beforeAccesskey=m[1],o._accesskey=m[2],o._afterAccesskey=m[3]);break}}if(o.type&&l[o.type])l[o.type].call(u,o,n,r),e.each([n,r],function(t,r){r.commands[s]=o,e.isFunction(o.callback)&&(r.callbacks[s]===undefined||n.type===undefined)&&(r.callbacks[s]=o.callback)});else{o.type==="cm_seperator"?u.addClass("context-menu-separator "+r.classNames.notSelectable):o.type==="html"?u.addClass("context-menu-html "+r.classNames.notSelectable):o.type!=="sub"&&(o.type?(a=e("<label></label>").appendTo(u),i(o).appendTo(a),u.addClass("context-menu-input"),n.hasTypes=!0,e.each([n,r],function(e,t){t.commands[s]=o,t.inputs[s]=o})):o.items&&(o.type="sub"));switch(o.type){case"cm_seperator":break;case"text":f=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+s).val(o.value||"").appendTo(a);break;case"textarea":f=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+s).val(o.value||"").appendTo(a),o.height&&f.height(o.height);break;case"checkbox":f=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+s).val(o.value||"").prop("checked",!!o.selected).prependTo(a);break;case"radio":f=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(a);break;case"select":f=e('<select name=""></select>').attr("name","context-menu-input-"+s).appendTo(a),o.options&&(e.each(o.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(f)}),f.val(o.selected));break;case"sub":i(o).appendTo(u),o.appendTo=o.$node,u.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?v.processPromises(o,r,o.items):v.create(o,r);break;case"html":e(o.html).appendTo(u);break;default:e.each([n,r],function(t,r){r.commands[s]=o,e.isFunction(o.callback)&&(r.callbacks[s]===undefined||n.type===undefined)&&(r.callbacks[s]=o.callback)}),i(o).appendTo(u)}o.type&&o.type!=="sub"&&o.type!=="html"&&o.type!=="cm_seperator"&&(f.on("focus",d.focusInput).on("blur",d.blurInput),o.events&&f.on(o.events,n)),o.icon&&(e.isFunction(o.icon)?o._icon=o.icon.call(this,this,u,s,o):typeof o.icon=="string"&&o.icon.substring(0,3)==="fa-"?o._icon=r.classNames.icon+" "+r.classNames.icon+"--fa fa "+o.icon:o._icon=r.classNames.icon+" "+r.classNames.icon+"-"+o.icon,u.addClass(o._icon))}o.$input=f,o.$label=a,u.appendTo(n.$menu),!n.hasTypes&&e.support.eventSelectstart&&u.on("selectstart.disableTextSelect",d.abortevent)}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},resize:function(t,n){var r;t.css({position:"absolute",display:"block"}),t.data("width",(r=t.get(0)).getBoundingClientRect?Math.ceil(r.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){v.resize(e(this),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return e(this).data("width")})},update:function(t,n){var r=this;n===undefined&&(n=t,v.resize(t.$menu)),t.$menu.children().each(function(){var i=e(this),s=i.data("contextMenuKey"),o=t.items[s],u=e.isFunction(o.disabled)&&o.disabled.call(r,s,n)||o.disabled===!0,a;e.isFunction(o.visible)?a=o.visible.call(r,s,n):typeof o.visible!="undefined"?a=o.visible===!0:a=!0,i[a?"show":"hide"](),i[u?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(o.icon)&&(i.removeClass(o._icon),o._icon=o.icon.call(this,r,i,s,o),i.addClass(o._icon));if(o.type){i.find("input, select, textarea").prop("disabled",u);switch(o.type){case"text":case"textarea":o.$input.val(o.value||"");break;case"checkbox":case"radio":o.$input.val(o.value||"").prop("checked",!!o.selected);break;case"select":o.$input.val(o.selected||"")}}o.$menu&&v.update.call(r,o,n)})},layer:function(t,n){var r=t.$layer=e('<div id="context-menu-layer"></div>').css({height:o.height(),width:o.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return document.body.style.maxWidth===undefined&&r.css({position:"absolute",height:e(document).height()}),r},processPromises:function(e,t,n){function r(e,t,n){n===undefined&&i(undefined),s(e,t,n)}function i(e,t,n){n===undefined?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):typeof n=="string"&&(n={error:{name:n}}),s(e,t,n)}function s(e,t,n){if(t.$menu===undefined||!t.$menu.is(":visible"))return;e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,v.create(e,t,!0),v.update(e,t),t.positionSubmenu.call(e.$node,e.$menu)}e.$node.addClass(t.classNames.iconLoadingClass),n.then(r.bind(this,e,t),i.bind(this,e,t))}};e.fn.contextMenu=function(t){var n=this,r=t;if(this.length>0)if(t===undefined)this.first().trigger("contextmenu");else if(t.x!==undefined&&t.y!==undefined)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if(t==="hide"){var i=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;i&&i.trigger("contextmenu:hide")}else t==="destroy"?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(f,function(){this.selector===n.selector&&(r.data=this,e.extend(r.data,{trigger:"demand"}))}),d.contextmenu.call(r.target,r);return this},e.contextMenu=function(t,n){typeof t!="string"&&(n=t,t="create"),typeof n=="string"?n={selector:n}:n===undefined&&(n={});var r=e.extend(!0,{},c,n||{}),i=e(document),o=i,l=!1;!r.context||!r.context.length?r.context=document:(o=e(r.context).first(),r.context=o.get(0),l=!e(r.context).is(document));switch(t){case"create":if(!r.selector)throw new Error("No selector specified");if(r.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className');if(!r.build&&(!r.items||e.isEmptyObject(r.items)))throw new Error("No Items specified");u++,r.ns=".contextMenu"+u,l||(a[r.selector]=r.ns),f[r.ns]=r,r.trigger||(r.trigger="right");if(!s){var h=r.itemClickEvent==="click"?"click.contextMenu":"mouseup.contextMenu",p={"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave};p[h]=d.itemClick,i.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on(p,".context-menu-item"),s=!0}o.on("contextmenu"+r.ns,r.selector,r,d.contextmenu),l&&o.on("remove"+r.ns,function(){e(this).contextMenu("destroy")});switch(r.trigger){case"hover":o.on("mouseenter"+r.ns,r.selector,r,d.mouseenter).on("mouseleave"+r.ns,r.selector,r,d.mouseleave);break;case"left":o.on("click"+r.ns,r.selector,r,d.click)}r.build||v.create(r);break;case"destroy":var m;if(l){var g=r.context;e.each(f,function(t,n){if(!n)return!0;if(!e(g).is(n.selector))return!0;m=e(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&m.trigger("contextmenu:hide",{force:!0});try{f[n.ns].$menu&&f[n.ns].$menu.remove(),delete f[n.ns]}catch(r){f[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(!r.selector)i.off(".contextMenu .contextMenuAutoHide"),e.each(f,function(t,n){e(n.context).off(n.ns)}),a={},f={},u=0,s=!1,e("#context-menu-layer, .context-menu-list").remove();else if(a[r.selector]){m=e(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(r.selector)&&m.trigger("contextmenu:hide",{force:!0});try{f[a[r.selector]].$menu&&f[a[r.selector]].$menu.remove(),delete f[a[r.selector]]}catch(y){f[a[r.selector]]=null}i.off(a[r.selector])}break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||typeof n=="boolean"&&n)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){n===undefined&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=n[e]?!0:!1;break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}})},e.contextMenu.getInputValues=function(t,n){return n===undefined&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}}),n},e.contextMenu.fromMenu=function(t){var n=e(t),i={};return r(i,n.children()),i},e.contextMenu.defaults=c,e.contextMenu.types=l,e.contextMenu.handle=d,e.contextMenu.op=v,e.contextMenu.menus=f}),define("func/base",["leaflet","core/namespace"],function(e){return e.ICT.Func.add=function(t,n){typeof n=="undefined"&&(n=t);try{var r=e.Util.extend(new function(){},e.Mixin.Events,{run:function(){return this._getInstance(arguments).start(),this._instance},close:function(){return this._getInstance().stop(),this._instance},getInstance:function(){return this._getInstance(arguments)},_getInstance:function(e){return this._instance||(this._instance=this._createInstance(e||[])),this._instance},_createInstance:function(e){if(!(e.length>0))return new this.Class;var t=e;switch(t.length){case 1:return new this.Class(t[0]);case 2:return new this.Class(t[0],t[1]);case 3:return new this.Class(t[0],t[1],t[2]);default:return new this.Class(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9])}}},n)}catch(i){console.log("ÂàõÂª∫ÂäüËÉΩÂá∫ÈîôÔºö"+i.message)}return typeof t=="string"&&(e.ICT.Func[t]=r),r},null}),define("library/requirejs/css!themes/css/func.hjcx",[],function(){}),define("library/requirejs/css!themes/css/control.drawPopPanel",[],function(){}),define("library/requirejs/css!plugins/jquery.customscrollbar/jquery.mCustomScrollbar",[],function(){}),!function(e){"function"==typeof define&&define.amd?define("plugins/mcscroll",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,u=a.call(arguments,1),f=0,c=0,h=0,p=0,d=0,v=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(c=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(c=-1*h,h=0),f=0===h?c:h,"deltaY"in o&&(h=-1*o.deltaY,f=h),"deltaX"in o&&(c=o.deltaX,0===h&&(f=-1*c)),0!==h||0!==c){if(1===o.deltaMode){var m=e.data(this,"mousewheel-line-height");f*=m,h*=m,c*=m}else if(2===o.deltaMode){var g=e.data(this,"mousewheel-page-height");f*=g,h*=g,c*=g}if(p=Math.max(Math.abs(h),Math.abs(c)),(!s||s>p)&&(s=p,r(o,p)&&(s/=40)),r(o,p)&&(f/=40,c/=40,h/=40),f=Math[f>=1?"floor":"ceil"](f/s),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s),l.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();d=t.clientX-y.left,v=t.clientY-y.top}return t.deltaX=c,t.deltaY=h,t.deltaFactor=s,t.offsetX=d,t.offsetY=v,t.deltaMode=0,u.unshift(t,f,c,h),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){s=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var f=o.length;f;)e.event.fixHooks[o[--f]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=u.length;n;)this.removeEventListener(u[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var n="function"==typeof define&&define.amd,r="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";n||(r?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+s+"%3E%3C/script%3E"))),t()}(function(){var t,n="mCustomScrollbar",r="mCS",i=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},o=0,u={},a=window.attachEvent&&!window.addEventListener?1:0,f=!1,l=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(t){var t=e.extend(!0,{},s,t),n=h.call(this);if(t.live){var a=t.liveSelector||this.selector||i,f=e(a);if("off"===t.live)return void d(a);u[a]=setTimeout(function(){f.mCustomScrollbar(t),"once"===t.live&&f.length&&d(a)},500)}else d(a);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=m(t.scrollButtons.scrollType),p(t),e(n).each(function(){var n=e(this);if(!n.data(r)){n.data(r,{idx:++o,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var i=n.data(r),s=i.opt,u=n.data("mcs-axis"),a=n.data("mcs-scrollbar-position"),f=n.data("mcs-theme");u&&(s.axis=u),a&&(s.scrollbarPosition=a),f&&(s.theme=f,p(s)),g.call(this),e("#mCSB_"+i.idx+"_container img:not(."+l[2]+")").addClass(l[2]),c.update.call(null,n)}})},update:function(t,n){var i=t||h.call(this);return e(i).each(function(){var t=e(this);if(t.data(r)){var i=t.data(r),s=i.opt,o=e("#mCSB_"+i.idx+"_container"),u=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!o.length)return;i.tweenRunning&&$(t),t.hasClass(l[3])&&t.removeClass(l[3]),t.hasClass(l[4])&&t.removeClass(l[4]),E.call(this),b.call(this),"y"===s.axis||s.advanced.autoExpandHorizontalScroll||o.css("width",y(o.children())),i.overflowed=N.call(this),A.call(this),s.autoDraggerLength&&S.call(this),x.call(this),k.call(this);var a=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==s.axis&&(i.overflowed[0]?u[0].height()>u[0].parent().height()?C.call(this):(J(t,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(C.call(this),"y"===s.axis?L.call(this):"yx"===s.axis&&i.overflowed[1]&&J(t,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==s.axis&&(i.overflowed[1]?u[1].width()>u[1].parent().width()?C.call(this):(J(t,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(C.call(this),"x"===s.axis?L.call(this):"yx"===s.axis&&i.overflowed[0]&&J(t,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&s.callbacks.onImageLoad&&"function"==typeof s.callbacks.onImageLoad?s.callbacks.onImageLoad.call(this):3===n&&s.callbacks.onSelectorChange&&"function"==typeof s.callbacks.onSelectorChange?s.callbacks.onSelectorChange.call(this):s.callbacks.onUpdate&&"function"==typeof s.callbacks.onUpdate&&s.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){var i=h.call(this);return e(i).each(function(){var i=e(this);if(i.data(r)){var s=i.data(r),o=s.opt,u={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(!0,{},u,n),f=z.call(this,t),l=a.scrollInertia>0&&a.scrollInertia<17?17:a.scrollInertia;f[0]=W.call(this,f[0],"y"),f[1]=W.call(this,f[1],"x"),a.moveDragger&&(f[0]*=s.scrollRatio.y,f[1]*=s.scrollRatio.x),a.dur=l,setTimeout(function(){null!==f[0]&&"undefined"!=typeof f[0]&&"x"!==o.axis&&s.overflowed[0]&&(a.dir="y",a.overwrite="all",J(i,f[0].toString(),a)),null!==f[1]&&"undefined"!=typeof f[1]&&"y"!==o.axis&&s.overflowed[1]&&(a.dir="x",a.overwrite="none",J(i,f[1].toString(),a))},a.timeout)}})}},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data(r)&&$(t)})},disable:function(t){var n=h.call(this);return e(n).each(function(){var n=e(this);n.data(r)&&(n.data(r),X.call(this,"remove"),L.call(this),t&&C.call(this),A.call(this,!0),n.addClass(l[3]))})},destroy:function(){var t=h.call(this);return e(t).each(function(){var i=e(this);if(i.data(r)){var s=i.data(r),o=s.opt,u=e("#mCSB_"+s.idx),a=e("#mCSB_"+s.idx+"_container"),f=e(".mCSB_"+s.idx+"_scrollbar");o.live&&d(o.liveSelector||e(t).selector),X.call(this,"remove"),L.call(this),C.call(this),i.removeData(r),Y(this,"mcs"),f.remove(),a.find("img."+l[2]).removeClass(l[2]),u.replaceWith(a.contents()),i.removeClass(n+" _"+r+"_"+s.idx+" "+l[6]+" "+l[7]+" "+l[5]+" "+l[3]).addClass(l[4])}})}},h=function(){return"object"!=typeof e(this)||e(this).length<1?i:this},p=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],s=["minimal","minimal-dark"],o=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,n)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,r)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,s)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,o)>-1?"outside":t.scrollbarPosition},d=function(e){u[e]&&(clearTimeout(u[e]),Y(u,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},m=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var t=e(this),i=t.data(r),s=i.opt,o=s.autoExpandScrollbar?" "+l[1]+"_expand":"",u=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===s.axis?"mCSB_vertical_horizontal":"x"===s.axis?"mCSB_horizontal":"mCSB_vertical",f="yx"===s.axis?u[0]+u[1]:"x"===s.axis?u[1]:u[0],c="yx"===s.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=s.autoHideScrollbar?" "+l[6]:"",p="x"!==s.axis&&"rtl"===i.langDir?" "+l[7]:"";s.setWidth&&t.css("width",s.setWidth),s.setHeight&&t.css("height",s.setHeight),s.setLeft="y"!==s.axis&&"rtl"===i.langDir?"989999px":s.setLeft,t.addClass(n+" _"+r+"_"+i.idx+h+p).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+a+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir="+i.langDir+" /></div>");var d=e("#mCSB_"+i.idx),v=e("#mCSB_"+i.idx+"_container");"y"===s.axis||s.advanced.autoExpandHorizontalScroll||v.css("width",y(v.children())),"outside"===s.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),d.addClass("mCSB_outside").after(f)):(d.addClass("mCSB_inside").append(f),v.wrap(c)),w.call(this);var m=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},y=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},b=function(){var t=e(this),n=t.data(r),i=n.opt,s=e("#mCSB_"+n.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&s.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right+.4)-Math.floor(s[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),n=t.data(r),i=n.opt,s=e(".mCSB_"+n.idx+"_scrollbar:first"),o=tt(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",u=["<a href='#' class='"+l[13]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+l[14]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+l[15]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+l[16]+"' oncontextmenu='return false;' "+o+" />"],a=["x"===i.axis?u[2]:u[0],"x"===i.axis?u[3]:u[1],u[2],u[3]];i.scrollButtons.enable&&s.prepend(a[0]).append(a[1]).next(".mCSB_scrollTools").prepend(a[2]).append(a[3])},E=function(){var t=e(this),n=t.data(r),i=e("#mCSB_"+n.idx),s=t.css("max-height")||"none",o=-1!==s.indexOf("%"),u=t.css("box-sizing");if("none"!==s){var a=o?t.parent().height()*parseInt(s)/100:parseInt(s);"border-box"===u&&(a-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),i.css("max-height",Math.round(a))}},S=function(){var t=e(this),n=t.data(r),i=e("#mCSB_"+n.idx),s=e("#mCSB_"+n.idx+"_container"),o=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],u=[i.height()/s.outerHeight(!1),i.width()/s.outerWidth(!1)],f=[parseInt(o[0].css("min-height")),Math.round(u[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(u[1]*o[1].parent().width())],l=a&&f[1]<f[0]?f[0]:f[1],c=a&&f[3]<f[2]?f[2]:f[3];o[0].css({height:l,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":f[0]+"px"}),o[1].css({width:c,"max-width":o[1].parent().width()-10})},x=function(){var t=e(this),n=t.data(r),i=e("#mCSB_"+n.idx),s=e("#mCSB_"+n.idx+"_container"),o=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],u=[s.outerHeight(!1)-i.height(),s.outerWidth(!1)-i.width()],a=[u[0]/(o[0].parent().height()-o[0].height()),u[1]/(o[1].parent().width()-o[1].width())];n.scrollRatio={y:a[0],x:a[1]}},T=function(e,t,n){var r=n?l[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(l[0]+" "+r),i.toggleClass(l[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(l[0]),i.removeClass(l[1])):(e.addClass(l[0]),i.addClass(l[1])))},N=function(){var t=e(this),n=t.data(r),i=e("#mCSB_"+n.idx),s=e("#mCSB_"+n.idx+"_container"),o=null==n.overflowed?s.height():s.outerHeight(!1),u=null==n.overflowed?s.width():s.outerWidth(!1);return[o>i.height(),u>i.width()]},C=function(){var t=e(this),n=t.data(r),i=n.opt,s=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),u=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if($(t),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(u[0].add(o).css("top",0),J(t,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var a=dx=0;"rtl"===n.langDir&&(a=s.width()-o.outerWidth(!1),dx=Math.abs(a/n.scrollRatio.x)),o.css("left",a),u[1].css("left",dx),J(t,"_resetX")}},k=function(){function t(){o=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(o),P.call(n[0])):t()},100)}var n=e(this),i=n.data(r),s=i.opt;if(!i.bindEvents){if(M.call(this),s.contentTouchScroll&&_.call(this),D.call(this),s.mouseWheel.enable){var o;t()}j.call(this),I.call(this),s.advanced.autoScrollOnFocus&&F.call(this),s.scrollButtons.enable&&q.call(this),s.keyboard.enable&&R.call(this),i.bindEvents=!0}},L=function(){var t=e(this),n=t.data(r),i=n.opt,s=r+"_"+n.idx,o=".mCSB_"+n.idx+"_scrollbar",u=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+o+" ."+l[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+o+">a"),a=e("#mCSB_"+n.idx+"_container");i.advanced.releaseDraggableSelectors&&u.add(e(i.advanced.releaseDraggableSelectors)),n.bindEvents&&(e(document).unbind("."+s),u.each(function(){e(this).unbind("."+s)}),clearTimeout(t[0]._focusTimeout),Y(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),Y(n.sequential,"step"),clearTimeout(a[0].onCompleteTimeout),Y(a[0],"onCompleteTimeout"),n.bindEvents=!1)},A=function(t){var n=e(this),i=n.data(r),s=i.opt,o=e("#mCSB_"+i.idx+"_container_wrapper"),u=o.length?o:e("#mCSB_"+i.idx+"_container"),a=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],f=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==s.axis&&(i.overflowed[0]&&!t?(a[0].add(f[0]).add(a[0].children("a")).css("display","block"),u.removeClass(l[8]+" "+l[10])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&f[0].css("display","none"),u.removeClass(l[10])):(a[0].css("display","none"),u.addClass(l[10])),u.addClass(l[8]))),"y"!==s.axis&&(i.overflowed[1]&&!t?(a[1].add(f[1]).add(a[1].children("a")).css("display","block"),u.removeClass(l[9]+" "+l[11])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&f[1].css("display","none"),u.removeClass(l[11])):(a[1].css("display","none"),u.addClass(l[11])),u.addClass(l[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(l[5]):n.addClass(l[5])},O=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[n.screenY,n.screenX,r>1]:[n.pageY,n.pageX,r>1];default:return[e.pageY,e.pageX,!1]}},M=function(){function t(e){var t=d.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}}function n(e,t,n,r){if(d[0].idleTimer=c.scrollInertia<233?250:0,i.attr("id")===p[1])var s="x",o=(i[0].offsetLeft-t+r)*l.scrollRatio.x;else var s="y",o=(i[0].offsetTop-e+n)*l.scrollRatio.y;J(u,o.toString(),{dir:s,drag:!0})}var i,s,o,u=e(this),l=u.data(r),c=l.opt,h=r+"_"+l.idx,p=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],d=e("#mCSB_"+l.idx+"_container"),v=e("#"+p[0]+",#"+p[1]),m=c.advanced.releaseDraggableSelectors?v.add(e(c.advanced.releaseDraggableSelectors)):v;v.bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(n){if(n.stopImmediatePropagation(),n.preventDefault(),Z(n)){f=!0,a&&(document.onselectstart=function(){return!1}),t(!1),$(u),i=e(this);var r=i.offset(),l=O(n)[0]-r.top,h=O(n)[1]-r.left,p=i.height()+r.top,d=i.width()+r.left;p>l&&l>0&&d>h&&h>0&&(s=l,o=h),T(i,"active",c.autoExpandScrollbar)}}).bind("touchmove."+h,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=i.offset(),r=O(e)[0]-t.top,u=O(e)[1]-t.left;n(s,o,r,u)}),e(document).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(e){if(i){var t=i.offset(),r=O(e)[0]-t.top,u=O(e)[1]-t.left;if(s===r)return;n(s,o,r,u)}}).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(){i&&(T(i,"active",c.autoExpandScrollbar),i=null),f=!1,a&&(document.onselectstart=null),t(!0)})},_=function(){function n(e){if(!et(e)||f||O(e)[2])return void (t=0);t=1,E=0,S=0;var n=L.offset();l=O(e)[0]-n.top,c=O(e)[1]-n.left,B=[O(e)[0],O(e)[1]]}function i(e){if(et(e)&&!f&&!O(e)[2]&&(e.stopImmediatePropagation(),!S||E)){v=Q();var t=k.offset(),n=O(e)[0]-t.top,r=O(e)[1]-t.left,i="mcsLinearOut";if(M.push(n),_.push(r),B[2]=Math.abs(O(e)[0]-B[0]),B[3]=Math.abs(O(e)[1]-B[1]),T.overflowed[0])var s=A[0].parent().height()-A[0].height(),o=l-n>0&&n-l>-(s*T.scrollRatio.y)&&(2*B[3]<B[2]||"yx"===N.axis);if(T.overflowed[1])var u=A[1].parent().width()-A[1].width(),h=c-r>0&&r-c>-(u*T.scrollRatio.x)&&(2*B[2]<B[3]||"yx"===N.axis);o||h?(e.preventDefault(),E=1):S=1,b="yx"===N.axis?[l-n,c-r]:"x"===N.axis?[null,c-r]:[l-n,null],L[0].idleTimer=250,T.overflowed[0]&&a(b[0],D,i,"y","all",!0),T.overflowed[1]&&a(b[1],D,i,"x",P,!0)}}function s(e){if(!et(e)||f||O(e)[2])return void (t=0);t=1,e.stopImmediatePropagation(),$(x),d=Q();var n=k.offset();h=O(e)[0]-n.top,p=O(e)[1]-n.left,M=[],_=[]}function o(e){if(et(e)&&!f&&!O(e)[2]){e.stopImmediatePropagation(),E=0,S=0,m=Q();var t=k.offset(),n=O(e)[0]-t.top,r=O(e)[1]-t.left;if(!(m-v>30)){y=1e3/(m-d);var i="mcsEaseOut",s=2.5>y,o=s?[M[M.length-2],_[_.length-2]]:[0,0];g=s?[n-o[0],r-o[1]]:[n-h,r-p];var l=[Math.abs(g[0]),Math.abs(g[1])];y=s?[Math.abs(g[0]/4),Math.abs(g[1]/4)]:[y,y];var c=[Math.abs(L[0].offsetTop)-g[0]*u(l[0]/y[0],y[0]),Math.abs(L[0].offsetLeft)-g[1]*u(l[1]/y[1],y[1])];b="yx"===N.axis?[c[0],c[1]]:"x"===N.axis?[null,c[1]]:[c[0],null],w=[4*l[0]+N.scrollInertia,4*l[1]+N.scrollInertia];var x=parseInt(N.contentTouchScroll)||0;b[0]=l[0]>x?b[0]:0,b[1]=l[1]>x?b[1]:0,T.overflowed[0]&&a(b[0],w[0],i,"y",P,!1),T.overflowed[1]&&a(b[1],w[1],i,"x",P,!1)}}}function u(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function a(e,t,n,r,i,s){e&&J(x,e.toString(),{dur:t,scrollEasing:n,dir:r,overwrite:i,drag:s})}var l,c,h,p,d,v,m,g,y,b,w,E,S,x=e(this),T=x.data(r),N=T.opt,C=r+"_"+T.idx,k=e("#mCSB_"+T.idx),L=e("#mCSB_"+T.idx+"_container"),A=[e("#mCSB_"+T.idx+"_dragger_vertical"),e("#mCSB_"+T.idx+"_dragger_horizontal")],M=[],_=[],D=0,P="yx"===N.axis?"none":"all",B=[],j=L.find("iframe"),F=["touchstart."+C+" pointerdown."+C+" MSPointerDown."+C,"touchmove."+C+" pointermove."+C+" MSPointerMove."+C,"touchend."+C+" pointerup."+C+" MSPointerUp."+C];L.bind(F[0],function(e){n(e)}).bind(F[1],function(e){i(e)}),k.bind(F[0],function(e){s(e)}).bind(F[2],function(e){o(e)}),j.length&&j.each(function(){e(this).load(function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind(F[0],function(e){n(e),s(e)}).bind(F[1],function(e){i(e)}).bind(F[2],function(e){o(e)})})})},D=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(e,t,n){l.type=n&&s?"stepped":"stepless",l.scrollAmount=10,U(o,e,t,"mcsLinearOut",n?60:null)}var s,o=e(this),u=o.data(r),a=u.opt,l=u.sequential,c=r+"_"+u.idx,h=e("#mCSB_"+u.idx+"_container"),p=h.parent();h.bind("mousedown."+c,function(){t||s||(s=1,f=!0)}).add(document).bind("mousemove."+c,function(e){if(!t&&s&&n()){var r=h.offset(),o=O(e)[0]-r.top+h[0].offsetTop,f=O(e)[1]-r.left+h[0].offsetLeft;o>0&&o<p.height()&&f>0&&f<p.width()?l.step&&i("off",null,"stepped"):("x"!==a.axis&&u.overflowed[0]&&(0>o?i("on",38):o>p.height()&&i("on",40)),"y"!==a.axis&&u.overflowed[1]&&(0>f?i("on",37):f>p.width()&&i("on",39)))}}).bind("mouseup."+c,function(){t||(s&&(s=0,i("off",null)),f=!1)})},P=function(){function t(t,r){if($(n),!B(n,t.target)){var o="auto"!==s.mouseWheel.deltaFactor?parseInt(s.mouseWheel.deltaFactor):a&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===s.axis||"x"===s.mouseWheel.axis)var l="x",c=[Math.round(o*i.scrollRatio.x),parseInt(s.mouseWheel.scrollAmount)],h="auto"!==s.mouseWheel.scrollAmount?c[1]:c[0]>=u.width()?.9*u.width():c[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),d=f[1][0].offsetLeft,v=f[1].parent().width()-f[1].width(),m=t.deltaX||t.deltaY||r;else var l="y",c=[Math.round(o*i.scrollRatio.y),parseInt(s.mouseWheel.scrollAmount)],h="auto"!==s.mouseWheel.scrollAmount?c[1]:c[0]>=u.height()?.9*u.height():c[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),d=f[0][0].offsetTop,v=f[0].parent().height()-f[0].height(),m=t.deltaY||r;"y"===l&&!i.overflowed[0]||"x"===l&&!i.overflowed[1]||(s.mouseWheel.invert&&(m=-m),s.mouseWheel.normalizeDelta&&(m=0>m?-1:1),(m>0&&0!==d||0>m&&d!==v||s.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),J(n,(p-m*h).toString(),{dir:l}))}}var n=e(this),i=n.data(r),s=i.opt,o=r+"_"+i.idx,u=e("#mCSB_"+i.idx),f=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],l=e("#mCSB_"+i.idx+"_container").find("iframe");i&&(l.length&&l.each(function(){e(this).load(function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+o,function(e,n){t(e,n)})})}),u.bind("mousewheel."+o,function(e,n){t(e,n)}))},H=function(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return null!==t},B=function(t,n){var i=n.nodeName.toLowerCase(),s=t.data(r).opt.mouseWheel.disableOver,o=["select","textarea"];return e.inArray(i,s)>-1&&!(e.inArray(i,o)>-1&&!e(n).is(":focus"))},j=function(){var t=e(this),n=t.data(r),i=r+"_"+n.idx,s=e("#mCSB_"+n.idx+"_container"),o=s.parent(),u=e(".mCSB_"+n.idx+"_scrollbar ."+l[12]);u.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(){f=!0}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){f=!1}).bind("click."+i,function(r){if(e(r.target).hasClass(l[12])||e(r.target).hasClass("mCSB_draggerRail")){$(t);var i=e(this),u=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var a="x",f=r.pageX>u.offset().left?-1:1,c=Math.abs(s[0].offsetLeft)-.9*f*o.width()}else{if(!n.overflowed[0])return;var a="y",f=r.pageY>u.offset().top?-1:1,c=Math.abs(s[0].offsetTop)-.9*f*o.height()}J(t,c.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}})},F=function(){var t=e(this),n=t.data(r),i=n.opt,s=r+"_"+n.idx,o=e("#mCSB_"+n.idx+"_container"),u=o.parent();o.bind("focusin."+s,function(){var n=e(document.activeElement),r=o.find(".mCustomScrollBox").length,s=0;n.is(i.advanced.autoScrollOnFocus)&&($(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?(s+17)*r:0,t[0]._focusTimeout=setTimeout(function(){var e=[nt(n)[0],nt(n)[1]],r=[o[0].offsetTop,o[0].offsetLeft],a=[r[0]+e[0]>=0&&r[0]+e[0]<u.height()-n.outerHeight(!1),r[1]+e[1]>=0&&r[0]+e[1]<u.width()-n.outerWidth(!1)],f="yx"!==i.axis||a[0]||a[1]?"all":"none";"x"===i.axis||a[0]||J(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:f,dur:s}),"y"===i.axis||a[1]||J(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:f,dur:s})},t[0]._focusTimer))})},I=function(){var t=e(this),n=t.data(r),i=r+"_"+n.idx,s=e("#mCSB_"+n.idx+"_container").parent();s.bind("scroll."+i,function(){(0!==s.scrollTop()||0!==s.scrollLeft())&&e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},q=function(){var t=e(this),n=t.data(r),i=n.opt,s=n.sequential,o=r+"_"+n.idx,u=".mCSB_"+n.idx+"_scrollbar",a=e(u+">a");a.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(r){function o(e,n){s.scrollAmount=i.snapAmount||i.scrollButtons.scrollAmount,U(t,e,n)}if(r.preventDefault(),Z(r)){var u=e(this).attr("class");switch(s.type=i.scrollButtons.scrollType,r.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===s.type)return;f=!0,n.tweenRunning=!1,o("on",u);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===s.type)return;f=!1,s.dir&&o("off",u);break;case"click":if("stepped"!==s.type||n.tweenRunning)return;o("on",u)}}})},R=function(){function t(t){function r(e,t){o.type=s.keyboard.scrollType,o.scrollAmount=s.snapAmount||s.keyboard.scrollAmount,"stepped"===o.type&&i.tweenRunning||U(n,e,t)}switch(t.type){case"blur":i.tweenRunning&&o.dir&&r("off",null);break;case"keydown":case"keyup":var u=t.keyCode?t.keyCode:t.which,a="on";if("x"!==s.axis&&(38===u||40===u)||"y"!==s.axis&&(37===u||39===u)){if((38===u||40===u)&&!i.overflowed[0]||(37===u||39===u)&&!i.overflowed[1])return;"keyup"===t.type&&(a="off"),e(document.activeElement).is(c)||(t.preventDefault(),t.stopImmediatePropagation(),r(a,u))}else if(33===u||34===u){if((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){$(n);var h=34===u?-1:1;if("x"===s.axis||"yx"===s.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",d=Math.abs(f[0].offsetLeft)-.9*h*l.width();else var p="y",d=Math.abs(f[0].offsetTop)-.9*h*l.height();J(n,d.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===u||36===u)&&!e(document.activeElement).is(c)&&((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===s.axis||"yx"===s.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",d=35===u?Math.abs(l.width()-f.outerWidth(!1)):0;else var p="y",d=35===u?Math.abs(l.height()-f.outerHeight(!1)):0;J(n,d.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),i=n.data(r),s=i.opt,o=i.sequential,u=r+"_"+i.idx,a=e("#mCSB_"+i.idx),f=e("#mCSB_"+i.idx+"_container"),l=f.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']",h=f.find("iframe"),p=["blur."+u+" keydown."+u+" keyup."+u];h.length&&h.each(function(){e(this).load(function(){H(this)&&e(this.contentDocument||this.contentWindow.document).bind(p[0],function(e){t(e)})})}),a.attr("tabindex","0").bind(p[0],function(e){t(e)})},U=function(t,n,i,s,o){function u(e){var n="stepped"!==h.type,r=o?o:e?n?v/1.5:m:1e3/60,i=e?n?7.5:40:2.5,a=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],l=[f.scrollRatio.y>10?10:f.scrollRatio.y,f.scrollRatio.x>10?10:f.scrollRatio.x],c="x"===h.dir[0]?a[1]+h.dir[1]*l[1]*i:a[0]+h.dir[1]*l[0]*i,d="x"===h.dir[0]?a[1]+h.dir[1]*parseInt(h.scrollAmount):a[0]+h.dir[1]*parseInt(h.scrollAmount),g="auto"!==h.scrollAmount?d:c,y=s?s:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",b=e?!0:!1;return e&&17>r&&(g="x"===h.dir[0]?a[1]:a[0]),J(t,g.toString(),{dir:h.dir[0],scrollEasing:y,dur:r,onComplete:b}),e?void (h.dir=!1):(clearTimeout(h.step),void (h.step=setTimeout(function(){u()},r)))}function a(){clearTimeout(h.step),Y(h,"step"),$(t)}var f=t.data(r),c=f.opt,h=f.sequential,p=e("#mCSB_"+f.idx+"_container"),d="stepped"===h.type?!0:!1,v=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(h.dir=[i===l[16]||i===l[15]||39===i||37===i?"x":"y",i===l[13]||i===l[15]||38===i||37===i?-1:1],$(t),tt(i)&&"stepped"===h.type)return;u(d);break;case"off":a(),(d||f.tweenRunning&&h.dir)&&u(!0)}},z=function(t){var n=e(this).data(r).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===n.axis?null:t,i[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},W=function(t,n){if(null!=t&&"undefined"!=typeof t){var i=e(this),s=i.data(r),o=s.opt,u=e("#mCSB_"+s.idx+"_container"),a=u.parent(),f=typeof t;n||(n="x"===o.axis?"x":"y");var l="x"===n?u.outerWidth(!1):u.outerHeight(!1),h="x"===n?u[0].offsetLeft:u[0].offsetTop,p="x"===n?"left":"top";switch(f){case"function":return t();case"object":var d=t.jquery?t:e(t);if(!d.length)return;return"x"===n?nt(d)[1]:nt(d)[0];case"string":case"number":if(tt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(l*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var v=h+parseInt(t.split("+=")[1]);return v>=0?0:Math.abs(v)}if(-1!==t.indexOf("px")&&tt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(a.height()-u.outerHeight(!1));if("right"===t)return Math.abs(a.width()-u.outerWidth(!1));if("first"===t||"last"===t){var d=u.find(":"+t);return"x"===n?nt(d)[1]:nt(d)[0]}return e(t).length?"x"===n?nt(e(t))[1]:nt(e(t))[0]:(u.css(p,t),void c.update.call(null,i[0]))}}},X=function(t){function n(){clearTimeout(p[0].autoUpdate),p[0].autoUpdate=setTimeout(function(){return h.advanced.updateOnSelectorChange&&(d=o(),d!==w)?(u(3),void (w=d)):(h.advanced.updateOnContentResize&&(v=[p.outerHeight(!1),p.outerWidth(!1),g.height(),g.width(),b()[0],b()[1]],(v[0]!==E[0]||v[1]!==E[1]||v[2]!==E[2]||v[3]!==E[3]||v[4]!==E[4]||v[5]!==E[5])&&(u(v[0]!==E[0]||v[1]!==E[1]),E=v)),h.advanced.updateOnImageLoad&&(m=i(),m!==S&&(p.find("img").each(function(){s(this)}),S=m)),void ((h.advanced.updateOnSelectorChange||h.advanced.updateOnContentResize||h.advanced.updateOnImageLoad)&&n()))},60)}function i(){var e=0;return h.advanced.updateOnImageLoad&&(e=p.find("img").length),e}function s(t){function n(e,t){return function(){return t.apply(e,arguments)}}function r(){this.onload=null,e(t).addClass(l[2]),u(2)}if(e(t).hasClass(l[2]))return void u();var i=new Image;i.onload=n(i,r),i.src=t.src}function o(){h.advanced.updateOnSelectorChange===!0&&(h.advanced.updateOnSelectorChange="*");var t=0,n=p.find(h.advanced.updateOnSelectorChange);return h.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=e(this).height()+e(this).width()}),t}function u(e){clearTimeout(p[0].autoUpdate),c.update.call(null,a[0],e)}var a=e(this),f=a.data(r),h=f.opt,p=e("#mCSB_"+f.idx+"_container");if(t)return clearTimeout(p[0].autoUpdate),void Y(p[0],"autoUpdate");var d,v,m,g=p.parent(),y=[e("#mCSB_"+f.idx+"_scrollbar_vertical"),e("#mCSB_"+f.idx+"_scrollbar_horizontal")],b=function(){return[y[0].is(":visible")?y[0].outerHeight(!0):0,y[1].is(":visible")?y[1].outerWidth(!0):0]},w=o(),E=[p.outerHeight(!1),p.outerWidth(!1),g.height(),g.width(),b()[0],b()[1]],S=i();n()},V=function(e,t,n){return Math.round(e/t)*t-n},$=function(t){var n=t.data(r),i=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");i.each(function(){G.call(this)})},J=function(t,n,i){function s(e){return a&&f.callbacks[e]&&"function"==typeof f.callbacks[e]}function o(){return[f.callbacks.alwaysTriggerOffsets||b>=w[0]+S,f.callbacks.alwaysTriggerOffsets||-x>=b]}function u(){var e=[p[0].offsetTop,p[0].offsetLeft],n=[g[0].offsetTop,g[0].offsetLeft],r=[p.outerHeight(!1),p.outerWidth(!1)],s=[h.height(),h.width()];t[0].mcs={content:p,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(r[0])-s[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(r[1])-s[1])),direction:i.dir}}var a=t.data(r),f=a.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:f.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=e.extend(l,i),c=[i.dur,i.drag?0:i.dur],h=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container"),d=p.parent(),v=f.callbacks.onTotalScrollOffset?z.call(t,f.callbacks.onTotalScrollOffset):[0,0],m=f.callbacks.onTotalScrollBackOffset?z.call(t,f.callbacks.onTotalScrollBackOffset):[0,0];if(a.trigger=i.trigger,(0!==d.scrollTop()||0!==d.scrollLeft())&&(e(".mCSB_"+a.idx+"_scrollbar").css("visibility","visible"),d.scrollTop(0).scrollLeft(0)),"_resetY"!==n||a.contentReset.y||(s("onOverflowYNone")&&f.callbacks.onOverflowYNone.call(t[0]),a.contentReset.y=1),"_resetX"!==n||a.contentReset.x||(s("onOverflowXNone")&&f.callbacks.onOverflowXNone.call(t[0]),a.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!a.contentReset.y&&t[0].mcs||!a.overflowed[0]||(s("onOverflowY")&&f.callbacks.onOverflowY.call(t[0]),a.contentReset.x=null),!a.contentReset.x&&t[0].mcs||!a.overflowed[1]||(s("onOverflowX")&&f.callbacks.onOverflowX.call(t[0]),a.contentReset.x=null),f.snapAmount&&(n=V(n,f.snapAmount,f.snapOffset)),i.dir){case"x":var g=e("#mCSB_"+a.idx+"_dragger_horizontal"),y="left",b=p[0].offsetLeft,w=[h.width()-p.outerWidth(!1),g.parent().width()-g.width()],E=[n,0===n?0:n/a.scrollRatio.x],S=v[1],x=m[1],N=S>0?S/a.scrollRatio.x:0,C=x>0?x/a.scrollRatio.x:0;break;case"y":var g=e("#mCSB_"+a.idx+"_dragger_vertical"),y="top",b=p[0].offsetTop,w=[h.height()-p.outerHeight(!1),g.parent().height()-g.height()],E=[n,0===n?0:n/a.scrollRatio.y],S=v[0],x=m[0],N=S>0?S/a.scrollRatio.y:0,C=x>0?x/a.scrollRatio.y:0}E[1]<0||0===E[0]&&0===E[1]?E=[0,0]:E[1]>=w[1]?E=[w[0],w[1]]:E[0]=-E[0],t[0].mcs||(u(),s("onInit")&&f.callbacks.onInit.call(t[0])),clearTimeout(p[0].onCompleteTimeout),(a.tweenRunning||!(0===b&&E[0]>=0||b===w[0]&&E[0]<=w[0]))&&(K(g[0],y,Math.round(E[1]),c[1],i.scrollEasing),K(p[0],y,Math.round(E[0]),c[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!a.tweenRunning&&(s("onScrollStart")&&(u(),f.callbacks.onScrollStart.call(t[0])),a.tweenRunning=!0,T(g),a.cbOffsets=o())},onUpdate:function(){i.callbacks&&i.onUpdate&&s("whileScrolling")&&(u(),f.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===f.axis&&clearTimeout(p[0].onCompleteTimeout);var e=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){s("onScroll")&&(u(),f.callbacks.onScroll.call(t[0])),s("onTotalScroll")&&E[1]>=w[1]-N&&a.cbOffsets[0]&&(u(),f.callbacks.onTotalScroll.call(t[0])),s("onTotalScrollBack")&&E[1]<=C&&a.cbOffsets[1]&&(u(),f.callbacks.onTotalScrollBack.call(t[0])),a.tweenRunning=!1,p[0].idleTimer=0,T(g,"hide")},e)}}}))}},K=function(e,t,n,r,i,s,o){function u(){E.stop||(y||d.call(),y=Q()-g,a(),y>=E.time&&(E.time=y>E.time?y+h-(y-E.time):y+h-1,E.time<y+1&&(E.time=y+1)),E.time<r?E.id=p(u):m.call())}function a(){r>0?(E.currVal=c(E.time,b,S,r,i),w[t]=Math.round(E.currVal)+"px"):w[t]=n+"px",v.call()}function f(){h=1e3/60,E.time=y+h,p=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return a(),setTimeout(e,.01)},E.id=p(u)}function l(){null!=E.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(E.id):clearTimeout(E.id),E.id=null)}function c(e,t,n,r,i){switch(i){case"linear":case"mcsLinear":return n*e/r+t;case"mcsLinearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=r/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=r/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=r,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var s=(e/=r)*e,o=s*e;return t+n*(.499999999999997*o*s+ -2.5*s*s+5.5*o+ -6.5*s+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var h,p,o=o||{},d=o.onStart||function(){},v=o.onUpdate||function(){},m=o.onComplete||function(){},g=Q(),y=0,b=e.offsetTop,w=e.style,E=e._mTween[t];"left"===t&&(b=e.offsetLeft);var S=n-b;E.stop=0,"none"!==s&&l(),f()},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},G=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var r=t[n];e._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[r].id):clearTimeout(e._mTween[r].id),e._mTween[r].id=null,e._mTween[r].stop=1)}},Y=function(e,t){try{delete e[t]}catch(n){e[t]=null}},Z=function(e){return!e.which||1===e.which},et=function(e){var t=e.originalEvent.pointerType;return!t||"touch"===t||2===t},tt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},nt=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[n]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):c.init.apply(this,arguments)},e[n]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):c.init.apply(this,arguments)},e[n].defaults=s,window[n]=!0,e(window).load(function(){e(i)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,r,i=e(t),s=i.parents(".mCSB_container");if(s.length)return n=s.parent(),r=[s[0].offsetTop,s[0].offsetLeft],r[0]+nt(i)[0]>=0&&r[0]+nt(i)[0]<n.height()-i.outerHeight(!1)&&r[1]+nt(i)[1]>=0&&r[1]+nt(i)[1]<n.width()-i.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(r);if(n)return n.overflowed[0]||n.overflowed[1]}})})})}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("plugins/proj4js",t):e.proj4=t()}(this,function(){function e(e,t){if(e[t])return e[t];var n=Object.keys(e),r=t.toLowerCase().replace(Un,""),i=-1,s,o;while(++i<n.length){s=n[i],o=s.toLowerCase().replace(Un,"");if(o===r)return e[s]}}function t(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Wn}function n(e){var n=new t(e);return n.output()}function r(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,s=n.reduce(function(e,t){return i(t,e),e},r);t&&(e[t]=s)}function i(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();n==="PARAMETER"&&(n=e.shift());if(e.length===1){if(Array.isArray(e[0])){t[n]={},i(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}Array.isArray(n)||(t[n]={});var s;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&i(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&i(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],r(t,n,e);return;default:s=-1;while(++s<e.length)if(!Array.isArray(e[s]))return i(e,t[n]);return r(t,n,e)}}function s(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],t.length===3&&(e[n]=t[2](e[n])))}function o(e){return e*tr}function u(e){function t(t){var n=e.to_meter||1;return t*n}e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):(e.to_meter=e.UNIT.convert,10)));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e);if(n){n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2));if(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")e.datumCode="nzgd49";e.datumCode==="wgs_1984"&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36")}e.b&&!isFinite(e.b)&&(e.b=e.a);var r=function(t){return s(e,t)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]];i.forEach(r),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")&&(e.lat0=o(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function a(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?a[e]=zn(arguments[1]):a[e]=nr(arguments[1]):a[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?a.apply(t,e):a(e)});if(typeof e=="string"){if(e in a)return a[e]}else"EPSG"in e?a["EPSG:"+e.EPSG]=e:"ESRI"in e?a["ESRI:"+e.ESRI]=e:"IAU2000"in e?a["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function f(e){return typeof e=="string"}function l(e){return e in a}function c(e){return rr.some(function(t){return e.indexOf(t)>-1})}function h(e){return e[0]==="+"}function p(e){if(!f(e))return e;if(l(e))return a[e];if(c(e))return nr(e);if(h(e))return zn(e)}function d(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function v(e){var t=e.x,n=e.y;if(n*Bn>90&&n*Bn<-90&&t*Bn>180&&t*Bn<-180)return null;var r,i;if(Math.abs(Math.abs(n)-On)<=Pn)return null;if(this.sphere)r=this.x0+this.a*this.k0*ur(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(jn+.5*n));else{var s=Math.sin(n),o=ar(this.e,n,s);r=this.x0+this.a*this.k0*ur(t-this.long0),i=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=i,e}function m(e){var t=e.x-this.x0,n=e.y-this.y0,r,i;if(this.sphere)i=On-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));i=fr(this.e,s);if(i===-9999)return null}return r=ur(this.long0+t/(this.a*this.k0)),e.x=r,e.y=i,e}function g(){}function y(e){return e}function b(e,t){var n=mr.length;return e.names?(mr[n]=e,e.names.forEach(function(e){vr[e.toLowerCase()]=n}),this):(console.log(t),!0)}function w(e){if(!e)return!1;var t=e.toLowerCase();if(typeof vr[t]!="undefined"&&mr[vr[t]])return mr[vr[t]]}function E(){dr.forEach(b)}function S(e,t,n,r){var i=e*e,s=t*t,o=(i-s)/i,u=0;r?(e*=1-o*(Mn+o*(_n+o*Dn)),i=e*e,o=0):u=Math.sqrt(o);var a=(i-s)/s;return{es:o,e:u,ep2:a}}function x(t,n,r,i,s){if(!t){var o=e(yr,i);o||(o=br),t=o.a,n=o.b,r=o.rf}r&&!n&&(n=(1-1/r)*t);if(r===0||Math.abs(t-n)<Pn)s=!0,n=t;return{a:t,b:n,rf:r,sphere:s}}function T(e,t,n,r,i,s){var o={};e===undefined||e==="none"?o.datum_type=Ln:o.datum_type=kn;if(t){o.datum_params=t.map(parseFloat);if(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)o.datum_type=Nn;o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=Cn,o.datum_params[3]*=An,o.datum_params[4]*=An,o.datum_params[5]*=An,o.datum_params[6]=o.datum_params[6]/1e6+1)}return o.a=n,o.b=r,o.es=i,o.ep2=s,o}function N(t,n){if(!(this instanceof N))return new N(t);n=n||function(e){if(e)throw e};var r=p(t);if(typeof r!="object"){n(t);return}var i=N.projections.get(r.projName);if(!i){n(t);return}if(r.datumCode&&r.datumCode!=="none"){var s=e(wr,r.datumCode);s&&(r.datum_params=s.towgs84?s.towgs84.split(","):null,r.ellps=s.ellipse,r.datumName=s.datumName?s.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var o=x(r.a,r.b,r.rf,r.ellps,r.sphere),u=S(o.a,o.b,o.rf,r.R_A),a=r.datum||T(r.datumCode,r.datum_params,o.a,o.b,u.es,u.ep2);ir(this,r),ir(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=u.es,this.e=u.e,this.ep2=u.ep2,this.datum=a,this.init(),n(null,this)}function C(e,t){return e.datum_type!==t.datum_type?!1:e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Nn?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Cn?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function k(e,t,n){var r=e.x,i=e.y,s=e.z?e.z:0,o,u,a,f;if(i<-On&&i>-1.001*On)i=-On;else if(i>On&&i<1.001*On)i=On;else if(i<-On||i>On)return null;return r>Math.PI&&(r-=2*Math.PI),u=Math.sin(i),f=Math.cos(i),a=u*u,o=n/Math.sqrt(1-t*a),{x:(o+s)*f*Math.cos(r),y:(o+s)*f*Math.sin(r),z:(o*(1-t)+s)*u}}function L(e,t,n,r){var i=1e-12,s=i*i,o=30,u,a,f,l,c,h,p,d,v,m,g,y,b,w=e.x,E=e.y,S=e.z?e.z:0,x,T,N;u=Math.sqrt(w*w+E*E),a=Math.sqrt(w*w+E*E+S*S);if(u/n<i){x=0;if(a/n<i)return T=On,N=-r,{x:e.x,y:e.y,z:e.z}}else x=Math.atan2(E,w);f=S/a,l=u/a,c=1/Math.sqrt(1-t*(2-t)*l*l),d=l*(1-t)*c,v=f*c,b=0;do b++,p=n/Math.sqrt(1-t*v*v),N=u*d+S*v-p*(1-t*v*v),h=t*p/(p+N),c=1/Math.sqrt(1-h*(2-h)*l*l),m=l*(1-h)*c,g=f*c,y=g*d-m*v,d=m,v=g;while(y*y>s&&b<o);return T=Math.atan(g/Math.abs(m)),{x:x,y:T,z:N}}function A(e,t,n){if(t===Nn)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===Cn){var r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],f=n[6];return{x:f*(e.x-a*e.y+u*e.z)+r,y:f*(a*e.x+e.y-o*e.z)+i,z:f*(-u*e.x+o*e.y+e.z)+s}}}function O(e,t,n){if(t===Nn)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===Cn){var r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],f=n[6],l=(e.x-r)/f,c=(e.y-i)/f,h=(e.z-s)/f;return{x:l+a*c-u*h,y:-a*l+c+o*h,z:u*l-o*c+h}}}function M(e){return e===Nn||e===Cn}function _(e,t){return(e.datum.datum_type===Nn||e.datum.datum_type===Cn)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Nn||t.datum.datum_type===Cn)&&e.datumCode!=="WGS84"}function D(e,t,n){var r;return Array.isArray(n)&&(n=xr(n)),e.datum&&t.datum&&_(e,t)&&(r=new N("WGS84"),n=D(e,r,n),e=r),e.axis!=="enu"&&(n=Sr(e,!1,n)),e.projName==="longlat"?n={x:n.x*Hn,y:n.y*Hn}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=Er(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),t.projName==="longlat"?n={x:n.x*Bn,y:n.y*Bn}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),t.axis!=="enu"?Sr(t,!0,n):n}function P(e,t,n){var r;return Array.isArray(n)?(r=D(e,t,n),n.length===3?[r.x,r.y,r.z]:[r.x,r.y]):D(e,t,n)}function H(e){return e instanceof N?e:e.oProj?e.oProj:N(e)}function B(e,t,n){e=H(e);var r=!1,i;if(typeof t=="undefined")t=e,e=Tr,r=!0;else if(typeof t.x!="undefined"||Array.isArray(t))n=t,t=e,e=Tr,r=!0;return t=H(t),n?P(e,t,n):(i={forward:function(n){return P(e,t,n)},inverse:function(n){return P(t,e,n)}},r&&(i.oProj=t),i)}function j(e,t){return t=t||5,X(U({lat:e[1],lon:e[0]}),t)}function F(e){var t=z(K(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function I(e){var t=z(K(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function q(e){return e*(Math.PI/180)}function R(e){return 180*(e/Math.PI)}function U(e){var t=e.lat,n=e.lon,r=6378137,i=.00669438,s=.9996,o,u,a,f,l,c,h,p=q(t),d=q(n),v,m;m=Math.floor((n+180)/6)+1,n===180&&(m=60),t>=56&&t<64&&n>=3&&n<12&&(m=32),t>=72&&t<84&&(n>=0&&n<9?m=31:n>=9&&n<21?m=33:n>=21&&n<33?m=35:n>=33&&n<42&&(m=37)),o=(m-1)*6-180+3,v=q(o),u=i/(1-i),a=r/Math.sqrt(1-i*Math.sin(p)*Math.sin(p)),f=Math.tan(p)*Math.tan(p),l=u*Math.cos(p)*Math.cos(p),c=Math.cos(p)*(d-v),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*p-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*p)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*p)-35*i*i*i/3072*Math.sin(6*p));var g=s*a*(c+(1-f+l)*c*c*c/6+(5-18*f+f*f+72*l-58*u)*c*c*c*c*c/120)+5e5,y=s*(h+a*Math.tan(p)*(c*c/2+(5-f+9*l+4*l*l)*c*c*c*c/24+(61-58*f+f*f+600*l-330*u)*c*c*c*c*c*c/720));return t<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(g),zoneNumber:m,zoneLetter:W(t)}}function z(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var s=.9996,o=6378137,u=.00669438,a,f=(1-Math.sqrt(1-u))/(1+Math.sqrt(1-u)),l,c,h,p,d,v,m,g,y,b=n-5e5,w=t;r<"N"&&(w-=1e7),m=(i-1)*6-180+3,a=u/(1-u),v=w/s,g=v/(o*(1-u/4-3*u*u/64-5*u*u*u/256)),y=g+(3*f/2-27*f*f*f/32)*Math.sin(2*g)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*g)+151*f*f*f/96*Math.sin(6*g),l=o/Math.sqrt(1-u*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),h=a*Math.cos(y)*Math.cos(y),p=o*(1-u)/Math.pow(1-u*Math.sin(y)*Math.sin(y),1.5),d=b/(l*s);var E=y-l*Math.tan(y)/p*(d*d/2-(5+3*c+10*h-4*h*h-9*a)*d*d*d*d/24+(61+90*c+298*h+45*c*c-252*a-3*h*h)*d*d*d*d*d*d/720);E=R(E);var S=(d-(1+2*c+h)*d*d*d/6+(5-2*h+28*c-3*h*h+8*a+24*c*c)*d*d*d*d*d/120)/Math.cos(y);S=m+R(S);var x;if(e.accuracy){var T=z({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});x={top:T.lat,right:T.lon,bottom:E,left:S}}else x={lat:E,lon:S};return x}function W(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function X(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+V(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function V(e,t,n){var r=$(n),i=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return J(i,s,r)}function $(e){var t=e%Nr;return t===0&&(t=Nr),t}function J(e,t,n){var r=n-1,i=Cr.charCodeAt(r),s=kr.charCodeAt(r),o=i+e-1,u=s+t,a=!1;o>_r&&(o=o-_r+Lr-1,a=!0),(o===Ar||i<Ar&&o>Ar||(o>Ar||i<Ar)&&a)&&o++;if(o===Or||i<Or&&o>Or||(o>Or||i<Or)&&a)o++,o===Ar&&o++;o>_r&&(o=o-_r+Lr-1),u>Mr?(u=u-Mr+Lr-1,a=!0):a=!1,(u===Ar||s<Ar&&u>Ar||(u>Ar||s<Ar)&&a)&&u++;if(u===Or||s<Or&&u>Or||(u>Or||s<Or)&&a)u++,u===Ar&&u++;u>Mr&&(u=u-Mr+Lr-1);var f=String.fromCharCode(o)+String.fromCharCode(u);return f}function K(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";var t=e.length,n=null,r="",i,s=0;while(!/[A-Z]/.test(i=e.charAt(s))){if(s>=2)throw"MGRSPoint bad conversion from: "+e;r+=i,s++}var o=parseInt(r,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var u=e.charAt(s++);if(u<="A"||u==="B"||u==="Y"||u>="Z"||u==="I"||u==="O")throw"MGRSPoint zone letter "+u+" not handled: "+e;n=e.substring(s,s+=2);var a=$(o),f=Q(n.charAt(0),a),l=G(n.charAt(1),a);while(l<Y(u))l+=2e6;var c=t-s;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h=c/2,p=0,d=0,v,m,g,y,b;return h>0&&(v=1e5/Math.pow(10,h),m=e.substring(s,s+h),p=parseFloat(m)*v,g=e.substring(s+h),d=parseFloat(g)*v),y=p+f,b=d+l,{easting:y,northing:b,zoneLetter:u,zoneNumber:o,accuracy:v}}function Q(e,t){var n=Cr.charCodeAt(t-1),r=1e5,i=!1;while(n!==e.charCodeAt(0)){n++,n===Ar&&n++,n===Or&&n++;if(n>_r){if(i)throw"Bad character: "+e;n=Lr,i=!0}r+=1e5}return r}function G(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=kr.charCodeAt(t-1),r=0,i=!1;while(n!==e.charCodeAt(0)){n++,n===Ar&&n++,n===Or&&n++;if(n>Mr){if(i)throw"Bad character: "+e;n=Lr,i=!0}r+=1e5}return r}function Y(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t=="undefined"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function et(){this.x0=this.x0!==undefined?this.x0:0,this.y0=this.y0!==undefined?this.y0:0,this.long0=this.long0!==undefined?this.long0:0,this.lat0=this.lat0!==undefined?this.lat0:0,this.es&&(this.en=$r(this.es),this.ml0=Jr(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function tt(e){var t=e.x,n=e.y,r=ur(t-this.long0),i,s,o,u=Math.sin(n),a=Math.cos(n);if(!this.es){var f=a*Math.sin(r);if(Math.abs(Math.abs(f)-1)<Pn)return 93;s=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,o=a*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(o);if(f>=1){if(f-1>Pn)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}else{var l=a*r,c=Math.pow(l,2),h=this.ep2*Math.pow(a,2),p=Math.pow(h,2),d=Math.abs(a)>Pn?Math.tan(n):0,v=Math.pow(d,2),m=Math.pow(v,2);i=1-this.es*Math.pow(u,2),l/=Math.sqrt(i);var g=Jr(n,u,a,this.en);s=this.a*this.k0*l*(1+c/6*(1-v+h+c/20*(5-18*v+m+14*h-58*v*h+c/42*(61+179*m-m*v-479*v))))+this.x0,o=this.a*this.k0*(g-this.ml0+u*r*l/2*(1+c/12*(5-v+9*h+4*p+c/30*(61+m-58*v+270*h-330*v*h+c/56*(1385+543*m-m*v-3111*v)))))+this.y0}return e.x=s,e.y=o,e}function nt(e){var t,n,r,i,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(!this.es){var u=Math.exp(s/this.k0),a=.5*(u-1/u),f=this.lat0+o/this.k0,l=Math.cos(f);t=Math.sqrt((1-Math.pow(l,2))/(1+Math.pow(a,2))),r=Math.asin(t),o<0&&(r=-r),a===0&&l===0?i=0:i=ur(Math.atan2(a,l)+this.long0)}else{t=this.ml0+o/this.k0,n=Qr(t,this.es,this.en);if(Math.abs(n)<On){var c=Math.sin(n),h=Math.cos(n),p=Math.abs(h)>Pn?Math.tan(n):0,d=this.ep2*Math.pow(h,2),v=Math.pow(d,2),m=Math.pow(p,2),g=Math.pow(m,2);t=1-this.es*Math.pow(c,2);var y=s*Math.sqrt(t)/this.k0,b=Math.pow(y,2);t*=p,r=n-t*b/(1-this.es)*.5*(1-b/12*(5+3*m-9*d*m+d-4*v-b/30*(61+90*m-252*d*m+45*g+46*d-b/56*(1385+3633*m+4095*g+1574*g*m)))),i=ur(this.long0+y*(1-b/6*(1+2*m+d-b/20*(5+28*m+24*g+8*d*m+6*d-b/42*(61+662*m+1320*g+720*g*m))))/h)}else r=On*or(o),i=0}return e.x=i,e.y=r,e}function rt(){if(this.es===undefined||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=this.x0!==undefined?this.x0:0,this.y0=this.y0!==undefined?this.y0:0,this.long0=this.long0!==undefined?this.long0:0,this.lat0=this.lat0!==undefined?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n*=t,this.cgb[1]=n*(7/3+t*(-1.6+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-2.4+t*(-24832/14175))),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(-0.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-0.6+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*.6650675310896665;var r=ri(this.cbg,this.lat0);this.Zb=-this.Qn*(r+ii(this.gtu,2*r))}function it(e){var t=ur(e.x-this.long0),n=e.y;n=ri(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(s*i,ei(r,i*o)),t=ni(Math.tan(t));var u=oi(this.gtu,2*n,2*t);n+=u[0],t+=u[1];var a,f;return Math.abs(t)<=2.623395162778?(a=this.a*this.Qn*t+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(a=Infinity,f=Infinity),e.x=a,e.y=f,e}function st(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var s=oi(this.utg,2*n,2*t);n+=s[0],t+=s[1],t=Math.atan(Zr(t));var o=Math.sin(n),u=Math.cos(n),a=Math.sin(t),f=Math.cos(t);n=Math.atan2(o*f,ei(a,f*u)),t=Math.atan2(a,f*u),r=ur(t+this.long0),i=ri(this.cgb,n)}else r=Infinity,i=Infinity;return e.x=r,e.y=i,e}function ot(){var e=fi(this.zone,this.long0);if(e===undefined)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Hn,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ai.init.apply(this),this.forward=ai.forward,this.inverse=ai.inverse}function ut(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+jn)/(Math.pow(Math.tan(.5*this.lat0+jn),this.C)*pi(this.e*e,this.ratexp))}function at(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+jn),this.C)*pi(this.e*Math.sin(n),this.ratexp))-On,e.x=this.C*t,e}function ft(e){var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+jn)/this.K,1/this.C);for(var s=di;s>0;--s){r=2*Math.atan(i*pi(this.e*Math.sin(e.y),-0.5*this.e))-On;if(Math.abs(r-e.y)<t)break;e.y=r}return s?(e.x=n,e.y=r,e):null}function lt(){mi.init.apply(this);if(!this.rc)return;this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative")}function ct(e){var t,n,r,i;return e.x=ur(e.x-this.long0),mi.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function ht(e){var t,n,r,i,s;e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0;if(s=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,mi.inverse.apply(this,[e]),e.x=ur(e.x+this.long0),e}function pt(e,t,n){return t*=n,Math.tan(.5*(On+e))*Math.pow((1-t)/(1+t),.5*n)}function dt(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Pn&&(this.k0=.5*(1+or(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Pn&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Pn&&(this.k0=.5*this.cons*sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ar(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=sr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-On,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vt(e){var t=e.x,n=e.y,r=Math.sin(n),i=Math.cos(n),s,o,u,a,f,l,c=ur(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=Pn&&Math.abs(n+this.lat0)<=Pn?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),e.x=this.a*s*i*Math.sin(c)+this.x0,e.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,e):(o=2*Math.atan(this.ssfn_(n,r,this.e))-On,a=Math.cos(o),u=Math.sin(o),Math.abs(this.coslat0)<=Pn?(f=ar(this.e,n*this.con,this.con*r),l=2*this.a*this.k0*f/this.cons,e.x=this.x0+l*Math.sin(t-this.long0),e.y=this.y0-this.con*l*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<Pn?(s=2*this.a*this.k0/(1+a*Math.cos(c)),e.y=s*u):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*u+this.cosX0*a*Math.cos(c))),e.y=s*(this.cosX0*u-this.sinX0*a*Math.cos(c))+this.y0),e.x=s*a*Math.sin(c)+this.x0,e))}function mt(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var u=2*Math.atan(o/(.5*this.a*this.k0));return t=this.long0,n=this.lat0,o<=Pn?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(u)*this.sinlat0+e.y*Math.sin(u)*this.coslat0/o),Math.abs(this.coslat0)<Pn?this.lat0>0?t=ur(this.long0+Math.atan2(e.x,-1*e.y)):t=ur(this.long0+Math.atan2(e.x,e.y)):t=ur(this.long0+Math.atan2(e.x*Math.sin(u),o*this.coslat0*Math.cos(u)-e.y*this.sinlat0*Math.sin(u))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=Pn){if(o<=Pn)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*fr(this.e,r),t=this.con*ur(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=Pn?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=ur(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*fr(this.e,Math.tan(.5*(On+s)));return e.x=t,e.y=n,e}function gt(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var u=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),f=Math.log((1+o*t)/(1-o*t));this.K=u-this.alpha*a+this.alpha*o/2*f}function yt(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),u=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(u))/(1-Math.sin(u)))+this.y0,e.x=this.R*o+this.x0,e}function bt(e){var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),u=this.lambda0+o/this.alpha,a=0,f=s,l=-1e3,c=0;while(Math.abs(f-l)>1e-7){if(++c>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),l=f,f=2*Math.atan(Math.exp(a))-Math.PI/2}return e.x=u,e.y=f,e}function wt(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=ar(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var s,o;if(!isNaN(this.longc))this.lat0>=0?s=i+Math.sqrt(i*i-1):s=i-Math.sqrt(i*i-1),this.el=s*Math.pow(r,this.bl),o=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;else{var u=ar(this.e,this.lat1,Math.sin(this.lat1)),a=ar(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var f=Math.pow(u,this.bl),l=Math.pow(a,this.bl);s=this.el/f,o=.5*(s-1/s);var c=(this.el*this.el-l*f)/(this.el*this.el+l*f),h=(l-f)/(l+f),p=ur(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=ur(this.long0);var d=ur(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/o),this.alpha=Math.asin(i*Math.sin(this.gamma0))}this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function Et(e){var t=e.x,n=e.y,r=ur(t-this.long0),i,s,o;if(Math.abs(Math.abs(n)-On)<=Pn)n>0?o=-1:o=1,s=this.al/this.bl*Math.log(Math.tan(jn+o*this.gamma0*.5)),i=-1*o*On*this.al/this.bl;else{var u=ar(this.e,n,Math.sin(n)),a=this.el/Math.pow(u,this.bl),f=.5*(a-1/a),l=.5*(a+1/a),c=Math.sin(this.bl*r),h=(f*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/l;Math.abs(Math.abs(h)-1)<=Pn?s=Number.POSITIVE_INFINITY:s=.5*this.al*Math.log((1-h)/(1+h))/this.bl,Math.abs(Math.cos(this.bl*r))<=Pn?i=this.al*this.bl*r:i=this.al*Math.atan2(f*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*r))/this.bl}return this.no_rot?(e.x=this.x0+i,e.y=this.y0+s):(i-=this.uc,e.x=this.x0+s*Math.cos(this.alpha)+i*Math.sin(this.alpha),e.y=this.y0+i*Math.cos(this.alpha)-s*Math.sin(this.alpha)),e}function St(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.bl*t/this.al),u=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/s,a=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<Pn?(e.x=this.long0,e.y=On):Math.abs(u+1)<Pn?(e.x=this.long0,e.y=-1*On):(e.y=fr(this.e,a),e.x=ur(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function xt(){this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<Pn)return;var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=sr(this.e,t,n),i=ar(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),u=sr(this.e,s,o),a=ar(this.e,this.lat2,s),f=ar(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Pn?this.ns=Math.log(r/u)/Math.log(i/a):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}function Tt(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=Pn&&(n=or(n)*(On-2*Pn));var r=Math.abs(Math.abs(n)-On),i,s;if(r>Pn)i=ar(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{r=n*this.ns;if(r<=0)return null;s=0}var o=this.ns*ur(t-this.long0);return e.x=this.k0*s*Math.sin(o)+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function Nt(e){var t,n,r,i,s,o=(e.x-this.x0)/this.k0,u=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+u*u),n=1):(t=-Math.sqrt(o*o+u*u),n=-1);var a=0;t!==0&&(a=Math.atan2(n*o,n*u));if(t!==0||this.ns>0){n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=fr(this.e,r);if(i===-9999)return null}else i=-On;return s=ur(a/this.ns+this.long0),e.x=s,e.y=i,e}function Ct(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function kt(e){var t,n,r,i,s,o,u,a=e.x,f=e.y,l=ur(a-this.long0);return t=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/t)-this.s45),r=-l*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=u*Math.cos(o)/1,e.x=u*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Lt(e){var t,n,r,i,s,o,u,a,f=e.x;e.x=e.y,e.y=f,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,u=t,a=0;var l=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.e/2))-this.s45),Math.abs(u-e.y)<1e-10&&(a=1),u=e.y,l+=1;while(a===0&&l<15);return l>=15?null:e}function At(){this.sphere||(this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.ml0=this.a*Ai(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Ot(e){var t,n,r=e.x,i=e.y;r=ur(r-this.long0);if(this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),u=Pi(this.a,this.e,s),a=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),l=f*f,c=this.es*o*o/(1-this.es),h=this.a*Ai(this.e0,this.e1,this.e2,this.e3,i);t=u*f*(1-l*a*(1/6-(8-a+8*c)*l/120)),n=h-this.ml0+u*s/o*l*(.5+(5-a+6*c)*l/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Mt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+n,u=Bi(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-On)<=Pn)return e.x=this.long0,e.y=On,n<0&&(e.y*=-1),e;var a=Pi(this.a,this.e,Math.sin(u)),f=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(u),2),c=t*this.a/a,h=c*c;r=u-a*Math.tan(u)/f*c*c*(.5-(1+3*l)*c*c/24),i=c*(1-h*(l/3+(1+3*l)*l*h/15))/Math.cos(u)}return e.x=ur(i+this.long0),e.y=Hi(r),e}function _t(){var e=Math.abs(this.lat0);Math.abs(e-On)<Pn?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Pn?this.mode=this.EQUIT:this.mode=this.OBLIQ;if(this.es>0){var t;this.qp=Ii(this.e,1),this.mmf=.5/(1-this.es),this.apa=Ht(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ii(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Dt(e){var t,n,r,i,s,o,u,a,f,l,c=e.x,h=e.y;c=ur(c-this.long0);if(this.sphere){s=Math.sin(h),l=Math.cos(h),r=Math.cos(c);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){n=this.mode===this.EQUIT?1+l*r:1+this.sinph0*s+this.cosph0*l*r;if(n<=Pn)return null;n=Math.sqrt(2/n),t=n*l*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*l*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(r=-r);if(Math.abs(h+this.phi0)<Pn)return null;n=jn-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(c),n*=r}}else{u=0,a=0,f=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),o=Ii(this.e,s);if(this.mode===this.OBLIQ||this.mode===this.EQUIT)u=o/this.qp,a=Math.sqrt(1-u*u);switch(this.mode){case this.OBLIQ:f=1+this.sinb1*u+this.cosb1*a*r;break;case this.EQUIT:f=1+a*r;break;case this.N_POLE:f=On+h,o=this.qp-o;break;case this.S_POLE:f=h-On,o=this.qp+o}if(Math.abs(f)<Pn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?n=this.ymf*f*(this.cosb1*u-this.sinb1*a*r):n=(f=Math.sqrt(2/(1+a*r)))*u*this.ymf,t=this.xmf*f*a*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(f=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?f:-f)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Pt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i,s,o,u,a,f;if(this.sphere){var l=0,c,h=0;c=Math.sqrt(t*t+n*n),i=c*.5;if(i>1)return null;i=2*Math.asin(i);if(this.mode===this.OBLIQ||this.mode===this.EQUIT)h=Math.sin(i),l=Math.cos(i);switch(this.mode){case this.EQUIT:i=Math.abs(c)<=Pn?0:Math.asin(n*h/c),t*=h,n=l*c;break;case this.OBLIQ:i=Math.abs(c)<=Pn?this.phi0:Math.asin(l*this.sinph0+n*h*this.cosph0/c),t*=h*this.cosph0,n=(l-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=On-i;break;case this.S_POLE:i-=On}r=n!==0||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(t,n):0}else{f=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){t/=this.dd,n*=this.dd,a=Math.sqrt(t*t+n*n);if(a<Pn)return e.x=0,e.y=this.phi0,e;o=2*Math.asin(.5*a/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(f=s*this.sinb1+n*o*this.cosb1/a,u=this.qp*f,n=a*this.cosb1*s-n*this.sinb1*o):(f=n*o/a,u=this.qp*f,n=a*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(n=-n),u=t*t+n*n;if(!u)return e.x=0,e.y=this.phi0,e;f=1-u/this.qp,this.mode===this.S_POLE&&(f=-f)}r=Math.atan2(t,n),i=Bt(Math.asin(f),this.apa)}return e.x=ur(this.long0+r),e.y=i,e}function Ht(e){var t,n=[];return n[0]=e*Wi,t=e*e,n[0]+=t*Xi,n[1]=t*$i,t*=e,n[0]+=t*Vi,n[1]+=t*Ji,n[2]=t*Ki,n}function Bt(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function jt(){if(Math.abs(this.lat1+this.lat2)<Pn)return;this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=sr(this.e3,this.sin_po,this.cos_po),this.qs1=Ii(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=sr(this.e3,this.sin_po,this.cos_po),this.qs2=Ii(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ii(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Pn?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0}function Ft(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ii(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ur(t-this.long0),o=i*Math.sin(s)+this.x0,u=this.rh-i*Math.cos(s)+this.y0;return e.x=o,e.y=u,e}function It(e){var t,n,r,i,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,t!==0&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=ur(i/this.ns0+this.long0),e.x=s,e.y=o,e}function qt(e,t){var n,r,i,s,o,u=Yi(.5*t);if(e<Pn)return u;var a=e*e;for(var f=1;f<=25;f++){n=Math.sin(u),r=Math.cos(u),i=e*n,s=1-i*i,o=.5*s*s/r*(t/(1-a)-n/s+.5/e*Math.log((1-i)/(1+i))),u+=o;if(Math.abs(o)<=1e-7)return u}return null}function Rt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ut(e){var t,n,r,i,s,o,u,a,f=e.x,l=e.y;return r=ur(f-this.long0),t=Math.sin(l),n=Math.cos(l),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=Pn?(u=this.x0+this.a*s*n*Math.sin(r)/o,a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)/o):(u=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=u,e.y=a,e}function zt(e){var t,n,r,i,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=Yi(r*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),s=ur(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}function Wt(){this.sphere||(this.k0=sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Xt(e){var t=e.x,n=e.y,r,i,s=ur(t-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Ii(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=i,e}function Vt(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=ur(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=rs(this.e,2*e.y*this.k0/this.a),t=ur(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function $t(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Jt(e){var t=e.x,n=e.y,r=ur(t-this.long0),i=Hi(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function Kt(e){var t=e.x,n=e.y;return e.x=ur(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Hi(this.lat0+(n-this.y0)/this.a),e}function Qt(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.ml0=this.a*Ai(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Gt(e){var t=e.x,n=e.y,r,i,s,o=ur(t-this.long0);s=o*Math.sin(n);if(this.sphere)Math.abs(n)<=Pn?(r=this.a*o,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Hi(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=Pn)r=this.a*o,i=-1*this.ml0;else{var u=Pi(this.a,this.e,Math.sin(n))/Math.tan(n);r=u*Math.sin(s),i=this.a*Ai(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+u*(1-Math.cos(s))}return e.x=r+this.x0,e.y=i+this.y0,e}function Yt(e){var t,n,r,i,s,o,u,a,f;r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)if(Math.abs(i+this.a*this.lat0)<=Pn)t=ur(r/this.a+this.long0),n=0;else{o=this.lat0+i/this.a,u=r*r/this.a/this.a+o*o,a=o;var l;for(s=as;s;--s){l=Math.tan(a),f=-1*(o*(a*l+1)-a-.5*(a*a+u)*l)/((a-o)/l-1),a+=f;if(Math.abs(f)<=Pn){n=a;break}}t=ur(this.long0+Math.asin(r*Math.tan(a)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Pn)n=0,t=ur(this.long0+r/this.a);else{o=(this.ml0+i)/this.a,u=r*r/this.a/this.a+o*o,a=o;var c,h,p,d,v;for(s=as;s;--s){v=this.e*Math.sin(a),c=Math.sqrt(1-v*v)*Math.tan(a),h=this.a*Ai(this.e0,this.e1,this.e2,this.e3,a),p=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),d=h/this.a,f=(o*(c*d+1)-d-.5*c*(d*d+u))/(this.es*Math.sin(2*a)*(d*d+u-2*o*d)/(4*c)+(o-d)*(c*p-2/Math.sin(2*a))-p),a-=f;if(Math.abs(f)<=Pn){n=a;break}}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=ur(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function Zt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-0.1358797613,this.A[3]=.063294409,this.A[4]=-0.02526853,this.A[5]=.0117879,this.A[6]=-0.0055161,this.A[7]=.0026906,this.A[8]=-0.001333,this.A[9]=67e-5,this.A[10]=-0.00034,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-0.001541739,this.B_im[3]=.04105856,this.B_re[4]=-0.10162907,this.B_im[4]=.01727609,this.B_re[5]=-0.26623489,this.B_im[5]=-0.36249218,this.B_re[6]=-0.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-0.577245789,this.C_im[2]=-0.007809598,this.C_re[3]=.508307513,this.C_im[3]=-0.112208952,this.C_re[4]=-0.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-0.03333098,this.D[4]=-0.1052906,this.D[5]=-0.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-0.0013}function en(e){var t,n=e.x,r=e.y,i=r-this.lat0,s=n-this.long0,o=i/An*1e-5,u=s,a=1,f=0;for(t=1;t<=10;t++)a*=o,f+=this.A[t]*a;var l=f,c=u,h=1,p=0,d,v,m=0,g=0;for(t=1;t<=6;t++)d=h*l-p*c,v=p*l+h*c,h=d,p=v,m=m+this.B_re[t]*h-this.B_im[t]*p,g=g+this.B_im[t]*h+this.B_re[t]*p;return e.x=g*this.a+this.x0,e.y=m*this.a+this.y0,e}function tn(e){var t,n=e.x,r=e.y,i=n-this.x0,s=r-this.y0,o=s/this.a,u=i/this.a,a=1,f=0,l,c,h=0,p=0;for(t=1;t<=6;t++)l=a*o-f*u,c=f*o+a*u,a=l,f=c,h=h+this.C_re[t]*a-this.C_im[t]*f,p=p+this.C_im[t]*a+this.C_re[t]*f;for(var d=0;d<this.iterations;d++){var v=h,m=p,g,y,b=o,w=u;for(t=2;t<=6;t++)g=v*h-m*p,y=m*h+v*p,v=g,m=y,b+=(t-1)*(this.B_re[t]*v-this.B_im[t]*m),w+=(t-1)*(this.B_im[t]*v+this.B_re[t]*m);v=1,m=0;var E=this.B_re[1],S=this.B_im[1];for(t=2;t<=6;t++)g=v*h-m*p,y=m*h+v*p,v=g,m=y,E+=t*(this.B_re[t]*v-this.B_im[t]*m),S+=t*(this.B_im[t]*v+this.B_re[t]*m);var x=E*E+S*S;h=(b*E+w*S)/x,p=(w*E-b*S)/x}var T=h,N=p,C=1,k=0;for(t=1;t<=9;t++)C*=T,k+=this.D[t]*C;var L=this.lat0+k*An*1e5,A=this.long0+N;return e.x=A,e.y=L,e}function nn(){}function rn(e){var t=e.x,n=e.y,r=ur(t-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=s,e}function sn(e){e.x-=this.x0,e.y-=this.y0;var t=ur(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function on(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=$r(this.es)}function un(e){var t,n,r=e.x,i=e.y;r=ur(r-this.long0);if(this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else{var s=this.n*Math.sin(i);for(var o=vs;o;--o){var u=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));i-=u;if(Math.abs(u)<Pn)break}}t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var a=Math.sin(i),f=Math.cos(i);n=this.a*Jr(i,a,f,this.en),t=this.a*r*f/Math.sqrt(1-this.es*a*a)}return e.x=t,e.y=n,e}function an(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=Yi((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Yi(Math.sin(t)/this.n)),r=ur(r+this.long0),t=Hi(t)):(t=Qr(e.y/this.a,this.es,this.en),i=Math.abs(t),i<On?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=ur(n)):i-Pn<On&&(r=this.long0)),e.x=r,e.y=t,e}function fn(){}function ln(e){var t=e.x,n=e.y,r=ur(t-this.long0),i=n,s=Math.PI*Math.sin(n);for(var o=0;!0;o++){var u=-(i+Math.sin(i)-s)/(1+Math.cos(i));i+=u;if(Math.abs(u)<Pn)break}i/=2,Math.PI/2-Math.abs(n)<Pn&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,f=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=f,e}function cn(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=ur(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}function hn(){if(Math.abs(this.lat1+this.lat2)<Pn)return;this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=sr(this.e,this.sinphi,this.cosphi),this.ml1=Ai(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Pn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=sr(this.e,this.sinphi,this.cosphi),this.ml2=Ai(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ai(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0)}function pn(e){var t=e.x,n=e.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Ai(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ur(t-this.long0),o=this.x0+r*Math.sin(s),u=this.y0+this.rh-r*Math.cos(s);return e.x=o,e.y=u,e}function dn(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;n!==0&&(s=Math.atan2(t*e.x,t*e.y));if(this.sphere)return i=ur(this.long0+s/this.ns),r=Hi(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=Bi(o,this.e0,this.e1,this.e2,this.e3),i=ur(this.long0+s/this.ns),e.x=i,e.y=r,e}function vn(){this.R=this.a}function mn(e){var t=e.x,n=e.y,r=ur(t-this.long0),i,s;Math.abs(n)<=Pn&&(i=this.x0+this.R*r,s=this.y0);var o=Yi(2*Math.abs(n/Math.PI));if(Math.abs(r)<=Pn||Math.abs(Math.abs(n)-On)<=Pn)i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o);var u=.5*Math.abs(Math.PI/r-r/Math.PI),a=u*u,f=Math.sin(o),l=Math.cos(o),c=l/(f+l-1),h=c*c,p=c*(2/f-1),d=p*p,v=Math.PI*this.R*(u*(c-d)+Math.sqrt(a*(c-d)*(c-d)-(d+a)*(h-d)))/(d+a);r<0&&(v=-v),i=this.x0+v;var m=a+c;return v=Math.PI*this.R*(p*m-u*Math.sqrt((d+a)*(a+1)-m*m))/(d+a),n>=0?s=this.y0+v:s=this.y0-v,e.x=i,e.y=s,e}function gn(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;return e.x-=this.x0,e.y-=this.y0,c=Math.PI*this.R,r=e.x/c,i=e.y/c,s=r*r+i*i,o=-Math.abs(i)*(1+s),u=o-2*i*i+r*r,a=-2*o+1+2*i*i+s*s,p=i*i/a+(2*u*u*u/a/a/a-9*o*u/a/a)/27,f=(o-u*u/3/a)/a,l=2*Math.sqrt(-f/3),c=3*p/f/l,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,e.y>=0?n=(-l*Math.cos(h+Math.PI/3)-u/3/a)*Math.PI:n=-(-l*Math.cos(h+Math.PI/3)-u/3/a)*Math.PI,Math.abs(r)<Pn?t=this.long0:t=ur(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),e.x=t,e.y=n,e}function yn(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function bn(e){var t=e.x,n=e.y,r=Math.sin(e.y),i=Math.cos(e.y),s=ur(t-this.long0),o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;return this.sphere?Math.abs(this.sin_p12-1)<=Pn?(e.x=this.x0+this.a*(On-n)*Math.sin(s),e.y=this.y0-this.a*(On-n)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=Pn?(e.x=this.x0+this.a*(On+n)*Math.sin(s),e.y=this.y0+this.a*(On+n)*Math.cos(s),e):(x=this.sin_p12*r+this.cos_p12*i*Math.cos(s),E=Math.acos(x),S=E/Math.sin(E),e.x=this.x0+this.a*S*i*Math.sin(s),e.y=this.y0+this.a*S*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),e):(o=Oi(this.es),u=Mi(this.es),a=_i(this.es),f=Di(this.es),Math.abs(this.sin_p12-1)<=Pn?(l=this.a*Ai(o,u,a,f,On),c=this.a*Ai(o,u,a,f,n),e.x=this.x0+(l-c)*Math.sin(s),e.y=this.y0-(l-c)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=Pn?(l=this.a*Ai(o,u,a,f,On),c=this.a*Ai(o,u,a,f,n),e.x=this.x0+(l+c)*Math.sin(s),e.y=this.y0+(l+c)*Math.cos(s),e):(h=r/i,p=Pi(this.a,this.e,this.sin_p12),d=Pi(this.a,this.e,r),v=Math.atan((1-this.es)*h+this.es*p*this.sin_p12/(d*i)),m=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(s)),m===0?T=Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(m)-Math.PI)<=Pn?T=-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):T=Math.asin(Math.sin(s)*Math.cos(v)/Math.sin(m)),g=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es),b=g*y,w=y*y,N=T*T,C=N*T,k=C*T,L=k*T,E=p*T*(1-N*w*(1-w)/6+C/8*b*(1-2*w)+k/120*(w*(4-7*w)-3*g*g*(1-7*w))-L/48*b),e.x=this.x0+E*Math.sin(m),e.y=this.y0+E*Math.cos(m),e))}function wn(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;if(this.sphere){t=Math.sqrt(e.x*e.x+e.y*e.y);if(t>2*On*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=Pn?o=this.lat0:(o=Yi(i*this.sin_p12+e.y*r*this.cos_p12/t),u=Math.abs(this.lat0)-On,Math.abs(u)<=Pn?this.lat0>=0?s=ur(this.long0+Math.atan2(e.x,-e.y)):s=ur(this.long0-Math.atan2(-e.x,e.y)):s=ur(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=s,e.y=o,e}return a=Oi(this.es),f=Mi(this.es),l=_i(this.es),c=Di(this.es),Math.abs(this.sin_p12-1)<=Pn?(h=this.a*Ai(a,f,l,c,On),t=Math.sqrt(e.x*e.x+e.y*e.y),p=h-t,o=Bi(p/this.a,a,f,l,c),s=ur(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=Pn?(h=this.a*Ai(a,f,l,c,On),t=Math.sqrt(e.x*e.x+e.y*e.y),p=t-h,o=Bi(p/this.a,a,f,l,c),s=ur(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),d=Pi(this.a,this.e,this.sin_p12),g=Math.cos(m),y=this.e*this.cos_p12*g,b=-y*y/(1-this.es),w=3*this.es*(1-b)*this.sin_p12*this.cos_p12*g/(1-this.es),E=t/d,S=E-b*(1+b)*Math.pow(E,3)/6-w*(1+3*b)*Math.pow(E,4)/24,x=1-b*S*S/2-E*S*S*S/6,v=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*g),s=ur(this.long0+Math.asin(Math.sin(m)*Math.sin(S)/Math.cos(v))),o=Math.atan((1-this.es*x*this.sin_p12/Math.sin(v))*Math.tan(v)/(1-this.es)),e.x=s,e.y=o,e)}function En(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Sn(e){var t,n,r,i,s,o,u,a,f=e.x,l=e.y;r=ur(f-this.long0),t=Math.sin(l),n=Math.cos(l),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1;if(o>0||Math.abs(o)<=Pn)u=this.a*s*n*Math.sin(r),a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i);return e.x=u,e.y=a,e}function xn(e){var t,n,r,i,s,o,u;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Yi(t/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=Pn?(u=this.lat0,e.x=o,e.y=u,e):(u=Yi(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-On,Math.abs(s)<=Pn?(this.lat0>=0?o=ur(this.long0+Math.atan2(e.x,-e.y)):o=ur(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=u,e):(o=ur(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=o,e.y=u,e))}var Tn=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]},Nn=1,Cn=2,kn=4,Ln=5,An=484813681109536e-20,On=Math.PI/2,Mn=.16666666666666666,_n=.04722222222222222,Dn=.022156084656084655,Pn=typeof Number.EPSILON=="undefined"?1e-10:Number.EPSILON,Hn=.017453292519943295,Bn=57.29577951308232,jn=Math.PI/4,Fn=Math.PI*2,In=3.14159265359,qn={};qn.greenwich=0,qn.lisbon=-9.131906111111,qn.paris=2.337229166667,qn.bogota=-74.080916666667,qn.madrid=-3.687938888889,qn.rome=12.452333333333,qn.bern=7.439583333333,qn.jakarta=106.807719444444,qn.ferro=-17.666666666667,qn.brussels=4.367975,qn.stockholm=18.058277777778,qn.athens=23.7163375,qn.oslo=10.722916666667;var Rn={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Un=/[\s_\-\/\(\)]/g,zn=function(t){var n={},r=t.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),i,s,o,u={proj:"projName",datum:"datumCode",rf:function(e){n.rf=parseFloat(e)},lat_0:function(e){n.lat0=e*Hn},lat_1:function(e){n.lat1=e*Hn},lat_2:function(e){n.lat2=e*Hn},lat_ts:function(e){n.lat_ts=e*Hn},lon_0:function(e){n.long0=e*Hn},lon_1:function(e){n.long1=e*Hn},lon_2:function(e){n.long2=e*Hn},alpha:function(e){n.alpha=parseFloat(e)*Hn},lonc:function(e){n.longc=e*Hn},x_0:function(e){n.x0=parseFloat(e)},y_0:function(e){n.y0=parseFloat(e)},k_0:function(e){n.k0=parseFloat(e)},k:function(e){n.k0=parseFloat(e)},a:function(e){n.a=parseFloat(e)},b:function(e){n.b=parseFloat(e)},r_a:function(){n.R_A=!0},zone:function(e){n.zone=parseInt(e,10)},south:function(){n.utmSouth=!0},towgs84:function(e){n.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){n.to_meter=parseFloat(e)},units:function(t){n.units=t;var r=e(Rn,t);r&&(n.to_meter=r.to_meter)},from_greenwich:function(e){n.from_greenwich=e*Hn},pm:function(t){var r=e(qn,t);n.from_greenwich=(r?r:parseFloat(t))*Hn},nadgrids:function(e){e==="@null"?n.datumCode="none":n.nadgrids=e},axis:function(e){var t="ewnsud";e.length===3&&t.indexOf(e.substr(0,1))!==-1&&t.indexOf(e.substr(1,1))!==-1&&t.indexOf(e.substr(2,1))!==-1&&(n.axis=e)}};for(i in r)s=r[i],i in u?(o=u[i],typeof o=="function"?o(s):n[o]=s):n[i]=s;return typeof n.datumCode=="string"&&n.datumCode!=="WGS84"&&(n.datumCode=n.datumCode.toLowerCase()),n},Wn=1,Xn=2,Vn=3,$n=4,Jn=5,Kn=-1,Qn=/\s/,Gn=/[A-Za-z]/,Yn=/[A-Za-z84]/,Zn=/[,\]]/,er=/[\d\.E\-\+]/;t.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==$n)while(Qn.test(e)){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Wn:return this.neutral(e);case Xn:return this.keyword(e);case $n:return this.quoted(e);case Jn:return this.afterquote(e);case Vn:return this.number(e);case Kn:return}},t.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=$n;return}if(Zn.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},t.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Wn;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Wn,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Kn);return}},t.prototype.number=function(e){if(er.test(e)){this.word+=e;return}if(Zn.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},t.prototype.quoted=function(e){if(e==='"'){this.state=Jn;return}this.word+=e;return},t.prototype.keyword=function(e){if(Yn.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Wn;return}if(Zn.test(e)){this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},t.prototype.neutral=function(e){if(Gn.test(e)){this.word=e,this.state=Xn;return}if(e==='"'){this.word="",this.state=$n;return}if(er.test(e)){this.word=e,this.state=Vn;return}if(Zn.test(e)){this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},t.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===Kn)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var tr=.017453292519943295,nr=function(e){var t=n(e),r=t.shift(),s=t.shift();t.unshift(["name",s]),t.unshift(["type",r]);var o={};return i(t,o),u(o),o};Tn(a);var rr=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ir=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],n!==undefined&&(e[r]=n);return e},sr=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},or=function(e){return e<0?-1:1},ur=function(e){return Math.abs(e)<=In?e:e-or(e)*Fn},ar=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(On-t))/r},fr=function(e,t){var n=.5*e,r,i,s=On-2*Math.atan(t);for(var o=0;o<=15;o++){r=e*Math.sin(s),i=On-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-s,s+=i;if(Math.abs(i)<=1e-10)return s}return-9999},lr=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],cr={init:d,forward:v,inverse:m,names:lr},hr=["longlat","identity"],pr={init:g,forward:y,inverse:y,names:hr},dr=[cr,pr],vr={},mr=[],gr={start:E,add:b,get:w},yr={};yr.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},yr.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},yr.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},yr.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},yr.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},yr.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},yr.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},yr.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},yr.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},yr.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},yr.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},yr.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},yr.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},yr.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},yr.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},yr.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},yr.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},yr.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},yr.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},yr.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},yr.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},yr.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},yr.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},yr.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},yr.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},yr.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},yr.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},yr.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},yr.hough={a:6378270,rf:297,ellipseName:"Hough"},yr.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},yr.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},yr.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},yr.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},yr.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},yr.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},yr.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},yr.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},yr.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},yr.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},yr.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},yr.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var br=yr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};yr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var wr={};wr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},wr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},wr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},wr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},wr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},wr.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},wr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},wr.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},wr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},wr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},wr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},wr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},wr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},wr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},wr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},wr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},N.projections=gr,N.projections.start();var Er=function(e,t,n){return C(e,t)?n:e.datum_type===Ln||t.datum_type===Ln?n:e.es===t.es&&e.a===t.a&&!M(e.datum_type)&&!M(t.datum_type)?n:(n=k(n,e.es,e.a),M(e.datum_type)&&(n=A(n,e.datum_type,e.datum_params)),M(t.datum_type)&&(n=O(n,t.datum_type,t.datum_params)),L(n,t.es,t.a,t.b))},Sr=function(e,t,n){var r=n.x,i=n.y,s=n.z||0,o,u,a,f={};for(a=0;a<3;a++){if(t&&a===2&&n.z===undefined)continue;a===0?(o=r,u="x"):a===1?(o=i,u="y"):(o=s,u="z");switch(e.axis[a]){case"e":f[u]=o;break;case"w":f[u]=-o;break;case"n":f[u]=o;break;case"s":f[u]=-o;break;case"u":n[u]!==undefined&&(f.z=o);break;case"d":n[u]!==undefined&&(f.z=-o);break;default:return null}}return f},xr=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},Tr=N("WGS84"),Nr=6,Cr="AJSAJS",kr="AFAFAF",Lr=65,Ar=73,Or=79,Mr=86,_r=90,Dr={forward:j,inverse:F,toPoint:I};Z.fromMGRS=function(e){return new Z(I(e))},Z.prototype.toMGRS=function(e){return j([this.x,this.y],e)};var Pr="2.4.3",Hr=1,Br=.25,jr=.046875,Fr=.01953125,Ir=.01068115234375,qr=.75,Rr=.46875,Ur=.013020833333333334,zr=.007120768229166667,Wr=.3645833333333333,Xr=.005696614583333333,Vr=.3076171875,$r=function(e){var t=[];t[0]=Hr-e*(Br+e*(jr+e*(Fr+e*Ir))),t[1]=e*(qr-e*(jr+e*(Fr+e*Ir)));var n=e*e;return t[2]=n*(Rr-e*(Ur+e*zr)),n*=e,t[3]=n*(Wr-e*Xr),t[4]=n*e*Vr,t},Jr=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},Kr=20,Qr=function(e,t,n){var r=1/(1-t),i=e;for(var s=Kr;s;--s){var o=Math.sin(i),u=1-t*o*o;u=(Jr(i,o,Math.cos(i),n)-e)*u*Math.sqrt(u)*r,i-=u;if(Math.abs(u)<Pn)return i}return i},Gr=["Transverse_Mercator","Transverse Mercator","tmerc"],Yr={init:et,forward:tt,inverse:nt,names:Gr},Zr=function(e){var t=Math.exp(e);return t=(t-1/t)/2,t},ei=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n?n:1);return n*Math.sqrt(1+Math.pow(r,2))},ti=function(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n},ni=function(e){var t=Math.abs(e);return t=ti(t*(1+t/(ei(1,t)+1))),e<0?-t:t},ri=function(e,t){var n=2*Math.cos(2*t),r=e.length-1,i=e[r],s=0,o;while(--r>=0)o=-s+n*i+e[r],s=i,i=o;return t+o*Math.sin(2*t)},ii=function(e,t){var n=2*Math.cos(t),r=e.length-1,i=e[r],s=0,o;while(--r>=0)o=-s+n*i+e[r],s=i,i=o;return Math.sin(t)*o},si=function(e){var t=Math.exp(e);return t=(t+1/t)/2,t},oi=function(e,t,n){var r=Math.sin(t),i=Math.cos(t),s=Zr(n),o=si(n),u=2*i*o,a=-2*r*s,f=e.length-1,l=e[f],c=0,h=0,p=0,d,v;while(--f>=0)d=h,v=c,h=l,c=p,l=-d+u*h-a*c+e[f],p=-v+a*h+u*c;return u=r*o,a=i*s,[u*l-a*p,u*p+a*l]},ui=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],ai={init:rt,forward:it,inverse:st,names:ui},fi=function(e,t){if(e===undefined){e=Math.floor((ur(t)+Math.PI)*30/Math.PI)+1;if(e<0)return 0;if(e>60)return 60}return e},li="etmerc",ci=["Universal Transverse Mercator System","utm"],hi={init:ot,names:ci,dependsOn:li},pi=function(e,t){return Math.pow((1-e)/(1+e),t)},di=20,vi=["gauss"],mi={init:ut,forward:at,inverse:ft,names:vi},gi=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],yi={init:lt,forward:ct,inverse:ht,names:gi},bi=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],wi={init:dt,forward:vt,inverse:mt,names:bi,ssfn_:pt},Ei=["somerc"],Si={init:gt,forward:yt,inverse:bt,names:Ei},xi=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],Ti={init:wt,forward:Et,inverse:St,names:xi},Ni=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Ci={init:xt,forward:Tt,inverse:Nt,names:Ni},ki=["Krovak","krovak"],Li={init:Ct,forward:kt,inverse:Lt,names:ki},Ai=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Oi=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},Mi=function(e){return.375*e*(1+.25*e*(1+.46875*e))},_i=function(e){return.05859375*e*e*(1+.75*e)},Di=function(e){return e*e*e*(35/3072)},Pi=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},Hi=function(e){return Math.abs(e)<On?e:e-or(e)*Math.PI},Bi=function(e,t,n,r,i){var s,o;s=e/t;for(var u=0;u<15;u++){o=(e-(t*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o;if(Math.abs(o)<=1e-10)return s}return NaN},ji=["Cassini","Cassini_Soldner","cass"],Fi={init:At,forward:Ot,inverse:Mt,names:ji},Ii=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},qi=1,Ri=2,Ui=3,zi=4,Wi=.3333333333333333,Xi=.17222222222222222,Vi=.10257936507936508,$i=.06388888888888888,Ji=.0664021164021164,Ki=.016415012942191543,Qi=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Gi={init:_t,forward:Dt,inverse:Pt,names:Qi,S_POLE:qi,N_POLE:Ri,EQUIT:Ui,OBLIQ:zi},Yi=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},Zi=["Albers_Conic_Equal_Area","Albers","aea"],es={init:jt,forward:Ft,inverse:It,names:Zi,phi1z:qt},ts=["gnom"],ns={init:Rt,forward:Ut,inverse:zt,names:ts},rs=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*On:On;var r=Math.asin(.5*t),i,s,o,u;for(var a=0;a<30;a++){s=Math.sin(r),o=Math.cos(r),u=e*s,i=Math.pow(1-u*u,2)/(2*o)*(t/(1-e*e)-s/(1-u*u)+.5/e*Math.log((1-u)/(1+u))),r+=i;if(Math.abs(i)<=1e-10)return r}return NaN},is=["cea"],ss={init:Wt,forward:Xt,inverse:Vt,names:is},os=["Equirectangular","Equidistant_Cylindrical","eqc"],us={init:$t,forward:Jt,inverse:Kt,names:os},as=20,fs=["Polyconic","poly"],ls={init:Qt,forward:Gt,inverse:Yt,names:fs},cs=["New_Zealand_Map_Grid","nzmg"],hs={init:Zt,forward:en,inverse:tn,names:cs},ps=["Miller_Cylindrical","mill"],ds={init:nn,forward:rn,inverse:sn,names:ps},vs=20,ms=["Sinusoidal","sinu"],gs={init:on,forward:un,inverse:an,names:ms},ys=["Mollweide","moll"],bs={init:fn,forward:ln,inverse:cn,names:ys},ws=["Equidistant_Conic","eqdc"],Es={init:hn,forward:pn,inverse:dn,names:ws},Ss=["Van_der_Grinten_I","VanDerGrinten","vandg"],xs={init:vn,forward:mn,inverse:gn,names:Ss},Ts=["Azimuthal_Equidistant","aeqd"],Ns={init:yn,forward:bn,inverse:wn,names:Ts},Cs=["ortho"],ks={init:En,forward:Sn,inverse:xn,names:Cs},Ls=function(e){e.Proj.projections.add(Yr),e.Proj.projections.add(ai),e.Proj.projections.add(hi),e.Proj.projections.add(yi),e.Proj.projections.add(wi),e.Proj.projections.add(Si),e.Proj.projections.add(Ti),e.Proj.projections.add(Ci),e.Proj.projections.add(Li),e.Proj.projections.add(Fi),e.Proj.projections.add(Gi),e.Proj.projections.add(es),e.Proj.projections.add(ns),e.Proj.projections.add(ss),e.Proj.projections.add(us),e.Proj.projections.add(ls),e.Proj.projections.add(hs),e.Proj.projections.add(ds),e.Proj.projections.add(gs),e.Proj.projections.add(bs),e.Proj.projections.add(Es),e.Proj.projections.add(xs),e.Proj.projections.add(Ns),e.Proj.projections.add(ks)};return B.defaultDatum="WGS84",B.Proj=N,B.WGS84=new B.Proj("WGS84"),B.Point=Z,B.toPoint=xr,B.defs=a,B.transform=D,B.mgrs=Dr,B.version=Pr,Ls(B),B}),define("util/tool",["leaflet","plugins/proj4js","core/namespace"],function(e,t){e.ICT.Util.Tool=e.Class.extend({initialize:function(){},drag:function(t,n){var r=!1,i,s,o=$("#"+n),u=$("#"+t),a="drag_"+e.stamp(u);o.data("drag","drag"),o.data("panel",a),u.addClass(a),this.initDrag||(this.initDrag=!0,$(document).mousedown(function(t){u=null,o=null,o=$(t.target),o=o.data("drag")?o:o.parent();if(!o.data("drag")||o.data("drag")!="drag"||!o.data("panel"))return;r=!0,u=o.closest("."+o.data("panel"));if(u.length==0)return;u=u[0],i=t.clientX,s=t.clientY;var n=e.DomUtil.getPosition(u);return n&&(i-=n.x,s-=n.y),!1}),$(document).mousemove(function(t){if(r&&u){var t=t||window.event,n=t.clientX-i,o=t.clientY-s,a=e.point(n,o);return e.DomUtil.setPosition(u,a),!1}}),$(document).mouseup(function(e){r=!1,i=null,s=null,o=null,u=null,a=null}))},latlngTodfm:function(e,t,n,r){var i=[],s;newval=parseFloat(e);var o=Math.abs(newval),u=parseInt(o),a=parseInt(o*60)-u*60,f=o*60*60-a*60-u*60*60;if(typeof r=="undefined"||r<=0)r=0;return f=f.toFixed(r),typeof n=="undefined"&&(n=!0),n&&(t==="lng"?(u<10&&(u="00"+u),u>=10&&u<100&&(u="0"+u)):u<10&&(u="0"+u)),t==="lat"&&(newval<0?s="S":s="N"),t==="lng"&&(newval<0?s="W":s="E"),i.push(u,a,f,s),i},latlngTodfmStr:function(e,t,n){var r=this.latlngTodfm(e,t,n),i=r[3]+" "+r[0]+"¬∞"+r[1]+"‚Ä≤"+r[2]+"‚Ä≥";return i},formatStr:function(e,t){if(e.indexOf(".")>=0){var n=e.length,r=n-e.indexOf("."),i=r-1;if(i<=t)return e;var s=e.indexOf(".")+t+1;return e.substr(0,s)}return e},formatLng:function(e){return e<10?"00"+e:e<100?"0"+e:e},formatLat:function(e){return e<10?"0"+e:e},convertMileToNmile:function(e){var t=parseFloat(e),n=t*54e-5;return n.toFixed(3)},convertNmileToMile:function(e){var t=parseFloat(e),n=t/54e-5;return n.toFixed(3)},epsg4326To3857:function(e,n){return t("EPSG:4326","EPSG:3857",[e,n])},epsg4326To3395:function(e,n){return t.defs("EPSG:3395","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),t("EPSG:4326","EPSG:3395",[e,n])},invoke:function(e,t,n,r){t||(t=0);if(arguments.length<=2)setTimeout(e,t);else{setTimeout(i,t);function i(){var t=setInterval(e,n);r&&setTimeout(function(){clearInterval(t)},r)}}}})}),define("control/panel",["leaflet","core/namespace","plugins/mcscroll","util/tool"],function(e){e.ICT.Panel=e.Class.extend({initialize:function(){}}),e.ICT.PopPanel=e.ICT.Panel.extend({includes:e.Mixin.Events,options:{title:"add your title",width:400,height:300,position:"center",left:null,right:null,top:null,bottom:null,zIndex:1e3,scroll:!1,className:null,isDrag:!0,ismodal:!1,animation:!0,disableSelect:!0,contentHTML:"<span>add your content here</span>"},initialize:function(t){e.setOptions(this,t),this.options.ismodal&&(this.options.isDrag=!1),this._isShow=!1,this._container=null},show:function(){return this._container===null&&(this._initUi(),this._initEvents()),this._isShow||(this.options.animation?this._container.fadeIn("fast"):this._container.show(),this._isShow=!0),this},close:function(){return this._container!==null&&this._isShow&&(this.options.animation?this._container.fadeOut():this._container.hide(),this._isShow=!1),this},remove:function(e){e===undefined&&(e=!0),this._container&&(this._container.remove(),this._container=null,e&&this.fire("popPanelRemove",{obj:this}))},getContainer:function(){return this._container},setContent:function(e){this._container===null&&(this._initUi(),this._initEvents());var t=e;typeof e=="string"&&(t=$(e));var n=$('<div class="container-content"></div>');return n.append(t),this._container.find(".container-content").remove(),this._container.append(n),this._setContentCss(),this.options.scroll&&n.mCustomScrollbar({theme:"minimal-dark"}),this},_initUi:function(){var t=$('<div class="ictPanel-popPanel-container"></div>'),n=$('<div class="container-title"></div>'),r=$('<div class="container-content"></div>'),i="<span>"+this.options.title+"</span>"+'<img class="close" src="themes/images/dialog/dialog_close.png"/>';t.attr("id","ictPanel-popPanel-container"+e.stamp({})),n.attr("id","container-title"+e.stamp({})),n.html(i),r.html(this.options.contentHTML),t.append(n).append(r),this.options.ismodal&&t.prepend('<div class="ict_modal_backdrop"></div>'),$("body").append(t),this.options.className&&t.addClass(this.options.className),this.options.disableSelect&&t.addClass("disableSelect"),this.options.scroll&&r.mCustomScrollbar({theme:"minimal-dark"}),this.options.isDrag&&e.ict.app.util.tool.drag(t.attr("id"),n.attr("id")),this._container=t,this._setCotainerCss(),this._setTitleCss(),this._setContentCss()},_setCotainerCss:function(){var e={position:"fixed",display:"none",backgroundColor:"#fff"};this.options.left&&(e.left=this.options.left+"px"),this.options.right&&(e.right=this.options.right+"px"),this.options.top&&(e.top=this.options.top+"px"),this.options.bottom&&(e.bottom=this.options.bottom+"px"),!this.options.left&&!this.options.right&&!this.options.top&&!this.options.bottom&&(e.left=0,e.right=0,e.top=0,e.bottom=0,e.marginLeft="auto",e.marginRight="auto",e.marginBottom="auto",e.marginTop="auto"),e.width=this.options.width+"px",e.height=this.options.height+"px",e.border="1px solid rgb(169, 169, 169)",e.borderRadius="6px",e.boxShadow="silver 2px 2px 5px",e.zIndex=this.options.zIndex,this._container.css(e)},_setTitleCss:function(){this._container.find(".container-title").css({position:"relative",left:0,top:0,width:"100%",height:"35px",backgroundColor:"#244474",lineHeight:"35px",textAlign:"center",cursor:"pointer",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"}).find("span").css({fontSize:"14px",fontWeight:"normal",color:"#fff"}).end().find("img").css({"float":"right",margin:"10px"})},_setContentCss:function(){this._container.find(".container-content").css({position:"relative",left:0,top:0,width:"100%",overFlowX:"hidden",overFlowY:"auto",padding:"10px",backgroundColor:"#fff",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"});var e=this._container.height()-this._container.find(".container-title").height();this._container.find(".container-content").outerHeight(e)},_initEvents:function(){var e=this;this._container.find(".container-title .close").on("click",function(t){e.remove()}),this._container.find(".ict_modal_backdrop").on("click",function(){e.remove()})}}),e.ICT.DrawPopPanel=e.ICT.PopPanel.extend({initialize:function(t,n,r){this.layer=t,this.layerType=n,this.tool=e.ict.app.util.tool;var r=r||{};r.width=400,r.height=202;switch(n){case"circle":r.contentHTML=this.getCircleContent(),r.title=$.i18n.prop("control_drawpoppanel_circle_title");break;case"rectangle":r.contentHTML=this.getRectContent(),r.title=$.i18n.prop("control_drawpoppanel_rect_title"),r.width=420;break;case"polygon":r.contentHTML=this.getPolygonContent(),r.title="ÁªòÂà∂Â§öËæπÂΩ¢Âå∫Âüü",r.height=300;break;default:}e.ICT.PopPanel.prototype.initialize.call(this,r)},updateContent:function(){switch(this.layerType){case"circle":var e=this.getCircleContent();break;case"rectangle":var e=this.getRectContent();break;case"polygon":var e=this.getPolygonContent();break;default:}this.setContent(e),this._initEvents()},getCircleContent:function(){var t=this.layer.getLatLng(),n=this.layer.getRadius();n=e.ict.app.util.tool.convertMileToNmile(n);var r=$.i18n.prop("control_drawpoppanel_circle_center"),i=$.i18n.prop("control_drawpoppanel_circle_radius"),s=$.i18n.prop("control_drawpoppanel_circle_unit"),o=[];return o.push('<div class="drawPopPanel circleContainer">'),o.push("<ul>"),o.push("<li><label>"+r+"</label>"+this.getItemHtml(t)+"</li>"),o.push("<li><label>"+i+'</label><input type="number" class="circleRadius" value="'+n+'">&nbsp&nbsp<label>'+s+"</label></li>"),o.push("</ul>"),o.push(this.getBtnHTML()),o.push("</div>"),o.join("")},getRectContent:function(){var e=this.layer.getBounds().getSouthWest(),t=this.layer.getBounds().getNorthEast(),n=$.i18n.prop("control_drawpoppanel_rect_lb"),r=$.i18n.prop("control_drawpoppanel_rect_rt"),i=[];return i.push('<div class="drawPopPanel rectContainer">'),i.push("<ul>"),i.push("<li><label>"+n+"</label>"+this.getItemHtml(e)+"</li>"),i.push("<li><label>"+r+"</label>"+this.getItemHtml(t)+"</li>"),i.push("</ul>"),i.push(this.getBtnHTML()),i.push("</div>"),i.join("")},getPolygonContent:function(){var e=this.layer.getLatLngs(),t=[];e=e[0],t.push('<div class="drawPopPanel polygonContainer">'),t.push("<div><ul>");for(var n=0,r=e.length;n<r;n++)t.push("<li><label>"+(n+1)+"</label>"+this.getItemHtml(e[n])+"</li>");return t.push("</ul></div>"),t.push(this.getBtnHTML()),t.push("</div>"),t.join("")},getBtnHTML:function(){var e=$.i18n.prop("common_btn_ok"),t=$.i18n.prop("common_btn_cancel"),n=[];return n.push('<div class="btnDiv">'),n.push('<button type="button" class="btn okBtn">'+e+"</button>"),n.push('<button type="button" class="btn cancelBtn">'+t+"</button>"),n.push("</div>"),n.join("")},getItemHtml:function(e){var t=[],n=this.tool.latlngTodfm(e.lat,"lat"),r=this.tool.latlngTodfm(e.lng,"lng");return t.push('<table class="latlngsTable">'),t.push("<tr>"),t.push('<td class="lat lat_d"><input type="text" value="'+n[0]+'"></td>'),t.push('<td class="dfm">¬∞</td>'),t.push('<td class="lat lat_f"><input type="text" value="'+n[1]+'"></td>'),t.push('<td class="dfm">‚Ä≤</td>'),t.push('<td class="lat lat_m"><input type="text" value="'+n[2]+'"></td>'),t.push('<td class="dfm">‚Ä≥</td>'),n[3]=="N"?(t.push('<td class="latNS lat_N active">N</td>'),t.push('<td class="latNS lat_S">S</td>')):(t.push('<td class="latNS lat_N">N</td>'),t.push('<td class="latNS lat_S active">S</td>')),t.push('<td class="space">&nbsp&nbsp</td>'),t.push('<td class="lng lng_d"><input type="text" value="'+r[0]+'"></td>'),t.push('<td class="dfm">¬∞</td>'),t.push('<td class="lng lng_f"><input type="text" value="'+r[1]+'"></td>'),t.push('<td class="dfm">‚Ä≤</td>'),t.push('<td class="lng lng_m"><input type="text" value="'+r[2]+'"></td>'),t.push('<td class="dfm">‚Ä≥</td>'),r[3]=="W"?(t.push('<td class="lngWE lng_W active">W</td>'),t.push('<td class="lngWE lng_E">E</td>')):(t.push('<td class="lngWE lng_W">W</td>'),t.push('<td class="lngWE lng_E active">E</td>')),t.push("</tr>"),t.push("</table>"),t.join("")},getLatLngs:function(){var t=[],n=this._container.find(".latlngsTable");for(var r=0,i=n.length;r<i;r++){var s=$(n[r]).find("tr"),o=s.find(".lat_d input").val(),u=s.find(".lat_f input").val(),a=s.find(".lat_m input").val(),f=s.find(".latNS.active").text(),l=s.find(".lng_d input").val(),c=s.find(".lng_f input").val(),h=s.find(".lng_m input").val();we=s.find(".lngWE.active").text();var p=Math.abs(parseFloat(o))+parseFloat(u/60)+parseFloat(a/3600),d=Math.abs(parseFloat(l))+parseFloat(c/60)+parseFloat(h/3600);p=f=="S"?-p:p,d=we=="W"?-d:d;var v=e.latLng([p,d]);t.push(v)}return t},getCircleRadius:function(){var t=this._container.find(".circleContainer .circleRadius").val();return t=e.ict.app.util.tool.convertNmileToMile(t),parseFloat(t)},_latlngChangeEvt:function(){this.layer.editing&&this.layer.editing.disable();var t=this.getLatLngs();if(this.layerType=="circle"){var n=this.getCircleRadius();this.layer.setLatLng(t[0]),this.layer.setRadius(n)}else if(this.layerType=="rectangle"){var r=e.latLngBounds(t);this.layer.setBounds(r)}else this.layerType=="polygon"&&this.layer.setLatLngs(t);this.layer.editing&&this.layer.editing.enable()},_initEvents:function(){var e=this;e._container.find(".container-title .close").on("click",function(t){t.stopPropagation(),e.remove(),e.layer.remove(),e.layer=null,e.fire("CancelDraw",{obj:e})}),e._container.find(".container-content .okBtn").on("click",function(t){t.stopPropagation(),e.remove(),e.layer.editing&&e.layer.editing.disable(),e.fire("OkDraw",{layer:e.layer,obj:e})}),e._container.find(".container-content .cancelBtn").on("click",function(t){t.stopPropagation(),e.remove(),e.layer.remove(),e.layer=null,e.fire("CancelDraw",{obj:e})}),e._container.find(".container-content input").on("change focusout",function(t){e._latlngChangeEvt()}),e._container.find(".container-content .latlngsTable .latNS").on("click",function(t){$(this).addClass("active").siblings(".latNS").removeClass("active"),e._latlngChangeEvt()}),e._container.find(".container-content .latlngsTable .lngWE").on("click",function(t){$(this).addClass("active").siblings(".lngWE").removeClass("active"),e._latlngChangeEvt()})}}),e.ICT.TablePanel=e.Class.extend({includes:e.Mixin.Events,options:{height:100,thData:[],tbData:[],thLineHeight:34,tbLineHeight:32},initialize:function(t){e.setOptions(this,t),this._tableObj=null},getTableObj:function(){return this._tableObj===null&&this._init(),this._tableObj},getTableHTML:function(){return this._tableObj===null&&this._init(),this._tableObj.get(0).outerHTML},updateData:function(e){},addTo:function(e){return this._tableObj===null&&this._init(),e.html(this._tableObj),this._tableObj.find(".tbDiv").mCustomScrollbar({theme:"minimal-dark"}),this._initStyle(),this},_init:function(){this._initUi(),this._initEvents()},_initUi:function(){var e=$('<div class="tableDiv"></div>'),t=$('<div class="thDiv"></div>'),n=$('<div class="tbDiv"></div>'),r="",i="",s=!1;for(var o=0,u=this.options.thData.length;o<u;o++)this.options.thData[o].width&&(s=!0);r+="<table><tr>";for(var o=0,u=this.options.thData.length;o<u;o++)s===!0&&this.options.thData[o].width?r+='<td style="width:'+this.options.thData[o].width+"%"+'">'+this.options.thData[o].value+"</td>":r+="<td>"+this.options.thData[o].value+"</td>";r+="</tr></table>",t.html(r),i+="<table>";for(var o=0,u=this.options.tbData.length;o<u;o++){i+="<tr>";for(var a=0;a<this.options.thData.length;a++)s===!0&&this.options.thData[a].width?i+='<td style="width:'+this.options.thData[a].width+"%"+'">'+this.options.tbData[o][this.options.thData[a].name]+"</td>":i+="<td>"+this.options.tbData[o][this.options.thData[a].name]+"</td>";i+="</tr>"}i+="</table>",n.html(i),e.append(t).append(n),this._tableObj=e},_initStyle:function(){if(this._tableObj===null)return;var e=this.options.height-this.options.thLineHeight,t=parseInt(e/this.options.tbLineHeight),n=parseInt(e/t);this._tableObj.css({position:"relative",width:"100%",height:this.options.height+"px",borderBottom:"solid 1px #d1d1d1",margin:0,padding:0}),this._tableObj.find(".thDiv").css({position:"relative",width:"100%",height:this.options.thLineHeight+"px",overflow:"hidden",margin:0,padding:0}),this._tableObj.find(".tbDiv").css({position:"relative",width:"100%",height:e+"px",margin:0,padding:0}),this._tableObj.find("table").css({tableLayout:"fixed",borderCollapse:"collapse",width:"100%"}),this._tableObj.find(".thDiv table tr").css({fontWeight:"bold",fontSize:"11px",backgroundColor:"rgb(243,243,243)",lineHeight:this.options.thLineHeight+"px"}),this._tableObj.find(".tbDiv table tr").css({lineHeight:n+"px"}),this._tableObj.find("table td").css({border:"solid 1px #d1d1d1",textAlign:"center"})},_initEvents:function(){}})}),define("library/requirejs/css!themes/css/func.changepsw",[],function(){}),define("func/changepsw",["leaflet","func/base","data/ajax"],function(e){e.ICT.Func.add("ChangePsw",{Class:e.Class.extend({initialize:function(){this._container=null,this._popPanel=null,this.ajax=new e.ICT.Ajax,this.sessionStorage=e.ict.app.sessionStorage,this.dialog=e.ict.app.util.dialog,this.config=Project_ParamConfig.userConfig},start:function(){if(this._popPanel||this._container)return;this._initUi(),this._bindEvts()},stop:function(){this._popPanel&&this._popPanel.remove(),this._container=null,this._popPanel=null},_initUi:function(){var t={title:$.i18n.prop("changepsw_title"),width:486,height:338,ismodal:!0},n=this._container=$(this.getContentHtml());t.contentHTML=n,amendPop=this._popPanel=new e.ICT.PopPanel(t),amendPop.show(),this._popPanel.on("popPanelRemove",function(){this._container=null,this._popPanel=null},this)},getContentHtml:function(){var e=[];return e.push('<div class="amendContainer">'),e.push('     <div class="text-center amend_input"><span class="amend_font changepsw_oldpsw">ÂéüÂØÜÁ†Å:</span><input type="password"  id="old_password" autocomplete="off"/><span  class="amend_font"></span><span class=" login_error oldPsd_prompt"></span></div>'),e.push('     <div class="text-center amend_input"><span class="amend_font changepsw_newpsw">Êñ∞ÂØÜÁ†Å:</span><input type="password"  id="new_password" autocomplete="off"/><span  class="amend_font"></span><span class="login_error newPsd_prompt"></span></div>'),e.push('     <div class="text-center amend_input"><span class="amend_font changepsw_confirmpsw">Á°ÆËÆ§ÂØÜÁ†Å:</span><input type="password" id="again_new_password"  autocomplete="off"/><span  class="amend_font"></span><span class="login_error again_newPsd_prompt"></span></div>'),e.push('     <div class="text-center "><button class="btn amend_confirm_btn changepsw_okbtn">Á°ÆÂÆö</button><button class="btn amend_cancel_btn changepsw_cancelbtn">ÂèñÊ∂à</button></div>'),e.push("</div>"),e.join("")},_bindEvts:function(){var e=this;e._container.find("#old_password").focus(),e._container.find(".changepsw_oldpsw").html($.i18n.prop("changepsw_oldpsw")),e._container.find(".changepsw_newpsw").html($.i18n.prop("changepsw_newpsw")),e._container.find(".changepsw_confirmpsw").html($.i18n.prop("changepsw_confirmpsw")),e._container.find(".changepsw_okbtn").html($.i18n.prop("changepsw_okbtn")),e._container.find(".changepsw_cancelbtn").html($.i18n.prop("changepsw_cancelbtn")),e._container.find(".amend_confirm_btn").on("click",function(t){$(".oldPsd_prompt").html(""),$(".newPsd_prompt").html(""),$(".again_newPsd_prompt").html("");var n=/^[a-zA-Z0-9]{6,12}$/,r=e._container.find("#old_password").val();r=$.trim(r);var i=e._container.find("#new_password").val();i=$.trim(i);var s=e._container.find("#again_new_password").val();s=$.trim(s);if(r=="")$(".oldPsd_prompt").html($.i18n.prop("changepsw_error_oldpsw"));else if(i=="")$(".newPsd_prompt").html($.i18n.prop("changepsw_error_newpsw"));else if(!n.test(i))$(".newPsd_prompt").html($.i18n.prop("changepsw_error_newpsw2"));else if(s=="")$(".again_newPsd_prompt").html($.i18n.prop("changepsw_error_confirmpsw"));else if(s!==i)$(".again_newPsd_prompt").html($.i18n.prop("changepsw_error_confirmpsw2"));else{var o=e.sessionStorage.getItem("userInfo"),u=e.config.modifypswUrl,a={};a.id=o.userId,a.oldPassWord=r,a.newPassWord=i,e.ajax.post(u,a,!0,e,e._ajaxSucCallback,e._ajaxFaiCallback)}}),e._container.find(".amend_cancel_btn").on("click",function(){e.stop()})},_ajaxSucCallback:function(e){e.state===1?(this.dialog.alert($.i18n.prop("dialog_alert_title"),$.i18n.prop("changepsw_res_success")),this.stop()):e.state===10031?$(".oldPsd_prompt").html($.i18n.prop("changepsw_res_error1")):$(".oldPsd_prompt").html($.i18n.prop("changepsw_res_error"))},_ajaxFaiCallback:function(e){$(".oldPsd_prompt").html($.i18n.prop("changepsw_res_error"))}})})}),define("func/userLogin",["leaflet","func/base","data/ajax","func/changepsw"],function(e){e.ICT.Func.add("UserLogin",{Class:e.Class.extend({initialize:function(){this.ajax=new e.ICT.Ajax,this.sessionStorage=e.ict.app.sessionStorage,this.dialog=e.ict.app.util.dialog},start:function(){window.location.href="userpages/login.html"},stop:function(){},afterLoginFunc:function(){var e=this.sessionStorage.getItem("userInfo");$(".userName_txt").html(e.userName),$(".userlogin").css("display","none"),$(".userlogin_after").css("display","block"),this._initUserLoginAfterEvts()},_initUserLoginAfterEvts:function(){var t=this;$(".userlogin_after_exitlogin").on("click",function(){t.dialog.confirm($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_userlogin_exit_confirm"),function(){$(".userName_txt").html(""),$(".userlogin").css("display","block"),$(".userlogin_after").css("display","none"),t.sessionStorage.removeItem("userInfo")})}),$(".userlogin_after_changepsw").on("click",function(){e.ICT.Func.ChangePsw.run()})},isLogin:function(){return!!this.sessionStorage.getItem("userInfo")},alertLoginDialog:function(){if(this.isLogin())return;this._loginpanel&&(this._loginpanel.remove(),this._loginpanel=null);var t={title:$.i18n.prop("dialog_alert_title"),width:340,height:140,ismodal:!0,contentHTML:this.getContentHtml()},n=this._loginpanel=new e.ICT.PopPanel(t);n.show();var r=this._loginpanel.getContainer();r.find(".func_userlogin_remind1").html($.i18n.prop("func_userlogin_remind1")),r.find(".func_userlogin_remind2").html($.i18n.prop("func_userlogin_remind2")),r.find(".func_userlogin_remind3").html($.i18n.prop("func_userlogin_remind3")),r.find(".func_userlogin_remind4").html($.i18n.prop("func_userlogin_remind4")),r.find(".func_userlogin_remind5").html($.i18n.prop("func_userlogin_remind5")),r.find("label").css({"font-weight":"normal","font-size":"14px"})},getContentHtml:function(){var e=[];return e.push('<div class="row login_block_container">'),e.push('<div class="col-md-3"><img src="themes/images/dialog/error.png"></div>'),e.push('<div class="col-md-9">'),e.push('<label class="func_userlogin_remind1">ËØ•ÂäüËÉΩÈúÄË¶ÅÁôªÂΩïÂêéÊâçËÉΩÊìç‰ΩúÔºÅ</label>'),e.push("<br>"),e.push('<label class="func_userlogin_remind2">ËØ∑</label>&nbsp;<a href="userpages/login.html" target="_self" class="func_userlogin_remind3">ÁôªÂΩï</a>&nbsp;<label class="func_userlogin_remind4">Êàñ</label>&nbsp;<a href="userpages/enroll.html" target="_blank" class="func_userlogin_remind5">ÂÖçË¥πÊ≥®ÂÜå</a>'),e.push("</div>"),e.push("</div>"),e.join("")}})})}),define("func/hjcx",["leaflet","func/base","control/panel","plugins/mcscroll","data/ajax","func/userLogin"],function(e){e.Class.HJCXBase=e.Class.extend({initialize:function(){this.util=e.ict.app.util,this.ictmap=e.ict.app.ictmap,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.hjcxConfig,this._hjcxLayerGroup=null,this._hjcxlayerarr={}},addHjLayerGroup:function(t){this._hjcxLayerGroup=e.featureGroup().addTo(this.ictmap.map);var n=t.msg.shipList;for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.num,u=s.posList,a=[],f=[],l=null,c=null,h=null;for(var p=0,d=u.length;p<d;p++){var v=this.convertShipObj(u[p]);v.mmsi=o;var m=e.latLng(v.lat,v.lon);f.push(m);var g=this.createHjPoint(v);a.push(g);if(p===0){var y=this.convertShipObj(u[0]),b=e.latLng(y.lat,y.lon);if(d>=2){var w=this.convertShipObj(u[1]),E=e.latLng(w.lat,w.lon);h=this.createCloseMarker(b,E,o)}else h=this.createCloseMarker(b,null,o)}p===d-1&&(c=this.createShipMarker(v))}f.length>=2&&(l=this.createHjLine(f),a.unshift(l)),c&&a.push(c),h&&a.push(h);if(a.length>0){this._hjcxlayerarr[o]=a;for(var S=0,x=a.length;S<x;S++)this._hjcxLayerGroup.addLayer(a[S]);r===0&&c&&this.ictmap.map.panTo(c.getLatLng())}}},convertShipObj:function(e){var t={};return t.dir=e.co/10,t.heading=e.he,t.lat=parseFloat(e.la/6e5),t.lon=parseFloat(e.lo/6e5),t.speed=e.sp/10,t.time=e.ti,t},removeLayerGroup:function(){this._hjcxLayerGroup&&(this._hjcxLayerGroup.clearLayers(),this._hjcxLayerGroup=null)},createHjPoint:function(t){var n=e.latLng(t.lat,t.lon),r={radius:4,stroke:!1,fill:!0,fillColor:"#f00",opacity:1,fillOpacity:1,renderer:e.svg(),data:t},i=e.circleMarker(n,r),s=this.getTiptitle(t),o=this.getTipOptions();return i.bindTooltip(s,o).openTooltip(),i},getTiptitle:function(t){var n=$.i18n.prop("common_ship_speed_unit"),r=$.i18n.prop("common_ship_lng"),i=$.i18n.prop("common_ship_lat"),s=$.i18n.prop("common_time_info1"),o=$.i18n.prop("common_ship_dir"),u=$.i18n.prop("common_ship_speed"),a=$.i18n.prop("common_ship_heading"),f=this.util.dateTime.getTimeStrFromUnix(t.time),l=this.util.tool.latlngTodfmStr(t.lat,"lat"),c=this.util.tool.latlngTodfmStr(t.lon,"lng"),h=e.latLng(t.lat,t.lon),p=t.dir,d=t.heading,v=t.speed,m="";return m+="MMSI:"+t.mmsi+"<br>",m+=r+c+"<br>",m+=i+l+"<br>",m+=s+f+"<br>",m+=o+p+"¬∞<br>",m+=a+d+"¬∞<br>",m+=u+v+" "+n,m},getTipOptions:function(){return{offset:[0,0],direction:"top",permanent:!1,opacity:.8,className:"realtarget-label-target"}},createShipMarker:function(t){var n=e.latLng(t.lat,t.lon),r={icon:e.ICT.ShipIcon.ship7,rotationAngle:t.dir,data:t},i=e.marker(n,r),s=this.getTiptitle(t),o=this.getTipOptions();return i.bindTooltip(s,o).openTooltip(),i},getPopupContent:function(e){var t=$.i18n.prop("common_ship_country"),n=$.i18n.prop("common_ship_speed_unit"),r=$.i18n.prop("common_ship_lng"),i=$.i18n.prop("common_ship_lat"),s=$.i18n.prop("common_time_info1"),o=$.i18n.prop("common_ship_heading"),u=$.i18n.prop("common_ship_speed"),a=this.util.tool.latlngTodfmStr(e.lat,"lat"),f=this.util.tool.latlngTodfmStr(e.lon,"lng"),l=this.util.dateTime.getTimeStrFromUnix(e.time),c=[];return c.push('<div class="displayctr_div" style="padding:5px;">'),c.push("<table>"),c.push("<tr><td>"+t+"</td><td>"+e.country+"</td></tr>"),c.push("<tr><td>"+o+"</td><td>"+e.heading+"¬∞"+"</td></tr>"),c.push("<tr><td>"+r+"</td><td>"+f+"</td></tr>"),c.push("<tr><td>"+i+"</td><td>"+a+"</td></tr>"),c.push("<tr><td>"+u+"</td><td>"+e.speed+n+"</td></tr>"),c.push("<tr><td>"+s+"</td><td>"+l+"</td></tr>"),c.push("</table>"),c.push("</div>"),c.join("")},createHjLine:function(t){var n={opacity:1,fillOpacity:1},r=e.polyline(t,n);return r},createCloseMarker:function(t,n,r){var i=e.icon({iconUrl:"themes/images/shipIcons/hjxs_close.png",iconSize:[18,18],iconAnchor:[28,14]});n&&n.lng<t.lng&&(i=e.icon({iconUrl:"themes/images/shipIcons/hjxs_close.png",iconSize:[18,18],iconAnchor:[-9,14]}));var s={icon:i,id:r,opacity:1},o=e.marker(t,s);return o.on("click",this._markerCloseClickEvt,this),o},_markerCloseClickEvt:function(t){var n=t.target,r=n.options.id;this.removeLayerGroup(),this.ictmap.realtarget.showRealTargetLayer(),this.ictmap.OperateState.hjcx=!1,e.ict.app.menu.mainmenu.enableMenu(),this.config.hjcxList=[]},removeLayerById:function(e){var t=this._hjcxlayerarr[e];for(var n=0,r=t.length;n<r;n++)this._hjcxLayerGroup.removeLayer(t[n]);delete this._hjcxlayerarr[e]}}),e.ICT.Func.add("HJCXMoreShip",{Class:e.Class.HJCXBase.extend({initialize:function(){this.dateUtil=e.ict.app.util.dateTime,this.menu=e.ict.app.menu,this.menuid="ict_menu_main_hjcx",this._popPanel=null,e.Class.HJCXBase.prototype.initialize.apply(this,arguments)},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}if(this._popPanel)return;this._initUI(),this._initEvts()},stop:function(){this.menu.mainmenu.deactiveMenu(this.menuid),this._popPanel&&this._popPanel.remove(!1),this.ictmap.OperateState.hjcx&&(this.ictmap.OperateState.hjcx=!1,this.ictmap.realtarget.showRealTargetLayer()),this.removeLayerGroup(),this.config.hjcxList=[],this._popPanel=null},_initUI:function(){var t={title:$.i18n.prop("func_hjcx_title"),width:400,height:470,top:100,left:200,contentHTML:this.getContentHTML()},n=this._popPanel=new e.ICT.PopPanel(t);this._popPanel.on("popPanelRemove",function(){this._popPanel=null,this.stop()},this),n.show(),this.updateList()},_initEvts:function(){var t=this._popPanel.getContainer().find(".hjcx_more_Container"),n=t.find(".msg1"),r=t.find(".msg2"),i=this;t.find(".func_tshf_zdmb_ship").html($.i18n.prop("func_tshf_zdmb_ship")),t.find(".func_tshf_zdmb_search_placeholder").attr("placeholder",$.i18n.prop("func_tshf_zdmb_search_placeholder")),t.find(".func_tshf_zdmb_addbtn").html($.i18n.prop("func_tshf_zdmb_addbtn")),t.find(".func_tshf_zdmb_cblb").html($.i18n.prop("func_tshf_zdmb_cblb")),t.find(".func_tshf_zdmb_allchk").html($.i18n.prop("func_tshf_zdmb_allchk")),t.find(".func_tshf_zdmb_delete").html($.i18n.prop("func_tshf_zdmb_delete")),t.find(".func_tshf_zdmb_shipname").html($.i18n.prop("func_tshf_zdmb_shipname")),t.find(".common_time_info1").html($.i18n.prop("common_time_info1")),t.find(".common_time_info2").html($.i18n.prop("common_time_info2")),t.find(".func_hjcx_okbtn").html($.i18n.prop("func_hjcx_okbtn")),t.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn",maxDate:"%y-%M-%d %H:%m:%s"};WdatePicker(e)});var s=this.dateUtil.getNewDateTimeBeforHour(24);s=this.dateUtil.formatDateH(s);var o=this.dateUtil.formatDateH(new Date);t.find(".Wdate.startTime").val(s),t.find(".Wdate.endTime").val(o),t.find(".addBtn").on("click",function(e){var r=t.find(".shipIMO").val().trim();n.text("");if(r==""){n.text($.i18n.prop("func_hjcx_mmsi"));return}var s=i.config.getShipByMMSIUrl,o={msi:r};i.ajax.post(s,o,!0,this,function(e){if(e.state!==1)console.error(e.msg.error),n.text($.i18n.prop("func_tshf_zdmb_error_search1"));else{var r=i.ictmap.realtarget.convertshipInfoObj(e.msg.searchShip);i.addTarget(r),i.updateList(),t.find(".shipIMO").val("")}})}),t.find(".deleteBtn").on("click",function(e){var n=t.find(".listContent input:checked");n.each(function(){var e=$(this).parent().parent().data("key");i.deleteTarget(e)}),i.updateList()}),t.find("input.allchk").on("click",function(e){var n=t.find(".listContent input[type=checkbox]");this.checked==1?n.each(function(){this.checked=!0}):n.each(function(){this.checked=!1})}),t.find(".hjcxBtn").on("click",function(n){r.text("");var s=t.find(".listContent input:checked"),o=[];s.each(function(){var e=$(this).parent().parent().data("key"),t=i.getTargetById(e);t&&o.push(t)});if(o.length<=0){r.text($.i18n.prop("func_hjcx_target"));return}var u=t.find(".startTime").val(),a=t.find(".endTime").val(),f=i.dateUtil.checkStrartEndTime(u+":00:00",a+":00:00",i.config.timerange);if(!f.result){r.text(f.msg);return}u=i.dateUtil.getCusUnixTime(u+":00:00"),a=i.dateUtil.getCusUnixTime(a+":00:00");var l=i.config.hjcxMoreUrl,c={},h=[];for(var p=0;p<o.length;p++)h.push(o[p].id);c.shipIdArr=h.join("~"),c.startTime=u,c.endTime=a,i.ajax.post(l,c,!0,i,function(t){i.config.hjcxList=[];if(t.state!=1)console.error(t.msg.error),r.text($.i18n.prop("func_hjcx_error"));else{if(!i._popPanel)return;i._popPanel.close(),i.ictmap.realtarget.hideRealTargetLayer(),i.ictmap.OperateState.hjcx=!0,e.ict.app.menu.mainmenu.disableMenu(),i.removeLayerGroup(),i.addHjLayerGroup(t)}},function(e){})})},_markerCloseClickEvt:function(t){e.Class.HJCXBase.prototype._markerCloseClickEvt.call(this,t),this.stop()},addTarget:function(e){if(this.config.hjcxList.length==0)this.config.hjcxList.push(e);else{isadd=!0;for(var t=0,n=this.config.hjcxList.length;t<n;t++)if(this.config.hjcxList[t].id==e.id){isadd=!1;break}isadd&&this.config.hjcxList.push(e)}},deleteTarget:function(e){var t=this.config.hjcxList,n=null;for(var r=0,i=t.length;r<i;r++)if(t[r].id==e){n=r;break}n!==null&&t.splice(n,1)},getTargetById:function(e){var t=this.config.hjcxList,n=null;for(var r=0,i=t.length;r<i;r++)if(t[r].id==e){n=t[r];break}return n},updateList:function(){var e=this._popPanel.getContainer().find(".hjcx_more_Container"),t=e.find(".listContent"),n=this.config.hjcxList,r=[];r.push('<div class="mscroll"><table>');for(var i=0,s=n.length;i<s;i++){var o=n[i].id,u=n[i].mmsi,a=n[i].shipname;r.push("<tr>"),r.push('<td class="mmsi" data-key="'+o+'"><label><input type="checkbox" checked>'+"&nbsp&nbsp"+u+"</label></td><td>"+a+"</td>"),r.push("</tr>")}r.push("</table></div>"),r=r.join(""),t.html(r),t.find(".mscroll").mCustomScrollbar({theme:"minimal-dark"})},getContentHTML:function(){var e=[];return e.push('<div class="hjcx_more_Container">'),e.push('  <div class="cbphDiv">'),e.push('    <label class="func_tshf_zdmb_ship">ËàπËà∂:</label>'),e.push('    <input type="text" class="shipIMO func_tshf_zdmb_search_placeholder">'),e.push('    <button class="btn addBtn func_tshf_zdmb_addbtn">Ê∑ªÂä†</button>'),e.push("  </div>"),e.push('  <p class="msg msg1"></p>'),e.push('  <p class="cblb_txt func_tshf_zdmb_cblb">ËàπËà∂ÂàóË°®:</p>'),e.push('  <div class="phlbDiv">'),e.push('    <input type="checkbox" class="allchk" checked><label class="func_tshf_zdmb_allchk">ÂÖ®ÈÄâ</label>'),e.push('    <button class="btn deleteBtn func_tshf_zdmb_delete">Âà†Èô§</button>'),e.push("  </div>"),e.push('  <div class="shiplist">'),e.push('    <div><table><tr><td>MMSI</td><td class="func_tshf_zdmb_shipname">ËàπËà∂Âêç</td></tr></table></div>'),e.push("    <hr>"),e.push('    <div class="listContent"></div>'),e.push("  </div>"),e.push('  <p class="msg msg2"></p>'),e.push("  <hr>  "),e.push('  <div class="timeDiv"><label class="common_time_info1">Êó∂Èó¥:</label> <input type="text" class="Wdate startTime"> &nbsp<label class="common_time_info2">Ëá≥</label>&nbsp<input type="text" class="Wdate endTime"></div>'),e.push('  <div class="btnDiv"><button type="button" class="hjcxBtn func_hjcx_okbtn">Êü•ËØ¢</button></div>'),e.push("</div>"),e.join("")}})}),e.ICT.Func.add("HJCXOneShip",{Class:e.Class.HJCXBase.extend({initialize:function(){this.config=Project_ParamConfig.hjcxConfig,this.dateUtil=e.ict.app.util.dateTime,this._popPanel=null,e.Class.HJCXBase.prototype.initialize.apply(this,arguments)},start:function(){this._popPanel&&this._popPanel.remove(),this._initUi(),this._initEvts()},stop:function(){this._popPanel&&this._popPanel.remove(),this.removeLayerGroup(),this.ictmap.OperateState.hjcx=!1},_initUi:function(){var t={title:$.i18n.prop("func_hjcx_title"),width:400,height:160,contentHTML:this.getContentHtml()},n=this._popPanel=new e.ICT.PopPanel(t);n.show()},getContentHtml:function(){var e=[];return e.push('<div class="hjcx_oneship_container">'),e.push('<div class="timeDiv">'),e.push('<label class="common_time_info1">Êó∂Èó¥Ôºö</label>'),e.push('<input type="text" class="Wdate startTime">'),e.push('&nbsp<label class="common_time_info2"> Ëá≥</label> &nbsp'),e.push('<input type="text" class="Wdate endTime">'),e.push("</div>"),e.push('<p class="msg"></p>'),e.push('<div class="btnDiv">'),e.push('<button type="button" class="confirm common_btn_ok">Á°ÆÂÆö</button>'),e.push('<button type="button" class="cancel common_btn_cancel">ÂèñÊ∂à</button>'),e.push("</div>"),e.push("</div>"),e.join("")},_initEvts:function(){var t=this._popPanel.getContainer().find(".hjcx_oneship_container"),n=t.find(".msg"),r=this;t.find(".common_time_info1").html($.i18n.prop("common_time_info1")),t.find(".common_time_info2").html($.i18n.prop("common_time_info2")),t.find(".common_btn_ok").html($.i18n.prop("common_btn_ok")),t.find(".common_btn_cancel").html($.i18n.prop("common_btn_cancel")),this._popPanel.on("popPanelRemove",function(){this._popPanel=null},this),t.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn",maxDate:"%y-%M-%d %H:%m:%s"};WdatePicker(e)});var i=this.dateUtil.getNewDateTimeBeforHour(24);i=this.dateUtil.formatDateH(i);var s=this.dateUtil.formatDateH(new Date);t.find(".Wdate.startTime").val(i),t.find(".Wdate.endTime").val(s),t.find(".confirm").on("click",function(){n.text("");var i=t.find(".startTime").val(),s=t.find(".endTime").val(),o=r.dateUtil.checkStrartEndTime(i+":00:00",s+":00:00",r.config.timerange);if(!o.result){n.text(o.msg);return}i=r.dateUtil.getCusUnixTime(i+":00:00"),s=r.dateUtil.getCusUnixTime(s+":00:00");var u=r.config.hjcxMoreUrl,a=r.ictmap.realtarget.currentTarget.options.data.id,f={shipIdArr:a,startTime:i,endTime:s};r.ajax.post(u,f,!0,r,function(t){if(t.state!==1)console.error(t.msg.error),n.text($.i18n.prop("func_hjcx_error"));else{if(!r._popPanel)return;r._popPanel.remove(),r.ictmap.OperateState.hjcx=!0,e.ict.app.menu.mainmenu.disableMenu(),r.ictmap.realtarget.hideRealTargetLayer(),r.removeLayerGroup(),r.addHjLayerGroup(t)}},function(e){})}),t.find(".cancel").on("click",function(){r.stop()})}})})}),define("library/requirejs/css!themes/css/func.tshf",[],function(){}),define("library/requirejs/css!themes/css/control.playback",[],function(){}),function(e){var t;if(typeof define=="function"&&define.amd)define("leaflet/playback",["leaflet"],e);else if(typeof module=="object"&&typeof module.exports=="object")t=require("leaflet"),module.exports=e(t);else{if(typeof window.L=="undefined")throw"Leaflet must be loaded first";e(window.L)}}(function(e){e.Playback=e.Playback||{},e.Playback.MoveableMarker=e.Marker.extend({initialize:function(t,n,r){var i=n.marker||{};jQuery.isFunction(i)&&(i=i(r)),e.Marker.prototype.initialize.call(this,t,i),this.popupContent="",this.feature=r,i.getPopup&&(this.popupContent=i.getPopup(r)),n.popups&&this.bindPopup(this.getPopupContent()+t.toString()),n.labels&&(this.bindLabel?this.bindLabel(this.getPopupContent(),{noHide:!0}):console.log("Label binding requires leaflet-label (https://github.com/Leaflet/Leaflet.label)"))},getPopupContent:function(){return this.popupContent!==""?"<b>"+this.popupContent+"</b><br/>":""},move:function(t,n){e.DomUtil.TRANSITION&&(this._icon&&(this._icon.style[e.DomUtil.TRANSITION]="all "+n+"ms linear",this._popup&&this._popup._wrapper&&(this._popup._wrapper.style[e.DomUtil.TRANSITION]="all "+n+"ms linear")),this._shadow&&(this._shadow.style[e.DomUtil.TRANSITION]="all "+n+"ms linear")),this.setLatLng(t),this._popup&&this._popup.setContent(this.getPopupContent()+this._latlng.toString())},_old__setPos:e.Marker.prototype._setPos,_updateImg:function(t,n,r){n=e.point(r).divideBy(2)._subtract(e.point(n));var i="";i+=" rotate("+this.options.iconAngle+"deg)",t.style[e.DomUtil.TRANSFORM]+=i,t.style.transformOrigin="50% 50%"},setIconAngle:function(e){this.options.iconAngle=e,this._map&&this.update()},_setPos:function(t){this._icon&&(this._icon.style[e.DomUtil.TRANSFORM]=""),this._shadow&&(this._shadow.style[e.DomUtil.TRANSFORM]=""),this._old__setPos.apply(this,[t]);if(this.options.iconAngle){var n=this.options.icon.options.iconAnchor,r=this.options.icon.options.iconSize,i;this._icon&&(i=this._icon,this._updateImg(i,n,r)),this._shadow&&(r=this.options.icon.options.shadowSize,i=this._shadow,this._updateImg(i,n,r))}}}),e.Playback.Track=e.Class.extend({initialize:function(t,n,r){this._map=t,this.options=r||{},this._dataObj=n,this._ticks=[],this._times=[],this._marker=null;var i=n.timePosList;for(var s=0,o=i.length;s<o;s++){var u=i[s].time;this._times.push(u),this._ticks[u]=i[s],s===0&&(this._startTime=u),s===o-1&&(this._endTime=u)}this._trackLineFeatureGroup||(this._trackLineFeatureGroup=e.featureGroup([]).addTo(this._map)),this._trackPointFeatureGroup||(this._trackPointFeatureGroup=e.featureGroup([]).addTo(this._map))},getFirstTick:function(){return this._ticks[this._startTime]},getLastTick:function(){return this._ticks[this._endTime]},getStartTime:function(){return this._startTime},getEndTime:function(){return this._endTime},getTimes:function(){return this._times},getTimeInterval:function(e){var t=this._times.indexOf(e);if(t!==-1&&t!==this._times.length-1)var n=this._times[t+1],r=n-e;return r},tick:function(e){return this._ticks[e]},getLatLng:function(t){var n=this.tick(t);if(n)return e.latLng(n.lat,n.lng)},setMarker:function(t,n){var r=null;return t?r=this.getLatLng(t):r=this.getLatLng(this._startTime),r&&(this._marker=new e.Playback.MoveableMarker(r,n,this._dataObj)),this._marker},getMarker:function(){return this._marker},createTrackPoint:function(t){var n=this.getLatLng(t);if(n)var r=e.circleMarker(n,this.options.OriginCircleOptions);var i=this.tick(t);return r&&i&&r.bindTooltip(this.getTooltipText(i),this.getTooltipOptions()),this._marker&&(this._marker.unbindTooltip(),this._marker.bindTooltip(this.getTooltipText(i),this.getTooltipOptions())),r},getTooltipText:function(e){var t=$.i18n.prop("common_ship_ph"),n=$.i18n.prop("common_ship_lng"),r=$.i18n.prop("common_ship_lat"),i=$.i18n.prop("common_time_info1"),s=$.i18n.prop("common_ship_dir"),o=$.i18n.prop("common_ship_heading"),u=$.i18n.prop("common_ship_speed"),a=[];return a.push("<table>"),a.push("<tr><td>MMSI:</td><td>"+e.info_ph+"</td></tr>"),a.push("<tr><td>"+n+"</td><td>"+e.info_lng+"</td></tr>"),a.push("<tr><td>"+r+"</td><td>"+e.info_lat+"</td></tr>"),a.push("<tr><td>"+i+"</td><td>"+e.info_time+"</td></tr>"),a.push("<tr><td>"+s+"</td><td>"+e.info_dir+"</td></tr>"),a.push("<tr><td>"+o+"</td><td>"+e.info_heading+"</td></tr>"),a.push("<tr><td>"+u+"</td><td>"+e.info_speed+"</td></tr>"),a.push("</table>"),a=a.join(""),a},getTooltipOptions:function(){return{offset:[0,0],direction:"top",permanent:!1}},moveMarker:function(t,n,r){if(this._marker){var i=this._marker.getLatLng(),s=this.tick(r);if(n!==0){this._marker.move(t,n),this._marker.setIconAngle(s.dir);var o=[[i.lat,i.lng],[t.lat,t.lng]],u=e.polyline(o,this.options.trackLineOptions),a=this.createTrackPoint(r),f=this;(function(e,t,n){f._timeoutTicker=setTimeout(function(){f._trackLineFeatureGroup.addLayer(e),f._trackPointFeatureGroup.addLayer(t)},n)})(u,a,n)}else this.clearTrackInfo(),this.drawHistoryTrackLine(r),this.drawHistoryTrackPoints(r)}},drawHistoryTrackLine:function(t){var n=[];for(var r=0,i=this._times.length;r<i;r++)if(this._times[r]<=t){var s=this.getLatLng(this._times[r]);s&&n.push(s)}var o=e.polyline(n,this.options.trackLineOptions);this._trackLineFeatureGroup.addLayer(o)},drawHistoryTrackPoints:function(e){for(var t=0,n=this._times.length;t<n;t++)if(this._times[t]<=e){var r=this.createTrackPoint2(this._times[t]);r&&this._trackPointFeatureGroup.addLayer(r)}},createTrackPoint2:function(t){var n=this.getLatLng(t);if(n)var r=e.circleMarker(n,this.options.OriginCircleOptions);var i=this.tick(t);return i&&r.bindTooltip(this.getTooltipText(i),this.getTooltipOptions()),this._marker&&(this._marker.setLatLng(n),this._marker.setIconAngle(i.dir),this._marker.unbindTooltip(),this._marker.bindTooltip(this.getTooltipText(i),this.getTooltipOptions())),r},clearTrackInfo:function(){try{this._timeoutTicker&&(clearTimeout(this._timeoutTicker),this._timeoutTicker=null),this._trackLineFeatureGroup&&this._trackLineFeatureGroup.clearLayers(),this._trackPointFeatureGroup&&this._trackPointFeatureGroup.clearLayers()}catch(e){console.log("tshf:clearlayer error")}}}),e.Playback.TrackController=e.Class.extend({initialize:function(e,t,n){this.options=n||{},this._map=e,this._tracks=[],this.setTracks(t)},clearTracks:function(){while(this._tracks.length>0){var e=this._tracks.pop(),t=e.getMarker();t&&this._map.removeLayer(t),e.clearTrackInfo()}},clearLineAndPoint:function(){for(var e=0,t=this._tracks.length;e<t;e++){var n=this._tracks[e];n.clearTrackInfo()}},setTracks:function(e){this.clearTracks(),this.addTracks(e)},addTracks:function(e){if(!e)return;if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.addTrack(e[t]);else this.addTrack(e)},addTrack:function(e,t){if(!e)return;var n=e.setMarker(t,this.options);n&&(n.addTo(this._map),this._map.panTo(n.getLatLng()),this._tracks.push(e))},tock:function(e,t){for(var n=0,r=this._tracks.length;n<r;n++){var i=this._tracks[n].getLatLng(e);(t===0||i)&&this._tracks[n].moveMarker(i,t,e)}},getStartTime:function(){var e=0;if(this._tracks.length>0){e=this._tracks[0].getStartTime();for(var t=1,n=this._tracks.length;t<n;t++){var r=this._tracks[t].getStartTime();r<e&&(e=r)}}return e},getEndTime:function(){var e=0;if(this._tracks.length>0){e=this._tracks[0].getEndTime();for(var t=1,n=this._tracks.length;t<n;t++){var r=this._tracks[t].getEndTime();r>e&&(e=r)}}return e},getAllTimes:function(){var e=[];if(this._tracks.length>0)for(var t=0,n=this._tracks.length;t<n;t++){var r=this._tracks[t].getTimes();e=e.concat(r)}e=this.uniqueArr(e);for(var t=0,i=e.length;t<i-1;t++)for(var s=0;s<i-1-t;s++)if(e[s]>e[s+1]){var o=e[s];e[s]=e[s+1],e[s+1]=o}return e},uniqueArr:function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t},getTracks:function(){return this._tracks}}),e.Playback.Clock=e.Class.extend({initialize:function(t,n,r){this._trackController=t,this._callbacksArry=[],n&&this.addCallback(n),e.setOptions(this,r),this._speed=this.options.speed,this.max_speed=this.options.Max_Speed,this._alltime=this._trackController.getAllTimes(),this._cursor=t.getStartTime(),this._alltime.length&&(this._tickLen=3e5/this._alltime.length)},_tick:function(e){this._cursor=this.getNextTime();if(!this._cursor||this._cursor>this.getEndTime()){clearTimeout(this._intervalID),this._intervalID=null;return}this._trackController.tock(this._cursor,e),this._callbacks(this._cursor)},_callbacks:function(e){var t=this._callbacksArry;for(var n=0,r=t.length;n<r;n++)t[n](e)},addCallback:function(e){this._callbacksArry.push(e)},getTransitionTime:function(){var e=this._cursor,t=this.getNextTime(),n=this._tickLen/this._speed;return e&&t&&t>e&&(n=(t-e)/this._speed),n},start:function(){if(this._intervalID)return;this._intervalID=!0;var e=this;(function t(){if(!e._intervalID)return;var n=e.getTransitionTime();clearTimeout(e._intervalID),e._intervalID=setTimeout(function(){e._tick(n),t()},n)})()},stop:function(){if(!this._intervalID)return;clearTimeout(this._intervalID),this._intervalID=null},getSpeed:function(){return this._speed},isPlaying:function(){return this._intervalID?!0:!1},setSpeed:function(e){this._speed=e,this._intervalID&&(this.stop(),this.start())},quickSpeed:function(){this._speed=this._speed>=this.max_speed?this._speed:this._speed*2,this._intervalID&&(this.stop(),this.start())},slowSpeed:function(){this._speed=this._speed<=1?this._speed:this._speed/2,this._intervalID&&(this.stop(),this.start())},rePlaying:function(){this._trackController.clearLineAndPoint(),this.isPlaying()&&this.stop(),this.setCursor(this.getStartTime()),this.start()},setCursor:function(e){var t=this.getValidCursor(e);if(!t)return;this._cursor=t,this._trackController.tock(this._cursor,0),this._callbacks(this._cursor)},getValidCursor:function(e){var t;if(e<=this.getEndTime()&&e>=this.getStartTime()){t=e;for(var n=0,r=this._alltime.length;n<r;n++)if(this._alltime[n]>=t){t=this._alltime[n];break}}return t},getTime:function(){return this._cursor},getAllTime:function(){return this._alltime},getStartTime:function(){return this._trackController.getStartTime()},getEndTime:function(){return this._trackController.getEndTime()},getLastTime:function(){var e,t=this._alltime.indexOf(this._cursor);return t!==-1&&t!==0&&(e=this._alltime[t-1]),e},getNextTime:function(){var e,t=this._alltime.indexOf(this._cursor);return t!==-1&&t!==this._alltime.length-1&&(e=this._alltime[t+1]),e},getTickLen:function(){return this._tickLen}})}),define("plugins/rangeSlider",["jquery"],function(e){e.fn.extend({rangeSlider:function(t){this.sliderCfg={min:t&&!isNaN(parseFloat(t.min))?Number(t.min):null,max:t&&!isNaN(parseFloat(t.max))?Number(t.max):null,step:t&&Number(t.step)?t.step:1,callback:t&&t.callback?t.callback:null};var n=e(this),r=this.sliderCfg.min,i=this.sliderCfg.max,s=this.sliderCfg.step,o=this.sliderCfg.callback;return n.attr("min",r).attr("max",i).attr("step",s),n.bind("input",function(t){n.attr("value",this.value),n.css("background-size",this.value+"% 100%"),e.isFunction(o)&&o(this)}),n}})}),define("control/playback",["leaflet","jquery","leaflet/playback","plugins/rangeSlider"],function(e){e.ICT.Control=e.ICT.Control||{},e.ICT.Control.PlayBack=e.Class.extend({options:{position:"topright",speed:1,Max_Speed:Math.pow(2,20),LAT_LON_TRANSFORM:6e5,trackLineOptions:{weight:2,color:"#ef0300",renderer:e.svg()},OriginCircleOptions:{stroke:!1,color:"#ef0300",fillColor:"#ef0300",fillOpacity:1,radius:4,renderer:e.svg()},layer:{},marker:{icon:e.icon({iconUrl:"themes/images/stateplayback/ship.png",iconSize:[12,25],iconAnchor:[5,12]})}},templateHtml:'<div class="playback-operation"><ul><li class="item item-start play" data-info="2" title="Êí≠Êîæ"><img src="themes/images/stateplayback/ico_play.png"></li><li class="item item-restart" data-info="3" title="ÈáçÊí≠"><img src="themes/images/stateplayback/ico_restart.png"></li><li class="item item-slow" data-info="4" title="ÂáèÈÄü"><img src="themes/images/stateplayback/ico_pre.png"></li><li class="item item-quick" data-info="5" title="Âä†ÈÄü"><img src="themes/images/stateplayback/ico_next.png"></li><li class="item item-speed"><span>X1</span></li><li class="item item-close" data-info="6" title="ÂÖ≥Èó≠"><img src="themes/images/stateplayback/ico_close.png"></li></ul></div><div class="playback-scrollbar"><ul><li class="item item-time"><span class="startTime"></span><span class="endTime"></span></li><li class="item item-scroll"><input type="range" class="range"></li><li class="item item-curtime"><span class="curTime"></span></li></ul></div>',initialize:function(t,n,r,i){e.setOptions(this,i),this._data=t,this._clockCallback=n,this._closeCallback=r},show:function(e){if(!e)return;return this._map=e,this.onAdd(e),this},close:function(){return e.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this},onAdd:function(t){this._map=t,this._initUi(),this._initStyle();var n=this.dataTransform(this._data),r=[];for(var i=0,s=n.length;i<s;i++){var o=new e.Playback.Track(t,n[i],this.options);r.push(o)}return this._trackController=new e.Playback.TrackController(t,r,this.options),this._playbackClock=new e.Playback.Clock(this._trackController,this._clockCallback,this.options),this.setCursor(this.getStartTime()),this._initEvts(),this.setTime(),this.getStartTime()===this.getEndTime()&&e.ict.app.util.dialog.alert($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_tshf_error1")),this._container},clearData:function(){this._trackController.clearTracks()},onRemove:function(){this.clearData(),typeof this._closeCallback=="function"&&this._closeCallback.call(this,this)},_initUi:function(){var t="ict-control-playback",n=this._container=e.DomUtil.create("div",t),r=this.options;n.innerHTML=this.templateHtml,$("body").append($(n));var i="ict-control-playback"+e.stamp({}),s="playback-operation"+e.stamp({});$(n).attr("id",i),$(n).find(".playback-operation").attr("id",s),e.ict.app.util.tool.drag(i,s),$(n).find(".playback-operation .item-speed span").text("X"+this.options.speed)},_initStyle:function(){var e=$(this._container);e.find(".item-start").attr("title",$.i18n.prop("control_playback_play")),e.find(".item-restart").attr("title",$.i18n.prop("control_playback_again")),e.find(".item-slow").attr("title",$.i18n.prop("control_playback_slowdown")),e.find(".item-quick").attr("title",$.i18n.prop("control_playback_speedup")),e.find(".item-close").attr("title",$.i18n.prop("control_playback_close"))},_initEvts:function(){var t=this,n=$(t._container).find(".playback-operation>ul>li"),r=$(t._container).find(".playback-scrollbar input")[0];n.each(function(){e.DomEvent.on(this,"mousedown dbclick",e.DomEvent.stopPropagation).on(this,"click",e.DomEvent.stop).on(this,"click",t._btnClick,t)}),r.min=t.getStartTime(),r.max=t.getEndTime(),r.value=t.getTime(),e.DomEvent.on(r,"click mousedown dbclick",e.DomEvent.stopPropagation).on(r,"click",e.DomEvent.preventDefault).on(r,"change",t._onRangeChange,t).on(r,"mousemove",t._onRangeChange,t),t.addCallback(function(e){r.value=e;var t=parseInt((e-r.min)/(r.max-r.min)*100);$(r).css("background-size",t+"% 100%")}),t.addCallback(function(e){if(e>=t.getEndTime()){var n=$(t._container).find(".playback-operation>ul>li.item-start");n.addClass("play"),n.find("img").attr("src","themes/images/stateplayback/ico_play.png"),n.attr("title",$.i18n.prop("control_playback_play"))}})},_btnClick:function(e){var t=$(e.currentTarget),n=$(e.currentTarget).data("info");switch(n){case 1:break;case 2:t.hasClass("play")?(t.removeClass("play"),t.find("img").attr("src","themes/images/stateplayback/ico_push.png"),t.attr("title",$.i18n.prop("control_playback_pause")),this.start()):(t.addClass("play"),t.find("img").attr("src","themes/images/stateplayback/ico_play.png"),t.attr("title",$.i18n.prop("control_playback_play")),this.stop());break;case 3:t.siblings(".item-start").removeClass("play"),t.siblings(".item-start").find("img").attr("src","themes/images/stateplayback/ico_push.png"),t.siblings(".item-start").attr("title",$.i18n.prop("control_playback_pause")),this.rePlaying();break;case 4:this.slowSpeed();break;case 5:this.quickSpeed();break;case 6:this.close();break;default:}},_onRangeChange:function(e){var t=Number(e.target.value);this.setCursor(t)},setTime:function(){var t=$(this._container),n=e.ict.app.util.dateTime.formatDateHM(new Date(this.getStartTime())),r=e.ict.app.util.dateTime.formatDateHM(new Date(this.getEndTime())),i=e.ict.app.util.dateTime.formatDateHM(new Date(this.getTime()));t.find(".playback-scrollbar .startTime").text(n),t.find(".playback-scrollbar .endTime").text(r),t.find(".playback-scrollbar .curTime").text(i);var s=this;this.addCallback(function(){i=e.ict.app.util.dateTime.formatDateHM(new Date(s.getTime())),t.find(".playback-scrollbar .curTime").text(i)})},addCallback:function(e){this._playbackClock.addCallback(e)},start:function(){this._playbackClock.start()},stop:function(){this._playbackClock.stop()},quickSpeed:function(){this._playbackClock.quickSpeed();var e=this._playbackClock.getSpeed();$(this._container).find(".playback-operation .item-speed span").text("X"+e)},slowSpeed:function(){this._playbackClock.slowSpeed();var e=this._playbackClock.getSpeed();$(this._container).find(".playback-operation .item-speed span").text("X"+e)},rePlaying:function(){this._playbackClock.rePlaying()},getSpeed:function(){return this._playbackClock.getSpeed()},isPlaying:function(){return this._playbackClock.isPlaying()},setSpeed:function(e){this._playbackClock.setSpeed(e)},setCursor:function(e){this._playbackClock.setCursor(e)},getTime:function(){return this._playbackClock.getTime()},getStartTime:function(){return this._playbackClock.getStartTime()},getEndTime:function(){return this._playbackClock.getEndTime()},getTickLen:function(){return this._playbackClock.getTickLen()},dataTransform:function(t){if(!t||!t.length){console.log("playback_error:data transform error!");return}var n=[];for(var r=0,i=t.length;r<i;r++){var s=t[r].num,o={};o.timePosList=[];for(var u=0,a=t[r].posList.length;u<a;u++){var f={},l=t[r].posList[u];f.lng=l.lo/this.options.LAT_LON_TRANSFORM,f.lat=l.la/this.options.LAT_LON_TRANSFORM,f.time=l.ti*1e3,f.dir=parseFloat(l.co/10),f.heading=parseInt(l.he),f.speed=parseFloat(l.sp/10),f.info_ph=s,f.info_lng=e.ict.app.util.tool.latlngTodfmStr(f.lng,"lng"),f.info_lat=e.ict.app.util.tool.latlngTodfmStr(f.lat,"lat"),f.info_time=e.ict.app.util.dateTime.formatDateHM(new Date(l.ti*1e3)),f.info_dir=(l.co/10).toFixed(1)+"¬∞",f.info_heading=l.he+"¬∞",f.info_speed=parseInt(l.sp/10)+" "+$.i18n.prop("common_ship_speed_unit"),o.timePosList.push(f)}n.push(o)}return n}})}),define("library/requirejs/css!themes/css/control.loading",[],function(){}),define("control/loading",["leaflet","core/namespace"],function(e){e.ICT.Control.Loading=e.Class.extend({initialize:function(){this._container=$('<div class="ict_control_loading"><span class="icon-loading"></span></div>')},addTo:function(e){e.prepend(this._container);var t=e.outerWidth(),n=e.outerHeight();return this._container.css({position:"absolute",top:0,left:0,width:t+"px","line-height":n+"px","text-align":"center","z-index":99999,"background-color":"#a9a6a6",opacity:.5,overflow:"hidden",display:"none"}),this},show:function(){return this._container.css("display","block"),this},hide:function(){return this._container.css("display","none"),this},remove:function(){return this._container.remove(),this}})}),define("func/tshf",["leaflet","func/base","control/panel","control/draw","control/playback","control/loading","plugins/mcscroll","data/ajax","func/userLogin"],function(e){e.ICT.Func.add("TSHF",{Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.menuid="ict_menu_main_tshf",this.config=Project_ParamConfig.tshfConfig,this.ictmap=e.ict.app.ictmap,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this._areaPanel=null,this._targetPanel=null,this._drawPopPanel=null,this._layer=null,this._playback=null},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid),this.menu.submenu.has(this.menuid)||this.menu.submenu.add(this.menuid,this.getSubMenuHTML()),this.menu.submenu.show(this.menuid),this._initSubMenuEvts()},stop:function(){this._areaPanel&&this._areaPanel.remove(!1),this._targetPanel&&this._targetPanel.remove(!1),this._drawPopPanel&&this._drawPopPanel.remove(!1),this._layer&&this._layer.remove(),this._areaPanel=null,this._targetPanel=null,this._drawPopPanel=null,this._layer=null,this.ictmap.deactivate(),this.menu.submenu.destory(this.menuid),this.menu.mainmenu.deactiveMenu(this.menuid)},getSubMenuHTML:function(){var e=[];return e.push('<ul class="submenu_tshf">'),e.push('<li class="menu_item zdqy"><img src="themes/images/frame/menu_tshf_zdqy.png">&nbsp<label class="func_tshf_zdqy">ÊåáÂÆöÂå∫Âüü</label></li>'),e.push('<li class="menu_item zdmb"><img src="themes/images/frame/menu_tshf_zdmb.png">&nbsp<label class="func_tshf_zdmb">ÊåáÂÆöÁõÆÊ†á</label></li>'),e.push("</ul>"),e.join("")},_initSubMenuEvts:function(){var t=this,n=this.menu.getContainer();n.find(".func_tshf_zdqy").html($.i18n.prop("func_tshf_zdqy")),n.find(".func_tshf_zdmb").html($.i18n.prop("func_tshf_zdmb")),n.find(".submenu_tshf .menu_item").on("click",function(n){n.stopPropagation();if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),t.menu.mainmenu.deactiveMenu(t.menuid);return}var r=$(this);r.hasClass("zdqy")?(t._areaPanel&&(t._areaPanel.remove(!1),t._areaPanel=null),t.areaPlayback(),t.menu.submenu.hide()):r.hasClass("zdmb")&&(t._targetPanel&&(t._targetPanel.remove(!1),t._targetPanel=null),t.targetPlayback(),t.menu.submenu.hide())})},areaPlayback:function(){var t={title:$.i18n.prop("func_tshf_zdqy"),width:400,height:270,top:100,left:200,contentHTML:this.getAreaHtml()},n=this._areaPanel=new e.ICT.PopPanel(t);this._areaPanel.on("popPanelRemove",function(){this._areaPanel=null,this.stop()},this),n.show(),this._initAreaEvts(),this.ictmap.activate(e.ICT.MapMouseState.CIRCLE,this._drawCallback,null,this)},_initAreaEvts:function(){var t=this._areaPanel.getContainer().find(".areaPlaybackContainer"),n=t.find(".msg"),r=this;t.find(".common_draw_title").html($.i18n.prop("common_draw_title")),t.find(".common_draw_circle").html($.i18n.prop("common_draw_circle")),t.find(".common_draw_rect").html($.i18n.prop("common_draw_rect")),t.find(".common_time_info1").html($.i18n.prop("common_time_info1")),t.find(".common_time_info2").html($.i18n.prop("common_time_info2")),t.find(".func_tshf_okbtn").html($.i18n.prop("func_tshf_okbtn")),this._loading=(new e.ICT.Control.Loading).addTo(this._areaPanel.getContainer().find(".container-content")),t.find("input[type=radio]").on("click",function(t){r._layer&&(r._layer.remove(),r._layer=null),r._drawPopPanel&&(r._drawPopPanel.remove(),r._drawPopPanel=null);var n=$(this).val();n=="circle"?r.ictmap.activate(e.ICT.MapMouseState.CIRCLE,r._drawCallback,null,r):n=="rect"&&r.ictmap.activate(e.ICT.MapMouseState.RECTANGLE,r._drawCallback,null,r)}),t.find("input[type=text]").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,maxDate:"%y-%M-%d %H:%m:%s",lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn"};WdatePicker(e)});var i=this.dateUtil.getNewDateTimeBeforHour(24);i=this.dateUtil.formatDateH(i);var s=this.dateUtil.formatDateH(new Date);t.find(".Wdate.startTime").val(i),t.find(".Wdate.endTime").val(s),t.find(".playbackbtn").on("click",function(e){n.text("");if(!r.ictmap.map.hasLayer(r._layer)){n.text($.i18n.prop("common_draw_error1"));return}var i=t.find(".startTime").val(),s=t.find(".endTime").val(),o=r.dateUtil.checkStrartEndTime(i+":00:00",s+":00:00",r.config.timerange);if(!o.result){n.text(o.msg);return}i=r.dateUtil.getCusUnixTime(i+":00:00"),s=r.dateUtil.getCusUnixTime(s+":00:00");var u={},a=r._layer.getBounds();u.ldlon=a.getSouthWest().lng,u.ldlat=a.getSouthWest().lat,u.rulon=a.getNorthEast().lng,u.rulat=a.getNorthEast().lat,u.limit=r.config.limit,u.startTime=i,u.endTime=s;var f=r.config.areaUrl;r._loading.show(),r.ajax.post(f,u,!0,r,function(e){this._loading.hide(),e.state!==1?(console.error(e.msg.error),n.text($.i18n.prop("func_tshf_error"))):this.playBack(e)},function(e){this._loading.hide()})})},_drawCallback:function(t){var n=this._layer=t.layer,r=t.layerType;this._drawPopPanel&&this._drawPopPanel.remove(),this._drawPopPanel=new e.ICT.DrawPopPanel(n,r),this._drawPopPanel.on("popPanelRemove",function(){this._drawPopPanel=null},this),this._drawPopPanel.show(),this.ictmap.map.addLayer(n),this._layer=n,n.editing&&(n.editing.enable(),n.on("edit",function(e){this._drawPopPanel.updateContent()},this))},targetPlayback:function(){var t={title:$.i18n.prop("func_tshf_zdmb"),width:400,height:470,top:100,left:200,contentHTML:this.getTargetHtml()},n=this._targetPanel=new e.ICT.PopPanel(t);this._targetPanel.on("popPanelRemove",function(){this._targetPanel=null,this.config.playbackList=[],this.stop()},this),n.show(),this.updateList(),this._initTargetEvts()},_initTargetEvts:function(){var e=this._targetPanel.getContainer().find(".playbackTargetContainer"),t=e.find(".msg1"),n=e.find(".msg2"),r=this;e.find(".func_tshf_zdmb_ship").html($.i18n.prop("func_tshf_zdmb_ship")),e.find(".func_tshf_zdmb_search_placeholder").attr("placeholder",$.i18n.prop("func_tshf_zdmb_search_placeholder")),e.find(".func_tshf_zdmb_addbtn").html($.i18n.prop("func_tshf_zdmb_addbtn")),e.find(".func_tshf_zdmb_cblb").html($.i18n.prop("func_tshf_zdmb_cblb")),e.find(".func_tshf_zdmb_allchk").html($.i18n.prop("func_tshf_zdmb_allchk")),e.find(".func_tshf_zdmb_delete").html($.i18n.prop("func_tshf_zdmb_delete")),e.find(".func_tshf_zdmb_shipname").html($.i18n.prop("func_tshf_zdmb_shipname")),e.find(".common_time_info1").html($.i18n.prop("common_time_info1")),e.find(".common_time_info2").html($.i18n.prop("common_time_info2")),e.find(".func_tshf_okbtn").html($.i18n.prop("func_tshf_okbtn")),e.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,maxDate:"%y-%M-%d %H:%m:%s",lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn"};WdatePicker(e)});var i=this.dateUtil.getNewDateTimeBeforHour(24);i=this.dateUtil.formatDateH(i);var s=this.dateUtil.formatDateH(new Date);e.find(".Wdate.startTime").val(i),e.find(".Wdate.endTime").val(s),e.find(".addBtn").on("click",function(n){var i=e.find(".shipIMO").val();t.text("");if(i==""){t.text($.i18n.prop("func_tshf_zdmb_search_placeholder"));return}var s=r.config.getShipByMMSIUrl,o={msi:i};r.ajax.post(s,o,!0,this,function(e){if(e.state!==1)console.error(e.msg.error),t.text($.i18n.prop("func_tshf_zdmb_error_search1"));else{var n=r.ictmap.realtarget.convertshipInfoObj(e.msg.searchShip);r.addTarget(n),r.updateList()}})}),e.find(".deleteBtn").on("click",function(t){var n=e.find(".listContent input:checked");n.each(function(){var e=$(this).parent().parent().data("key");r.deleteTarget(e)}),r.updateList()}),e.find("input.allchk").on("click",function(t){var n=e.find(".listContent input[type=checkbox]");this.checked==1?n.each(function(){this.checked=!0}):n.each(function(){this.checked=!1})}),e.find(".playbackBtn").on("click",function(t){n.text("");var i=e.find(".listContent input:checked"),s=[];i.each(function(){var e=$(this).parent().parent().data("key"),t=r.getTargetById(e);s.push(t)});if(s.length<=0){n.text($.i18n.prop("func_tshf_zdmb_error_target"));return}var o=e.find(".startTime").val(),u=e.find(".endTime").val(),a=r.dateUtil.checkStrartEndTime(o+":00:00",u+":00:00",r.config.timerange);if(!a.result){n.text(a.msg);return}o=r.dateUtil.getCusUnixTime(o+":00:00"),u=r.dateUtil.getCusUnixTime(u+":00:00");var f=r.config.moreshipUrl,l={},c=[];for(var h=0;h<s.length;h++)c.push(s[h].id);l.shipIdArr=c.join("~"),l.startTime=o,l.endTime=u,r.ajax.post(f,l,!0,r,function(e){e.state!=1?(console.error(e.msg.error),n.text($.i18n.prop("func_tshf_error"))):this.playBack(e)},function(e){})})},addTarget:function(e){if(this.config.playbackList.length===0)this.config.playbackList.push(e);else{isadd=!0;for(var t=0,n=this.config.playbackList.length;t<n;t++)if(this.config.playbackList[t].id===e.id){isadd=!1;break}isadd&&this.config.playbackList.push(e)}},deleteTarget:function(e){var t=this.config.playbackList,n=null;for(var r=0,i=t.length;r<i;r++)if(t[r].id==e){n=r;break}n!==null&&t.splice(n,1)},getTargetById:function(e){var t=this.config.playbackList,n=null;for(var r=0,i=t.length;r<i;r++)if(t[r].id==e){n=t[r];break}return n},updateList:function(){var e=this._targetPanel.getContainer().find(".playbackTargetContainer"),t=e.find(".listContent"),n=this.config.playbackList,r=[];r.push('<div class="mscroll"><table>');for(var i=0,s=n.length;i<s;i++){var o=n[i].id,u=n[i].mmsi,a=n[i].shipname;r.push("<tr>"),r.push('<td class="mmsi" data-key="'+o+'"><label><input type="checkbox" checked>'+"&nbsp&nbsp"+u+"</label></td><td>"+a+"</td>"),r.push("</tr>")}r.push("</table></div>"),r=r.join(""),t.html(r),t.find(".mscroll").mCustomScrollbar({theme:"minimal-dark"})},playBack:function(t){this._targetPanel&&this._targetPanel.close(),this._areaPanel&&this._areaPanel.close(),this.ictmap.realtarget.hideRealTargetLayer(),this.config.playbackList=[],this._playback&&(this._playback.close(),this._playback=null),this.ictmap.OperateState.tshf=!0,this.menu.mainmenu.disableMenu();var n=this.ictmap.map.getZoom(),r=this.ictmap.map.getCenter();t=t.msg.shipList;var i=this;this._playback=(new e.ICT.Control.PlayBack(t,null,function(){i._playback=null,i.stop(),i.ictmap.map.setView(r,n),i.ictmap.OperateState.tshf=!1,i.menu.mainmenu.enableMenu(),i.ictmap.realtarget.addRealTargetLayer()},null)).show(this.ictmap.map)},getAreaHtml:function(){var e=[];return e.push('<div class="areaPlaybackContainer">'),e.push('<fieldset class="drawDiv">'),e.push('<legend class="common_draw_title">ÁªòÂà∂Âå∫ÂüüÔºö</legend> '),e.push('<form class="form-inline">'),e.push('<div class="form-group">'),e.push('<div class="radio"><input type="radio" name="drawRadio" value="circle" checked ><img src="themes/images/frame/ico_circle.png"><label class="common_draw_circle">ÂúÜÂΩ¢</label></div>'),e.push('<div class="radio"><input type="radio" name="drawRadio" value="rect"><img src="themes/images/frame/ico_rect.png"><label class="common_draw_rect">Áü©ÂΩ¢</label></div>'),e.push("</div>"),e.push("</form>"),e.push("</fieldset>"),e.push('<div class="timeDiv">'),e.push('<label class="common_time_info1">Êó∂Èó¥:</label> <input type="text" class="Wdate startTime">&nbsp<label class="common_time_info2">Ëá≥</label>&nbsp<input type="text" class="Wdate endTime"> '),e.push("</div>"),e.push('<p class="msg"></p>'),e.push('<div class="btnDiv"><button type="button" class="btn playbackbtn func_tshf_okbtn">ÂõûÊîæ</button></div>'),e.push("</div>"),e.join("")},getTargetHtml:function(){var e=[];return e.push('<div class="playbackTargetContainer">'),e.push('  <div class="cbphDiv">'),e.push('    <label class="func_tshf_zdmb_ship">ËàπËà∂:</label>'),e.push('    <input type="text" class="shipIMO func_tshf_zdmb_search_placeholder">'),e.push('    <button class="btn addBtn func_tshf_zdmb_addbtn">Ê∑ªÂä†</button>'),e.push("  </div>"),e.push('  <p class="msg msg1"></p>'),e.push('  <p class="cblb_txt func_tshf_zdmb_cblb">ËàπËà∂ÂàóË°®:</p>'),e.push('  <div class="phlbDiv">'),e.push('    <input type="checkbox" class="allchk" checked><label class="func_tshf_zdmb_allchk">ÂÖ®ÈÄâ</label>'),e.push('    <button class="btn deleteBtn func_tshf_zdmb_delete">Âà†Èô§</button>'),e.push("  </div>"),e.push('  <div class="shiplist">'),e.push('    <div><table><tr><td>MMSI</td><td class="func_tshf_zdmb_shipname">ËàπËà∂Âêç</td></tr></table></div>'),e.push("    <hr>"),e.push('    <div class="listContent"></div>'),e.push("  </div>"),e.push('  <p class="msg msg2"></p>'),e.push("  <hr>  "),e.push('  <div class="timeDiv"><label class="common_time_info1">Êó∂Èó¥:</label> <input type="text" class="Wdate startTime"> &nbsp<label class="common_time_info2">Ëá≥</label> &nbsp<input type="text" class="Wdate endTime"></div>'),e.push('  <div class="btnDiv"><button type="button" class="btn playbackBtn func_tshf_okbtn">ÂõûÊîæ</button></div>'),e.push("</div>"),e.join("")}})}),e.ICT.Func.add("TSHFOneShip",{Class:e.Class.extend({initialize:function(){this.config=Project_ParamConfig.tshfConfig,this.ictmap=e.ict.app.ictmap,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this.menu=e.ict.app.menu,this._popPanel=null,this._playback=null},start:function(){this._popPanel&&this._popPanel.remove(),this._initUi(),this._initEvts()},stop:function(){this._popPanel&&this._popPanel.remove(),this._playback&&this._playback.close()},_initUi:function(){var t={title:$.i18n.prop("func_tshf_title"),width:400,height:160,contentHTML:this.getContentHtml()},n=this._popPanel=new e.ICT.PopPanel(t);this._popPanel.on("popPanelRemove",function(){this._popPanel=null},this),n.show()},getContentHtml:function(){var e=[];return e.push('<div class="tshf_oneship_container">'),e.push('<div class="timeDiv">'),e.push('<label class="common_time_info1">Êó∂Èó¥Ôºö</label>'),e.push('<input type="text" class="Wdate startTime">'),e.push('&nbsp<label class="common_time_info2">Ëá≥ </label>&nbsp'),e.push('<input type="text" class="Wdate endTime">'),e.push("</div>"),e.push('<p class="msg"></p>'),e.push('<div class="btnDiv">'),e.push('<button type="button" class="confirm common_btn_ok">Á°ÆÂÆö</button>'),e.push('<button type="button" class="cancel common_btn_cancel">ÂèñÊ∂à</button>'),e.push("</div>"),e.push("</div>"),e.join("")},_initEvts:function(){var e=this._popPanel.getContainer().find(".tshf_oneship_container"),t=e.find(".msg"),n=this;e.find(".common_time_info1").html($.i18n.prop("common_time_info1")),e.find(".common_time_info2").html($.i18n.prop("common_time_info2")),e.find(".common_btn_ok").html($.i18n.prop("common_btn_ok")),e.find(".common_btn_cancel").html($.i18n.prop("common_btn_cancel")),e.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,maxDate:"%y-%M-%d %H:%m:%s",lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn"};WdatePicker(e)});var r=this.dateUtil.getNewDateTimeBeforHour(24);r=this.dateUtil.formatDateH(r);var i=this.dateUtil.formatDateH(new Date);e.find(".Wdate.startTime").val(r),e.find(".Wdate.endTime").val(i),e.find(".confirm").on("click",function(){t.text("");var r=e.find(".startTime").val(),i=e.find(".endTime").val(),s=n.dateUtil.checkStrartEndTime(r+":00:00",i+":00:00",n.config.timerange);if(!s.result){t.text(s.msg);return}r=n.dateUtil.getCusUnixTime(r+":00:00"),i=n.dateUtil.getCusUnixTime(i+":00:00");var o=n.config.moreshipUrl,u=n.ictmap.realtarget.currentTarget.options.data.id,a={shipIdArr:u,startTime:r,endTime:i};n.ajax.post(o,a,!0,n,function(e){e.state!==1?(console.error(e.msg.error),t.text($.i18n.prop("func_tshf_error"))):n.playBack(e)},function(e){})}),e.find(".cancel").on("click",function(){n.stop()})},playBack:function(t){this._popPanel.remove(),this.ictmap.realtarget.hideRealTargetLayer(),this._playback&&(this._playback.close(),this._playback=null),this.ictmap.OperateState.tshf=!0,this.menu.mainmenu.disableMenu(),t=t.msg.shipList;var n=this.ictmap.map.getZoom(),r=this.ictmap.map.getCenter(),i=this;this._playback=(new e.ICT.Control.PlayBack(t,null,function(){i._playback=null,i.ictmap.OperateState.tshf=!1,i.ictmap.map.setView(r,n),i.menu.mainmenu.enableMenu(),i.ictmap.realtarget.addRealTargetLayer()},null)).show(this.ictmap.map)}})})}),define("layout/base",["leaflet","core/baseobject","core/namespace"],function(e){e.ICT.Layout=e.ICT.BaseObject.extend({visible:!0,_container:null,initialize:function(){e.ICT.BaseObject.prototype.initialize.call(this)},setVisible:function(e){this.visible=e,e?this._container.css("display","block"):this._container.css("display","none")},getContainer:function(){return this._container}})}),define("library/requirejs/css!themes/css/func.oceanWeather",[],function(){}),define("func/oceanWeather",["leaflet","func/base"],function(e){e.ICT.Func.add("OceanWeather",{Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.menuid="ict_menu_main_hyqx"},start:function(){this.menu.submenu.has(this.menuid)||this.menu.submenu.add(this.menuid,this.getSubMenuHTML()),this.menu.submenu.show(this.menuid),this._initSubMenuEvts()},stop:function(){this.menu.submenu.destory(this.menuid),this.removeSWLayer(),this.removeWeatherLayer()},getSubMenuHTML:function(){var e=[];return e.push('<ul class="submenu_oceanWeather">'),e.push('<li class="menu_item swxx" data-key="1"><img src="themes/images/frame/menu-hrdrology.png">&nbsp<label>Ê∞¥Êñá‰ø°ÊÅØ</label></li>'),e.push('<li class="menu_item qxxx" data-key="2"><img src="themes/images/frame/menu-weather.png">&nbsp<label>Ê∞îË±°‰ø°ÊÅØ</label></li>'),e.push("</ul>"),e.join("")},_initSubMenuEvts:function(){var e=this,t=this.menu.getContainer();t.find(".submenu_oceanWeather .menu_item").on("click",function(t){t.stopPropagation();var n=$(this);n.data("key")=="1"?n.hasClass("active")?e.removeSWLayer():e.addSWLayer():n.data("key")=="2"&&(n.hasClass("active")?e.removeWeatherLayer():e.addWeatherLayer()),n.toggleClass("active")})},addSWLayer:function(){},removeSWLayer:function(){},addWeatherLayer:function(){},removeWeatherLayer:function(){}})})}),define("library/requirejs/css!themes/css/func.filterDisplay",[],function(){}),define("func/filterDisplay",["leaflet","func/base","func/userLogin"],function(e){e.ICT.Func.add("FilterDisplay",{Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.menuid="ict_menu_main_glxs",this.ictmap=e.ict.app.ictmap,this.shipTypeList=Project_ParamConfig.FilterDisplayConfig.shipTypeList,this.shipFlagList=Project_ParamConfig.FilterDisplayConfig.shipFlagList,this.shipStateList=Project_ParamConfig.FilterDisplayConfig.shipStateList,this.shipSourceList=Project_ParamConfig.FilterDisplayConfig.shipSourceList},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}this.menu.submenu.has(this.menuid)||this.menu.submenu.add(this.menuid,this.getSubMenuHTML()),this.menu.submenu.show(this.menuid),this._initSubMenuEvts()},stop:function(){this.menu.submenu.hide(),this.menu.mainmenu.deactiveMenu(this.menuid)},getSubMenuHTML:function(){var e=[];e.push('<ul class="submenu_glxs">'),e.push('<li class="submenu_glxs_li">'),e.push('<img src="themes/images/frame/menu_glxs_cblx.png">&nbsp&nbsp<label class="func_filter_shiptype">ÊåâËàπËà∂Á±ªÂûã</label>&nbsp&nbsp<img class="arrowImg" src="themes/images/frame/arrow_down.png">'),e.push('<ul class="filter_ul shipTypeList" style="display:none;">');for(var t=0,n=this.shipTypeList.length;t<n;t++)e.push("<li>"),e.push('<img src="themes/images/filterdisplay/shipTypeList_'+this.shipTypeList[t]+'.png">'),e.push("&nbsp;&nbsp"),e.push("<label>"+this.getNameByKey(this.shipTypeList[t],"shiptype")+"</label>"),e.push("&nbsp;&nbsp"),e.push('<input type="checkbox" value="'+this.shipTypeList[t]+'" checked>'),e.push("</li>");e.push("</ul>"),e.push("</li>"),e.push('<li class="submenu_glxs_li">'),e.push('<img src="themes/images/frame/menu_glxs_cq.png">&nbsp&nbsp<label class="func_filter_shipflag">ÊåâËàπÊóó</label>&nbsp&nbsp<img class="arrowImg" src="themes/images/frame/arrow_down.png">'),e.push('<ul class="filter_ul shipFlagList" style="display:none;">');for(var t=0,n=this.shipFlagList.length;t<n;t++)e.push("<li>"),e.push('<img src="themes/images/filterdisplay/country_'+this.shipFlagList[t]+'.png">'),e.push("&nbsp;&nbsp"),e.push("<label>"+this.getNameByKey(this.shipFlagList[t],"shipflag")+"</label>"),e.push("&nbsp;&nbsp"),e.push('<input type="checkbox" value="'+this.shipFlagList[t]+'" checked>'),e.push("</li>");e.push("</ul>"),e.push("</li>"),e.push('<li class="submenu_glxs_li">'),e.push('<img src="themes/images/frame/menu_glxs_hxzt.png">&nbsp&nbsp<label class="func_filter_shipsta">ÊåâËà™Ë°åÁä∂ÊÄÅ</label>&nbsp&nbsp<img class="arrowImg" src="themes/images/frame/arrow_down.png">'),e.push('<ul class="filter_ul shipStateList" style="display:none;">');for(var t=0,n=this.shipStateList.length;t<n;t++)e.push("<li>"),e.push("<label>"+this.getNameByKey(this.shipStateList[t],"shipstate")+"</label>"),e.push("&nbsp;&nbsp"),e.push('<input type="checkbox" value="'+this.shipStateList[t]+'" checked>'),e.push("</li>");e.push("</ul>"),e.push("</li>"),e.push('<li class="submenu_glxs_li">'),e.push('<img src="themes/images/frame/menu_glxs_aly.png">&nbsp&nbsp<label class="func_filter_shipsrc">ÊåâÊù•Ê∫ê</label>&nbsp&nbsp<img class="arrowImg" src="themes/images/frame/arrow_down.png">'),e.push('<ul class="filter_ul shipSourceList" style="display:none;">');for(var t=0,n=this.shipSourceList.length;t<n;t++)e.push("<li>"),e.push("<label>"+this.getNameByKey(this.shipSourceList[t],"shipsrc")+"</label>"),e.push("&nbsp;&nbsp"),e.push('<input type="checkbox" value="'+this.shipSourceList[t]+'" checked>'),e.push("</li>");return e.push("</ul>"),e.push("</li>"),e.push("</ul>"),e.join("")},getNameByKey:function(e,t){e=e.toString();var n=null;if(t==="shiptype")switch(e){case"1":n=$.i18n.prop("func_filter_shiptype_1");break;case"2":n=$.i18n.prop("func_filter_shiptype_2");break;case"3":n=$.i18n.prop("func_filter_shiptype_3");break;case"4":n=$.i18n.prop("func_filter_shiptype_4");break;case"5":n=$.i18n.prop("func_filter_shiptype_5");break;case"6":n=$.i18n.prop("func_filter_shiptype_6");break;case"7":n=$.i18n.prop("func_filter_shiptype_7");break;case"8":n=$.i18n.prop("func_filter_shiptype_8");break;case"100":n=$.i18n.prop("func_filter_shiptype_100")}else if(t==="shipflag")switch(e){case"1":n=$.i18n.prop("func_filter_shipflag_1");break;case"2":n=$.i18n.prop("func_filter_shipflag_2");break;case"3":n=$.i18n.prop("func_filter_shipflag_3");break;case"4":n=$.i18n.prop("func_filter_shipflag_4");break;case"5":n=$.i18n.prop("func_filter_shipflag_5");break;case"100":n=$.i18n.prop("func_filter_shipflag_100")}else if(t==="shipstate")switch(e){case"0":n=$.i18n.prop("func_filter_shipsta_0");break;case"1":n=$.i18n.prop("func_filter_shipsta_1");break;case"2":n=$.i18n.prop("func_filter_shipsta_2");break;case"3":n=$.i18n.prop("func_filter_shipsta_3");break;case"4":n=$.i18n.prop("func_filter_shipsta_4");break;case"5":n=$.i18n.prop("func_filter_shipsta_5");break;case"6":n=$.i18n.prop("func_filter_shipsta_6");break;case"7":n=$.i18n.prop("func_filter_shipsta_7");break;case"8":n=$.i18n.prop("func_filter_shipsta_8")}else if(t==="shipsrc")switch(e){case"1":n=$.i18n.prop("func_filter_shipsrc_1");break;case"2":n=$.i18n.prop("func_filter_shipsrc_2")}return n},_initSubMenuEvts:function(){var e=this,t=this.menu.getContainer();t.find(".func_filter_shiptype").html($.i18n.prop("func_filter_shiptype")),t.find(".func_filter_shipflag").html($.i18n.prop("func_filter_shipflag")),t.find(".func_filter_shipsta").html($.i18n.prop("func_filter_shipsta")),t.find(".func_filter_shipsrc").html($.i18n.prop("func_filter_shipsrc")),t.find(".submenu_glxs .submenu_glxs_li").on("click",function(){$(this).hasClass("active")?($(this).find(".filter_ul").css("display","none"),$(this).find(".arrowImg").attr("src","themes/images/frame/arrow_down.png"),$(this).removeClass("active")):($(this).find(".filter_ul").css("display","block"),$(this).find(".arrowImg").attr("src","themes/images/frame/arrow_up.png"),$(this).addClass("active").siblings().removeClass("active"),$(this).siblings().find(".filter_ul").css("display","none"),$(this).siblings().find(".arrowImg").attr("src","themes/images/frame/arrow_down.png"))}),t.find(".submenu_glxs .filter_ul").on("click",function(e){e.stopPropagation()}),t.find(".submenu_glxs .shipTypeList>li>input[type=checkbox]").on("click",function(t){var n=$(this).val();if(this.checked)e.shipTypeList.push(n);else{var r=e.shipTypeList.indexOf(n);r!==-1&&e.shipTypeList.splice(r,1)}e.updateShowTarget()}),t.find(".submenu_glxs .shipFlagList>li>input[type=checkbox]").on("click",function(t){var n=$(this).val();if(this.checked)e.shipFlagList.push(n);else{var r=e.shipFlagList.indexOf(n);r!==-1&&e.shipFlagList.splice(r,1)}e.updateShowTarget()}),t.find(".submenu_glxs .shipStateList>li>input[type=checkbox]").on("click",function(t){var n=$(this).val();if(this.checked)e.shipStateList.push(n);else{var r=e.shipStateList.indexOf(n);r!==-1&&e.shipStateList.splice(r,1)}e.updateShowTarget()}),t.find(".submenu_glxs .shipSourceList>li>input[type=checkbox]").on("click",function(t){var n=$(this).val();if(this.checked)e.shipSourceList.push(n);else{var r=e.shipSourceList.indexOf(n);r!==-1&&e.shipSourceList.splice(r,1)}e.updateShowTarget()})},updateShowTarget:function(){this.ictmap.realtarget.isRealTargetShow()&&this.ictmap.realtarget.updateFilterLayer()}})})}),define("library/requirejs/css!themes/css/func.portInfo",[],function(){}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("echarts",[],t):"object"==typeof exports?exports.echarts=t():e.echarts=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(2),n(110),n(104),n(114),n(192),n(327),n(315),n(342),n(289),n(285),n(281),n(322),n(332),n(267),n(272),n(278),n(310),n(302),n(326),n(337),n(205),n(38),n(206),n(229),n(45),n(368),n(365),n(248),n(249),n(356),n(363),n(220),n(195),n(382),n(213),n(212),n(211),n(372),n(221),n(236)},function(e,t){function n(e){if(null==e||"object"!=typeof e)return e;var t=e,r=H.call(e);if("[object Array]"===r){t=[];for(var i=0,s=e.length;i<s;i++)t[i]=n(e[i])}else if(P[r])t=e.constructor.from(e);else if(!D[r]&&!M(e)&&!N(e)){t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=n(e[o]))}return t}function r(e,t,i){if(!x(t)||!x(e))return i?n(t):e;for(var s in t)if(t.hasOwnProperty(s)){var o=e[s],u=t[s];!x(u)||!x(o)||w(u)||w(o)||N(u)||N(o)||T(u)||T(o)||M(u)||M(o)?!i&&s in e||(e[s]=n(t[s],!0)):r(o,u,i)}return e}function i(e,t){for(var n=e[0],i=1,s=e.length;i<s;i++)n=r(n,e[i],t);return n}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r]);return e}function u(){return document.createElement("canvas")}function a(){return _||(_=z.createCanvas().getContext("2d")),_}function f(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function l(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var i in r)e.prototype[i]=r[i];e.prototype.constructor=e,e.superClass=t}function c(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,o(e,t,n)}function h(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function p(e,t,n){if(e&&t)if(e.forEach&&e.forEach===j)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var s in e)e.hasOwnProperty(s)&&t.call(n,e[s],s,e)}function d(e,t,n){if(e&&t){if(e.map&&e.map===q)return e.map(t,n);for(var r=[],i=0,s=e.length;i<s;i++)r.push(t.call(n,e[i],i,e));return r}}function v(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===R)return e.reduce(t,n,r);for(var i=0,s=e.length;i<s;i++)n=t.call(r,n,e[i],i,e);return n}}function m(e,t,n){if(e&&t){if(e.filter&&e.filter===F)return e.filter(t,n);for(var r=[],i=0,s=e.length;i<s;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}}function g(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}function y(e,t){var n=I.call(arguments,2);return function(){return e.apply(t,n.concat(I.call(arguments)))}}function b(e){var t=I.call(arguments,1);return function(){return e.apply(this,t.concat(I.call(arguments)))}}function w(e){return"[object Array]"===H.call(e)}function E(e){return"function"==typeof e}function S(e){return"[object String]"===H.call(e)}function x(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function T(e){return!!D[H.call(e)]}function N(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function C(e){return e!==e}function k(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function L(){return Function.call.apply(I,arguments)}function A(e,t){if(!e)throw new Error(t)}function O(e){e[U]=!0}function M(e){return e[U]}var _,D={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},P={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},H=Object.prototype.toString,B=Array.prototype,j=B.forEach,F=B.filter,I=B.slice,q=B.map,R=B.reduce,U="__ec_primitive__",z={inherits:l,mixin:c,clone:n,merge:r,mergeAll:i,extend:s,defaults:o,getContext:a,createCanvas:u,indexOf:f,slice:L,find:g,isArrayLike:h,each:p,map:d,reduce:v,filter:m,bind:y,curry:b,isArray:w,isString:S,isObject:x,isFunction:E,isBuiltInObject:T,isDom:N,eqNaN:C,retrieve:k,assert:A,setAsPrimitive:O,noop:function(){}};e.exports=z},function(e,t,n){function r(e){return function(t,n,r){t=t&&t.toLowerCase(),j.prototype[e].call(this,t,n,r)}}function i(){j.call(this)}function s(e,t,n){function r(e,t){return e.prio-t.prio}n=n||{},"string"==typeof t&&(t=ut[t]),this.id,this.group,this._dom=e;var s=this._zr=P.init(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=D.throttle(H.bind(s.flush,s),17),this._theme=H.clone(t),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new N,this._api=new T(this,this._coordSysMgr),j.call(this),this._messageCenter=new i,this._initEvents(),this.resize=H.bind(this.resize,this),this._pendingActions=[],F(ot,r),F(rt,r),s.animation.on("frame",this._onframe,this),H.setAsPrimitive(this)}function o(e,t,n){var r,i=this._model,s=this._coordSysMgr.getCoordinateSystems();t=_.parseFinder(i,t);for(var o=0;o<s.length;o++){var u=s[o];if(u[e]&&null!=(r=u[e](i,t,n)))return r}}function u(e,t,n,r,i){function s(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,e._api,n)}var o=e._model;if(!r)return void I(e._componentsViews.concat(e._chartsViews),s);var u={};u[r+"Id"]=n[r+"Id"],u[r+"Index"]=n[r+"Index"],u[r+"Name"]=n[r+"Name"];var a={mainType:r,query:u};i&&(a.subType=i),o&&o.eachComponent(a,function(t,n){s(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)}function a(e,t){var n=e.type,r=e.escapeConnect,i=tt[n],s=i.actionInfo,o=(s.update||"update").split(":"),a=o.pop();o=null!=o[0]&&q(o[0]),this[J]=!0;var f=[e],l=!1;e.batch&&(l=!0,f=H.map(e.batch,function(t){return t=H.defaults(H.extend({},t),e),t.batch=null,t}));var c,h=[],p="highlight"===n||"downplay"===n;I(f,function(e){c=i.action(e,this._model,this._api),c=c||H.extend({},e),c.type=s.event||c.type,h.push(c),p?u(this,a,e,"series"):o&&u(this,a,e,o.main,o.sub)},this),"none"===a||p||o||(this[Q]?(Z.prepareAndUpdate.call(this,e),this[Q]=!1):Z[a].call(this,e)),c=l?{type:s.event||n,escapeConnect:r,batch:h}:h[0],this[J]=!1,!t&&this._messageCenter.trigger(c.type,c)}function f(e){for(var t=this._pendingActions;t.length;){var n=t.shift();a.call(this,n,e)}}function l(e){!e&&this.trigger("updated")}function c(e,t,n){var r=this._api;I(this._componentsViews,function(i){var s=i.__model;i[e](s,t,r,n),w(s,i)},this),t.eachSeries(function(i,s){var o=this._chartsMap[i.__viewId];o[e](i,t,r,n),w(i,o),b(i,o)},this),y(this._zr,t),I(st,function(e){e(t,r)})}function h(e,t){for(var n="component"===e,r=n?this._componentsViews:this._chartsViews,i=n?this._componentsMap:this._chartsMap,s=this._zr,o=0;o<r.length;o++)r[o].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,o){if(n){if("series"===e)return}else o=e;var u=o.id+"_"+o.type,a=i[u];if(!a){var f=q(o.type),l=n?A.getClass(f.main,f.sub):O.getClass(f.sub);if(!l)return;a=new l,a.init(t,this._api),i[u]=a,r.push(a),s.add(a.group)}o.__viewId=u,a.__alive=!0,a.__id=u,a.__model=o},this);for(var o=0;o<r.length;){var u=r[o];u.__alive?o++:(s.remove(u.group),u.dispose(t,this._api),r.splice(o,1),delete i[u.__id])}}function p(e,t){I(rt,function(n){n.func(e,t)})}function d(e){var t={};e.eachSeries(function(e){var n=e.get("stack"),r=e.getData();if(n&&"list"===r.type){var i=t[n];i&&(r.stackedOn=i),t[n]=r}})}function v(e,t){var n=this._api;I(ot,function(r){r.isLayout&&r.func(e,n,t)})}function m(e,t,n){var r=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),I(ot,function(i){(!n||!i.isLayout)&&i.func(e,r,t)})}function g(e,t){var n=this._api;I(this._componentsViews,function(r){var i=r.__model;r.render(i,e,n,t),w(i,r)},this),I(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(r,i){var s=this._chartsMap[r.__viewId];s.__alive=!0,s.render(r,e,n,t),s.group.silent=!!r.get("silent"),w(r,s),b(r,s)},this),y(this._zr,e),I(this._chartsViews,function(t){t.__alive||t.remove(e,n)},this)}function y(e,t){var n=e.storage,r=0;n.traverse(function(e){e.isGroup||r++}),r>t.get("hoverLayerThreshold")&&!S.node&&n.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function b(e,t){var n=0;t.group.traverse(function(e){"group"===e.type||e.ignore||n++});var r=+e.get("progressive"),i=n>e.get("progressiveThreshold")&&r&&!S.node;i&&t.group.traverse(function(e){e.isGroup||(e.progressive=i?Math.floor(n++/r):-1,i&&e.stopAnimation(!0))});var s=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.setStyle("blend",s)})}function w(e,t){var n=e.get("z"),r=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=r&&(e.zlevel=r))})}function E(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[s]=t}}var n=0,r=1,i=2,s="__connectUpdateStatus";H.each(nt,function(o,u){e._messageCenter.on(u,function(o){if(lt[e.group]&&e[s]!==n){if(o&&o.escapeConnect)return;var u=e.makeActionFromEvent(o),a=[];H.each(ft,function(t){t!==e&&t.group===e.group&&a.push(t)}),t(a,n),I(a,function(e){e[s]!==r&&e.dispatchAction(u)}),t(a,i)}})})}var S=n(9),x=n(139),T=n(103),N=n(26),C=n(140),k=n(13),L=n(18),A=n(64),O=n(29),M=n(3),_=n(5),D=n(39),P=n(87),H=n(1),B=n(22),j=n(23),F=n(51),I=H.each,q=k.parseClassType,R=1e3,U=5e3,z=1e3,W=2e3,X=3e3,V=4e3,$=5e3,J="__flagInMainProcess",K="__hasGradientOrPatternBg",Q="__optionUpdated",G=/^[a-zA-Z0-9_]+$/;i.prototype.on=r("on"),i.prototype.off=r("off"),i.prototype.one=r("one"),H.mixin(i,j);var Y=s.prototype;Y._onframe=function(){if(this[Q]){var e=this[Q].silent;this[J]=!0,Z.prepareAndUpdate.call(this),this[J]=!1,this[Q]=!1,f.call(this,e),l.call(this,e)}},Y.getDom=function(){return this._dom},Y.getZr=function(){return this._zr},Y.setOption=function(e,t,n){var r;if(H.isObject(t)&&(n=t.lazyUpdate,r=t.silent,t=t.notMerge),this[J]=!0,!this._model||t){var i=new C(this._api),s=this._theme,o=this._model=new x(null,null,s,i);o.init(null,null,s,i)}this.__lastOnlyGraphic=!!e&&!!e.graphic,H.each(e,function(e,t){"graphic"!==t&&(this.__lastOnlyGraphic=!1)},this),this._model.setOption(e,it,this.__lastOnlyGraphic),n?(this[Q]={silent:r},this[J]=!1):(Z.prepareAndUpdate.call(this),this._zr.flush(),this[Q]=!1,this[J]=!1,f.call(this,r),l.call(this,r))},Y.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Y.getModel=function(){return this._model},Y.getOption=function(){return this._model&&this._model.getOption()},Y.getWidth=function(){return this._zr.getWidth()},Y.getHeight=function(){return this._zr.getHeight()},Y.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Y.getRenderedCanvas=function(e){if(S.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,n=t.storage.getDisplayList();return H.each(n,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},Y.getDataURL=function(e){e=e||{};var t=e.excludeComponents,n=this._model,r=[],i=this;I(t,function(e){n.eachComponent({mainType:e},function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)})});var s=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return I(r,function(e){e.group.ignore=!1}),s},Y.getConnectedDataURL=function(e){if(S.canvasSupported){var t=this.group,n=Math.min,r=Math.max,i=1/0;if(lt[t]){var s=i,o=i,u=-i,a=-i,f=[],l=e&&e.pixelRatio||1;H.each(ft,function(i,l){if(i.group===t){var c=i.getRenderedCanvas(H.clone(e)),h=i.getDom().getBoundingClientRect();s=n(h.left,s),o=n(h.top,o),u=r(h.right,u),a=r(h.bottom,a),f.push({dom:c,left:h.left,top:h.top})}}),s*=l,o*=l,u*=l,a*=l;var c=u-s,h=a-o,p=H.createCanvas();p.width=c,p.height=h;var d=P.init(p);return I(f,function(e){var t=new M.Image({style:{x:e.left*l-s,y:e.top*l-o,image:e.dom}});d.add(t)}),d.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Y.convertToPixel=H.curry(o,"convertToPixel"),Y.convertFromPixel=H.curry(o,"convertFromPixel"),Y.containPixel=function(e,t){var n,r=this._model;return e=_.parseFinder(r,e),H.each(e,function(e,r){r.indexOf("Models")>=0&&H.each(e,function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(t);else if("seriesModels"===r){var s=this._chartsMap[e.__viewId];s&&s.containPoint&&(n|=s.containPoint(t,e))}},this)},this),!!n},Y.getVisual=function(e,t){var n=this._model;e=_.parseFinder(n,e,{defaultMainType:"series"});var r=e.seriesModel,i=r.getData(),s=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=s?i.getItemVisual(s,t):i.getVisual(t)},Y.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Y.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Z={update:function(e){var t=this._model,n=this._api,r=this._coordSysMgr,i=this._zr;if(t){t.restoreData(),r.create(this._model,this._api),p.call(this,t,n),d.call(this,t),r.update(t,n),m.call(this,t,e),g.call(this,t,e);var s=t.get("backgroundColor")||"transparent",o=i.painter;if(o.isSingleCanvas&&o.isSingleCanvas())i.configLayer(0,{clearColor:s});else{if(!S.canvasSupported){var u=B.parse(s);s=B.stringify(u,"rgb"),0===u[3]&&(s="transparent")}s.colorStops||s.image?(i.configLayer(0,{clearColor:s}),this[K]=!0,this._dom.style.background="transparent"):(this[K]&&i.configLayer(0,{clearColor:null}),this[K]=!1,this._dom.style.background=s)}I(st,function(e){e(t,n)})}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),m.call(this,t,e),c.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),m.call(this,t,e,!0),c.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(v.call(this,t,e),c.call(this,"updateLayout",t,e))},prepareAndUpdate:function(e){var t=this._model;h.call(this,"component",t),h.call(this,"chart",t),this.__lastOnlyGraphic?(I(this._componentsViews,function(n){var r=n.__model;r&&"graphic"===r.mainType&&(n.render(r,t,this._api,e),w(r,n))},this),this.__lastOnlyGraphic=!1):Z.update.call(this,e)}};Y.resize=function(e){this[J]=!0,this._zr.resize(e);var t=this._model&&this._model.resetOption("media"),n=t?"prepareAndUpdate":"update";Z[n].call(this),this._loadingFX&&this._loadingFX.resize(),this[J]=!1;var r=e&&e.silent;f.call(this,r),l.call(this,r)},Y.showLoading=function(e,t){if(H.isObject(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),at[e]){var n=at[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},Y.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Y.makeActionFromEvent=function(e){var t=H.extend({},e);return t.type=nt[e.type],t},Y.dispatchAction=function(e,t){if(H.isObject(t)||(t={silent:!!t}),tt[e.type]){if(this[J])return void this._pendingActions.push(e);a.call(this,e,t.silent),t.flush?this._zr.flush(!0):t.flush!==!1&&S.browser.weChat&&this._throttledZrFlush(),f.call(this,t.silent),l.call(this,t.silent)}},Y.on=r("on"),Y.off=r("off"),Y.one=r("one");var et=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Y._initEvents=function(){I(et,function(e){this._zr.on(e,function(t){var n,r=this.getModel(),i=t.target;if("globalout"===e)n={};else if(i&&null!=i.dataIndex){var s=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=s&&s.getDataParams(i.dataIndex,i.dataType)||{}}else i&&i.eventData&&(n=H.extend({},i.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),I(nt,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},Y.isDisposed=function(){return this._disposed},Y.clear=function(){this.setOption({series:[]},!0)},Y.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api,t=this._model;I(this._componentsViews,function(n){n.dispose(t,e)}),I(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete ft[this.id]}},H.mixin(s,j);var tt={},nt={},rt=[],it=[],st=[],ot=[],ut={},at={},ft={},lt={},ct=new Date-0,ht=new Date-0,pt="_echarts_instance_",dt={version:"3.5.0",dependencies:{zrender:"3.4.0"}};dt.init=function(e,t,n){var r=new s(e,t,n);return r.id="ec_"+ct++,ft[r.id]=r,e.setAttribute&&e.setAttribute(pt,r.id),E(r),r},dt.connect=function(e){if(H.isArray(e)){var t=e;e=null,H.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+ht++,H.each(t,function(t){t.group=e})}return lt[e]=!0,e},dt.disConnect=function(e){lt[e]=!1},dt.disconnect=dt.disConnect,dt.dispose=function(e){H.isDom(e)?e=dt.getInstanceByDom(e):"string"==typeof e&&(e=ft[e]),e instanceof s&&!e.isDisposed()&&e.dispose()},dt.getInstanceByDom=function(e){var t=e.getAttribute(pt);return ft[t]},dt.getInstanceById=function(e){return ft[e]},dt.registerTheme=function(e,t){ut[e]=t},dt.registerPreprocessor=function(e){it.push(e)},dt.registerProcessor=function(e,t){"function"==typeof e&&(t=e,e=R),rt.push({prio:e,func:t})},dt.registerPostUpdate=function(e){st.push(e)},dt.registerAction=function(e,t,n){"function"==typeof t&&(n=t,t="");var r=H.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,H.assert(G.test(r)&&G.test(t)),tt[r]||(tt[r]={action:n,actionInfo:e}),nt[t]=r},dt.registerCoordinateSystem=function(e,t){N.register(e,t)},dt.registerLayout=function(e,t){"function"==typeof e&&(t=e,e=z),ot.push({prio:e,func:t,isLayout:!0})},dt.registerVisual=function(e,t){"function"==typeof e&&(t=e,e=X),ot.push({prio:e,func:t})},dt.registerLoading=function(e,t){at[e]=t},dt.extendComponentModel=function(e){return k.extend(e)},dt.extendComponentView=function(e){return A.extend(e)},dt.extendSeriesModel=function(e){return L.extend(e)},dt.extendChartView=function(e){return O.extend(e)},dt.setCanvasCreator=function(e){H.createCanvas=e},dt.registerVisual(W,n(153)),dt.registerPreprocessor(n(147)),dt.registerLoading("default",n(138)),dt.registerAction({type:"highlight",event:"highlight",update:"highlight"},H.noop),dt.registerAction({type:"downplay",event:"downplay",update:"downplay"},H.noop),dt.zrender=P,dt.List=n(14),dt.Model=n(10),dt.Axis=n(33),dt.graphic=n(3),dt.number=n(4),dt.format=n(7),dt.throttle=D.throttle,dt.matrix=n(19),dt.vector=n(6),dt.color=n(22),dt.util={},I(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){dt.util[e]=H[e]}),dt.helper=n(137),dt.PRIORITY={PROCESSOR:{FILTER:R,STATISTIC:U},VISUAL:{LAYOUT:z,GLOBAL:W,CHART:X,COMPONENT:V,BRUSH:$}},e.exports=dt},function(e,t,n){function r(e){return null!=e&&"none"!=e}function i(e){return"string"==typeof e?w.lift(e,-0.1):e}function s(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,s=e.__hoverStl;s.fill=s.fill||(r(n)?i(n):null),s.stroke=s.stroke||(r(t)?i(t):null);var o={};for(var u in s)s.hasOwnProperty(u)&&(o[u]=e.style[u]);e.__normalStl=o,e.__hoverStlDirty=!1}}function o(e){e.__isHover||(s(e),e.useHoverLayer?e.__zr&&e.__zr.addHover(e,e.__hoverStl):(e.setStyle(e.__hoverStl),e.z2+=1),e.__isHover=!0)}function u(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function a(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&o(e)}):o(e)}function f(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&u(e)}):u(e)}function l(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&s(e)}function c(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&a(this)}function h(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&f(this)}function p(){this.__isEmphasis=!0,a(this)}function d(){this.__isEmphasis=!1,f(this)}function v(e,t,n,r,i,s){"function"==typeof i&&(s=i,i=null);var o=r&&r.isAnimationEnabled();if(o){var u=e?"Update":"",a=r.getShallow("animationDuration"+u),f=r.getShallow("animationEasing"+u),l=r.getShallow("animationDelay"+u);"function"==typeof l&&(l=l(i,r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null)),"function"==typeof a&&(a=a(i)),a>0?t.animateTo(n,a,l||0,f,s):(t.attr(n),s&&s())}else t.attr(n),s&&s()}var m=n(1),g=n(182),y=Math.round,b=n(8),w=n(22),E=n(19),S=n(6),x={};x.Group=n(36),x.Image=n(53),x.Text=n(85),x.Circle=n(173),x.Sector=n(179),x.Ring=n(178),x.Polygon=n(175),x.Polyline=n(176),x.Rect=n(177),x.Line=n(174),x.BezierCurve=n(172),x.Arc=n(171),x.CompoundPath=n(166),x.LinearGradient=n(101),x.RadialGradient=n(167),x.BoundingRect=n(11),x.extendShape=function(e){return b.extend(e)},x.extendPath=function(e,t){return g.extendFromString(e,t)},x.makePath=function(e,t,n,r){var i=g.createFromString(e,t),s=i.getBoundingRect();if(n){var o=s.width/s.height;if("center"===r){var u,a=n.height*o;a<=n.width?u=n.height:(a=n.width,u=a/o);var f=n.x+n.width/2,l=n.y+n.height/2;n.x=f-a/2,n.y=l-u/2,n.width=a,n.height=u}x.resizePath(i,n)}return i},x.mergePath=g.mergePath,x.resizePath=function(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}},x.subPixelOptimizeLine=function(e){var t=x.subPixelOptimize,n=e.shape,r=e.style.lineWidth;return y(2*n.x1)===y(2*n.x2)&&(n.x1=n.x2=t(n.x1,r,!0)),y(2*n.y1)===y(2*n.y2)&&(n.y1=n.y2=t(n.y1,r,!0)),e},x.subPixelOptimizeRect=function(e){var t=x.subPixelOptimize,n=e.shape,r=e.style.lineWidth,i=n.x,s=n.y,o=n.width,u=n.height;return n.x=t(n.x,r,!0),n.y=t(n.y,r,!0),n.width=Math.max(t(i+o,r,!1)-n.x,0===o?0:1),n.height=Math.max(t(s+u,r,!1)-n.y,0===u?0:1),e},x.subPixelOptimize=function(e,t,n){var r=y(2*e);return(r+y(t))%2===0?r/2:(r+(n?1:-1))/2},x.setHoverStyle=function(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===e.type?e.traverse(function(e){"group"!==e.type&&l(e,t)}):l(e,t),e.on("mouseover",c).on("mouseout",h),e.on("emphasis",p).on("normal",d)},x.setText=function(e,t,n){var r=t.getShallow("position")||"inside",i=t.getShallow("offset"),s=r.indexOf("inside")>=0?"white":n,o=t.getModel("textStyle");m.extend(e,{textDistance:t.getShallow("distance")||5,textFont:o.getFont(),textPosition:r,textOffset:i,textFill:o.getTextColor()||s})},x.updateProps=function(e,t,n,r,i){v(!0,e,t,n,r,i)},x.initProps=function(e,t,n,r,i){v(!1,e,t,n,r,i)},x.getTransform=function(e,t){for(var n=E.identity([]);e&&e!==t;)E.mul(n,e.getLocalTransform(),n),e=e.parent;return n},x.applyTransform=function(e,t,n){return n&&(t=E.invert([],t)),S.applyTransform([],e,t)},x.transformDirection=function(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),s=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return s=x.applyTransform(s,t,n),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"},x.groupTransition=function(e,t,n,r){function i(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}function s(e){var t={position:S.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=m.extend({},e.shape)),t}if(e&&t){var o=i(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=o[e.anid];if(t){var r=s(e);e.attr(s(t)),x.updateProps(e,r,n,e.dataIndex)}}})}},e.exports=x},function(e,t){function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}var r={},i=1e-4;r.linearMap=function(e,t,n,r){var i=t[1]-t[0],s=n[1]-n[0];if(0===i)return 0===s?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*s+n[0]},r.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?n(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e},r.round=function(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e},r.asc=function(e){return e.sort(function(e,t){return e-t}),e},r.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},r.getPrecisionSafe=function(e){var t=e.toString(),n=t.indexOf(".");return n<0?0:t.length-1-n},r.getPixelPrecision=function(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),s=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+s,0),20);return isFinite(o)?o:20},r.MAX_SAFE_INTEGER=9007199254740991,r.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},r.isRadianAroundZero=function(e){return e>-i&&e<i};var s=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(?:Z|([\+\-]\d\d):?\d\d)?)?)?)?)?$/,o=(new Date).getTimezoneOffset();r.parseDate=function(e){if(e instanceof Date)return e;if("string"==typeof e){var t=s.exec(e);return t?new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0)-60*(t[8]||0)-o,+t[6]||0,+t[7]||0):new Date(NaN)}return null==e?new Date(NaN):new Date(Math.round(e))},r.quantity=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},r.nice=function(e,t){var n,i=r.quantity(e),s=e/i;return n=t?s<1.5?1:s<2.5?2:s<4?3:s<7?5:10:s<1?1:s<2?2:s<3?3:s<5?5:10,n*i},r.reformIntervals=function(e){function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]===(r?-1:1)||!r&&t(e,n,1))}e.sort(function(e,n){return t(e,n,0)?-1:1});for(var n=-1/0,r=1,i=0;i<e.length;){for(var s=e[i].interval,o=e[i].close,u=0;u<2;u++)s[u]<=n&&(s[u]=n,o[u]=u?1:1-r),n=s[u],r=o[u];s[0]===s[1]&&o[0]*o[1]!==1?e.splice(i,1):i++}return e},r.isNumeric=function(e){return e-parseFloat(e)>=0},e.exports=r},function(e,t,n){function r(e,t){return e&&e.hasOwnProperty(t)}var i=n(7),s=n(4),o=n(10),u=n(1),a=u.each,f=u.isObject,l={};l.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]},l.defaultEmphasis=function(e,t){if(e){var n=e.emphasis=e.emphasis||{},r=e.normal=e.normal||{};a(t,function(e){var t=u.retrieve(n[e],r[e]);null!=t&&(n[e]=t)})}},l.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"],l.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)},l.isDataItemOption=function(e){return f(e)&&!(e instanceof Array)},l.converDataValue=function(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+s.parseDate(e)),null==e||""===e?NaN:+e)},l.createDataFormatModel=function(e,t){var n=new o;return u.mixin(n,l.dataFormatMixin),n.seriesIndex=t.seriesIndex,n.name=t.name||"",n.mainType=t.mainType,n.subType=t.subType,n.getData=function(){return e},n},l.dataFormatMixin={getDataParams:function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),s=n.getName(e,!0),o=n.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:s,dataIndex:i,data:o,dataType:t,value:r,color:n.getItemVisual(e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,r){t=t||"normal";var s=this.getData(n),o=s.getItemModel(e),u=this.getDataParams(e,n);null!=r&&u.value instanceof Array&&(u.value=u.value[r]);var a=o.get(["label",t,"formatter"]);return"function"==typeof a?(u.status=t,a(u)):"string"==typeof a?i.formatTpl(a,u):void 0},getRawValue:function(e,t){var n=this.getData(t),r=n.getRawDataItem(e);if(null!=r)return!f(r)||r instanceof Array?r:r.value},formatTooltip:u.noop},l.mappingToExists=function(e,t){t=(t||[]).slice();var n=u.map(e||[],function(e,t){return{exist:e}});return a(t,function(e,r){if(f(e)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=e.id&&n[i].exist.id===e.id+"")return n[i].option=e,void (t[r]=null);for(var i=0;i<n.length;i++){var s=n[i].exist;if(!(n[i].option||null!=s.id&&null!=e.id||null==e.name||l.isIdInner(e)||l.isIdInner(s)||s.name!==e.name+""))return n[i].option=e,void (t[r]=null)}}}),a(t,function(e,t){if(f(e)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!l.isIdInner(i)&&null==e.id){n[r].option=e;break}}r>=n.length&&n.push({option:e})}}),n},l.makeIdAndName=function(e){var t={};a(e,function(e,n){var r=e.exist;r&&(t[r.id]=e)}),a(e,function(e,n){var r=e.option;u.assert(!r||null==r.id||!t[r.id]||t[r.id]===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&(t[r.id]=e),!e.keyInfo&&(e.keyInfo={})}),a(e,function(e,n){var r=e.exist,i=e.option,s=e.keyInfo;if(f(i)){if(s.name=null!=i.name?i.name+"":r?r.name:"\0-",r)s.id=r.id;else if(null!=i.id)s.id=i.id+"";else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t[s.id])}t[s.id]=e}})},l.isIdInner=function(e){return f(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")},l.compressBatches=function(e,t){function n(e,t,n){for(var r=0,i=e.length;r<i;r++)for(var s=e[r].seriesId,o=l.normalizeToArray(e[r].dataIndex),u=n&&n[s],a=0,f=o.length;a<f;a++){var c=o[a];u&&u[c]?u[c]=null:(t[s]||(t[s]={}))[c]=1}}function r(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var s=r(e[i],!0);s.length&&n.push({seriesId:i,dataIndex:s})}return n}var i={},s={};return n(e||[],i),n(t||[],s,i),[r(i),r(s)]},l.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?u.isArray(t.dataIndex)?u.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?u.isArray(t.name)?u.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0},l.makeGetter=function(){var e=0;return function(){var t="\0__ec_prop_getter_"+e++;return function(e){return e[t]||(e[t]={})}}}(),l.parseFinder=function(e,t,n){if(u.isString(t)){var i={};i[t+"Index"]=0,t=i}var s=n&&n.defaultMainType;!s||r(t,s+"Index")||r(t,s+"Id")||r(t,s+"Name")||(t[s+"Index"]=0);var o={};return a(t,function(r,i){var r=t[i];if("dataIndex"===i||"dataIndexInside"===i)return void (o[i]=r);var s=i.match(/^(\w+)(Index|Id|Name)$/)||[],a=s[1],f=(s[2]||"").toLowerCase();if(!(!a||!f||null==r||"index"===f&&"none"===r||n&&n.includeMainTypes&&u.indexOf(n.includeMainTypes,a)<0)){var l={mainType:a};"index"===f&&"all"===r||(l[f]=r);var c=e.queryComponents(l);o[a+"Models"]=c,o[a+"Model"]=c[0]}}),o},e.exports=l},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array,r={create:function(e,t){var r=new n(2);return null==e&&(e=0),null==t&&(t=0),r[0]=e,r[1]=t,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,t){var n=r.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e},applyTransform:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};r.length=r.len,r.lengthSquare=r.lenSquare,r.dist=r.distance,r.distSquare=r.distanceSquare,e.exports=r},function(e,t,n){var r=n(1),i=n(4),s=n(16),o={};o.addCommas=function(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))},o.toCamelCase=function(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e},o.normalizeCssArray=function(e){var t=e.length;return"number"==typeof e?[e,e,e,e]:2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e};var u=o.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},a=["a","b","c","d","e","f","g"],f=function(e,t){return"{"+e+(null==t?"":t)+"}"};o.formatTpl=function(e,t,n){r.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var s=t[0].$vars||[],o=0;o<s.length;o++){var l=a[o],c=f(l,0);e=e.replace(f(l),n?u(c):c)}for(var h=0;h<i;h++)for(var p=0;p<s.length;p++){var c=t[h][s[p]];e=e.replace(f(a[p],h),n?u(c):c)}return e},o.formatTplSimple=function(e,t,n){return r.each(t,function(t,r){e=e.replace("{"+r+"}",n?u(t):t)}),e};var l=function(e){return e<10?"0"+e:e};o.formatTime=function(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var r=i.parseDate(t),s=n?"":"UTC",o=r["get"+s+"FullYear"](),u=r["get"+s+"Month"]()+1,a=r["get"+s+"Date"](),f=r["get"+s+"Hours"](),c=r["get"+s+"Minutes"](),h=r["get"+s+"Seconds"]();return e=e.replace("MM",l(u)).toLowerCase().replace("yyyy",o).replace("yy",o%100).replace("dd",l(a)).replace("d",a).replace("hh",l(f)).replace("h",f).replace("mm",l(c)).replace("m",c).replace("ss",l(h)).replace("s",h)},o.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},o.truncateText=s.truncateText,e.exports=o},function(e,t,n){function r(e){i.call(this,e),this.path=new o}var i=n(40),s=n(1),o=n(30),u=n(163),a=n(71),f=a.prototype.getCanvasPattern,l=Math.abs;r.prototype={constructor:r,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n=this.style,r=this.path,i=n.hasStroke(),s=n.hasFill(),o=n.fill,u=n.stroke,a=s&&!!o.colorStops,l=i&&!!u.colorStops,c=s&&!!o.image,h=i&&!!u.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var p=this.getBoundingRect();a&&(this._fillGradient=n.getGradient(e,o,p)),l&&(this._strokeGradient=n.getGradient(e,u,p))}a?e.fillStyle=this._fillGradient:c&&(e.fillStyle=f.call(o,e)),l?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=f.call(u,e));var d=n.lineDash,v=n.lineDashOffset,m=!!e.setLineDash,g=this.getGlobalScale();r.setScale(g[0],g[1]),this.__dirtyPath||d&&!m&&i?(r=this.path.beginPath(e),d&&!m&&(r.setLineDash(d),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.__dirtyPath=!1):(e.beginPath(),this.path.rebuildPath(e)),s&&r.fill(e),d&&m&&(e.setLineDash(d),e.lineDashOffset=v),i&&r.stroke(e),d&&m&&e.setLineDash([]),this.restoreTransform(e),null!=n.text&&this.drawRectText(e,this.getBoundingRect())},buildPath:function(e,t,n){},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var r=this.path;this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),e=r.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){i.copy(e);var s=t.lineWidth,o=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),o>1e-10&&(i.width+=s/o,i.height+=s/o,i.x-=s/o/2,i.y-=s/o/2)}return i}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var s=this.path.data;if(i.hasStroke()){var o=i.lineWidth,a=i.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),u.containStroke(s,o/a,e,t)))return!0}if(i.hasFill())return u.contain(s,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(s.isObject(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}},r.extend=function(e){var t=function(t){r.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var s in n)!i.hasOwnProperty(s)&&n.hasOwnProperty(s)&&(i[s]=n[s])}e.init&&e.init.call(this,t)};s.inherits(t,r);for(var n in e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},s.inherits(r,i),e.exports=r},function(e,t){function n(e){var t={},n={},r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),s=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),s&&(n.edge=!0,n.version=s[1]),o&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}}var r={};r="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:n(navigator.userAgent),e.exports=r},function(e,t,n){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function i(e,t,n){for(var r=0;r<t.length&&(!t[r]||(e=e&&"object"==typeof e?e[t[r]]:null,null!=e));r++);return null==e&&n&&(e=n.get(t)),e}function s(e,t){var n=u.get(e,"getParent");return n?n.call(e,t):e.parentModel}var o=n(1),u=n(15),a=n(9);r.prototype={constructor:r,init:null,mergeOption:function(e){o.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:i(this.option,this.parsePath(e),!t&&s(this,e))},getShallow:function(e,t){var n=this.option,r=null==n?n:n[e],i=!t&&s(this,e);return null==r&&i&&(r=i.getShallow(e)),r},getModel:function(e,t){var n,o=null==e?this.option:i(this.option,e=this.parsePath(e));return t=t||(n=s(this,e))&&n.getModel(e),new r(o,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(o.clone(this.option))},setReadOnly:function(e){u.setReadOnly(this,e)},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){u.set(this,"getParent",e)},isAnimationEnabled:function(){if(!a.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},u.enableClassExtend(r);var f=o.mixin;f(r,n(145)),f(r,n(142)),f(r,n(146)),f(r,n(144)),e.exports=r},function(e,t,n){function r(e,t,n,r){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}var i=n(6),s=n(19),o=i.applyTransform,u=Math.min,a=Math.max;r.prototype={constructor:r,union:function(e){var t=u(e.x,this.x),n=u(e.y,this.y);this.width=a(e.x+e.width,this.x+this.width)-t,this.height=a(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],r=[];return function(i){if(i){e[0]=n[0]=this.x,e[1]=r[1]=this.y,t[0]=r[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,o(e,e,i),o(t,t,i),o(n,n,i),o(r,r,i),this.x=u(e[0],t[0],n[0],r[0]),this.y=u(e[1],t[1],n[1],r[1]);var s=a(e[0],t[0],n[0],r[0]),f=a(e[1],t[1],n[1],r[1]);this.width=s-this.x,this.height=f-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,i=s.create();return s.translate(i,i,[-t.x,-t.y]),s.scale(i,i,[n,r]),s.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof r||(e=r.create(e));var t=this,n=t.x,i=t.x+t.width,s=t.y,o=t.y+t.height,u=e.x,a=e.x+e.width,f=e.y,l=e.y+e.height;return!(i<u||a<n||o<f||l<s)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new r(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},e.exports=r},function(e,t,n){function r(e,t,n,r,i){var s=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var u=0;t.eachChild(function(a,f){var l,c,h=a.position,p=a.getBoundingRect(),d=t.childAt(f+1),v=d&&d.getBoundingRect();if("horizontal"===e){var m=p.width+(v?-v.x+p.x:0);l=s+m,l>r||a.newline?(s=0,l=m,o+=u+n,u=p.height):u=Math.max(u,p.height)}else{var g=p.height+(v?-v.y+p.y:0);c=o+g,c>i||a.newline?(s+=u+n,o=0,c=g,u=p.width):u=Math.max(u,p.width)}a.newline||(h[0]=s,h[1]=o,"horizontal"===e?s=l+n:o=c+n)})}var i=n(1),s=n(11),o=n(4),u=n(7),a=o.parsePercent,f=i.each,l={},c=l.LOCATION_PARAMS=["left","right","top","bottom","width","height"],h=l.HV_NAMES=[["width","left","right"],["height","top","bottom"]];l.box=r,l.vbox=i.curry(r,"vertical"),l.hbox=i.curry(r,"horizontal"),l.getAvailableSize=function(e,t,n){var r=t.width,i=t.height,s=a(e.x,r),o=a(e.y,i),f=a(e.x2,r),l=a(e.y2,i);return(isNaN(s)||isNaN(parseFloat(e.x)))&&(s=0),(isNaN(f)||isNaN(parseFloat(e.x2)))&&(f=r),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=i),n=u.normalizeCssArray(n||0),{width:Math.max(f-s-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}},l.getLayoutRect=function(e,t,n){n=u.normalizeCssArray(n||0);var r=t.width,i=t.height,o=a(e.left,r),f=a(e.top,i),l=a(e.right,r),c=a(e.bottom,i),h=a(e.width,r),p=a(e.height,i),d=n[2]+n[0],v=n[1]+n[3],m=e.aspect;switch(isNaN(h)&&(h=r-l-v-o),isNaN(p)&&(p=i-c-d-f),isNaN(h)&&isNaN(p)&&(m>r/i?h=.8*r:p=.8*i),null!=m&&(isNaN(h)&&(h=m*p),isNaN(p)&&(p=h/m)),isNaN(o)&&(o=r-l-h-v),isNaN(f)&&(f=i-c-p-d),e.left||e.right){case"center":o=r/2-h/2-n[3];break;case"right":o=r-h-v}switch(e.top||e.bottom){case"middle":case"center":f=i/2-p/2-n[0];break;case"bottom":f=i-p-d}o=o||0,f=f||0,isNaN(h)&&(h=r-o-(l||0)),isNaN(p)&&(p=i-f-(c||0));var g=new s(o+n[3],f+n[0],h,p);return g.margin=n,g},l.positionElement=function(e,t,n,r,o){var u=!o||!o.hv||o.hv[0],a=!o||!o.hv||o.hv[1],f=o&&o.boundingMode||"all";if(u||a){var c;if("raw"===f)c="group"===e.type?new s(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();c=c.clone(),c.applyTransform(h)}t=l.getLayoutRect(i.defaults({width:c.width,height:c.height},t),n,r);var p=e.position,d=u?t.x-c.x:0,v=a?t.y-c.y:0;e.attr("position","raw"===f?[d,v]:[p[0]+d,p[1]+v])}},l.sizeCalculable=function(e,t){return null!=e[h[t][0]]||null!=e[h[t][1]]&&null!=e[h[t][2]]},l.mergeLayoutParam=function(e,t,n){function r(n,r){var i={},u=0,l={},c=0,h=2;if(f(n,function(t){l[t]=e[t]}),f(n,function(e){s(t,e)&&(i[e]=l[e]=t[e]),o(i,e)&&u++,o(l,e)&&c++}),a[r])return o(t,n[2])&&(l[n[1]]=null),o(t,n[1])&&(l[n[2]]=null),l;if(c!==h&&u){if(u>=h)return i;for(var p=0;p<n.length;p++){var d=n[p];if(!s(i,d)&&s(e,d)){i[d]=e[d];break}}return i}return l}function s(e,t){return e.hasOwnProperty(t)}function o(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){f(e,function(e){t[e]=n[e]})}!i.isObject(n)&&(n={});var a=n.ignoreSize;!i.isArray(a)&&(a=[a,a]);var l=r(h[0],0),c=r(h[1],1);u(h[0],e,l),u(h[1],e,c)},l.getLayoutParams=function(e){return l.copyLayoutParams({},e)},l.copyLayoutParams=function(e,t){return t&&e&&f(c,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},e.exports=l},function(e,t,n){function r(e){var t=[];return s.each(l.getClassesByMainType(e),function(e){o.apply(t,e.prototype.dependencies||[])}),s.map(t,function(e){return a.parseClassType(e).main})}var i=n(10),s=n(1),o=Array.prototype.push,u=n(49),a=n(15),f=n(12),l=i.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,r){i.call(this,e,t,n,r),this.uid=u.getUID("componentModel")},init:function(e,t,n,r){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?f.getLayoutParams(e):{},i=t.getTheme();s.merge(e,i.get(this.mainType)),s.merge(e,this.getDefaultOption()),n&&f.mergeLayoutParam(e,r,n)},mergeOption:function(e,t){s.merge(this.option,e,!0);var n=this.layoutMode;n&&f.mergeLayoutParam(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){if(!a.hasOwn(this,"__defaultOption")){for(var e=[],t=this.constructor;t;){var n=t.prototype.defaultOption;n&&e.push(n),t=t.superClass}for(var r={},i=e.length-1;i>=0;i--)r=s.merge(r,e[i],!0);a.set(this,"__defaultOption",r)}return a.get(this,"__defaultOption")},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});a.enableClassManagement(l,{registerWhenExtend:!0}),u.enableSubTypeDefaulter(l),u.enableTopologicalTravel(l,r),s.mixin(l,n(143)),e.exports=l},function(e,t,n){(function(t){function r(e){return h.isArray(e)||(e=[e]),e}function i(e,t){var n=e.dimensions,r=new g(h.map(n,e.getDimensionInfo,e),e.hostModel);m(r,e);for(var i=r._storage={},s=e._storage,o=0;o<n.length;o++){var u=n[o],a=s[u];h.indexOf(t,u)>=0?i[u]=new a.constructor(s[u].length):i[u]=s[u]}return r}var s="undefined",o="undefined"==typeof window?t:window,u=typeof o.Float64Array===s?Array:o.Float64Array,a=typeof o.Int32Array===s?Array:o.Int32Array,f={"float":u,"int":a,ordinal:Array,number:Array,time:Array},l=n(10),c=n(48),h=n(1),p=n(5),d=h.isObject,v=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function(e,t){h.each(v.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods},g=function(e,t){e=e||["x","y"];for(var n={},r=[],i=0;i<e.length;i++){var s,o={};"string"==typeof e[i]?(s=e[i],o={name:s,stackable:!1,type:"number"}):(o=e[i],s=o.name,o.type=o.type||"number"),r.push(s),n[s]=o}this.dimensions=r,this._dimensionInfos=n,this.hostModel=t,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=g.prototype;y.type="list",y.hasItemOption=!0,y.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},y.getDimensionInfo=function(e){return h.clone(this._dimensionInfos[this.getDimension(e)])},y.initData=function(e,t,n){e=e||[],this._rawData=e;var r=this._storage={},i=this.indices=[],s=this.dimensions,o=e.length,u=this._dimensionInfos,a=[],l={};t=t||[];for(var c=0;c<s.length;c++){var h=u[s[c]],d=f[h.type];r[s[c]]=new d(o)}var v=this;n||(v.hasItemOption=!1),n=n||function(e,t,n,r){var i=p.getDataItemValue(e);return p.isDataItemOption(e)&&(v.hasItemOption=!0),p.converDataValue(i instanceof Array?i[r]:i,u[t])};for(var m=0;m<e.length;m++){for(var g=e[m],y=0;y<s.length;y++){var b=s[y],w=r[b];w[m]=n(g,b,m,y)}i.push(m)}for(var c=0;c<e.length;c++){t[c]||e[c]&&null!=e[c].name&&(t[c]=e[c].name);var E=t[c]||"",S=e[c]&&e[c].id;!S&&E&&(l[E]=l[E]||0,S=E,l[E]>0&&(S+="__ec__"+l[E]),l[E]++),S&&(a[c]=S)}this._nameList=t,this._idList=a},y.count=function(){return this.indices.length},y.get=function(e,t,n){var r=this._storage,i=this.indices[t];if(null==i)return NaN;var s=r[e]&&r[e][i];if(n){var o=this._dimensionInfos[e];if(o&&o.stackable)for(var u=this.stackedOn;u;){var a=u.get(e,t);(s>=0&&a>0||s<=0&&a<0)&&(s+=a),u=u.stackedOn}}return s},y.getValues=function(e,t,n){var r=[];h.isArray(e)||(n=t,t=e,e=this.dimensions);for(var i=0,s=e.length;i<s;i++)r.push(this.get(e[i],t,n));return r},y.hasValue=function(e){for(var t=this.dimensions,n=this._dimensionInfos,r=0,i=t.length;r<i;r++)if("ordinal"!==n[t[r]].type&&isNaN(this.get(t[r],e)))return!1;return!0},y.getDataExtent=function(e,t,n){e=this.getDimension(e);var r=this._storage[e],i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var s,o=(this._extent||(this._extent={}))[e+!!t];if(o)return o;if(r){for(var u=1/0,a=-1/0,f=0,l=this.count();f<l;f++)s=this.get(e,f,t),n&&!n(s,e,f)||(s<u&&(u=s),s>a&&(a=s));return this._extent[e+!!t]=[u,a]}return[1/0,-1/0]},y.getSum=function(e,t){var n=this._storage[e],r=0;if(n)for(var i=0,s=this.count();i<s;i++){var o=this.get(e,i,t);isNaN(o)||(r+=o)}return r},y.indexOf=function(e,t){var n=this._storage,r=n[e],i=this.indices;if(r)for(var s=0,o=i.length;s<o;s++){var u=i[s];if(r[u]===t)return s}return-1},y.indexOfName=function(e){for(var t=this.indices,n=this._nameList,r=0,i=t.length;r<i;r++){var s=t[r];if(n[s]===e)return r}return-1},y.indexOfRawIndex=function(e){var t=this.indices,n=t[e];if(null!=n&&n===e)return e;for(var r=0,i=t.length-1;r<=i;){var s=(r+i)/2|0;if(t[s]<e)r=s+1;else{if(!(t[s]>e))return s;i=s-1}}return-1},y.indexOfNearest=function(e,t,n,r){var i=this._storage,s=i[e],o=[];if(!s)return o;null==r&&(r=1/0);for(var u=Number.MAX_VALUE,a=-1,f=0,l=this.count();f<l;f++){var c=t-this.get(e,f,n),h=Math.abs(c);c<=r&&h<=u&&((h<u||c>=0&&a<0)&&(u=h,a=c,o.length=0),o.push(f))}return o},y.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t},y.getRawDataItem=function(e){return this._rawData[this.getRawIndex(e)]},y.getName=function(e){return this._nameList[this.indices[e]]||""},y.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""},y.each=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]),e=h.map(r(e),this.getDimension,this);var s=[],o=e.length,u=this.indices;i=i||this;for(var a=0;a<u.length;a++)switch(o){case 0:t.call(i,a);break;case 1:t.call(i,this.get(e[0],a,n),a);break;case 2:t.call(i,this.get(e[0],a,n),this.get(e[1],a,n),a);break;default:for(var f=0;f<o;f++)s[f]=this.get(e[f],a,n);s[f]=a,t.apply(i,s)}},y.filterSelf=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]),e=h.map(r(e),this.getDimension,this);var s=[],o=[],u=e.length,a=this.indices;i=i||this;for(var f=0;f<a.length;f++){var l;if(1===u)l=t.call(i,this.get(e[0],f,n),f);else{for(var c=0;c<u;c++)o[c]=this.get(e[c],f,n);o[c]=f,l=t.apply(i,o)}l&&s.push(a[f])}return this.indices=s,this._extent={},this},y.mapArray=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=[]);var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n,r),i},y.map=function(e,t,n,s){e=h.map(r(e),this.getDimension,this);var o=i(this,e),u=o.indices=this.indices,a=o._storage,f=[];return this.each(e,function(){var n=arguments[arguments.length-1],r=t&&t.apply(this,arguments);if(null!=r){"number"==typeof r&&(f[0]=r,r=f);for(var i=0;i<r.length;i++){var s=e[i],o=a[s],l=u[n];o&&(o[l]=r[i])}}},n,s),o},y.downSample=function(e,t,n,r){for(var s=i(this,[e]),o=this._storage,u=s._storage,a=this.indices,f=s.indices=[],l=[],c=[],h=Math.floor(1/t),p=u[e],d=this.count(),v=0;v<o[e].length;v++)u[e][v]=o[e][v];for(var v=0;v<d;v+=h){h>d-v&&(h=d-v,l.length=h);for(var m=0;m<h;m++){var g=a[v+m];l[m]=p[g],c[m]=g}var y=n(l),g=c[r(l,y)||0];p[g]=y,f.push(g)}return s},y.getItemModel=function(e){var t=this.hostModel;return e=this.indices[e],new l(this._rawData[e],t,t&&t.ecModel)},y.diff=function(e){var t,n=this._idList,r=e&&e._idList,i="e\0\0";return new c(e?e.indices:[],this.indices,function(e){return null!=(t=r[e])?t:i+e},function(e){return null!=(t=n[e])?t:i+e})},y.getVisual=function(e){var t=this._visual;return t&&t[e]},y.setVisual=function(e,t){if(d(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},y.setLayout=function(e,t){if(d(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},y.getLayout=function(e){return this._layout[e]},y.getItemLayout=function(e){return this._itemLayouts[e]},y.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?h.extend(this._itemLayouts[e]||{},t):t},y.clearItemLayouts=function(){this._itemLayouts.length=0},y.getItemVisual=function(e,t,n){var r=this._itemVisuals[e],i=r&&r[t];return null!=i||n?i:this.getVisual(t)},y.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};if(this._itemVisuals[e]=r,d(t))for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);else r[t]=n},y.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var b=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};y.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(b,t)),this._graphicEls[e]=t},y.getItemGraphicEl=function(e){return this._graphicEls[e]},y.eachItemGraphicEl=function(e,t){h.each(this._graphicEls,function(n,r){n&&e&&e.call(t,n,r)})},y.cloneShallow=function(){var e=h.map(this.dimensions,this.getDimensionInfo,this),t=new g(e,this.hostModel);return t._storage=this._storage,m(t,this),t.indices=this.indices.slice(),this._extent&&(t._extent=h.extend({},this._extent)),t},y.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(h.slice(arguments)))})},y.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],y.CHANGABLE_METHODS=["filterSelf"],e.exports=g}).call(t,function(){return this}())},function(e,t,n){function r(e){o.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function i(e,t){var n=o.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function s(e,t,n){return this.superClass.prototype[t].apply(e,n)}var o=n(1),u={},a=".",f="___EC__COMPONENT__CONTAINER___",l="\0ec_\0";u.set=function(e,t,n){return e[l+t]=n},u.get=function(e,t){return e[l+t]},u.hasOwn=function(e,t){return e.hasOwnProperty(l+t)};var c=u.parseClassType=function(e){var t={main:"",sub:""};return e&&(e=e.split(a),t.main=e[0]||"",t.sub=e[1]||""),t};u.enableClassExtend=function(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return o.extend(n.prototype,e),n.extend=this.extend,n.superCall=i,n.superApply=s,o.inherits(n,this),n.superClass=t,n}},u.enableClassManagement=function(e,t){function n(e){var t=i[e.main];return t&&t[f]||(t=i[e.main]={},t[f]=!0),t}t=t||{};var i={};if(e.registerClass=function(e,t){if(t)if(r(t),t=c(t),t.sub){if(t.sub!==f){var s=n(t);s[t.sub]=e}}else i[t.main]=e;return e},e.getClass=function(e,t,n){var r=i[e];if(r&&r[f]&&(r=t?r[t]:null),n&&!r)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){e=c(e);var t=[],n=i[e.main];return n&&n[f]?o.each(n,function(e,n){n!==f&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=c(e),!!i[e.main]},e.getAllClassMainTypes=function(){var e=[];return o.each(i,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=c(e);var t=i[e.main];return t&&t[f]},e.parseClassType=c,t.registerWhenExtend){var s=e.extend;s&&(e.extend=function(t){var n=s.call(this,t);return e.registerClass(n,t.type)})}return e},u.setReadOnly=function(e,t){},e.exports=u},function(e,t,n){function r(e,t){var n=e+":"+t;if(a[n])return a[n];for(var r=(e+"").split("\n"),i=0,s=0,o=r.length;s<o;s++)i=Math.max(d.measureText(r[s],t).width,i);return f>l&&(f=0,a={}),f++,a[n]=i,i}function i(e,t,n,i){var s=((e||"")+"").split("\n").length,o=r(e,t),u=r("ÂõΩ",t),a=s*u,f=new h(0,0,o,a);switch(f.lineHeight=u,i){case"bottom":case"alphabetic":f.y-=u;break;case"middle":f.y-=u/2}switch(n){case"end":case"right":f.x-=f.width;break;case"center":f.x-=f.width/2}return f}function s(e,t,n,r){var i=t.x,s=t.y,o=t.height,u=t.width,a=n.height,f=o/2-a/2,l="left";switch(e){case"left":i-=r,s+=f,l="right";break;case"right":i+=r+u,s+=f,l="left";break;case"top":i+=u/2,s-=r+a,l="center";break;case"bottom":i+=u/2,s+=o+r,l="center";break;case"inside":i+=u/2,s+=f,l="center";break;case"insideLeft":i+=r,s+=f,l="left";break;case"insideRight":i+=u-r,s+=f,l="right";break;case"insideTop":i+=u/2,s+=r,l="center";break;case"insideBottom":i+=u/2,s+=o-a-r,l="center";break;case"insideTopLeft":i+=r,s+=r,l="left";break;case"insideTopRight":i+=u-r,s+=r,l="right";break;case"insideBottomLeft":i+=r,s+=o-a-r;break;case"insideBottomRight":i+=u-r,s+=o-a-r,l="right"}return{x:i,y:s,textAlign:l,textBaseline:"top"}}function o(e,t,n,i,s){if(!t)return"";s=s||{},i=p(i,"...");for(var o=p(s.maxIterations,2),a=p(s.minChar,0),f=r("ÂõΩ",n),l=r("a",n),c=p(s.placeholder,""),h=t=Math.max(0,t-1),d=0;d<a&&h>=l;d++)h-=l;var v=r(i);v>h&&(i="",v=0),h=t-v;for(var m=(e+"").split("\n"),d=0,g=m.length;d<g;d++){var y=m[d],b=r(y,n);if(!(b<=t)){for(var w=0;;w++){if(b<=h||w>=o){y+=i;break}var E=0===w?u(y,h,l,f):b>0?Math.floor(y.length*h/b):0;y=y.substr(0,E),b=r(y,n)}""===y&&(y=c),m[d]=y}}return m.join("\n")}function u(e,t,n,r){for(var i=0,s=0,o=e.length;s<o&&i<t;s++){var u=e.charCodeAt(s);i+=0<=u&&u<=127?n:r}return s}var a={},f=0,l=5e3,c=n(1),h=n(11),p=c.retrieve,d={getWidth:r,getBoundingRect:i,adjustTextPositionOnRect:s,truncateText:o,measureText:function(e,t){var n=c.getContext();return n.font=t||"12px sans-serif",n.measureText(e)}};e.exports=d},function(e,t,n){var r=n(151),i=n(43);n(152),n(150);var s=n(34),o=n(4),u=n(1),a=n(16),f={};f.getScaleExtent=function(e,t){var n,r,i,s=e.type,a=t.getMin(),f=t.getMax(),l=null!=a,c=null!=f,h=e.getExtent();return"ordinal"===s?n=(t.get("data")||[]).length:(r=t.get("boundaryGap"),u.isArray(r)||(r=[r||0,r||0]),r[0]=o.parsePercent(r[0],1),r[1]=o.parsePercent(r[1],1),i=h[1]-h[0]),null==a&&(a="ordinal"===s?n?0:NaN:h[0]-r[0]*i),null==f&&(f="ordinal"===s?n?n-1:NaN:h[1]+r[1]*i),"dataMin"===a&&(a=h[0]),"dataMax"===f&&(f=h[1]),(null==a||!isFinite(a))&&(a=NaN),(null==f||!isFinite(f))&&(f=NaN),e.setBlank(u.eqNaN(a)||u.eqNaN(f)),t.getNeedCrossZero()&&(a>0&&f>0&&!l&&(a=0),a<0&&f<0&&!c&&(f=0)),[a,f]},f.niceScaleExtent=function(e,t){var n=f.getScaleExtent(e,t),r=null!=t.getMin(),i=null!=t.getMax(),s=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase")),e.setExtent(n[0],n[1]),e.niceExtent(s,r,i);var o=t.get("minInterval");if(isFinite(o)&&!r&&!i&&"interval"===e.type){var u=e.getInterval(),a=Math.max(Math.abs(u),o)/u;n=e.getExtent();var l=(n[1]+n[0])/2;e.setExtent(a*(n[0]-l)+l,a*(n[1]-l)+l),e.niceExtent(s)}var u=t.get("interval");null!=u&&e.setInterval&&e.setInterval(u)},f.createScaleByModel=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new r(e.getCategories(),[1/0,-1/0]);case"value":return new i;default:return(s.getClass(t)||i).create(e)}},f.ifAxisCrossZero=function(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)},f.getAxisLabelInterval=function(e,t,n,r){var i,s=0,o=0,u=1;t.length>40&&(u=Math.floor(t.length/40));for(var f=0;f<e.length;f+=u){var l=e[f],c=a.getBoundingRect(t[f],n,"center","top");c[r?"x":"y"]+=l,c[r?"width":"height"]*=1.3,i?i.intersect(c)?(o++,s=Math.max(s,o)):(i.union(c),o=0):i=c.clone()}return 0===s&&u>1?u:(s+1)*u-1},f.getFormattedLabels=function(e,t){var n=e.scale,r=n.getTicksLabels(),i=n.getTicks();return"string"==typeof t?(t=function(e){return function(t){return e.replace("{value}",null!=t?t:"")}}(t),u.map(r,t)):"function"==typeof t?u.map(i,function(n,r){return t(f.getAxisRawValue(e,n),r)},this):r},f.getAxisRawValue=function(e,t){return"category"===e.type?e.scale.getLabel(t):t},e.exports=f},function(e,t,n){var r=n(1),i=n(7),s=n(15),o=n(5),u=n(13),a=n(62),f=n(9),l=n(12),c=s.set,h=s.get,p=i.encodeHTML,d=i.addCommas,v=u.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(e,t,n,r){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(e,n);var i=this.getInitialData(e,n);c(this,"dataBeforeProcessed",i),this.restoreData()},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?l.getLayoutParams(e):{};r.merge(e,t.getTheme().get(this.subType)),r.merge(e,this.getDefaultOption()),o.defaultEmphasis(e.label,o.LABEL_OPTIONS),this.fillDataTextStyle(e.data),n&&l.mergeLayoutParam(e,i,n)},mergeOption:function(e,t){e=r.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&l.mergeLayoutParam(this.option,e,n);var i=this.getInitialData(e,t);i&&(c(this,"data",i),c(this,"dataBeforeProcessed",i.cloneShallow()))},fillDataTextStyle:function(e){if(e)for(var t=0;t<e.length;t++)e[t]&&e[t].label&&o.defaultEmphasis(e[t].label,o.LABEL_OPTIONS)},getInitialData:function(){},getData:function(e){var t=h(this,"data");return null==e?t:t.getLinkedData(e)},setData:function(e){c(this,"data",e)},getRawData:function(){return h(this,"dataBeforeProcessed")},coordDimToDataDim:function(e){return[e]},dataDimToCoordDim:function(e){return e},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){function s(e){var n=[];return r.each(e,function(e,r){var s,u=o.getDimensionInfo(r),a=u&&u.type;s="ordinal"===a?e+"":"time"===a?t?"":i.formatTime("yyyy/MM/dd hh:mm:ss",e):d(e),s&&n.push(s)}),n.join(", ")}var o=h(this,"data"),u=this.getRawValue(e),a=p(r.isArray(u)?s(u):d(u)),f=o.getName(e),l=o.getItemVisual(e,"color");r.isObject(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||"transparent";var c='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+p(l)+'"></span>',v=this.name;return"\0-"===v&&(v=""),t?c+p(this.name)+" : "+a:(v&&p(v)+"<br />")+c+(f?p(f)+" : "+a:a)},isAnimationEnabled:function(){if(f.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){c(this,"data",h(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(e,t){var n=this.ecModel,r=a.getColorFromPalette.call(this,e,t);return r||(r=n.getColorFromPalette(e,t)),r},getAxisTooltipData:null,getTooltipPosition:null});r.mixin(v,o.dataFormatMixin),r.mixin(v,a),e.exports=v},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array,r={create:function(){var e=new n(6);return r.identity(e),e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],u=t[0]*n[4]+t[2]*n[5]+t[4],a=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=u,e[5]=a,e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var r=t[0],i=t[2],s=t[4],o=t[1],u=t[3],a=t[5],f=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*f,e[1]=-r*f+o*l,e[2]=i*l+u*f,e[3]=-i*f+l*u,e[4]=l*s+f*a,e[5]=l*a-f*s,e},scale:function(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e},invert:function(e,t){var n=t[0],r=t[2],i=t[4],s=t[1],o=t[3],u=t[5],a=n*o-s*r;return a?(a=1/a,e[0]=o*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,e[4]=(r*u-o*i)*a,e[5]=(s*i-n*u)*a,e):null}};e.exports=r},function(e,t,n){function r(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function i(e,t,n,r){return n=n||{},r||!l.canvasSupported?s(e,t,n):l.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):s(e,t,n),n}function s(e,t,n){var i=r(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function o(e,t,n){if(t=t||window.event,null!=t.zrX)return t;var r=t.type,s=r&&r.indexOf("touch")>=0;if(s){var o="touchend"!=r?t.targetTouches[0]:t.changedTouches[0];o&&i(e,o,t,n)}else i(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;return t}function u(e,t,n){c?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function a(e,t,n){c?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}var f=n(23),l=n(9),c="undefined"!=typeof window&&!!window.addEventListener,h=c?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};e.exports={clientToLocal:i,normalizeEvent:o,addEventListener:u,removeEventListener:a,stop:h,Dispatcher:f}},function(e,t,n){function r(e){return e>-S&&e<S}function i(e){return e>S||e<-S}function s(e,t,n,r,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*r+3*s*n)}function o(e,t,n,r,i){var s=1-i;return 3*(((t-e)*s+2*(n-t)*i)*s+(r-n)*i*i)}function u(e,t,n,i,s,o){var u=i+3*(t-n)-e,a=3*(n-2*t+e),f=3*(t-e),l=e-s,c=a*a-3*u*f,h=a*f-9*u*l,p=f*f-3*a*l,d=0;if(r(c)&&r(h))if(r(a))o[0]=0;else{var v=-f/a;v>=0&&v<=1&&(o[d++]=v)}else{var m=h*h-4*c*p;if(r(m)){var g=h/c,v=-a/u+g,y=-g/2;v>=0&&v<=1&&(o[d++]=v),y>=0&&y<=1&&(o[d++]=y)}else if(m>0){var b=E(m),S=c*a+1.5*u*(-h+b),x=c*a+1.5*u*(-h-b);S=S<0?-w(-S,N):w(S,N),x=x<0?-w(-x,N):w(x,N);var v=(-a-(S+x))/(3*u);v>=0&&v<=1&&(o[d++]=v)}else{var C=(2*c*a-3*u*h)/(2*E(c*c*c)),k=Math.acos(C)/3,L=E(c),A=Math.cos(k),v=(-a-2*L*A)/(3*u),y=(-a+L*(A+T*Math.sin(k)))/(3*u),O=(-a+L*(A-T*Math.sin(k)))/(3*u);v>=0&&v<=1&&(o[d++]=v),y>=0&&y<=1&&(o[d++]=y),O>=0&&O<=1&&(o[d++]=O)}}return d}function a(e,t,n,s,o){var u=6*n-12*t+6*e,a=9*t+3*s-3*e-9*n,f=3*t-3*e,l=0;if(r(a)){if(i(u)){var c=-f/u;c>=0&&c<=1&&(o[l++]=c)}}else{var h=u*u-4*a*f;if(r(h))o[0]=-u/(2*a);else if(h>0){var p=E(h),c=(-u+p)/(2*a),d=(-u-p)/(2*a);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function f(e,t,n,r,i,s){var o=(t-e)*i+e,u=(n-t)*i+t,a=(r-n)*i+n,f=(u-o)*i+o,l=(a-u)*i+u,c=(l-f)*i+f;s[0]=e,s[1]=o,s[2]=f,s[3]=c,s[4]=c,s[5]=l,s[6]=a,s[7]=r}function l(e,t,n,r,i,o,u,a,f,l,c){var h,p,d,v,m,g=.005,y=1/0;C[0]=f,C[1]=l;for(var w=0;w<1;w+=.05)k[0]=s(e,n,i,u,w),k[1]=s(t,r,o,a,w),v=b(C,k),v<y&&(h=w,y=v);y=1/0;for(var S=0;S<32&&!(g<x);S++)p=h-g,d=h+g,k[0]=s(e,n,i,u,p),k[1]=s(t,r,o,a,p),v=b(k,C),p>=0&&v<y?(h=p,y=v):(L[0]=s(e,n,i,u,d),L[1]=s(t,r,o,a,d),m=b(L,C),d<=1&&m<y?(h=d,y=m):g*=.5);return c&&(c[0]=s(e,n,i,u,h),c[1]=s(t,r,o,a,h)),E(y)}function c(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function h(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function p(e,t,n,s,o){var u=e-2*t+n,a=2*(t-e),f=e-s,l=0;if(r(u)){if(i(a)){var c=-f/a;c>=0&&c<=1&&(o[l++]=c)}}else{var h=a*a-4*u*f;if(r(h)){var c=-a/(2*u);c>=0&&c<=1&&(o[l++]=c)}else if(h>0){var p=E(h),c=(-a+p)/(2*u),d=(-a-p)/(2*u);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function d(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function v(e,t,n,r,i){var s=(t-e)*r+e,o=(n-t)*r+t,u=(o-s)*r+s;i[0]=e,i[1]=s,i[2]=u,i[3]=u,i[4]=o,i[5]=n}function m(e,t,n,r,i,s,o,u,a){var f,l=.005,h=1/0;C[0]=o,C[1]=u;for(var p=0;p<1;p+=.05){k[0]=c(e,n,i,p),k[1]=c(t,r,s,p);var d=b(C,k);d<h&&(f=p,h=d)}h=1/0;for(var v=0;v<32&&!(l<x);v++){var m=f-l,g=f+l;k[0]=c(e,n,i,m),k[1]=c(t,r,s,m);var d=b(k,C);if(m>=0&&d<h)f=m,h=d;else{L[0]=c(e,n,i,g),L[1]=c(t,r,s,g);var y=b(L,C);g<=1&&y<h?(f=g,h=y):l*=.5}}return a&&(a[0]=c(e,n,i,f),a[1]=c(t,r,s,f)),E(h)}var g=n(6),y=g.create,b=g.distSquare,w=Math.pow,E=Math.sqrt,S=1e-8,x=1e-4,T=E(3),N=1/3,C=y(),k=y(),L=y();e.exports={cubicAt:s,cubicDerivativeAt:o,cubicRootAt:u,cubicExtrema:a,cubicSubdivide:f,cubicProjectPoint:l,quadraticAt:c,quadraticDerivativeAt:h,quadraticRootAt:p,quadraticExtremum:d,quadraticSubdivide:v,quadraticProjectPoint:m}},function(e,t,n){function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function i(e){return e=Math.round(e),e<0?0:e>360?360:e}function s(e){return e<0?0:e>1?1:e}function o(e){return r(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function u(e){return s(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function f(e,t,n){return e+(t-e)*n}function l(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function h(e,t){C&&c(C,t),C=N.put(e,C||t.slice())}function p(e,t){if(e){t=t||[];var n=N.get(e);if(n)return c(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in T)return c(t,T[r]),h(e,t),t;if("#"!==r.charAt(0)){var i=r.indexOf("("),s=r.indexOf(")");if(i!==-1&&s+1===r.length){var a=r.substr(0,i),f=r.substr(i+1,s-(i+1)).split(","),p=1;switch(a){case"rgba":if(4!==f.length)return void l(t,0,0,0,1);p=u(f.pop());case"rgb":return 3!==f.length?void l(t,0,0,0,1):(l(t,o(f[0]),o(f[1]),o(f[2]),p),h(e,t),t);case"hsla":return 4!==f.length?void l(t,0,0,0,1):(f[3]=u(f[3]),d(f,t),h(e,t),t);case"hsl":return 3!==f.length?void l(t,0,0,0,1):(d(f,t),h(e,t),t);default:return}}l(t,0,0,0,1)}else{if(4===r.length){var v=parseInt(r.substr(1),16);return v>=0&&v<=4095?(l(t,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1),h(e,t),t):void l(t,0,0,0,1)}if(7===r.length){var v=parseInt(r.substr(1),16);return v>=0&&v<=16777215?(l(t,(16711680&v)>>16,(65280&v)>>8,255&v,1),h(e,t),t):void l(t,0,0,0,1)}}}}function d(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=u(e[1]),s=u(e[2]),o=s<=.5?s*(i+1):s+i-s*i,f=2*s-o;return t=t||[],l(t,r(255*a(f,o,n+1/3)),r(255*a(f,o,n)),r(255*a(f,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function v(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),u=Math.max(r,i,s),a=u-o,f=(u+o)/2;if(0===a)t=0,n=0;else{n=f<.5?a/(u+o):a/(2-u-o);var l=((u-r)/6+a/2)/a,c=((u-i)/6+a/2)/a,h=((u-s)/6+a/2)/a;r===u?t=h-c:i===u?t=1/3+l-h:s===u&&(t=2/3+c-l),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,f];return null!=e[3]&&p.push(e[3]),p}}function m(e,t){var n=p(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0;return S(n,4===n.length?"rgba":"rgb")}}function g(e,t){var n=p(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function y(e,t,n){if(n=n||[0,0,0,0],!!t&&!!t.length&&e>=0&&e<=1){var i=e*(t.length-1),s=Math.floor(i),o=Math.ceil(i),u=t[s],a=t[o],l=i-s;return n[0]=r(f(u[0],a[0],l)),n[1]=r(f(u[1],a[1],l)),n[2]=r(f(u[2],a[2],l)),n[3]=r(f(u[3],a[3],l)),n}return n}function b(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),u=Math.ceil(i),a=p(t[o]),l=p(t[u]),c=i-o,h=S([r(f(a[0],l[0],c)),r(f(a[1],l[1],c)),r(f(a[2],l[2],c)),s(f(a[3],l[3],c))],"rgba");return n?{color:h,leftIndex:o,rightIndex:u,value:i}:h}}function w(e,t,n,r){if(e=p(e))return e=v(e),null!=t&&(e[0]=i(t)),null!=n&&(e[1]=u(n)),null!=r&&(e[2]=u(r)),S(d(e),"rgba")}function E(e,t){if(e=p(e),e&&null!=t)return e[3]=s(t),S(e,"rgba")}function S(e,t){if(e){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}var x=n(69),T={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},N=new x(20),C=null;e.exports={parse:p,lift:m,toHex:g,fastMapToColor:y,mapToColor:b,modifyHSL:w,modifyAlpha:E,stringify:S}},function(e,t){var n=Array.prototype.slice,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(e,t,n){var r=this._$handlers;if(!t||!e)return this;r[e]||(r[e]=[]);for(var i=0;i<r[e].length;i++)if(r[e][i].h===t)return this;return r[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var r=this._$handlers;if(!t||!e)return this;r[e]||(r[e]=[]);for(var i=0;i<r[e].length;i++)if(r[e][i].h===t)return this;return r[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,s=n[e].length;i<s;i++)n[e][i].h!=t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>3&&(t=n.call(t,1));for(var i=this._$handlers[e],s=i.length,o=0;o<s;){switch(r){case 1:i[o].h.call(i[o].ctx);break;case 2:i[o].h.call(i[o].ctx,t[1]);break;case 3:i[o].h.call(i[o].ctx,t[1],t[2]);break;default:i[o].h.apply(i[o].ctx,t)}i[o].one?(i.splice(o,1),s--):o++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>4&&(t=n.call(t,1,t.length-1));for(var i=t[t.length-1],s=this._$handlers[e],o=s.length,u=0;u<o;){switch(r){case 1:s[u].h.call(i);break;case 2:s[u].h.call(i,t[1]);break;case 3:s[u].h.call(i,t[1],t[2]);break;default:s[u].h.apply(i,t)}s[u].one?(s.splice(u,1),o--):u++}}return this}},e.exports=r},function(e,t,n){var r=n(3),i=n(11),s=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r+s),e.lineTo(n-i,r+s),e.closePath()}}),o=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r),e.lineTo(n,r+s),e.lineTo(n-i,r),e.closePath()}}),u=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,s=Math.max(i,t.height),o=i/2,u=o*o/(s-o),a=r-s+o+u,f=Math.asin(u/o),l=Math.cos(f)*o,c=Math.sin(f),h=Math.cos(f);e.arc(n,a,o,Math.PI-f,2*Math.PI+f);var p=.6*o,d=.7*o;e.bezierCurveTo(n+l-c*p,a+u+h*p,n,r-d,n,r),e.bezierCurveTo(n,r-d,n-l+c*p,a+u+h*p,n-l,a+u),e.closePath()}}),a=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,s=t.y,o=r/3*2;e.moveTo(i,s),e.lineTo(i+o,s+n),e.lineTo(i,s+n/4*3),e.lineTo(i-o,s+n),e.lineTo(i,s),e.closePath()}}),f={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:o,pin:u,arrow:a,triangle:s},l={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var s=Math.min(n,r);i.x=e,i.y=t,i.width=s,i.height=s},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},c={};for(var h in f)f.hasOwnProperty(h)&&(c[h]=new f[h]);var p=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style,t=this.shape;"pin"===t.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var r=t.symbolType,i=c[r];"none"!==t.symbolType&&(i||(r="rect",i=c[r]),l[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n))}}),d=function(e){if("image"!==this.type){var t=this.style,n=this.shape;n&&"line"===n.symbolType?t.stroke=e:this.__isEmptyBrush?(t.stroke=e,t.fill="#fff"):(t.fill&&(t.fill=e),t.stroke&&(t.stroke=e)),this.dirty(!1)}},v={createSymbol:function(e,t,n,s,o,u){var a=0===e.indexOf("empty");a&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var f;return f=0===e.indexOf("image://")?new r.Image({style:{image:e.slice(8),x:t,y:n,width:s,height:o}}):0===e.indexOf("path://")?r.makePath(e.slice(7),{},new i(t,n,s,o)):new p({shape:{symbolType:e,x:t,y:n,width:s,height:o}}),f.__isEmptyBrush=a,f.setColor=d,f.setColor(u),f}};e.exports=v},function(e,t,n){function r(e,t,n){if(!t)return e;n=n||{};var r=n.dimCount;if(null==r){var u=i(t[0]);r=s.isArray(u)&&u.length||1}for(var a=n.defaultNames||[],f=n.extraPrefix||"extra",l=0;l<r;l++)if(!e[l]){var c=a[l]||f+(l-a.length);e[l]=o(t,l)?{type:"ordinal",name:c}:c}return e}function i(e){return s.isArray(e)?e:s.isObject(e)?e.value:e}var s=n(1),o=r.guessOrdinal=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=i(e[n]);if(!s.isArray(o))return!1;var o=o[t];if(null!=o&&isFinite(o))return!1;if(s.isString(o)&&"-"!==o)return!0}return!1};e.exports=r},function(e,t,n){function r(){this._coordinateSystems=[]}var i=n(1),s={};r.prototype={constructor:r,create:function(e,t){var n=[];i.each(s,function(r,i){var s=r.create(e,t);n=n.concat(s||[])}),this._coordinateSystems=n},update:function(e,t){i.each(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(e,t){s[e]=t},r.get=function(e){return s[e]},e.exports=r},function(e,t,n){function r(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}function i(e){var t=r(e);return null!=t&&!c.isArray(d(t))}function s(e,t,n){e=e||[];var r=t.get("coordinateSystem"),s=m[r],o=p.get(r),u=s&&s(e,t,n),g=u&&u.dimensions;g||(g=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"],g=l(g,e,{defaultNames:g.concat(["value"])}));var y=u?u.categoryIndex:-1,b=new f(g,t),w=a(u,e),E={},S=y>=0&&i(e)?function(e,t,n,r){return h.isDataItemOption(e)&&(b.hasItemOption=!0),r===y?n:v(d(e),g[r])}:function(e,t,n,r){var i=d(e),s=v(i&&i[r],g[r]);h.isDataItemOption(e)&&(b.hasItemOption=!0);var o=u&&u.categoryAxesModels;return o&&o[t]&&"string"==typeof s&&(E[t]=E[t]||o[t].getCategories(),s=c.indexOf(E[t],s),s<0&&!isNaN(s)&&(s=+s)),s};return b.hasItemOption=!1,b.initData(e,w,S),b}function o(e){return"category"!==e&&"time"!==e}function u(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function a(e,t){var n,r=[],i=e&&e.dimensions[e.categoryIndex];if(i&&(n=e.categoryAxesModels[i.name]),n){var s=n.getCategories();if(s){var o=t.length;if(c.isArray(t[0])&&t[0].length>1){r=[];for(var u=0;u<o;u++)r[u]=s[t[u][e.categoryIndex||0]]}else r=s.slice(0)}}return r}var f=n(14),l=n(25),c=n(1),h=n(5),p=n(26),d=h.getDataItemValue,v=h.converDataValue,m={cartesian2d:function(e,t,n){var r=c.map(["xAxis","yAxis"],function(e){return n.queryComponents({mainType:e,index:t.get(e+"Index"),id:t.get(e+"Id")})[0]}),i=r[0],s=r[1],a=i.get("type"),f=s.get("type"),h=[{name:"x",type:u(a),stackable:o(a)},{name:"y",type:u(f),stackable:o(f)}],p="category"===a,d="category"===f;l(h,e,{defaultNames:["x","y","z"]});var v={};return p&&(v.x=i),d&&(v.y=s),{dimensions:h,categoryIndex:p?0:d?1:-1,categoryAxesModels:v}},singleAxis:function(e,t,n){var r=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],i=r.get("type"),s="category"===i,a=[{name:"single",type:u(i),stackable:o(i)}];l(a,e);var f={};return s&&(f.single=r),{dimensions:a,categoryIndex:s?0:-1,categoryAxesModels:f}},polar:function(e,t,n){var r=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],i=r.findAxisModel("angleAxis"),s=r.findAxisModel("radiusAxis"),a=s.get("type"),f=i.get("type"),c=[{name:"radius",type:u(a),stackable:o(a)},{name:"angle",type:u(f),stackable:o(f)}],h="category"===f,p="category"===a;l(c,e,{defaultNames:["radius","angle","value"]});var d={};return p&&(d.radius=s),h&&(d.angle=i),{dimensions:c,categoryIndex:h?1:p?0:-1,categoryAxesModels:d}},geo:function(e,t,n){return{dimensions:l([{name:"lng"},{name:"lat"}],e,{defaultNames:["lng","lat","value"]})}}};e.exports=s},function(e,t){var n={};e.exports={register:function(e,t){n[e]=t},get:function(e){return n[e]}}},function(e,t,n){function r(){this.group=new o,this.uid=u.getUID("viewChart")}function i(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var n=0;n<e.childCount();n++)i(e.childAt(n),t)}function s(e,t,n){var r=f.queryDataIndex(e,t);null!=r?l.each(f.normalizeToArray(r),function(t){i(e.getItemGraphicEl(t),n)}):e.eachItemGraphicEl(function(e){i(e,n)})}var o=n(36),u=n(49),a=n(15),f=n(5),l=n(1);r.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,r){},highlight:function(e,t,n,r){s(e.getData(),r,"emphasis")},downplay:function(e,t,n,r){s(e.getData(),r,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){}};var c=r.prototype;c.updateView=c.updateLayout=c.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},a.enableClassExtend(r,["dispose"]),a.enableClassManagement(r,{registerWhenExtend:!0}),e.exports=r},function(e,t,n){var r=n(21),i=n(6),s=n(84),o=n(11),u=n(35).devicePixelRatio,a={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},f=[],l=[],c=[],h=[],p=Math.min,d=Math.max,v=Math.cos,m=Math.sin,g=Math.sqrt,y=Math.abs,b="undefined"!=typeof Float32Array,w=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};w.prototype={constructor:w,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=y(1/u/e)||0,this._uy=y(1/u/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(a.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=y(e-this._xi)>this._ux||y(t-this._yi)>this._uy||this._len<5;return this.addData(a.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,r,i,s){return this.addData(a.C,e,t,n,r,i,s),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,r,i,s):this._ctx.bezierCurveTo(e,t,n,r,i,s)),this._xi=i,this._yi=s,this},quadraticCurveTo:function(e,t,n,r){return this.addData(a.Q,e,t,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},arc:function(e,t,n,r,i,s){return this.addData(a.A,e,t,n,n,r,i-r,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,s),this._xi=v(i)*n+e,this._yi=m(i)*n+e,this},arcTo:function(e,t,n,r,i){return this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},rect:function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(a.R,e,t,n,r),this},closePath:function(){this.addData(a.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!b||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;i<t;i++)n+=e[i].len();b&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var i=0;i<t;i++)for(var s=e[i].data,o=0;o<s.length;o++)this.data[r++]=s[o];this._len=r},addData:function(e){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,r,i=this._dashSum,s=this._dashOffset,o=this._lineDash,u=this._ctx,a=this._xi,f=this._yi,l=e-a,c=t-f,h=g(l*l+c*c),v=a,m=f,y=o.length;for(l/=h,c/=h,s<0&&(s=i+s),s%=i,v-=s*l,m-=s*c;l>0&&v<=e||l<0&&v>=e||0==l&&(c>0&&m<=t||c<0&&m>=t);)r=this._dashIdx,n=o[r],v+=l*n,m+=c*n,this._dashIdx=(r+1)%y,l>0&&v<a||l<0&&v>a||c>0&&m<f||c<0&&m>f||u[r%2?"moveTo":"lineTo"](l>=0?p(v,e):d(v,e),c>=0?p(m,t):d(m,t));l=v-e,c=m-t,this._dashOffset=-g(l*l+c*c)},_dashedBezierTo:function(e,t,n,i,s,o){var u,a,f,l,c,h=this._dashSum,p=this._dashOffset,d=this._lineDash,v=this._ctx,m=this._xi,y=this._yi,b=r.cubicAt,w=0,E=this._dashIdx,S=d.length,x=0;for(p<0&&(p=h+p),p%=h,u=0;u<1;u+=.1)a=b(m,e,n,s,u+.1)-b(m,e,n,s,u),f=b(y,t,i,o,u+.1)-b(y,t,i,o,u),w+=g(a*a+f*f);for(;E<S&&(x+=d[E],!(x>p));E++);for(u=(x-p)/w;u<=1;)l=b(m,e,n,s,u),c=b(y,t,i,o,u),E%2?v.moveTo(l,c):v.lineTo(l,c),u+=d[E]/w,E=(E+1)%S;E%2!==0&&v.lineTo(s,o),a=s-l,f=o-c,this._dashOffset=-g(a*a+f*f)},_dashedQuadraticTo:function(e,t,n,r){var i=n,s=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,i,s)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,b&&(this.data=new Float32Array(e)))},getBoundingRect:function(){f[0]=f[1]=c[0]=c[1]=Number.MAX_VALUE,l[0]=l[1]=h[0]=h[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,r=0,u=0,p=0;p<e.length;){var d=e[p++];switch(1==p&&(t=e[p],n=e[p+1],r=t,u=n),d){case a.M:r=e[p++],u=e[p++],t=r,n=u,c[0]=r,c[1]=u,h[0]=r,h[1]=u;break;case a.L:s.fromLine(t,n,e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.C:s.fromCubic(t,n,e[p++],e[p++],e[p++],e[p++],e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.Q:s.fromQuadratic(t,n,e[p++],e[p++],e[p],e[p+1],c,h),t=e[p++],n=e[p++];break;case a.A:var g=e[p++],y=e[p++],b=e[p++],w=e[p++],E=e[p++],S=e[p++]+E,x=(e[p++],1-e[p++]);1==p&&(r=v(E)*b+g,u=m(E)*w+y),s.fromArc(g,y,b,w,E,S,x,c,h),t=v(S)*b+g,n=m(S)*w+y;break;case a.R:r=t=e[p++],u=n=e[p++];var T=e[p++],N=e[p++];s.fromLine(r,u,r+T,u+N,c,h);break;case a.Z:t=r,n=u}i.min(f,f,c),i.max(l,l,h)}return 0===p&&(f[0]=f[1]=l[0]=l[1]=0),new o(f[0],f[1],l[0]-f[0],l[1]-f[1])},rebuildPath:function(e){for(var t,n,r,i,s,o,u=this.data,f=this._ux,l=this._uy,c=this._len,h=0;h<c;){var p=u[h++];switch(1==h&&(r=u[h],i=u[h+1],t=r,n=i),p){case a.M:t=r=u[h++],n=i=u[h++],e.moveTo(r,i);break;case a.L:s=u[h++],o=u[h++],(y(s-r)>f||y(o-i)>l||h===c-1)&&(e.lineTo(s,o),r=s,i=o);break;case a.C:e.bezierCurveTo(u[h++],u[h++],u[h++],u[h++],u[h++],u[h++]),r=u[h-2],i=u[h-1];break;case a.Q:e.quadraticCurveTo(u[h++],u[h++],u[h++],u[h++]),r=u[h-2],i=u[h-1];break;case a.A:var d=u[h++],g=u[h++],b=u[h++],w=u[h++],E=u[h++],S=u[h++],x=u[h++],T=u[h++],N=b>w?b:w,C=b>w?1:b/w,k=b>w?w/b:1,L=Math.abs(b-w)>.001,A=E+S;L?(e.translate(d,g),e.rotate(x),e.scale(C,k),e.arc(0,0,N,E,A,1-T),e.scale(1/C,1/k),e.rotate(-x),e.translate(-d,-g)):e.arc(d,g,N,E,A,1-T),1==h&&(t=v(E)*b+d,n=m(E)*w+g),r=v(A)*b+d,i=m(A)*w+g;break;case a.R:t=r=u[h],n=i=u[h+1],e.rect(u[h++],u[h++],u[h++],u[h++]);break;case a.Z:e.closePath(),r=t,i=n}}}},w.CMD=a,e.exports=w},function(e,t,n){var r=n(1);e.exports=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n){for(var i={},s=0;s<e.length;s++){var o=e[s][1];if(!(t&&r.indexOf(t,o)>=0||n&&r.indexOf(n,o)<0)){var u=this.getShallow(o);null!=u&&(i[e[s][0]]=u)}}return i}}},function(e,t,n){function r(e,t,n){var r=t.getComponent("tooltip"),s=t.getComponent("axisPointer"),u=s.get("link",!0)||[],f=[];c(n.getCoordinateSystems(),function(n){function l(r,l,c){var h=c.model.getModel("axisPointer",s),p=h.get("show");if(p&&("auto"!==p||r||a(h))){null==l&&(l=h.get("triggerTooltip")),h=r?i(c,g,s,t,r,l):h;var m=h.get("snap"),y=d(c.model),b=l||m||"category"===c.type,w=e.axesInfo[y]={key:y,axis:c,coordSys:n,axisPointerModel:h,triggerTooltip:l,involveSeries:b,snap:m,useHandle:a(h),seriesModels:[]};v[y]=w,e.seriesInvolved|=b;var E=o(u,c);if(null!=E){var S=f[E]||(f[E]={axesInfo:{}});S.axesInfo[y]=w,S.mapper=u[E].mapper,w.linkGroup=S}}}if(n.axisPointerEnabled){var p=d(n.model),v=e.coordSysAxesInfo[p]={};e.coordSysMap[p]=n;var m=n.model,g=m.getModel("tooltip",r);if(c(n.getAxes(),h(l,!1,null)),n.getTooltipAxes&&r&&g.get("show")){var y="axis"===g.get("trigger"),b="cross"===g.get("axisPointer.type"),w=n.getTooltipAxes(g.get("axisPointer.axis"));(y||b)&&c(w.baseAxes,h(l,!b||"cross",y)),b&&c(w.otherAxes,h(l,"cross",!1))}}})}function i(e,t,n,r,i,s){var o=t.getModel("axisPointer"),u={};c(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){u[e]=f.clone(o.get(e))}),u.snap="category"!==e.type&&!!s,"cross"===o.get("type")&&(u.type="line");var a=u.label||(u.label={});if(null==a.show&&(a.show=!1),"cross"===i&&(a.show=!0,!s)){var h=u.lineStyle=o.get("crossStyle");h&&f.defaults(a.textStyle||(a.textStyle={}),h.textStyle)}return e.model.getModel("axisPointer",new l(u,n,r))}function s(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,r=t.get("tooltip.trigger",!0);n&&"none"!==r&&r!==!1&&"item"!==r&&t.get("axisPointer.show",!0)!==!1&&c(e.coordSysAxesInfo[d(n.model)],function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}function o(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var s=e[i]||{};if(u(s[r+"AxisId"],n.id)||u(s[r+"AxisIndex"],n.componentIndex)||u(s[r+"AxisName"],n.name))return i}}function u(e,t){return"all"===e||f.isArray(e)&&f.indexOf(e,t)>=0||e===t}function a(e){return!!e.get("handle.show")}var f=n(1),l=n(10),c=f.each,h=f.curry,p={};p.collect=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r(n,e,t),n.seriesInvolved&&s(n,e),n},p.fixValue=function(e){var t=p.getAxisInfo(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,s=n.get("status"),o=n.get("value");null!=o&&(o=r.parse(o));var u=a(n);null==s&&(i.status=u?"show":"hide");var f=r.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==o||o>f[1])&&(o=f[1]),o<f[0]&&(o=f[0]),i.value=o,u&&(i.status=t.axis.scale.isBlank()?"hide":"show")}},p.getAxisInfo=function(e){var t=e.ecModel.getComponent("axisPointer").coordSysAxesInfo;return t&&t.axesInfo[d(e)]},p.getAxisPointerModel=function(e){var t=p.getAxisInfo(e);return t&&t.axisPointerModel};var d=p.makeKey=function(e){return e.type+"||"+e.id};e.exports=p},function(e,t,n){function r(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}var i=n(4),s=i.linearMap,o=n(1),u=[0,1],a=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};a.prototype={constructor:a,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){var e=this._extent.slice();return e},getPixelPrecision:function(e){return i.getPixelPrecision(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&(n=n.slice(),r(n,i.count())),s(e,u,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(n=n.slice(),r(n,i.count()));var o=s(e,n,u,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],r=0;r<t.length;r++)n.push(t[r][0]);return t[r-1]&&n.push(t[r-1][1]),n}return o.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return o.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),r=e[0],i=e[1],s=i-r,o=0;o<n;o++)t.push([s*o/n+r,s*(o+1)/n+r]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n}},e.exports=a},function(e,t,n){function r(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var i=n(15),s=r.prototype;s.parse=function(e){return e},s.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},s.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},s.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},s.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},s.unionExtentFromData=function(e,t){this.unionExtent(e.getDataExtent(t,!0))},s.getExtent=function(){return this._extent.slice()},s.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},s.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},s.isBlank=function(){return this._isBlank},s.setBlank=function(e){this._isBlank=e},i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),e.exports=r},function(e,t){var n=1;"undefined"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var r={debugMode:0,devicePixelRatio:n};e.exports=r},function(e,t,n){var r=n(1),i=n(65),s=n(11),o=function(e){e=e||{},i.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToMap(e),e instanceof o&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,s=r.indexOf(i,e);return s<0?this:(i.splice(s,1),e.parent=null,n&&(n.delFromMap(e.id),e instanceof o&&e.delChildrenFromStorage(n)),t&&t.refresh(),this)},removeAll:function(){var e,t,n=this._children,r=this.__storage;for(t=0;t<n.length;t++)e=n[t],r&&(r.delFromMap(e.id),e instanceof o&&e.delChildrenFromStorage(r)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n];e.call(t,r),"group"===r.type&&r.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),n instanceof o&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),n instanceof o&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new s(0,0,0,0),r=e||this._children,i=[],o=0;o<r.length;o++){var u=r[o];if(!u.ignore&&!u.invisible){var a=u.getBoundingRect(),f=u.getLocalTransform(i);f?(n.copy(a),n.applyTransform(f),t=t||n.clone(),t.union(n)):(t=t||a.clone(),t.union(a))}}return t||n}},r.inherits(o,i),e.exports=o},function(e,t,n){function r(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function i(e,t,n,r){var i,s,o=c(n-e.rotation),u=r[0]>r[1],a="start"===t&&!u||"start"!==t&&u;return h(o-m/2)?(s=a?"bottom":"top",i="center"):h(o-1.5*m)?(s=a?"top":"bottom",i="center"):(s="middle",i=o<1.5*m&&o>m/2?a?"left":"right":a?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:s}}function s(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}var o=n(1),u=n(7),a=n(3),f=n(10),l=n(4),c=l.remRadian,h=l.isRadianAroundZero,p=n(6),d=p.applyTransform,v=o.retrieve,m=Math.PI,g=function(e,t){this.opt=t,this.axisModel=e,o.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new a.Group;var n=new a.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};g.prototype={constructor:g,hasBuilder:function(e){return!!y[e]},add:function(e){y[e].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],s=[n[1],0];r&&(d(i,i,r),d(s,s,r)),this.group.add(new a.Line(a.subPixelOptimizeLine({anid:"line",shape:{x1:i[0],y1:i[1],x2:s[0],y2:s[1]},style:o.extend({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var e=this.axisModel,t=e.axis;if(e.get("axisTick.show")&&!t.scale.isBlank())for(var n=e.getModel("axisTick"),r=this.opt,i=n.getModel("lineStyle"),s=n.get("length"),u=E(n,r.labelInterval),f=t.getTicksCoords(n.get("alignWithLabel")),l=t.scale.getTicks(),c=[],h=[],p=this._transform,v=0;v<f.length;v++)if(!w(t,v,u)){var m=f[v];c[0]=m,c[1]=0,h[0]=m,h[1]=r.tickDirection*s,p&&(d(c,c,p),d(h,h,p)),this.group.add(new a.Line(a.subPixelOptimizeLine({anid:"tick_"+l[v],shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:o.defaults(i.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function e(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r)return n.applyTransform(e.getLocalTransform()),r.applyTransform(t.getLocalTransform()),n.intersect(r)}var t=this.opt,n=this.axisModel,i=n.axis,u=v(t.axisLabelShow,n.get("axisLabel.show"));if(u&&!i.scale.isBlank()){var l=n.getModel("axisLabel"),c=l.getModel("textStyle"),h=l.get("margin"),p=i.scale.getTicks(),d=n.getFormattedLabels(),g=(v(t.labelRotate,l.get("rotate"))||0)*m/180,y=b(t.rotation,g,t.labelDirection),E=n.get("data"),S=[],x=s(n),T=n.get("triggerEvent");if(o.each(p,function(e,s){if(!w(i,s,t.labelInterval)){var o=c;E&&E[e]&&E[e].textStyle&&(o=new f(E[e].textStyle,c,n.ecModel));var u=o.getTextColor()||n.get("axisLine.lineStyle.color"),l=i.dataToCoord(e),p=[l,t.labelOffset+t.labelDirection*h],v=i.scale.getLabel(e),m=new a.Text({anid:"label_"+e,style:{text:d[s],textAlign:o.get("align",!0)||y.textAlign,textVerticalAlign:o.get("baseline",!0)||y.textVerticalAlign,textFont:o.getFont(),fill:"function"==typeof u?u("category"===i.type?v:"value"===i.type?e+"":e,s):u},position:p,rotation:y.rotation,silent:x,z2:10});T&&(m.eventData=r(n),m.eventData.targetType="axisLabel",m.eventData.value=v),this._dumbGroup.add(m),m.updateTransform(),S.push(m),this.group.add(m),m.decomposeTransform()}},this),null!=n.getMin()){var N=S[0],C=S[1];e(N,C)&&(N.ignore=!0)}if(null!=n.getMax()){var k=S[S.length-1],L=S[S.length-2];e(L,k)&&(k.ignore=!0)}}},axisName:function(){var e=this.opt,t=this.axisModel,n=v(e.axisName,t.get("name"));if(n){var f,l=t.get("nameLocation"),c=e.nameDirection,h=t.getModel("nameTextStyle"),p=t.get("nameGap")||0,d=this.axisModel.axis.getExtent(),g=d[0]>d[1]?-1:1,y=["start"===l?d[0]-g*p:"end"===l?d[1]+g*p:(d[0]+d[1])/2,"middle"===l?e.labelOffset+c*p:0],w=t.get("nameRotate");null!=w&&(w=w*m/180);var E;"middle"===l?f=b(e.rotation,null!=w?w:e.rotation,c):(f=i(e,l,w||0,d),E=e.axisNameAvailableWidth,null!=E&&(E=Math.abs(E/Math.sin(f.rotation)),!isFinite(E)&&(E=null)));var S=h.getFont(),x=t.get("nameTruncate",!0)||{},T=x.ellipsis,N=v(x.maxWidth,E),C=null!=T&&null!=N?u.truncateText(n,N,S,T,{minChar:2,placeholder:x.placeholder}):n,k=t.get("tooltip",!0),L=t.mainType,A={componentType:L,name:n,$vars:["name"]};A[L+"Index"]=t.componentIndex;var O=new a.Text({anid:"name",__fullText:n,__truncatedText:C,style:{text:C,textFont:S,fill:h.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:f.textAlign,textVerticalAlign:f.textVerticalAlign},position:y,rotation:f.rotation,silent:s(t),z2:1,tooltip:k&&k.show?o.extend({content:n,formatter:function(){return n},formatterParams:A},k):null});t.get("triggerEvent")&&(O.eventData=r(t),O.eventData.targetType="axisName",O.eventData.name=n),this._dumbGroup.add(O),O.updateTransform(),this.group.add(O),O.decomposeTransform()}}},b=g.innerTextLayout=function(e,t,n){var r,i,s=c(t-e);return h(s)?(i=n>0?"top":"bottom",r="center"):h(s-m)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=s>0&&s<m?n>0?"right":"left":n>0?"left":"right"),{rotation:s,textAlign:r,textVerticalAlign:i}},w=g.ifIgnoreOnTick=function(e,t,n){var r,i=e.scale;return"ordinal"===i.type&&("function"==typeof n?(r=i.getTicks()[t],!n(r,i.getLabel(r))):t%(n+1))},E=g.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n};e.exports=g},function(e,t,n){n(93),n(45)},function(e,t){var n={},r="\0__throttleOriginMethod",i="\0__throttleRate",s="\0__throttleType";n.throttle=function(e,t,n){function r(){f=(new Date).getTime(),l=null,e.apply(o,u||[])}var i,s,o,u,a=0,f=0,l=null;t=t||0;var c=function(){i=(new Date).getTime(),o=this,u=arguments,s=i-(n?a:f)-t,clearTimeout(l),n?l=setTimeout(r,t):s>=0?r():l=setTimeout(r,-s),a=i};return c.clear=function(){l&&(clearTimeout(l),l=null)},c},n.createOrUpdate=function(e,t,o,u){var a=e[t];if(a){var f=a[r]||a,l=a[s],c=a[i];if(c!==o||l!==u){if(null==o||!u)return e[t]=f;a=e[t]=n.throttle(f,o,"debounce"===u),a[r]=f,a[s]=u,a[i]=o}return a}},n.clear=function(e,t){var n=e[t];n&&n[r]&&(e[t]=n[r])},e.exports=n},function(e,t,n){function r(e){e=e||{},o.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new s(e.style),this._rect=null,this.__clipPaths=[]}var i=n(1),s=n(72),o=n(65),u=n(86);r.prototype={constructor:r,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?o.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new s(e),this.dirty(!1),this}},i.inherits(r,o),i.mixin(r,u),e.exports=r},function(e,t){var n=function(e){this.colorStops=e||[]};n.prototype={constructor:n,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},e.exports=n},function(e,t,n){function r(e){return i.isObject(e)&&null!=e.value?e.value:e}var i=n(1),s=n(17);e.exports={getFormattedLabels:function(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&i.map(this.get("data"),r)},getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:i.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(e,t,n){var r=n(4),i=n(7),s=n(34),o=Math.floor,u=Math.ceil,a=r.getPrecisionSafe,f=r.round,l=s.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),l.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var e=this._interval,t=this._extent,n=[],r=1e4;if(e){var i=this._niceExtent,s=this._intervalPrecision=a(e);s+=2,t[0]<i[0]&&n.push(t[0]);for(var o=i[0];o<=i[1];)if(n.push(o),o=f(o+e,s),n.length>r)return[];t[1]>(n.length?n[n.length-1]:i[1])&&n.push(t[1])}return n},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){var n=t&&t.precision;return null!=e&&null!=n&&("auto"===n&&(n=this._intervalPrecision+2),e=f(e,n,t&&t.pad)),i.addCommas(e)},niceTicks:function(e){e=e||5;var t=this._extent,n=t[1]-t[0];if(isFinite(n)){n<0&&(n=-n,t.reverse());var i=f(r.nice(n/e,!0),Math.max(a(t[0]),a(t[1]))+2),s=a(i)+2,l=[f(u(t[0]/i)*i,s),f(o(t[1]/i)*i,s)];this._interval=i,this._niceExtent=l}},niceExtent:function(e,t,n){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var i=r[0];n?r[0]-=i/2:(r[1]+=i/2,r[0]-=i/2)}else r[1]=1;var s=r[1]-r[0];isFinite(s)||(r[0]=0,r[1]=1),this.niceTicks(e);var a=this._interval;t||(r[0]=f(o(r[0]/a)*a)),n||(r[1]=f(u(r[1]/a)*a))}});l.create=function(){return new l},e.exports=l},function(e,t,n){function r(e){this.group=new s.Group,this._symbolCtor=e||o}function i(e,t,n){var r=e.getItemLayout(t);return r&&!isNaN(r[0])&&!isNaN(r[1])&&(!n||!n(t))&&"none"!==e.getItemVisual(t,"symbol")}var s=n(3),o=n(54),u=r.prototype;u.updateData=function(e,t){var n=this.group,r=e.hostModel,o=this._data,u=this._symbolCtor,a={itemStyle:r.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:r.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:r.get("symbolRotate"),symbolOffset:r.get("symbolOffset"),hoverAnimation:r.get("hoverAnimation"),labelModel:r.getModel("label.normal"),hoverLabelModel:r.getModel("label.emphasis")};e.diff(o).add(function(r){var s=e.getItemLayout(r);if(i(e,r,t)){var o=new u(e,r,a);o.attr("position",s),e.setItemGraphicEl(r,o),n.add(o)}}).update(function(l,c){var h=o.getItemGraphicEl(c),p=e.getItemLayout(l);return i(e,l,t)?(h?(h.updateData(e,l,a),s.updateProps(h,{position:p},r)):(h=new u(e,l),h.attr("position",p)),n.add(h),void e.setItemGraphicEl(l,h)):void n.remove(h)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute(),this._data=e},u.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var r=e.getItemLayout(n);t.attr("position",r)})},u.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll())},e.exports=r},function(e,t,n){var r=n(2),i=n(32),s=n(124),o=n(1);n(121),n(122),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!o.isArray(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=i.collect(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var r=s(t.getComponent("axisPointer").coordSysAxesInfo,e.currTrigger,e,e.dispatchAction||o.bind(n.dispatchAction,n),t,n,e.tooltipOption,e.highDownKey);return r})},function(e,t,n){function r(e){var t={};return c(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function i(e,t){c([["start","startValue"],["end","endValue"]],function(n,r){var i=e._rangePropMode;null!=t[n[0]]?i[r]="percent":null!=t[n[1]]&&(i[r]="value")})}var s=n(1),o=n(9),u=n(2),a=n(5),f=n(77),l=n(196),c=s.each,h=f.eachAxisDim,p=u.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=r(e);this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=r(e);s.merge(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;o.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),i(this,e),c([["start","startValue"],["end","endValue"]],function(e,n){"value"===this._rangePropMode[n]&&(t[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,r,i){var s=this.dependentModels[t.axis][n],o=s.__dzAxisProxy||(s.__dzAxisProxy=new l(t.name,n,this,i));e[t.name+"_"+n]=o},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();h(function(t){var n=t.axisIndex;e[n]=a.normalizeToArray(e[n])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;h(function(n){null!=e[n.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,r=this.dependentModels;if(e){var i="vertical"===t?"y":"x";r[i+"Axis"].length?(n[i+"AxisIndex"]=[0],e=!1):c(r.singleAxis,function(r){e&&r.get("orient",!0)===t&&(n.singleAxisIndex=[r.componentIndex],e=!1)})}e&&h(function(t){if(e){var r=[],i=this.dependentModels[t.axis];if(i.length&&!r.length)for(var s=0,o=i.length;s<o;s++)"category"===i[s].get("type")&&r.push(s);n[t.axisIndex]=r,r.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&h(function(t){var r=n[t.axisIndex],i=e.get(t.axisIndex),o=e.get(t.axisId),u=e.ecModel.queryComponents({mainType:t.axis,index:i,id:o})[0];i=u.componentIndex,s.indexOf(r,i)<0&&r.push(i)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return h(function(r){var i=e.get(r.axisIndex),s=this.dependentModels[r.axis][i];s&&s.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return h(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;h(function(r){c(this.get(r.axisIndex),function(i){e.call(t,r,i,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){c(["start","end","startValue","endValue"],function(t){this.option[t]=e[t]},this),!t&&i(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var e=this._axisProxies;for(var t in e)if(e.hasOwnProperty(t)&&e[t].hostedBy(this))return e[t];for(var t in e)if(e.hasOwnProperty(t)&&!e[t].hostedBy(this))return e[t]},getRangePropMode:function(){return this._rangePropMode.slice()}});e.exports=p},function(e,t,n){var r=n(64);e.exports=r.extend({type:"dataZoom",render:function(e,t,n,r){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){function e(e,t,n,r){for(var i,s=0;s<n.length;s++)if(n[s].model===e){i=n[s];break}i||n.push(i={model:e,axisModels:[],coordIndex:r}),i.axisModels.push(t)}var t=this.dataZoomModel,n=this.ecModel,r={};return t.eachTargetAxis(function(t,i){var s=n.getComponent(t.axis,i);if(s){var o=s.getCoordSysModel();o&&e(o,s,r[o.mainType]||(r[o.mainType]=[]),o.componentIndex)}},this),r}})},function(e,t){function n(e){return e}function r(e,t,r,i){this._old=e,this._new=t,this._oldKeyGetter=r||n,this._newKeyGetter=i||n}function i(e,t,n,r){for(var i=0;i<e.length;i++){var s=r(e[i],i),o=t[s];null==o?(n.push(s),t[s]=i):(o.length||(t[s]=o=[o]),o.push(i))}}r.prototype={constructor:r,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,n=this._new,r=this._oldKeyGetter,s=this._newKeyGetter,o={},u={},a=[],f=[];for(i(t,o,a,r),i(n,u,f,s),e=0;e<t.length;e++){var l=a[e],c=u[l];if(null!=c){var h=c.length;h?(1===h&&(u[l]=null),c=c.unshift()):u[l]=null,this._update&&this._update(c,e)}else this._remove&&this._remove(e)}for(var e=0;e<f.length;e++){var l=f[e];if(u.hasOwnProperty(l)){var c=u[l];if(null==c)continue;if(c.length)for(var p=0,h=c.length;p<h;p++)this._add&&this._add(c[p]);else this._add&&this._add(c)}}}},e.exports=r},function(e,t,n){var r=n(1),i=n(15),s=i.parseClassType,o=0,u={},a="_";u.getUID=function(e){return[e||"",o++,Math.random()].join(a)},u.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=s(e),t[e.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var o=s(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](r))}return i},e},u.enableTopologicalTravel=function(e,t){function n(e){var n={},o=[];return r.each(e,function(u){var a=i(n,u),f=a.originalDeps=t(u),l=s(f,e);a.entryCount=l.length,0===a.entryCount&&o.push(u),r.each(l,function(e){r.indexOf(a.predecessor,e)<0&&a.predecessor.push(e);var t=i(n,e);r.indexOf(t.successor,e)<0&&t.successor.push(u)})}),{graph:n,noEntryList:o}}function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function s(e,t){var n=[];return r.each(e,function(e){r.indexOf(t,e)>=0&&n.push(e)}),n}e.topologicalTravel=function(e,t,i,s){function o(e){f[e].entryCount--,0===f[e].entryCount&&l.push(e)}function u(e){c[e]=!0,o(e)}if(e.length){var a=n(t),f=a.graph,l=a.noEntryList,c={};for(r.each(e,function(e){c[e]=!0});l.length;){var h=l.pop(),p=f[h],d=!!c[h];d&&(i.call(s,h,p.originalDeps.slice()),delete c[h]),r.each(p.successor,d?u:o)}r.each(c,function(){throw new Error("Circle dependency may exists")})}}},e.exports=u},function(e,t){e.exports=function(e,t,n,r,i){r.eachRawSeriesByType(e,function(e){var i=e.getData(),s=e.get("symbol")||t,o=e.get("symbolSize");i.setVisual({legendSymbol:n||s,symbol:s,symbolSize:o}),r.isSeriesFiltered(e)||("function"==typeof o&&i.each(function(t){var n=e.getRawValue(t),r=e.getDataParams(t);i.setItemVisual(t,"symbolSize",o(n,r))}),i.each(function(e){var t=i.getItemModel(e),n=t.getShallow("symbol",!0),r=t.getShallow("symbolSize",!0);null!=n&&i.setItemVisual(e,"symbol",n),null!=r&&i.setItemVisual(e,"symbolSize",r)}))})}},function(e,t){function n(e){for(var t=0;e>=l;)t|=1&e,e>>=1;return e+t}function r(e,t,n,r){var s=t+1;if(s===n)return 1;if(r(e[s++],e[t])<0){for(;s<n&&r(e[s],e[s-1])<0;)s++;i(e,t,s)}else for(;s<n&&r(e[s],e[s-1])>=0;)s++;return s-t}function i(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function s(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var s,o=e[r],u=t,a=r;u<a;)s=u+a>>>1,i(o,e[s])<0?a=s:u=s+1;var f=r-u;switch(f){case 3:e[u+3]=e[u+2];case 2:e[u+2]=e[u+1];case 1:e[u+1]=e[u];break;default:for(;f>0;)e[u+f]=e[u+f-1],f--}e[u]=o}}function o(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])>0){for(u=r-i;a<u&&s(e,t[n+i+a])>0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),o+=i,a+=i}else{for(u=i+1;a<u&&s(e,t[n+i-a])<=0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}for(o++;o<a;){var l=o+(a-o>>>1);s(e,t[n+l])>0?o=l+1:a=l}return a}function u(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])<0){for(u=i+1;a<u&&s(e,t[n+i-a])<0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}else{for(u=r-i;a<u&&s(e,t[n+i+a])>=0;)o=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),o+=i,a+=i}for(o++;o<a;){var l=o+(a-o>>>1);s(e,t[n+l])<0?a=l:o=l+1}return a}function a(e,t){function n(e,t){l[y]=e,p[y]=t,y+=1}function r(){for(;y>1;){var e=y-2;if(e>=1&&p[e-1]<=p[e]+p[e+1]||e>=2&&p[e-2]<=p[e]+p[e-1])p[e-1]<p[e+1]&&e--;else if(p[e]>p[e+1])break;s(e)}}function i(){for(;y>1;){var e=y-2;e>0&&p[e-1]<p[e+1]&&e--,s(e)}}function s(n){var r=l[n],i=p[n],s=l[n+1],c=p[n+1];p[n]=i+c,n===y-3&&(l[n+1]=l[n+2],p[n+1]=p[n+2]),y--;var h=u(e[s],e,r,i,0,t);r+=h,i-=h,0!==i&&(c=o(e[r+i-1],e,s,c,c-1,t),0!==c&&(i<=c?a(r,i,s,c):f(r,i,s,c)))}function a(n,r,i,s){var a=0;for(a=0;a<r;a++)b[a]=e[n+a];var f=0,l=i,h=n;if(e[h++]=e[l++],0!==--s){if(1===r){for(a=0;a<s;a++)e[h+a]=e[l+a];return void (e[h+s]=b[f])}for(var p,v,m,g=d;;){p=0,v=0,m=!1;do if(t(e[l],b[f])<0){if(e[h++]=e[l++],v++,p=0,0===--s){m=!0;break}}else if(e[h++]=b[f++],p++,v=0,1===--r){m=!0;break}while((p|v)<g);if(m)break;do{if(p=u(e[l],b,f,r,0,t),0!==p){for(a=0;a<p;a++)e[h+a]=b[f+a];if(h+=p,f+=p,r-=p,r<=1){m=!0;break}}if(e[h++]=e[l++],0===--s){m=!0;break}if(v=o(b[f],e,l,s,0,t),0!==v){for(a=0;a<v;a++)e[h+a]=e[l+a];if(h+=v,l+=v,s-=v,0===s){m=!0;break}}if(e[h++]=b[f++],1===--r){m=!0;break}g--}while(p>=c||v>=c);if(m)break;g<0&&(g=0),g+=2}if(d=g,d<1&&(d=1),1===r){for(a=0;a<s;a++)e[h+a]=e[l+a];e[h+s]=b[f]}else{if(0===r)throw new Error;for(a=0;a<r;a++)e[h+a]=b[f+a]}}else for(a=0;a<r;a++)e[h+a]=b[f+a]}function f(n,r,i,s){var a=0;for(a=0;a<s;a++)b[a]=e[i+a];var f=n+r-1,l=s-1,h=i+s-1,p=0,v=0;if(e[h--]=e[f--],0!==--r){if(1===s){for(h-=r,f-=r,v=h+1,p=f+1,a=r-1;a>=0;a--)e[v+a]=e[p+a];return void (e[h]=b[l])}for(var m=d;;){var g=0,y=0,E=!1;do if(t(b[l],e[f])<0){if(e[h--]=e[f--],g++,y=0,0===--r){E=!0;break}}else if(e[h--]=b[l--],y++,g=0,1===--s){E=!0;break}while((g|y)<m);if(E)break;do{if(g=r-u(b[l],e,n,r,r-1,t),0!==g){for(h-=g,f-=g,r-=g,v=h+1,p=f+1,a=g-1;a>=0;a--)e[v+a]=e[p+a];if(0===r){E=!0;break}}if(e[h--]=b[l--],1===--s){E=!0;break}if(y=s-o(e[f],b,0,s,s-1,t),0!==y){for(h-=y,l-=y,s-=y,v=h+1,p=l+1,a=0;a<y;a++)e[v+a]=b[p+a];if(s<=1){E=!0;break}}if(e[h--]=e[f--],0===--r){E=!0;break}m--}while(g>=c||y>=c);if(E)break;m<0&&(m=0),m+=2}if(d=m,d<1&&(d=1),1===s){for(h-=r,f-=r,v=h+1,p=f+1,a=r-1;a>=0;a--)e[v+a]=e[p+a];e[h]=b[l]}else{if(0===s)throw new Error;for(p=h-(s-1),a=0;a<s;a++)e[p+a]=b[a]}}else for(p=h-(s-1),a=0;a<s;a++)e[p+a]=b[a]}var l,p,d=c,v=0,m=h,g=0,y=0;v=e.length,v<2*h&&(m=v>>>1);var b=[];g=v<120?5:v<1542?10:v<119151?19:40,l=[],p=[],this.mergeRuns=r,this.forceMergeRuns=i,this.pushRun=n}function f(e,t,i,o){i||(i=0),o||(o=e.length);var u=o-i;if(!(u<2)){var f=0;if(u<l)return f=r(e,i,o,t),void s(e,i,o,i+f,t);var c=new a(e,t),h=n(u);do{if(f=r(e,i,o,t),f<h){var p=u;p>h&&(p=h),s(e,i,i+p,i+f,t),f=p}c.pushRun(i,f),c.mergeRuns(),u-=f,i+=f}while(0!==u);c.forceMergeRuns()}}var l=32,c=7,h=256;e.exports=f},function(e,t,n){var r=n(35);e.exports=function(){if(0!==r.debugMode)if(1==r.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(r.debugMode>1)for(var e in arguments)console.log(arguments[e])}},function(e,t,n){function r(e){i.call(this,e)}var i=n(40),s=n(11),o=n(1),u=n(69),a=new u(50);r.prototype={constructor:r,type:"image",brush:function(e,t){var n,r=this.style,i=r.image;if(r.bind(e,this,t),n="string"==typeof i?this._image:i,!n&&i){var s=a.get(i);if(!s)return n=new Image,n.onload=function(){n.onload=null;for(var e=0;e<s.pending.length;e++)s.pending[e].dirty()},s={image:n,pending:[this]},n.src=i,a.put(i,s),void (this._image=n);if(n=s.image,this._image=n,!n.width||!n.height)return void s.pending.push(this)}if(n){var o=r.x||0,u=r.y||0;if(!n.width||!n.height)return;var f=r.width,l=r.height,c=n.width/n.height;if(null==f&&null!=l?f=l*c:null==l&&null!=f?l=f/c:null==f&&null==l&&(f=n.width,l=n.height),this.setTransform(e),r.sWidth&&r.sHeight){var h=r.sx||0,p=r.sy||0;e.drawImage(n,h,p,r.sWidth,r.sHeight,o,u,f,l)}else if(r.sx&&r.sy){var h=r.sx,p=r.sy,d=f-h,v=l-p;e.drawImage(n,h,p,d,v,o,u,f,l)}else e.drawImage(n,o,u,f,l);this.restoreTransform(e),null!=r.text&&this.drawRectText(e,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new s(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},o.inherits(r,i),e.exports=r},function(e,t,n){function r(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}function i(e){return[e[0]/2,e[1]/2]}function s(e,t,n){f.Group.call(this),this.updateData(e,t,n)}function o(e,t){this.parent.drift(e,t)}var u=n(1),a=n(24),f=n(3),l=n(4),c=s.prototype;c._createSymbol=function(e,t,n,r){this.removeAll();var s=t.hostModel,u=t.getItemVisual(n,"color"),l=a.createSymbol(e,-1,-1,2,2,u);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=o,f.initProps(l,{scale:i(r)},s,n),this._symbolType=e,this.add(l)},c.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},c.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},c.updateData=function(e,t,n){this.silent=!1;var s=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,u=r(e,t);if(s!==this._symbolType)this._createSymbol(s,e,t,u);else{var a=this.childAt(0);a.silent=!1,f.updateProps(a,{scale:i(u)},o,t)}this._updateCommon(e,t,u,n),this._seriesModel=o};var h=["itemStyle","normal"],p=["itemStyle","emphasis"],d=["label","normal"],v=["label","emphasis"];c._updateCommon=function(e,t,n,r){var s=this.childAt(0),o=e.hostModel,a=e.getItemVisual(t,"color");"image"!==s.type&&s.useStyle({strokeNoScale:!0}),r=r||null;var c=r&&r.itemStyle,m=r&&r.hoverItemStyle,g=r&&r.symbolRotate,y=r&&r.symbolOffset,b=r&&r.labelModel,w=r&&r.hoverLabelModel,E=r&&r.hoverAnimation;if(!r||e.hasItemOption){var S=e.getItemModel(t);c=S.getModel(h).getItemStyle(["color"]),m=S.getModel(p).getItemStyle(),g=S.getShallow("symbolRotate"),y=S.getShallow("symbolOffset"),b=S.getModel(d),w=S.getModel(v),E=S.getShallow("hoverAnimation")}else m=u.extend({},m);var x=s.style;s.attr("rotation",(g||0)*Math.PI/180||0),y&&s.attr("position",[l.parsePercent(y[0],n[0]),l.parsePercent(y[1],n[1])]),s.setColor(a),s.setStyle(c);var T=e.getItemVisual(t,"opacity");null!=T&&(x.opacity=T);for(var N,C,k=e.dimensions.slice();k.length&&(N=k.pop(),C=e.getDimensionInfo(N).type,"ordinal"===C||"time"===C););null!=N&&b.getShallow("show")?(f.setText(x,b,a),x.text=u.retrieve(o.getFormattedLabel(t,"normal"),e.get(N,t))):x.text="",null!=N&&w.getShallow("show")?(f.setText(m,w,a),m.text=u.retrieve(o.getFormattedLabel(t,"emphasis"),e.get(N,t))):m.text="",s.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.hoverStyle=m,f.setHoverStyle(s);var L=i(n);if(E&&o.isAnimationEnabled()){var A=function(){var e=L[1]/L[0];this.animateTo({scale:[Math.max(1.1*L[0],L[0]+3),Math.max(1.1*L[1],L[1]+3*e)]},400,"elasticOut")},O=function(){this.animateTo({scale:L},400,"elasticOut")};s.on("mouseover",A).on("mouseout",O).on("emphasis",A).on("normal",O)}},c.fadeOut=function(e){var t=this.childAt(0);this.silent=t.silent=!0,t.style.text="",f.updateProps(t,{scale:[0,0]},this._seriesModel,this.dataIndex,e)},u.inherits(s,f.Group),e.exports=s},function(e,t,n){function r(e,t,n,r){var i=r.getWidth(),s=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,s)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}var i=n(1),s=n(3),o=n(16),u=n(7),a=n(19),f=n(17),l=n(37),c={};c.buildElStyle=function(e){var t,n=e.get("type"),r=e.getModel(n+"Style");return"line"===n?(t=r.getLineStyle(),t.fill=null):"shadow"===n&&(t=r.getAreaStyle(),t.stroke=null),t},c.buildLabelElOption=function(e,t,n,i,s){var a=n.get("value"),f=c.getValueLabel(a,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),l=n.getModel("label"),h=l.getModel("textStyle"),p=u.normalizeCssArray(l.get("padding")||0),d=h.getFont(),v=o.getBoundingRect(f,d,s.textAlign,s.textBaseline),m=s.position,g=v.width+p[1]+p[3],y=v.height+p[0]+p[2],b=s.align;"right"===b&&(m[0]-=g),"center"===b&&(m[0]-=g/2);var w=s.verticalAlign;"bottom"===w&&(m[1]-=y),"middle"===w&&(m[1]-=y/2),r(m,g,y,i);var E=l.get("backgroundColor");E&&"auto"!==E||(E=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:g,height:y,r:l.get("borderRadius")},position:m.slice(),style:{text:f,textFont:d,textFill:h.getTextColor(),textPosition:"inside",fill:E,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")}}},c.getValueLabel=function(e,t,n,r,s){var o=t.scale.getLabel(e,{precision:s.precision,pad:!0}),u=s.formatter;if(u){var a={value:f.getAxisRawValue(t,e),seriesData:[]};i.each(r,function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&a.seriesData.push(i)}),i.isString(u)?o=u.replace("{value}",o):i.isFunction(u)&&(o=u(a))}return o},c.getTransformedPosition=function(e,t,n){var r=a.create();return a.rotate(r,r,n.rotation),a.translate(r,r,n.position),s.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)},c.buildCartesianSingleLabelElOption=function(e,t,n,r,i,s){var o=l.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),c.buildLabelElOption(t,r,i,s,{position:c.getTransformedPosition(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})},c.makeLineShape=function(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}},c.makeRectShape=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},c.makeSectorShape=function(e,t,n,r,i,s){return{cx:e,cy:t,r0:n,r:r,startAngle:i,endAngle:s,clockwise:!0}},e.exports=c},function(e,t,n){function r(e,t,n){return e.getCoordSysModel()===t}function i(e){var t,n=e.model,r=n.getFormattedLabels(),i=n.getModel("axisLabel.textStyle"),s=1,o=r.length;o>40&&(s=Math.ceil(o/40));for(var u=0;u<o;u+=s)if(!e.isLabelIgnored(u)){var a=i.getTextRect(r[u]);t?t.union(a):t=a}return t}function s(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function o(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}function u(e,t){return c.map(y,function(t){var n=e.getReferringComponents(t)[0];return n})}function a(e){return"cartesian2d"===e.get("coordinateSystem")}var f=n(12),l=n(17),c=n(1),h=n(134),p=n(132),d=c.each,v=l.ifAxisCrossZero,m=l.niceScaleExtent;n(135);var g=s.prototype;g.type="grid",g.axisPointerEnabled=!0,g.getRect=function(){return this._rect},g.update=function(e,t){function n(e){var t=r[e];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i&&("category"===i.type||!v(i)))return!0}return!1}var r=this._axesMap;this._updateScale(e,this.model),d(r.x,function(e){m(e.scale,e.model)}),d(r.y,function(e){m(e.scale,e.model)}),d(r.x,function(e){n("y")&&(e.onZero=!1)}),d(r.y,function(e){n("x")&&(e.onZero=!1)}),this.resize(this.model,t)},g.resize=function(e,t){function n(){d(s,function(e){var t=e.isHorizontal(),n=t?[0,r.width]:[0,r.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),o(e,t?r.x:r.y)})}var r=f.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=r;var s=this._axesList;n(),e.get("containLabel")&&(d(s,function(e){if(!e.model.get("axisLabel.inside")){var t=i(e);if(t){var n=e.isHorizontal()?"height":"width",s=e.model.get("axisLabel.margin");r[n]-=t[n]+s,"top"===e.position?r.y+=t.height+s:"left"===e.position&&(r.x+=t.width+s)}}}),n())},g.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[t]}},g.getAxes=function(){return this._axesList.slice()},g.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}c.isObject(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===t)return i[r]},g.getCartesians=function(){return this._coordsList.slice()},g.convertToPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},g.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},g._findConvertTarget=function(e,t){var n,r,i=t.seriesModel,s=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],u=t.gridModel,a=this._coordsList;if(i)n=i.coordinateSystem,c.indexOf(a,n)<0&&(n=null);else if(s&&o)n=this.getCartesian(s.componentIndex,o.componentIndex);else if(s)r=this.getAxis("x",s.componentIndex);else if(o)r=this.getAxis("y",o.componentIndex);else if(u){var f=u.coordinateSystem;f===this&&(n=this._coordsList[0])}return{cartesian:n,axis:r}},g.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},g._initCartesian=function(e,t,n){function i(n){return function(i,a){if(r(i,e,t)){var f=i.get("position");"x"===n?"top"!==f&&"bottom"!==f&&(f="bottom",s[f]&&(f="top"===f?"bottom":"top")):"left"!==f&&"right"!==f&&(f="left",s[f]&&(f="left"===f?"right":"left")),s[f]=!0;var c=new p(n,l.createScaleByModel(i),[0,0],i.get("type"),f),h="category"===c.type;c.onBand=h&&i.get("boundaryGap"),c.inverse=i.get("inverse"),c.onZero=i.get("axisLine.onZero"),i.axis=c,c.model=i,c.grid=this,c.index=a,this._axesList.push(c),o[n][a]=c,u[n]++}}}var s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},u={x:0,y:0};return t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),u.x&&u.y?(this._axesMap=o,void d(o.x,function(t,n){d(o.y,function(r,i){var s="x"+n+"y"+i,o=new h(s);o.grid=this,o.model=e,this._coordsMap[s]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(r)},this)},this)):(this._axesMap={},void (this._axesList=[]))},g._updateScale=function(e,t){function n(e,t,n){d(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtentFromData(e,n)})}c.each(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(a(i)){var s=u(i,e),o=s[0],f=s[1];if(!r(o,t,e)||!r(f,t,e))return;var l=this.getCartesian(o.componentIndex,f.componentIndex),c=i.getData(),h=l.getAxis("x"),p=l.getAxis("y");"list"===c.type&&(n(c,h,i),n(c,p,i))}},this)},g.getTooltipAxes=function(e){var t=[],n=[];return d(this.getCartesians(),function(r){var i=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(i);c.indexOf(t,i)<0&&t.push(i),c.indexOf(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}};var y=["xAxis","yAxis"];s.create=function(e,t){var n=[];return e.eachComponent("grid",function(r,i){var o=new s(r,e,t);o.name="grid_"+i,o.resize(r,t),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if(a(t)){var n=u(t,e),r=n[0],i=n[1],s=r.getCoordSysModel(),o=s.coordinateSystem;t.coordinateSystem=o.getCartesian(r.componentIndex,i.componentIndex)}}),n},s.dimensions=s.prototype.dimensions=h.prototype.dimensions,n(26).register("cartesian2d",s),e.exports=s},function(e,t,n){function r(e,t,n,r,o,u){if(e.axisPointerClass){var a=s.getAxisPointerModel(t);a?(e._axisPointer||(e._axisPointer=new e.axisPointerClass)).render(t,a,r,u):i(e,r)}}function i(e,t,n){var r=e._axisPointer;r&&r.dispose(t,n),e._axisPointer=null}var s=n(32),o=n(2).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){s.fixValue(e),o.superApply(this,"render",arguments),r(this,e,t,n,i,!0)},updateAxisPointer:function(e,t,n,i,s){r(this,e,t,n,i,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),o.superApply(this,"remove",arguments)},dispose:function(e,t){i(this,t),o.superApply(this,"dispose",arguments)}});e.exports=o},function(e,t,n){var r=n(1),i={};i.layout=function(e,t,n){function i(e,t){var n=s.getAxis(e);return n.toGlobalCoord(n.dataToCoord(0))}n=n||{};var s=e.coordinateSystem,o=t.axis,u={},a=o.position,f=o.onZero?"onZero":a,l=o.dim,c=s.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],p=t.get("offset")||0,d={x:{top:h[2]-p,bottom:h[3]+p},y:{left:h[0]-p,right:h[1]+p}};d.x.onZero=Math.max(Math.min(i("y"),d.x.bottom),d.x.top),d.y.onZero=Math.max(Math.min(i("x"),d.y.right),d.y.left),u.position=["y"===l?d.y[f]:h[0],"x"===l?d.x[f]:h[3]],u.rotation=Math.PI/2*("x"===l?0:1);var v={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=v[a],u.labelOffset=o.onZero?d[l][a]-d[l].onZero:0,t.get("axisTick.inside")&&(u.tickDirection=-u.tickDirection),r.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(u.labelDirection=-u.labelDirection);var m=t.get("axisLabel.rotate");return u.labelRotate="top"===f?-m:m,u.labelInterval=o.getLabelInterval(),u.z2=1,u},e.exports=i},function(e,t,n){var r=n(96),i=n(1),s=n(13),o=n(12),u=["value","category","time","log"];e.exports=function(e,t,n,a){i.each(u,function(s){t.extend({type:e+"Axis."+s,mergeDefaultAndTheme:function(t,r){var u=this.layoutMode,a=u?o.getLayoutParams(t):{},f=r.getTheme();i.merge(t,f.get(s+"Axis")),i.merge(t,this.getDefaultOption()),t.type=n(e,t),u&&o.mergeLayoutParam(t,a,u)},defaultOption:i.mergeAll([{},r[s+"Axis"],a],!0)})}),s.registerSubTypeDefaulter(e+"Axis",i.curry(n,e))}},function(e,t,n){function r(e,t){return t.type||(t.data?"category":"value")}var i=n(13),s=n(1),o=n(59),u=i.extend({type:"cartesian2dAxis",axis:null,init:function(){u.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){u.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){u.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});s.merge(u.prototype,n(42));var a={offset:0};o("x",u,r,a),o("y",u,r,a),e.exports=u},function(e,t){e.exports=function(e,t){t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.coordinateSystem;if(n){var r=n.dimensions;1===r.length?t.each(r[0],function(e,r){t.setItemLayout(r,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))}):2===r.length&&t.each(r,function(e,r,i){t.setItemLayout(i,isNaN(e)||isNaN(r)?[NaN,NaN]:n.dataToPoint([e,r]))},!0)}})}},function(e,t,n){var r=n(15),i=r.set,s=r.get;e.exports={clearColorPalette:function(){i(this,"colorIdx",0),i(this,"colorNameMap",{})},getColorFromPalette:function(e,t){t=t||this;var n=s(t,"colorIdx")||0,r=s(t,"colorNameMap")||i(t,"colorNameMap",{});if(r[e])return r[e];var o=this.get("color",!0)||[];if(o.length){var u=o[n];return e&&(r[e]=u),i(t,"colorIdx",(n+1)%o.length),u}}}},function(e,t){e.exports=function(e,t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){for(var r=t.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(r))return!1;return!0},this)},this)}},function(e,t,n){var r=n(36),i=n(49),s=n(15),o=function(){this.group=new r,this.uid=i.getUID("viewComponent")};o.prototype={constructor:o,init:function(e,t){},render:function(e,t,n,r){},dispose:function(){}};var u=o.prototype;u.updateView=u.updateLayout=u.updateVisual=function(e,t,n,r){},s.enableClassExtend(o),s.enableClassManagement(o,{registerWhenExtend:!0}),e.exports=o},function(e,t,n){var r=n(70),i=n(23),s=n(102),o=n(180),u=n(1),a=function(e){s.call(this,e),i.call(this,e),o.call(this,e),this.id=e.id||r()};a.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(u.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},u.mixin(a,o),u.mixin(a,s),u.mixin(a,i),e.exports=a},function(e,t,n){function r(e,t){return e[t]}function i(e,t,n){e[t]=n}function s(e,t,n){return(t-e)*n+e}function o(e,t,n){return n>.5?t:e}function u(e,t,n,r,i){var o=e.length;if(1==i)for(var u=0;u<o;u++)r[u]=s(e[u],t[u],n);else for(var a=e[0].length,u=0;u<o;u++)for(var f=0;f<a;f++)r[u][f]=s(e[u][f],t[u][f],n)}function a(e,t,n){var r=e.length,i=t.length;if(r!==i){var s=r>i;if(s)e.length=i;else for(var o=r;o<i;o++)e.push(1===n?t[o]:b.call(t[o]))}for(var u=e[0]&&e[0].length,o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var a=0;a<u;a++)isNaN(e[o][a])&&(e[o][a]=t[o][a])}function f(e,t,n){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;if(1===n){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1}else for(var s=e[0].length,i=0;i<r;i++)for(var o=0;o<s;o++)if(e[i][o]!==t[i][o])return!1;return!0}function l(e,t,n,r,i,s,o,u,a){var f=e.length;if(1==a)for(var l=0;l<f;l++)u[l]=c(e[l],t[l],n[l],r[l],i,s,o);else for(var h=e[0].length,l=0;l<f;l++)for(var p=0;p<h;p++)u[l][p]=c(e[l][p],t[l][p],n[l][p],r[l][p],i,s,o)}function c(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}function h(e){if(y(e)){var t=e.length;if(y(e[0])){for(var n=[],r=0;r<t;r++)n.push(b.call(e[r]));return n}return b.call(e)}return e}function p(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function d(e,t,n,r,i){var h=e._getter,d=e._setter,g="spline"===t,b=r.length;if(b){var w,E=r[0].value,S=y(E),x=!1,T=!1,N=S&&y(E[0])?2:1;r.sort(function(e,t){return e.time-t.time}),w=r[b-1].time;for(var C=[],k=[],L=r[0].value,A=!0,O=0;O<b;O++){C.push(r[O].time/w);var M=r[O].value;if(S&&f(M,L,N)||!S&&M===L||(A=!1),L=M,"string"==typeof M){var _=m.parse(M);_?(M=_,x=!0):T=!0}k.push(M)}if(!A){for(var D=k[b-1],O=0;O<b-1;O++)S?a(k[O],D,N):!isNaN(k[O])||isNaN(D)||T||x||(k[O]=D);S&&a(h(e._target,i),D,N);var P,H,B,j,F,I,q=0,R=0;if(x)var U=[0,0,0,0];var z=function(e,t){var n;if(t<0)n=0;else if(t<R){for(P=Math.min(q+1,b-1),n=P;n>=0&&!(C[n]<=t);n--);n=Math.min(n,b-2)}else{for(n=q;n<b&&!(C[n]>t);n++);n=Math.min(n-1,b-2)}q=n,R=t;var r=C[n+1]-C[n];if(0!==r)if(H=(t-C[n])/r,g)if(j=k[n],B=k[0===n?n:n-1],F=k[n>b-2?b-1:n+1],I=k[n>b-3?b-1:n+2],S)l(B,j,F,I,H,H*H,H*H*H,h(e,i),N);else{var a;if(x)a=l(B,j,F,I,H,H*H,H*H*H,U,1),a=p(U);else{if(T)return o(j,F,H);a=c(B,j,F,I,H,H*H,H*H*H)}d(e,i,a)}else if(S)u(k[n],k[n+1],H,h(e,i),N);else{var a;if(x)u(k[n],k[n+1],H,U,1),a=p(U);else{if(T)return o(k[n],k[n+1],H);a=s(k[n],k[n+1],H)}d(e,i,a)}},W=new v({target:e._target,life:w,loop:e._loop,delay:e._delay,onframe:z,ondestroy:n});return t&&"spline"!==t&&(W.easing=t),W}}}var v=n(159),m=n(22),g=n(1),y=g.isArrayLike,b=Array.prototype.slice,w=function(e,t,n,s){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||r,this._setter=s||i,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};w.prototype={when:function(e,t){var n=this._tracks;for(var r in t)if(t.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==e&&n[r].push({time:0,value:h(i)})}n[r].push({time:e,value:t[r]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e){var t,n=this,r=0,i=function(){r--,r||n._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var o=d(this,e,i,this._tracks[s],s);o&&(this._clipList.push(o),r++,this.animation&&this.animation.addClip(o),t=o)}if(t){var u=t.onframe;t.onframe=function(e,t){u(e,t);for(var r=0;r<n._onframeList.length;r++)n._onframeList[r](e,t)}}return r||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,r=0;r<t.length;r++){var i=t[r];e&&i.onframe(this._target,1),n&&n.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},e.exports=w},function(e,t){e.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)}},function(e,t){var n=2*Math.PI;e.exports={normalizeRadian:function(e){return e%=n,e<0&&(e+=n),e}}},function(e,t){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(e){var t=new i(e);return this.insertEntry(t),t},r.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},s=function(e){this._list=new n,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=s.prototype;o.put=function(e,t){var n=this._list,r=this._map,s=null;if(null==r[e]){var o=n.len(),u=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var a=n.head;n.remove(a),delete r[a.key],s=a.value,this._lastRemovedEntry=a}u?u.value=t:u=new i(t),u.key=e,n.insertEntry(u),r[e]=u}return s},o.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}},e.exports=s},function(e,t){var n=2311;e.exports=function(){return n++}},function(e,t){var n=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};n.prototype.getCanvasPattern=function(e){return this._canvasPattern||(this._canvasPattern=e.createPattern(this.image,this.repeat))},e.exports=n},function(e,t){function n(e,t,n){var r=t.x,i=t.x2,s=t.y,o=t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,s=s*n.height+n.y,o=o*n.height+n.y);var u=e.createLinearGradient(r,s,i,o);return u}function r(e,t,n){var r=n.width,i=n.height,s=Math.min(r,i),o=t.x,u=t.y,a=t.r;t.global||(o=o*r+n.x,u=u*i+n.y,a*=s);var f=e.createRadialGradient(o,u,0,o,u,a);return f}var i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],s=function(e){this.extendFrom(e)};s.prototype={constructor:s,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(e,t,n){for(var r=this,s=n&&n.style,o=!s,u=0;u<i.length;u++){var a=i[u],f=a[0];(o||r[f]!==s[f])&&(e[f]=r[f]||a[1])}if((o||r.fill!==s.fill)&&(e.fillStyle=r.fill),(o||r.stroke!==s.stroke)&&(e.strokeStyle=r.stroke),(o||r.opacity!==s.opacity)&&(e.globalAlpha=null==r.opacity?1:r.opacity),(o||r.blend!==s.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var l=r.lineWidth;e.lineWidth=l/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e){var n=this;for(var r in e)!e.hasOwnProperty(r)||!t&&n.hasOwnProperty(r)||(n[r]=e[r])}},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,i){for(var s="radial"===t.type?r:n,o=s(e,t,i),u=t.colorStops,a=0;a<u.length;a++)o.addColorStop(u[a].offset,u[a].color);return o}};for(var o=s.prototype,u=0;u<i.length;u++){var a=i[u];a[0]in o||(o[a[0]]=a[1])}s.getGradient=o.getGradient,e.exports=s},function(e,t,n){var r=n(170),i=n(169);e.exports={buildPath:function(e,t,n){var s=t.points,o=t.smooth;if(s&&s.length>=2){if(o&&"spline"!==o){var u=i(s,o,n,t.smoothConstraint);e.moveTo(s[0][0],s[0][1]);for(var a=s.length,f=0;f<(n?a:a-1);f++){var l=u[2*f],c=u[2*f+1],h=s[(f+1)%a];e.bezierCurveTo(l[0],l[1],c[0],c[1],h[0],h[1])}}else{"spline"===o&&(s=r(s,n)),e.moveTo(s[0][0],s[0][1]);for(var f=1,p=s.length;f<p;f++)e.lineTo(s[f][0],s[f][1])}n&&e.closePath()}}}},function(e,t,n){function r(){}function i(e,t,n,r){s(p(n).lastProp,r)||(p(n).lastProp=r,t?h.updateProps(n,r,e):(n.stopAnimation(),n.attr(r)))}function s(e,t){if(l.isObject(e)&&l.isObject(t)){var n=!0;return l.each(t,function(t,r){n&=s(e[r],t)}),!!n}return e===t}function o(e,t){e[t.get("label.show")?"show":"hide"]()}function u(e){return{position:e.position.slice(),rotation:e.rotation||0}}function a(e,t){var n=e.get("icon"),r={x:-1,y:-1,width:2,height:2},i=l.extend({style:{strokeNoScale:!0},rectHover:!0,cursor:"move",draggable:!0},t);return 0===n.indexOf("image://")?(r.image=n.slice(8),i.style=r,new h.Image(i)):h.makePath(n.replace("path://",""),i,r,"center")}function f(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=n)})}var l=n(1),c=n(15),h=n(3),p=n(5).makeGetter(),d=n(32),v=n(20),m=n(39),g=l.clone,y=l.bind;r.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,r){var s=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==s||this._lastStatus!==o){this._lastValue=s,this._lastStatus=o;var u=this._group,a=this._handle;if(!o||"hide"===o)return u&&u.hide(),void (a&&a.hide());u&&u.show(),a&&a.show();var c={};this.makeElOption(c,s,e,t,n);var p=c.graphicKey;p!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=p;var d=this._moveAnimation=this.determineAnimation(e,t);if(u){var v=l.curry(i,t,d);this.updatePointerEl(u,c,v,t),this.updateLabelEl(u,c,v,t)}else u=this._group=new h.Group,this.createPointerEl(u,c,e,t),this.createLabelEl(u,c,e,t),n.getZr().add(u);f(u,t,!0),this._renderHandle(s)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),r=e.axis,i="category"===r.type,s=t.get("snap");if(!s&&!i)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(s){var u=d.getAxisInfo(e).seriesDataCount,a=r.getExtent();return Math.abs(a[0]-a[1])/u>o}return!1}return n===!0},makeElOption:function(e,t,n,r,i){},createPointerEl:function(e,t,n,r){var i=t.pointer,s=p(e).pointerEl=new h[i.type](g(t.pointer));e.add(s)},createLabelEl:function(e,t,n,r){var i=p(e).labelEl=new h.Rect(g(t.label));e.add(i),o(i,r)},updatePointerEl:function(e,t,n){var r=p(e).pointerEl;r&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,r){var i=p(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{shape:t.label.shape,position:t.label.position}),o(i,r))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,i=t.getModel("handle"),s=t.get("status");if(!i.get("show")||!s||"hide"===s)return r&&n.remove(r),void (this._handle=null);var o;this._handle||(o=!0,r=this._handle=a(i,{onmousemove:function(e){v.stop(e.event)},onmousedown:y(this._onHandleDragMove,this,0,0),drift:y(this._onHandleDragMove,this),ondragend:y(this._onHandleDragEnd,this)}),n.add(r)),f(r,t,!1);var u=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];r.setStyle(i.getItemStyle(null,u));var c=i.get("size");l.isArray(c)||(c=[c,c]),r.attr("scale",[c[0]/2,c[1]/2]),m.createOrUpdate(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},_moveHandleToValue:function(e,t){i(this._axisPointerModel,!t&&this._moveAnimation,this._handle,u(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(u(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(u(r)),p(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var e=this._handle;if(e){var t=this._payloadInfo,n={type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,highDownKey:"axisPointerHandle"},r=this._axisModel.axis;n[r.dim+"AxisId"]=this._axisModel.id,this._api.dispatchAction(n)}},_onHandleDragEnd:function(e){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}},r.prototype.constructor=r,c.enableClassExtend(r),e.exports=r},function(e,t,n){var r=n(1),i=n(5);e.exports=function(e,t){var n,s=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var u=n.getData(),a=i.queryDataIndex(u,e);if(null==a||r.isArray(a))return{point:[]};var f=u.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)s=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)s=l.dataToPoint(u.getValues(r.map(l.dimensions,function(e){return n.coordDimToDataDim(e)[0]}),a,!0))||[];else if(f){var c=f.getBoundingRect().clone();c.applyTransform(f.transform),s=[c.x+c.width/2,c.y+c.height/2]}return{point:s,el:f}}},function(e,t,n){function r(e,t){function n(n,r){e.on(n,function(n){var s=u(t);c(l(e).records,function(e){e&&r(e,n,s.dispatchAction)}),i(s.pendings,t)})}l(e).initialized||(l(e).initialized=!0,n("click",f.curry(o,"click")),n("mousemove",f.curry(o,"mousemove")),n("globalout",s))}function i(e,t){var n,r=e.showTip.length,i=e.hideTip.length;r?n=e.showTip[r-1]:i&&(n=e.hideTip[i-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function s(e,t,n){e.handler("leave",null,n)}function o(e,t,n,r){t.handler(e,n,r)}function u(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}var a=n(9),f=n(1),l=n(5).makeGetter(),c=f.each,h={};h.register=function(e,t,n){if(!a.node){var i=t.getZr();l(i).records||(l(i).records={}),r(i,t);var s=l(i).records[e]||(l(i).records[e]={});s.handler=n}},h.unregister=function(e,t){if(!a.node){var n=t.getZr(),r=(l(n).records||{})[e];r&&(l(n).records[e]=null)}},e.exports=h},function(e,t,n){var r=n(7),i=n(1),s={},o=["x","y","z","radius","angle","single"],u=["cartesian2d","polar","singleAxis"];s.isCoordSupported=function(e){return i.indexOf(u,e)>=0},s.createNameEach=function(e,t){e=e.slice();var n=i.map(e,r.capitalFirst);t=(t||[]).slice();var s=i.map(t,r.capitalFirst);return function(r,o){i.each(e,function(e,i){for(var u={name:e,capital:n[i]},a=0;a<t.length;a++)u[t[a]]=e+s[a];r.call(o,u)})}},s.eachAxisDim=s.createNameEach(o,["axisIndex","axis","index","id"]),s.createLinkedNodesFinder=function(e,t,n){function r(e,t){return i.indexOf(t.nodes,e)>=0}function s(e,r){var s=!1;return t(function(t){i.each(n(e,t)||[],function(e){r.records[t.name][e]&&(s=!0)})}),s}function o(e,r){r.nodes.push(e),t(function(t){i.each(n(e,t)||[],function(e){r.records[t.name][e]=!0})})}return function(n){function i(e){!r(e,u)&&s(e,u)&&(o(e,u),a=!0)}var u={nodes:[],records:{}};if(t(function(e){u.records[e.name]={}}),!n)return u;o(n,u);var a;do a=!1,e(i);while(a);return u}},e.exports=s},function(e,t,n){var r=n(1);e.exports={updateSelectedMap:function(e){this._selectTargetMap=r.reduce(e||[],function(e,t){return e[t.name]=t,e},{})},select:function(e){var t=this._selectTargetMap,n=t[e],i=this.get("selectedMode");"single"===i&&r.each(t,function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e){var t=this._selectTargetMap[e];t&&(t.selected=!1)},toggleSelected:function(e){var t=this._selectTargetMap[e];if(null!=t)return this[t.selected?"unSelect":"select"](e),t.selected},isSelected:function(e){var t=this._selectTargetMap[e];return t&&t.selected}}},function(e,t,n){function r(e){i.defaultEmphasis(e.label,i.LABEL_OPTIONS)}var i=n(5),s=n(1),o=n(9),u=n(7),a=u.addCommas,f=u.encodeHTML,l=n(2).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,r){this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,r.createdBySelf,!0)},isAnimationEnabled:function(){if(o.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,i){var o=this.constructor,u=this.mainType+"Model";n||t.eachSeries(function(e){var n=e.get(this.mainType),a=e[u];return n&&n.data?(a?a.mergeOption(n,t,!0):(i&&r(n),s.each(n.data,function(e){e instanceof Array?(r(e[0]),r(e[1])):r(e)}),a=new o(n,this,t),s.extend(a,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),a.__hostSeries=e),void (e[u]=a)):void (e[u]=null)},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),r=s.isArray(n)?s.map(n,a).join(", "):a(n),i=t.getName(e),o=f(this.name);return(null!=n||i)&&(o+="<br />"),i&&(o+=f(i),null!=n&&(o+=" : ")),null!=n&&(o+=f(r)),o},getData:function(){return this._data},setData:function(e){this._data=e}});s.mixin(l,i.dataFormatMixin),e.exports=l},function(e,t,n){e.exports=n(2).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(e,t,n){var r=this.markerGroupMap;for(var i in r)r.hasOwnProperty(i)&&(r[i].__keep=!1);var s=this.type+"Model";t.eachSeries(function(e){var r=e[s];r&&this.renderSeries(e,r,t,n)},this);for(var i in r)r.hasOwnProperty(i)&&!r[i].__keep&&this.group.remove(r[i].group)},renderSeries:function(){}})},function(e,t,n){function r(e){return!isNaN(parseFloat(e.x))||!isNaN(parseFloat(e.y))}function i(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function s(e,t,n){var r=-1;do r=Math.max(a.getPrecision(e.get(t,n)),r),e=e.stackedOn;while(e);return r}function o(e,t,n,r,i,o){var u=[],a=m(t,r,e),f=t.indexOfNearest(r,a,!0)[0];u[i]=t.get(n,f,!0),u[o]=t.get(r,f,!0);var l=s(t,r,f);return l>=0&&(u[o]=+u[o].toFixed(l)),u}var u=n(1),a=n(4),f=u.indexOf,l=u.curry,c={min:l(o,"min"),max:l(o,"max"),average:l(o,"average")},h=function(e,t){var n=e.getData(),r=e.coordinateSystem;if(t&&!i(t)&&!u.isArray(t.coord)&&r){var s=r.dimensions,o=p(t,n,r,e);if(t=u.clone(t),t.type&&c[t.type]&&o.baseAxis&&o.valueAxis){var a=f(s,o.baseAxis.dim),l=f(s,o.valueAxis.dim);t.coord=c[t.type](n,o.baseDataDim,o.valueDataDim,a,l),t.value=t.coord[l]}else{for(var h=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)if(c[h[d]]){var v=e.coordDimToDataDim(s[d])[0];h[d]=m(n,v,h[d])}t.coord=h}}return t},p=function(e,t,n,r){var i={};return null!=e.valueIndex||null!=e.valueDim?(i.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=n.getAxis(r.dataDimToCoordDim(i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=r.coordDimToDataDim(i.baseAxis.dim)[0]):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=r.coordDimToDataDim(i.baseAxis.dim)[0],i.valueDataDim=r.coordDimToDataDim(i.valueAxis.dim)[0]),i},d=function(e,t){return!(e&&e.containData&&t.coord&&!r(t))||e.containData(t.coord)},v=function(e,t,n,r){return r<2?e.coord&&e.coord[r]:e.value},m=function(e,t,n){if("average"===n){var r=0,i=0;return e.each(t,function(e,t){isNaN(e)||(r+=e,i++)},!0),r/i}return e.getDataExtent(t,!0)["max"===n?1:0]};e.exports={dataTransform:h,dataFilter:d,dimValueGetter:v,getAxisInfo:p,numCalculate:m}},function(e,t,n){function r(e){var t=e.pieceList;e.hasSpecialVisual=!1,v.each(t,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}function i(e){var t=e.categories,n=e.visual,r=e.categoryMap={};if(y(t,function(e,t){r[e]=t}),!v.isArray(n)){var i=[];v.isObject(n)?y(n,function(e,t){var n=r[t];i[null!=n?n:w]=e}):i[w]=n,n=p(e,i)}for(var s=t.length-1;s>=0;s--)null==n[s]&&(delete r[t[s]],t.pop())}function s(e,t){var n=e.visual,r=[];v.isObject(n)?y(n,function(e){r.push(e)}):null!=n&&r.push(n);var i={color:1,symbol:1};t||1!==r.length||i.hasOwnProperty(e.type)||(r[1]=r[0]),p(e,r)}function o(e){return{applyVisual:function(t,n,r){t=this.mapValueToVisual(t),r("color",e(n("color"),t))},_doMap:c([0,1])}}function u(e){var t=this.option.visual;return t[Math.round(g(e,[0,1],[0,t.length-1],!0))]||{}}function a(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function f(e){var t=this.option.visual;return t[this.option.loop&&e!==w?e%t.length:e]}function l(){return this.option.visual[0]}function c(e){return{linear:function(t){return g(t,e,this.option.visual,!0)},category:f,piecewise:function(t,n){var r=h.call(this,n);return null==r&&(r=g(t,e,this.option.visual,!0)),r},fixed:l}}function h(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=E.findPieceIndex(e,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function p(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=v.map(t,function(e){return m.parse(e)})),t}function d(e,t,n){return e?t<=n:t<n}var v=n(1),m=n(22),g=n(4).linearMap,y=v.each,b=v.isObject,w=-1,E=function(e){var t=e.mappingMethod,n=e.type,o=this.option=v.clone(e);this.type=n,this.mappingMethod=t,this._normalizeData=x[t];var u=S[n];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._doMap=u._doMap[t],"piecewise"===t?(s(o),r(o)):"category"===t?o.categories?i(o):s(o,!0):(v.assert("linear"!==t||o.dataExtent),s(o))};E.prototype={constructor:E,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return v.bind(this._normalizeData,this)}};var S=E.visualHandlers={color:{applyVisual:a("color"),getColorMapper:function(){var e=this.option;return v.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),f.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=m.fastMapToColor(t,e.parsedVisual,r),i?r:m.stringify(r,"rgba")},this)},_doMap:{linear:function(e){return m.stringify(m.fastMapToColor(e,this.option.parsedVisual),"rgba")},category:f,piecewise:function(e,t){var n=h.call(this,t);return null==n&&(n=m.stringify(m.fastMapToColor(e,this.option.parsedVisual),"rgba")),n},fixed:l}},colorHue:o(function(e,t){return m.modifyHSL(e,t)}),colorSaturation:o(function(e,t){return m.modifyHSL(e,null,t)}),colorLightness:o(function(e,t){return m.modifyHSL(e,null,null,t)}),colorAlpha:o(function(e,t){return m.modifyAlpha(e,t)}),opacity:{applyVisual:a("opacity"),_doMap:c([0,1])},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);if(v.isString(r))n("symbol",r);else if(b(r))for(var i in r)r.hasOwnProperty(i)&&n(i,r[i])},_doMap:{linear:u,category:f,piecewise:function(e,t){var n=h.call(this,t);return null==n&&(n=u.call(this,e)),n},fixed:l}},symbolSize:{applyVisual:a("symbolSize"),_doMap:c([0,1])}},x={linear:function(e){return g(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=E.findPieceIndex(e,t,!0);if(null!=n)return g(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?w:t},fixed:v.noop};E.listVisualTypes=function(){var e=[];return v.each(S,function(t,n){e.push(n)}),e},E.addVisualHandler=function(e,t){S[e]=t},E.isValidType=function(e){return S.hasOwnProperty(e)},E.eachVisual=function(e,t,n){v.isObject(e)?v.each(e,t,n):t.call(n,e)},E.mapVisual=function(e,t,n){var r,i=v.isArray(e)?[]:v.isObject(e)?{}:(r=!0,null);return E.eachVisual(e,function(e,s){var o=t.call(n,e,s);r?i=o:i[s]=o}),i},E.retrieveVisuals=function(e){var t,n={};return e&&y(S,function(r,i){e.hasOwnProperty(i)&&(n[i]=e[i],t=!0)}),t?n:null},E.prepareVisualTypes=function(e){if(b(e)){var t=[];y(e,function(e,n){t.push(n)}),e=t}else{if(!v.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},E.dependsOn=function(e,t){return"color"===t?!!e&&0===e.indexOf(t):e===t},E.findPieceIndex=function(e,t,n){function r(t,n){var r=Math.abs(t-e);r<s&&(s=r,i=n)}for(var i,s=1/0,o=0,u=t.length;o<u;o++){var a=t[o].value;if(null!=a){if(a===e||"string"==typeof a&&a===e+"")return o;n&&r(a,o)}}for(var o=0,u=t.length;o<u;o++){var f=t[o],l=f.interval,c=f.close;if(l){if(l[0]===-1/0){if(d(c[1],e,l[1]))return o}else if(l[1]===1/0){if(d(c[0],l[0],e))return o}else if(d(c[0],l[0],e)&&d(c[1],e,l[1]))return o;n&&r(l[0],o),n&&r(l[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i},e.exports=E},function(e,t){e.exports=function(e,t){var n={};t.eachRawSeriesByType(e,function(e){var r=e.getRawData(),i={};if(!t.isSeriesFiltered(e)){var s=e.getData();s.each(function(e){var t=s.getRawIndex(e);i[t]=e}),r.each(function(t){var u=i[t],a=null!=u&&s.getItemVisual(u,"color",!0);if(a)r.setItemVisual(t,"color",a);else{var f=r.getItemModel(t),l=f.get("itemStyle.normal.color")||e.getColorFromPalette(r.getName(t),n);r.setItemVisual(t,"color",l),null!=u&&s.setItemVisual(u,"color",l)}})}})}},function(e,t,n){var r=n(6),i=n(21),s={},o=Math.min,u=Math.max,a=Math.sin,f=Math.cos,l=r.create(),c=r.create(),h=r.create(),p=2*Math.PI;s.fromPoints=function(e,t,n){if(0!==e.length){var r,i=e[0],s=i[0],a=i[0],f=i[1],l=i[1];for(r=1;r<e.length;r++)i=e[r],s=o(s,i[0]),a=u(a,i[0]),f=o(f,i[1]),l=u(l,i[1]);t[0]=s,t[1]=f,n[0]=a,n[1]=l}},s.fromLine=function(e,t,n,r,i,s){i[0]=o(e,n),i[1]=o(t,r),s[0]=u(e,n),s[1]=u(t,r)};var d=[],v=[];s.fromCubic=function(e,t,n,r,s,a,f,l,c,h){var p,m=i.cubicExtrema,g=i.cubicAt,y=m(e,n,s,f,d);for(c[0]=1/0,c[1]=1/0,h[0]=-1/0,h[1]=-1/0,p=0;p<y;p++){var b=g(e,n,s,f,d[p]);c[0]=o(b,c[0]),h[0]=u(b,h[0])}for(y=m(t,r,a,l,v),p=0;p<y;p++){var w=g(t,r,a,l,v[p]);c[1]=o(w,c[1]),h[1]=u(w,h[1])}c[0]=o(e,c[0]),h[0]=u(e,h[0]),c[0]=o(f,c[0]),h[0]=u(f,h[0]),c[1]=o(t,c[1]),h[1]=u(t,h[1]),c[1]=o(l,c[1]),h[1]=u(l,h[1])},s.fromQuadratic=function(e,t,n,r,s,a,f,l){var c=i.quadraticExtremum,h=i.quadraticAt,p=u(o(c(e,n,s),1),0),d=u(o(c(t,r,a),1),0),v=h(e,n,s,p),m=h(t,r,a,d);f[0]=o(e,s,v),f[1]=o(t,a,m),l[0]=u(e,s,v),l[1]=u(t,a,m)},s.fromArc=function(e,t,n,i,s,o,u,d,v){var m=r.min,g=r.max,y=Math.abs(s-o);if(y%p<1e-4&&y>1e-4)return d[0]=e-n,d[1]=t-i,v[0]=e+n,void (v[1]=t+i);if(l[0]=f(s)*n+e,l[1]=a(s)*i+t,c[0]=f(o)*n+e,c[1]=a(o)*i+t,m(d,l,c),g(v,l,c),s%=p,s<0&&(s+=p),o%=p,o<0&&(o+=p),s>o&&!u?o+=p:s<o&&u&&(s+=p),u){var b=o;o=s,s=b}for(var w=0;w<o;w+=Math.PI/2)w>s&&(h[0]=f(w)*n+e,h[1]=a(w)*i+t,m(d,h,d),g(v,h,v))},e.exports=s},function(e,t,n){var r=n(40),i=n(1),s=n(16),o=function(e){r.call(this,e)};o.prototype={constructor:o,type:"text",brush:function(e,t){var n=this.style,r=n.x||0,i=n.y||0,o=n.text;if(null!=o&&(o+=""),n.bind(e,this,t),o){this.setTransform(e);var u,a=n.textAlign,f=n.textFont||n.font;if(n.textVerticalAlign){var l=s.getBoundingRect(o,f,n.textAlign,"top");switch(u="middle",n.textVerticalAlign){case"middle":i-=l.height/2-l.lineHeight/2;break;case"bottom":i-=l.height-l.lineHeight/2;break;default:i+=l.lineHeight/2}}else u=n.textBaseline;e.font=f||"12px sans-serif",e.textAlign=a||"left",e.textAlign!==a&&(e.textAlign="left"),e.textBaseline=u||"alphabetic",e.textBaseline!==u&&(e.textBaseline="alphabetic");for(var c=s.measureText("ÂõΩ",e.font).width,h=o.split("\n"),p=0;p<h.length;p++)n.hasStroke()&&e.strokeText(h[p],r,i),n.hasFill()&&e.fillText(h[p],r,i),i+=c;this.restoreTransform(e)}},getBoundingRect:function(){var e=this.style;if(!this._rect){var t=e.textVerticalAlign,n=s.getBoundingRect(e.text+"",e.textFont||e.font,e.textAlign,t?"top":e.textBaseline);switch(t){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}if(n.x+=e.x||0,n.y+=e.y||0,e.hasStroke()){var r=e.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},i.inherits(o,r),e.exports=o},function(e,t,n){function r(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}var i=n(16),s=n(11),o=new s,u=function(){};u.prototype={constructor:u,drawRectText:function(e,t,n){var s=this.style,u=s.text;if(null!=u&&(u+=""),u){e.save();var a,f,l=s.textPosition,c=s.textOffset,h=s.textDistance,p=s.textAlign,d=s.textFont||s.font,v=s.textBaseline,m=s.textVerticalAlign;n=n||i.getBoundingRect(u,d,p,v);var g=this.transform;if(s.textTransform?this.setTransform(e):g&&(o.copy(t),o.applyTransform(g),t=o),l instanceof Array){if(a=t.x+r(l[0],t.width),f=t.y+r(l[1],t.height),p=p||"left",v=v||"top",m){switch(m){case"middle":f-=n.height/2-n.lineHeight/2;break;case"bottom":f-=n.height-n.lineHeight/2;break;default:f+=n.lineHeight/2}v="middle"}}else{var y=i.adjustTextPositionOnRect(l,t,n,h);a=y.x,f=y.y,p=p||y.textAlign,v=v||y.textBaseline}c&&(a+=c[0],f+=c[1]),e.textAlign=p||"left",e.textBaseline=v||"alphabetic";var b=s.textFill,w=s.textStroke;b&&(e.fillStyle=b),w&&(e.strokeStyle=w),e.font=d||"12px sans-serif",e.shadowBlur=s.textShadowBlur,e.shadowColor=s.textShadowColor||"transparent",e.shadowOffsetX=s.textShadowOffsetX,e.shadowOffsetY=s.textShadowOffsetY;var E=u.split("\n");s.textRotation&&(g&&e.translate(g[4],g[5]),e.rotate(s.textRotation),g&&e.translate(-g[4],-g[5]));for(var S=0;S<E.length;S++)w&&e.strokeText(E[S],a,f),b&&e.fillText(E[S],a,f),f+=n.lineHeight;e.restore()}}},e.exports=u},function(e,t,n){function r(e){delete p[e]}var i=n(70),s=n(9),o=n(1),u=n(154),a=n(157),f=n(158),l=n(165),c=!s.canvasSupported,h={canvas:n(156)},p={},d={};d.version="3.4.0",d.init=function(e,t){var n=new v(i(),e,t);return p[n.id]=n,n},d.dispose=function(e){if(e)e.dispose();else{for(var t in p)p.hasOwnProperty(t)&&p[t].dispose();p={}}return d},d.getInstance=function(e){return p[e]},d.registerPainter=function(e,t){h[e]=t};var v=function(e,t,n){n=n||{},this.dom=t,this.id=e;var r=this,i=new a,p=n.renderer;if(c){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else p&&h[p]||(p="canvas");var d=new h[p](t,i,n);this.storage=i,this.painter=d;var v=s.node?null:new l(d.getViewportRoot());this.handler=new u(i,d,v,d.root),this.animation=new f({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=i.delFromMap,g=i.addToMap;i.delFromMap=function(e){var t=i.get(e);m.call(i,e),t&&t.removeSelfFromZr(r)},i.addToMap=function(e){g.call(i,e),e.addSelfToZr(r)}};v.prototype={constructor:v,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,r(this.id)}},e.exports=d},function(e,t,n){var r=n(2),i=n(1);e.exports=function(e,t){i.each(t,function(t){t.update="updateView",r.registerAction(t,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name);var r=e.getData();r.each(function(t){var n=r.getName(t);i[n]=e.isSelected(n)||!1})}),{name:n.name,selected:i}})})}},function(e,t,n){var r=n(18),i=n(27);e.exports=r.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(e.data,this,t)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(e,!0),r=this.getData(),i=r.getLayout("offset"),s=r.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return n[o]+=i+s/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(e,t,n){function r(e,t,n,r,i){s.setText(e,t,n),e.text=r,"outside"===e.textPosition&&(e.textPosition=i)}var i=n(1),s=n(3),o={};o.setLabel=function(e,t,n,s,o,u,a){var f=n.getModel("label.normal"),l=n.getModel("label.emphasis");f.get("show")?r(e,f,s,i.retrieve(o.getFormattedLabel(u,"normal"),o.getRawValue(u)),a):e.text="",l.get("show")?r(t,l,s,i.retrieve(o.getFormattedLabel(u,"emphasis"),o.getRawValue(u)),a):t.text=""},e.exports=o},function(e,t,n){function r(e){return isNaN(e[0])||isNaN(e[1])}function i(e,t,n,i,s,o,v,m,g,y,b){for(var w=0,E=n,S=0;S<i;S++){var x=t[E];if(E>=s||E<0)break;if(r(x)){if(b){E+=o;continue}break}if(E===n)e[o>0?"moveTo":"lineTo"](x[0],x[1]),c(p,x);else if(g>0){var T=E+o,N=t[T];if(b)for(;N&&r(t[T]);)T+=o,N=t[T];var C=.5,k=t[w],N=t[T];if(!N||r(N))c(d,x);else{r(N)&&!b&&(N=x),u.sub(h,N,k);var L,A;if("x"===y||"y"===y){var O="x"===y?0:1;L=Math.abs(x[O]-k[O]),A=Math.abs(x[O]-N[O])}else L=u.dist(x,k),A=u.dist(x,N);C=A/(A+L),l(d,x,h,-g*(1-C))}a(p,p,m),f(p,p,v),a(d,d,m),f(d,d,v),e.bezierCurveTo(p[0],p[1],d[0],d[1],x[0],x[1]),l(p,x,h,g*C)}else e.lineTo(x[0],x[1]);w=E,E+=o}return S}function s(e,t){var n=[1/0,1/0],r=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var s=e[i];s[0]<n[0]&&(n[0]=s[0]),s[1]<n[1]&&(n[1]=s[1]),s[0]>r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])}return{min:t?n:r,max:t?r:n}}var o=n(8),u=n(6),a=u.min,f=u.max,l=u.scaleAndAdd,c=u.copy,h=[],p=[],d=[];e.exports={Polyline:o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(e,t){var n=t.points,o=0,u=n.length,a=s(n,t.smoothConstraint);if(t.connectNulls){for(;u>0&&r(n[u-1]);u--);for(;o<u&&r(n[o]);o++);}for(;o<u;)o+=i(e,n,o,u,u,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Polygon:o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(e,t){var n=t.points,o=t.stackedOnPoints,u=0,a=n.length,f=t.smoothMonotone,l=s(n,t.smoothConstraint),c=s(o,t.smoothConstraint);if(t.connectNulls){for(;a>0&&r(n[a-1]);a--);for(;u<a&&r(n[u]);u++);}for(;u<a;){var h=i(e,n,u,a,a,1,l.min,l.max,t.smooth,f,t.connectNulls);i(e,o,u+h-1,h,a,-1,c.min,c.max,t.stackedOnSmooth,f,t.connectNulls),u+=h+1,e.closePath()}}})}},function(e,t,n){var r=n(1),i={retrieveTargetInfo:function(e,t){if(e&&("treemapZoomToNode"===e.type||"treemapRootToNode"===e.type)){var n=t.getData().tree.root,r=e.targetNode;if(r&&n.contains(r))return{node:r};var i=e.targetNodeId;if(null!=i&&(r=n.getNodeById(i)))return{node:r}}},getPathToRoot:function(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()},aboveViewRoot:function(e,t){var n=i.getPathToRoot(e);return r.indexOf(n,t)>=0},wrapTreePathInfo:function(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}};e.exports=i},function(e,t,n){var r=n(3),i=n(1),s=n(2);n(56),n(119),s.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new r.Rect({shape:e.coordinateSystem.getRect(),style:i.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),s.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})},function(e,t,n){function r(e){if(!e.target||!e.target.draggable){var t=e.offsetX,n=e.offsetY;this.containsPoint&&this.containsPoint(t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function i(e){if(this._dragging&&(h.stop(e.event),"pinch"!==e.gestureEvent)){if(p.isTaken(this._zr,"globalPan"))return;var t=e.offsetX,n=e.offsetY,r=this._x,i=this._y,s=t-r,o=n-i;this._x=t,this._y=n;var u=this.target;if(u){var a=u.position;a[0]+=s,a[1]+=o,u.dirty()}h.stop(e.event),this.trigger("pan",s,o,r,i,t,n)}}function s(e){this._dragging=!1}function o(e){if(0!==e.wheelDelta){var t=e.wheelDelta>0?1.1:1/1.1;a.call(this,e,t,e.offsetX,e.offsetY)}}function u(e){if(!p.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;a.call(this,e,t,e.pinchX,e.pinchY)}}function a(e,t,n,r){if(this.containsPoint&&this.containsPoint(n,r)){h.stop(e.event);var i=this.target,s=this.zoomLimit;if(i){var o=i.position,u=i.scale,a=this.zoom=this.zoom||1;if(a*=t,s){var f=s.min||0,l=s.max||1/0;a=Math.max(Math.min(l,a),f)}var c=a/this.zoom;this.zoom=a,o[0]-=(n-o[0])*(c-1),o[1]-=(r-o[1])*(c-1),u[0]*=c,u[1]*=c,i.dirty()}this.trigger("zoom",t,n,r)}}function f(e,t){this.target=t,this.containsPoint,this.zoomLimit,this.zoom,this._zr=e;var n=c.bind,a=n(r,this),f=n(i,this),h=n(s,this),p=n(o,this),d=n(u,this);l.call(this),this.setContainsPoint=function(e){this.containsPoint=e},this.enable=function(t){this.disable(),null==t&&(t=!0),t!==!0&&"move"!==t&&"pan"!==t||(e.on("mousedown",a),e.on("mousemove",f),e.on("mouseup",h)),t!==!0&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",p),e.on("pinch",d))},this.disable=function(){e.off("mousedown",a),e.off("mousemove",f),e.off("mouseup",h),e.off("mousewheel",p),e.off("pinch",d)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var l=n(23),c=n(1),h=n(20),p=n(130);c.mixin(f,l),e.exports=f},function(e,t){e.exports=function(e,t,n,r,i){function s(e,t,n){var r=t.length?t.slice():[t,t];return t[0]>t[1]&&r.reverse(),e<0&&r[0]+e<n[0]&&(e=n[0]-r[0]),e>0&&r[1]+e>n[1]&&(e=n[1]-r[1]),e}return e?("rigid"===r?(e=s(e,t,n),t[0]+=e,t[1]+=e):(e=s(e,t[i],n),t[i]+=e,"push"===r&&t[0]>t[1]&&(t[1-i]=t[i])),t):t}},function(e,t,n){var r=n(1),i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},s=r.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},i),o=r.merge({boundaryGap:[0,0],splitNumber:5},i),u=r.defaults({scale:!0,min:"dataMin",max:"dataMax"},o),a=r.defaults({logBase:10},o);a.scale=!0,e.exports={categoryAxis:s,valueAxis:o,timeAxis:u,logAxis:a}},function(e,t,n){function r(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function i(e){return e.dim+e.index}function s(e,t){var n={};u.each(e,function(e,t){var s=e.getData(),o=e.coordinateSystem,u=o.getBaseAxis(),a=u.getExtent(),l="category"===u.type?u.getBandWidth():Math.abs(a[1]-a[0])/s.count(),c=n[i(u)]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=c.stacks;n[i(u)]=c;var p=r(e);h[p]||c.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var d=f(e.get("barWidth"),l),v=f(e.get("barMaxWidth"),l),m=e.get("barGap"),g=e.get("barCategoryGap");d&&!h[p].width&&(d=Math.min(c.remainedWidth,d),h[p].width=d,c.remainedWidth-=d),v&&(h[p].maxWidth=v),null!=m&&(c.gap=m),null!=g&&(c.categoryGap=g)});var s={};return u.each(n,function(e,t){s[t]={};var n=e.stacks,r=e.bandWidth,i=f(e.categoryGap,r),o=f(e.gap,1),a=e.remainedWidth,l=e.autoWidthCount,c=(a-i)/(l+(l-1)*o);c=Math.max(c,0),u.each(n,function(e,t){var n=e.maxWidth;!e.width&&n&&n<c&&(n=Math.min(n,a),a-=n,e.width=n,l--)}),c=(a-i)/(l+(l-1)*o),c=Math.max(c,0);var h,p=0;u.each(n,function(e,t){e.width||(e.width=c),h=e,p+=e.width*(1+o)}),h&&(p-=h.width*o);var d=-p/2;u.each(n,function(e,n){s[t][n]=s[t][n]||{offset:d,width:e.width},d+=e.width*(1+o)})}),s}function o(e,t,n){var o=s(u.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),a={},f={};t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.coordinateSystem,s=n.getBaseAxis(),u=r(e),l=o[i(s)][u],c=l.offset,h=l.width,p=n.getOtherAxis(s),d=e.get("barMinHeight")||0,v=s.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],m=n.dataToPoints(t,!0);a[u]=a[u]||[],f[u]=f[u]||[],t.setLayout({offset:c,size:h}),t.each(p.dim,function(e,n){if(!isNaN(e)){a[u][n]||(a[u][n]={p:v,n:v},f[u][n]={p:v,n:v});var r,i,s,o,l=e>=0?"p":"n",y=m[n],b=a[u][n][l],w=f[u][n][l];p.isHorizontal()?(r=b,i=y[1]+c,s=y[0]-w,o=h,f[u][n][l]+=s,Math.abs(s)<d&&(s=(s<0?-1:1)*d),a[u][n][l]+=s):(r=y[0]+c,i=b,s=h,o=y[1]-w,f[u][n][l]+=o,Math.abs(o)<d&&(o=(o<=0?-1:1)*d),a[u][n][l]+=o),t.setItemLayout(n,{x:r,y:i,width:s,height:o})}},!0)},this)}var u=n(1),a=n(4),f=a.parsePercent;e.exports=o},function(e,t){e.exports={containStroke:function(e,t,n,r,i,s,o){if(0===i)return!1;var u=i,a=0,f=e;if(o>t+u&&o>r+u||o<t-u&&o<r-u||s>e+u&&s>n+u||s<e-u&&s<n-u)return!1;if(e===n)return Math.abs(s-e)<=u/2;a=(t-r)/(e-n),f=(e*r-n*t)/(e-n);var l=a*s-o+f,c=l*l/(a*a+1);return c<=u/2*u/2}}},function(e,t,n){var r=n(21);e.exports={containStroke:function(e,t,n,i,s,o,u,a,f){if(0===u)return!1;var l=u;if(f>t+l&&f>i+l&&f>o+l||f<t-l&&f<i-l&&f<o-l||a>e+l&&a>n+l&&a>s+l||a<e-l&&a<n-l&&a<s-l)return!1;var c=r.quadraticProjectPoint(e,t,n,i,s,o,a,f,null);return c<=l/2}}},function(e,t){e.exports=function(e,t,n,r,i,s){if(s>t&&s>r||s<t&&s<r)return 0;if(r===t)return 0;var o=r<t?1:-1,u=(s-t)/(r-t);1!==u&&0!==u||(o=r<t?.5:-0.5);var a=u*(n-e)+e;return a>i?o:0}},function(e,t,n){var r=n(1),i=n(41),s=function(e,t,n,r,s,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,i.call(this,s)};s.prototype={constructor:s},r.inherits(s,i),e.exports=s},function(e,t,n){function r(e){return e>u||e<-u}var i=n(19),s=n(6),o=i.identity,u=5e-5,a=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},f=a.prototype;f.transform=null,f.needLocalTransform=function(){return r(this.rotation)||r(this.position[0])||r(this.position[1])||r(this.scale[0]-1)||r(this.scale[1]-1)},f.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;return n||t?(r=r||i.create(),n?this.getLocalTransform(r):o(r),t&&(n?i.mul(r,e.transform,r):i.copy(r,e.transform)),this.transform=r,this.invTransform=this.invTransform||i.create(),void i.invert(this.invTransform,r)):void (r&&o(r))},f.getLocalTransform=function(e){e=e||[],o(e);var t=this.origin,n=this.scale,r=this.rotation,s=this.position;return t&&(e[4]-=t[0],e[5]-=t[1]),i.scale(e,e,n),r&&i.rotate(e,e,r),t&&(e[4]+=t[0],e[5]+=t[1]),e[4]+=s[0],e[5]+=s[1],e},f.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},f.restoreTransform=function(e){var t=(this.transform,e.dpr||1);e.setTransform(t,0,0,t,0,0)};var l=[];f.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(i.mul(l,e.invTransform,t),t=l);var n=t[0]*t[0]+t[1]*t[1],s=t[2]*t[2]+t[3]*t[3],o=this.position,u=this.scale;r(n-1)&&(n=Math.sqrt(n)),r(s-1)&&(s=Math.sqrt(s)),t[0]<0&&(n=-n),t[3]<0&&(s=-s),o[0]=t[4],o[1]=t[5],u[0]=n,u[1]=s,this.rotation=Math.atan2(-t[1]/s,t[0]/n)}},f.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},f.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&s.applyTransform(n,n,r),n},f.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&s.applyTransform(n,n,r),n},e.exports=a},function(e,t,n){function r(e,t){i.each(s,function(t){this[t]=i.bind(e[t],e)},this),this.getCoordinateSystems=i.bind(t.getCoordinateSystems,t)}var i=n(1),s=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];e.exports=r},function(e,t,n){var r=n(1);n(56),n(105),n(106);var i=n(97),s=n(2);s.registerLayout(r.curry(i,"bar")),s.registerVisual(function(e){e.eachSeriesByType("bar",function(e){var t=e.getData();t.setVisual("legendSymbol","roundRect")})}),n(38)},function(e,t,n){e.exports=n(89).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(e,t,n){function r(e,t,n,r,i,s,o){var u=new f.Rect({shape:a.extend({},r)});if(s){var l=u.shape,c=i?"height":"width",h={};l[c]=0,h[c]=r[c],f[o?"updateProps":"initProps"](u,{shape:h},s,t)}return u}function i(e,t,n){n.style.text="",f.updateProps(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function s(e,t,n){var r=e.getItemLayout(t),i=u(n,r),s=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+s*i/2,y:r.y+o*i/2,width:r.width-s*i,height:r.height-o*i}}function o(e,t,n,r,i,s,o){var u=t.getItemVisual(n,"color"),c=t.getItemVisual(n,"opacity"),h=r.getModel("itemStyle.normal"),p=r.getModel("itemStyle.emphasis").getBarItemStyle();e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(a.defaults({fill:u,opacity:c},h.getBarItemStyle()));var d=o?i.height>0?"bottom":"top":i.width>0?"left":"right";l.setLabel(e.style,p,r,u,s,n,d),f.setHoverStyle(e,p)}function u(e,t){var n=e.get(c)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}var a=n(1),f=n(3),l=n(90),c=["itemStyle","normal","barBorderWidth"];a.extend(n(10).prototype,n(107));var h=n(2).extendChartView({type:"bar",render:function(e,t,n){var r=e.get("coordinateSystem");return"cartesian2d"===r&&this._renderOnCartesian(e,t,n),this.group},dispose:a.noop,_renderOnCartesian:function(e,t,n){var u=this.group,a=e.getData(),l=this._data,c=e.coordinateSystem,h=c.getBaseAxis(),p=h.isHorizontal(),d=e.isAnimationEnabled()?e:null;a.diff(l).add(function(t){if(a.hasValue(t)){var n=a.getItemModel(t),i=s(a,t,n),f=r(a,t,n,i,p,d);a.setItemGraphicEl(t,f),u.add(f),o(f,a,t,n,i,e,p)}}).update(function(t,n){var i=l.getItemGraphicEl(n);if(!a.hasValue(t))return void u.remove(i);var c=a.getItemModel(t),h=s(a,t,c);i?f.updateProps(i,{shape:h},d,t):i=r(a,t,c,h,p,d,!0),a.setItemGraphicEl(t,i),u.add(i),o(i,a,t,c,h,e,p)}).remove(function(e){var t=l.getItemGraphicEl(e);t&&i(e,d,t)}).execute(),this._data=a},remove:function(e,t){var n=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl(function(t){i(t.dataIndex,e,t)}):n.removeAll()}});e.exports=h},function(e,t,n){var r=n(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getBarItemStyle:function(e){var t=r.call(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}}},function(e,t,n){function r(e){return"_"+e+"Type"}function i(e,t,n){var r=t.getItemVisual(n,"color"),i=t.getItemVisual(n,e),s=t.getItemVisual(n,e+"Size");if(i&&"none"!==i){p.isArray(s)||(s=[s,s]);var o=f.createSymbol(i,-s[0]/2,-s[1]/2,s[0],s[1],r);return o.name=e,o}}function s(e){var t=new c({name:"line"});return o(t.shape,e),t}function o(e,t){var n=t[0],r=t[1],i=t[2];e.x1=n[0],e.y1=n[1],e.x2=r[0],e.y2=r[1],e.percent=1,i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function u(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),r=e.childOfName("label");if(t||n||!r.ignore){for(var i=1,s=this.parent;s;)s.scale&&(i/=s.scale[0]),s=s.parent;var o=e.childOfName("line");if(this.__dirty||o.__dirty){var u=o.shape.percent,a=o.pointAt(0),f=o.pointAt(u),c=l.sub([],f,a);if(l.normalize(c,c),t){t.attr("position",a);var h=o.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0])),t.attr("scale",[i*u,i*u])}if(n){n.attr("position",f);var h=o.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0])),n.attr("scale",[i*u,i*u])}if(!r.ignore){r.attr("position",f);var p,d,v,m=5*i;if("end"===r.__position)p=[c[0]*m+f[0],c[1]*m+f[1]],d=c[0]>.8?"left":c[0]<-0.8?"right":"center",v=c[1]>.8?"top":c[1]<-0.8?"bottom":"middle";else if("middle"===r.__position){var g=u/2,h=o.tangentAt(g),y=[h[1],-h[0]],b=o.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),p=[b[0]+y[0]*m,b[1]+y[1]*m],d="center",v="bottom";var w=-Math.atan2(h[1],h[0]);f[0]<a[0]&&(w=Math.PI+w),r.attr("rotation",w)}else p=[-c[0]*m+a[0],-c[1]*m+a[1]],d=c[0]>.8?"right":c[0]<-0.8?"left":"center",v=c[1]>.8?"bottom":c[1]<-0.8?"top":"middle";r.attr({style:{textVerticalAlign:r.__verticalAlign||v,textAlign:r.__textAlign||d},position:p,scale:[i,i]})}}}}function a(e,t,n){h.Group.call(this),this._createLine(e,t,n)}var f=n(24),l=n(6),c=n(191),h=n(3),p=n(1),d=n(4),v=["fromSymbol","toSymbol"],m=a.prototype;m.beforeUpdate=u,m._createLine=function(e,t,n){var o=e.hostModel,u=e.getItemLayout(t),a=s(u);a.shape.percent=0,h.initProps(a,{shape:{percent:1}},o,t),this.add(a);var f=new h.Text({name:"label"});this.add(f),p.each(v,function(n){var s=i(n,e,t);this.add(s),this[r(n)]=e.getItemVisual(t,n)},this),this._updateCommonStl(e,t,n)},m.updateData=function(e,t,n){var s=e.hostModel,u=this.childOfName("line"),a=e.getItemLayout(t),f={shape:{}};o(f.shape,a),h.updateProps(u,f,s,t),p.each(v,function(n){var s=e.getItemVisual(t,n),o=r(n);if(this[o]!==s){this.remove(this.childOfName(n));var u=i(n,e,t);this.add(u)}this[o]=s},this),this._updateCommonStl(e,t,n)},m._updateCommonStl=function(e,t,n){var r=e.hostModel,i=this.childOfName("line"),s=n&&n.lineStyle,o=n&&n.hoverLineStyle,u=n&&n.labelModel,a=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var f=e.getItemModel(t);s=f.getModel("lineStyle.normal").getLineStyle(),o=f.getModel("lineStyle.emphasis").getLineStyle(),u=f.getModel("label.normal"),a=f.getModel("label.emphasis")}var l=e.getItemVisual(t,"color"),c=p.retrieve(e.getItemVisual(t,"opacity"),s.opacity,1);i.useStyle(p.defaults({strokeNoScale:!0,fill:"none",stroke:l,opacity:c},s)),i.hoverStyle=o,p.each(v,function(e){var t=this.childOfName(e);t&&(t.setColor(l),t.setStyle({opacity:c}))},this);var m,g,y=u.getShallow("show"),b=a.getShallow("show"),w=this.childOfName("label");if(y||b){var E=r.getRawValue(t);g=null==E?g=e.getName(t):isFinite(E)?d.round(E):E,m=l||"#000"}if(y){var S=u.getModel("textStyle");w.setStyle({text:p.retrieve(r.getFormattedLabel(t,"normal",e.dataType),g),textFont:S.getFont(),fill:S.getTextColor()||m}),w.__textAlign=S.get("align"),w.__verticalAlign=S.get("baseline"),w.__position=u.get("position")}else w.setStyle("text","");if(b){var x=a.getModel("textStyle");w.hoverStyle={text:p.retrieve(r.getFormattedLabel(t,"emphasis",e.dataType),g),textFont:x.getFont(),fill:x.getTextColor()||m}}else w.hoverStyle={text:""};w.ignore=!y&&!b,h.setHoverStyle(this)},m.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},m.setLinePoints=function(e){var t=this.childOfName("line");o(t.shape,e),t.dirty()},p.inherits(a,h.Group),e.exports=a},function(e,t,n){function r(e){return isNaN(e[0])||isNaN(e[1])}function i(e){return!r(e[0])&&!r(e[1])}function s(e){this._ctor=e||u,this.group=new o.Group}var o=n(3),u=n(108),a=s.prototype;a.updateData=function(e){var t=this._lineData,n=this.group,r=this._ctor,s=e.hostModel,o={lineStyle:s.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:s.getModel("lineStyle.emphasis").getLineStyle(),labelModel:s.getModel("label.normal"),hoverLabelModel:s.getModel("label.emphasis")};e.diff(t).add(function(t){if(i(e.getItemLayout(t))){var s=new r(e,t,o);e.setItemGraphicEl(t,s),n.add(s)}}).update(function(s,u){var a=t.getItemGraphicEl(u);return i(e.getItemLayout(s))?(a?a.updateData(e,s,o):a=new r(e,s,o),e.setItemGraphicEl(s,a),void n.add(a)):void n.remove(a)}).remove(function(e){n.remove(t.getItemGraphicEl(e))}).execute(),this._lineData=e},a.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},a.remove=function(){this.group.removeAll()},e.exports=s},function(e,t,n){var r=n(1),i=n(2),s=i.PRIORITY;n(111),n(112),i.registerVisual(r.curry(n(50),"line","circle","line")),i.registerLayout(r.curry(n(61),"line")),i.registerProcessor(s.PROCESSOR.STATISTIC,r.curry(n(149),"line")),n(38)},function(e,t,n){var r=n(27),i=n(18);e.exports=i.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return r(e.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(e,t,n){function r(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function i(e){return"number"==typeof e?e:e?.3:0}function s(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,r=t[1]>t[0]?1:-1;t[0]+=r*n,t[1]-=r*n}return t}function o(e){return e>=0?1:-1}function u(e,t){var n=e.getBaseAxis(),r=e.getOtherAxis(n),i=n.onZero?0:r.scale.getExtent()[0],s=r.dim,u="x"===s||"radius"===s?1:0;return t.mapArray([s],function(r,a){for(var f,l=t.stackedOn;l&&o(l.get(s,a))===o(r);){f=l;break}var c=[];return c[u]=t.get(n.dim,a),c[1-u]=f?f.get(s,a,!0):i,e.dataToPoint(c)},!0)}function a(e,t,n){var r=s(e.getAxis("x")),i=s(e.getAxis("y")),o=e.getBaseAxis().isHorizontal(),u=Math.min(r[0],r[1]),a=Math.min(i[0],i[1]),f=Math.max(r[0],r[1])-u,l=Math.max(i[0],i[1])-a,c=n.get("lineStyle.normal.width")||2,h=n.get("clipOverflow")?c/2:Math.max(f,l);o?(a-=h,l+=2*h):(u-=h,f+=2*h);var p=new g.Rect({shape:{x:u,y:a,width:f,height:l}});return t&&(p.shape[o?"width":"height"]=0,g.initProps(p,{shape:{width:f,height:l}},n)),p}function f(e,t,n){var r=e.getAngleAxis(),i=e.getRadiusAxis(),s=i.getExtent(),o=r.getExtent(),u=Math.PI/180,a=new g.Sector({shape:{cx:e.cx,cy:e.cy,r0:s[0],r:s[1],startAngle:-o[0]*u,endAngle:-o[1]*u,clockwise:r.inverse}});return t&&(a.shape.endAngle=-o[0]*u,g.initProps(a,{shape:{endAngle:-o[1]*u}},n)),a}function l(e,t,n){return"polar"===e.type?f(e,t,n):a(e,t,n)}function c(e,t,n){for(var r=t.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,s=[],o=0;o<e.length-1;o++){var u=e[o+1],a=e[o];s.push(a);var f=[];switch(n){case"end":f[i]=u[i],f[1-i]=a[1-i],s.push(f);break;case"middle":var l=(a[i]+u[i])/2,c=[];f[i]=c[i]=l,f[1-i]=a[1-i],c[1-i]=u[1-i],s.push(f),s.push(c);break;default:f[i]=a[i],f[1-i]=u[1-i],s.push(f)}}return e[o]&&s.push(e[o]),s}function h(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()){for(var r,i=n.length-1;i>=0;i--)if(n[i].dimension<2){r=n[i];break}if(r&&"cartesian2d"===t.type){var s=r.dimension,o=e.dimensions[s],u=t.getAxis(o),a=p.map(r.stops,function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}}),f=a.length,l=r.outerColors.slice();f&&a[0].coord>a[f-1].coord&&(a.reverse(),l.reverse());var c=10,h=a[0].coord-c,d=a[f-1].coord+c,v=d-h;if(v<.001)return"transparent";p.each(a,function(e){e.offset=(e.coord-h)/v}),a.push({offset:f?a[f-1].offset:.5,color:l[1]||"transparent"}),a.unshift({offset:f?a[0].offset:.5,color:l[0]||"transparent"});var m=new g.LinearGradient(0,0,0,0,a,!0);return m[o]=h,m[o+"2"]=d,m}}}var p=n(1),d=n(44),v=n(54),m=n(113),g=n(3),y=n(5),b=n(91),w=n(29);e.exports=w.extend({type:"line",init:function(){var e=new g.Group,t=new d;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var s=e.coordinateSystem,o=this.group,a=e.getData(),f=e.getModel("lineStyle.normal"),d=e.getModel("areaStyle.normal"),v=a.mapArray(a.getItemLayout,!0),m="polar"===s.type,g=this._coordSys,y=this._symbolDraw,b=this._polyline,w=this._polygon,E=this._lineGroup,S=e.get("animation"),x=!d.isEmpty(),T=u(s,a),N=e.get("showSymbol"),C=N&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(a,s),k=this._data;k&&k.eachItemGraphicEl(function(e,t){e.__temp&&(o.remove(e),k.setItemGraphicEl(t,null))}),N||y.remove(),o.add(E);var L=!m&&e.get("step");b&&g.type===s.type&&L===this._step?(x&&!w?w=this._newPolygon(v,T,s,S):w&&!x&&(E.remove(w),w=this._polygon=null),E.setClipPath(l(s,!1,e)),N&&y.updateData(a,C),a.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),r(this._stackedOnPoints,T)&&r(this._points,v)||(S?this._updateAnimation(a,T,s,n,L):(L&&(v=c(v,s,L),T=c(T,s,L)),b.setShape({points:v}),w&&w.setShape({points:v,stackedOnPoints:T})))):(N&&y.updateData(a,C),L&&(v=c(v,s,L),T=c(T,s,L)),b=this._newPolyline(v,s,S),x&&(w=this._newPolygon(v,T,s,S)),E.setClipPath(l(s,!0,e)));var A=h(a,s)||a.getVisual("color");b.useStyle(p.defaults(f.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"}));var O=e.get("smooth");if(O=i(e.get("smooth")),b.setShape({smooth:O,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),w){var M=a.stackedOn,_=0;if(w.useStyle(p.defaults(d.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel"})),M){var D=M.hostModel;_=i(D.get("smooth"))}w.setShape({smooth:O,stackedOnSmooth:_,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=s,this._stackedOnPoints=T,this._points=v,this._step=L},dispose:function(){},highlight:function(e,t,n,r){var i=e.getData(),s=y.queryDataIndex(i,r);if(!(s instanceof Array)&&null!=s&&s>=0){var o=i.getItemGraphicEl(s);if(!o){var u=i.getItemLayout(s);if(!u)return;o=new v(i,s),o.position=u,o.setZ(e.get("zlevel"),e.get("z")),o.ignore=isNaN(u[0])||isNaN(u[1]),o.__temp=!0,i.setItemGraphicEl(s,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else w.prototype.highlight.call(this,e,t,n,r)},downplay:function(e,t,n,r){var i=e.getData(),s=y.queryDataIndex(i,r);if(null!=s&&s>=0){var o=i.getItemGraphicEl(s);o&&(o.__temp?(i.setItemGraphicEl(s,null),this.group.remove(o)):o.downplay())}else w.prototype.downplay.call(this,e,t,n,r)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new b.Polyline({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new b.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return p.bind(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,r,i){var s=this._polyline,o=this._polygon,u=e.hostModel,a=m(this._data,e,this._stackedOnPoints,t,this._coordSys,n),f=a.current,l=a.stackedOnCurrent,h=a.next,p=a.stackedOnNext;i&&(f=c(a.current,n,i),l=c(a.stackedOnCurrent,n,i),h=c(a.next,n,i),p=c(a.stackedOnNext,n,i)),s.shape.__points=a.current,s.shape.points=f,g.updateProps(s,{shape:{points:h}},u),o&&(o.setShape({points:f,stackedOnPoints:l}),g.updateProps(o,{shape:{points:h,stackedOnPoints:p}},u));for(var d=[],v=a.status,y=0;y<v.length;y++){var b=v[y].cmd;if("="===b){var w=e.getItemGraphicEl(v[y].idx1);w&&d.push({el:w,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var e=0;e<d.length;e++){var t=d[e].el;t.attr("position",s.shape.__points[d[e].ptIdx])}})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(e,t){function n(e){return e>=0?1:-1}function r(e,t,r){for(var i,s=e.getBaseAxis(),o=e.getOtherAxis(s),u=s.onZero?0:o.scale.getExtent()[0],a=o.dim,f="x"===a||"radius"===a?1:0,l=t.stackedOn,c=t.get(a,r);l&&n(l.get(a,r))===n(c);){i=l;break}var h=[];return h[f]=t.get(s.dim,r),h[1-f]=i?i.get(a,r,!0):u,e.dataToPoint(h)}function i(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}e.exports=function(e,t,n,s,o,u){for(var a=i(e,t),f=[],l=[],c=[],h=[],p=[],d=[],v=[],m=u.dimensions,g=0;g<a.length;g++){var y=a[g],b=!0;switch(y.cmd){case"=":var w=e.getItemLayout(y.idx),E=t.getItemLayout(y.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=E.slice()),f.push(w),l.push(E),c.push(n[y.idx]),h.push(s[y.idx1]),v.push(t.getRawIndex(y.idx1));break;case"+":var S=y.idx;f.push(o.dataToPoint([t.get(m[0],S,!0),t.get(m[1],S,!0)])),l.push(t.getItemLayout(S).slice()),c.push(r(o,t,S)),h.push(s[S]),v.push(t.getRawIndex(S));break;case"-":var S=y.idx,x=e.getRawIndex(S);x!==S?(f.push(e.getItemLayout(S)),l.push(u.dataToPoint([e.get(m[0],S,!0),e.get(m[1],S,!0)])),c.push(n[S]),h.push(r(u,e,S)),v.push(x)):b=!1}b&&(p.push(y),d.push(d.length))}d.sort(function(e,t){return v[e]-v[t]});for(var T=[],N=[],C=[],k=[],L=[],g=0;g<d.length;g++){var S=d[g];T[g]=f[S],N[g]=l[S],C[g]=c[S],k[g]=h[S],L[g]=p[S]}return{current:T,next:N,stackedOnCurrent:C,stackedOnNext:k,status:L}}},function(e,t,n){var r=n(1),i=n(2);n(115),n(116),n(88)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(r.curry(n(83),"pie")),i.registerLayout(r.curry(n(118),"pie")),i.registerProcessor(r.curry(n(63),"pie"))},function(e,t,n){var r=n(14),i=n(1),s=n(5),o=n(25),u=n(78),a=n(2).extendSeriesModel({type:"series.pie",init:function(e){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){a.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getInitialData:function(e,t){var n=o(["value"],e.data),i=new r(n,this);return i.initData(e.data),i},getDataParams:function(e){var t=this.getData(),n=a.superCall(this,"getDataParams",e),r=t.getSum("value");return n.percent=r?+(t.get("value",e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(e){s.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});i.mixin(a,u),e.exports=a},function(e,t,n){function r(e,t,n,r){var s=t.getData(),o=this.dataIndex,u=s.getName(o),a=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:u,seriesId:t.id}),s.each(function(e){i(s.getItemGraphicEl(e),s.getItemLayout(e),t.isSelected(s.getName(e)),a,n)})}function i(e,t,n,r,i){var s=(t.startAngle+t.endAngle)/2,o=Math.cos(s),u=Math.sin(s),a=n?r:0,f=[o*a,u*a];i?e.animate().when(200,{position:f}).start("bounceOut"):e.attr("position",f)}function s(e,t){function n(){s.ignore=s.hoverIgnore,o.ignore=o.hoverIgnore}function r(){s.ignore=s.normalIgnore,o.ignore=o.normalIgnore}u.Group.call(this);var i=new u.Sector({z2:2}),s=new u.Polyline,o=new u.Text;this.add(i),this.add(s),this.add(o),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function o(e,t,n,r,i){var s=r.getModel("textStyle"),o="inside"===i||"inner"===i;return{fill:s.getTextColor()||(o?"#fff":e.getItemVisual(t,"color")),opacity:e.getItemVisual(t,"opacity"),textFont:s.getFont(),text:a.retrieve(e.hostModel.getFormattedLabel(t,n),e.getName(t))}}var u=n(3),a=n(1),f=s.prototype;f.updateData=function(e,t,n){function r(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r+10}},300,"elasticOut")}function s(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r}},300,"elasticOut")}var o=this.childAt(0),f=e.hostModel,l=e.getItemModel(t),c=e.getItemLayout(t),h=a.extend({},c);if(h.label=null,n){o.setShape(h);var p=f.getShallow("animationType");"scale"===p?(o.shape.r=c.r0,u.initProps(o,{shape:{r:c.r}},f,t)):(o.shape.endAngle=c.startAngle,u.updateProps(o,{shape:{endAngle:c.endAngle}},f,t))}else u.updateProps(o,{shape:h},f,t);var d=l.getModel("itemStyle"),v=e.getItemVisual(t,"color");o.useStyle(a.defaults({lineJoin:"bevel",fill:v},d.getModel("normal").getItemStyle())),o.hoverStyle=d.getModel("emphasis").getItemStyle(),i(this,e.getItemLayout(t),l.get("selected"),f.get("selectedOffset"),f.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&f.isAnimationEnabled()&&o.on("mouseover",r).on("mouseout",s).on("emphasis",r).on("normal",s),this._updateLabel(e,t),u.setHoverStyle(this)},f._updateLabel=function(e,t){var n=this.childAt(1),r=this.childAt(2),i=e.hostModel,s=e.getItemModel(t),a=e.getItemLayout(t),f=a.label,l=e.getItemVisual(t,"color");u.updateProps(n,{shape:{points:f.linePoints||[[f.x,f.y],[f.x,f.y],[f.x,f.y]]}},i,t),u.updateProps(r,{style:{x:f.x,y:f.y}},i,t),r.attr({style:{textVerticalAlign:f.verticalAlign,textAlign:f.textAlign,textFont:f.font},rotation:f.rotation,origin:[f.x,f.y],z2:10});var c=s.getModel("label.normal"),h=s.getModel("label.emphasis"),p=s.getModel("labelLine.normal"),d=s.getModel("labelLine.emphasis"),v=c.get("position")||h.get("position");r.setStyle(o(e,t,"normal",c,v)),r.ignore=r.normalIgnore=!c.get("show"),r.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!p.get("show"),n.hoverIgnore=!d.get("show"),n.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(p.getModel("lineStyle").getLineStyle()),r.hoverStyle=o(e,t,"emphasis",h,v),n.hoverStyle=d.getModel("lineStyle").getLineStyle();var m=p.get("smooth");m&&m===!0&&(m=.4),n.setShape({smooth:m})},a.inherits(s,u.Group);var l=n(29).extend({type:"pie",init:function(){var e=new u.Group;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),u=this._data,f=this.group,l=t.get("animation"),c=!u,h=e.get("animationType"),p=a.curry(r,this.uid,e,l,n),d=e.get("selectedMode");if(o.diff(u).add(function(e){var t=new s(o,e);c&&"scale"!==h&&t.eachChild(function(e){e.stopAnimation(!0)}),d&&t.on("click",p),o.setItemGraphicEl(e,t),f.add(t)}).update(function(e,t){var n=u.getItemGraphicEl(t);n.updateData(o,e),n.off("click"),d&&n.on("click",p),f.add(n),o.setItemGraphicEl(e,n)}).remove(function(e){var t=u.getItemGraphicEl(e);f.remove(t)}).execute(),l&&c&&o.count()>0&&"scale"!==h){var v=o.getItemLayout(0),m=Math.max(n.getWidth(),n.getHeight())/2,g=a.bind(f.removeClipPath,f);f.setClipPath(this._createClipPath(v.cx,v.cy,m,v.startAngle,v.clockwise,g,e))}this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,r,i,s,o){var a=new u.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}});return u.initProps(a,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},o,s),a},containPoint:function(e,t){var n=t.getData(),r=n.getItemLayout(0);if(r){var i=e[0]-r.cx,s=e[1]-r.cy,o=Math.sqrt(i*i+s*s);return o<=r.r&&o>=r.r0}}});e.exports=l},function(e,t,n){function r(e,t,n,r,i,s,o){function u(t,n,r,i){for(var s=t;s<n;s++)if(e[s].y+=r,s>t&&s+1<n&&e[s+1].y>e[s].y+e[s].height)return void a(s,r/2);a(n-1,r/2)}function a(t,n){for(var r=t;r>=0&&(e[r].y-=n,!(r>0&&e[r].y>e[r-1].y+e[r-1].height));r--);}function f(e,t,n,r,i,s){for(var o=s>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,u=0,a=e.length;u<a;u++)if("center"!==e[u].position){var f=Math.abs(e[u].y-r),l=e[u].len,c=e[u].len2,h=f<i+l?Math.sqrt((i+l+c)*(i+l+c)-f*f):Math.abs(e[u].x-n);t&&h>=o&&(h=o-10),!t&&h<=o&&(h=o+10),e[u].x=n+h*s,o=h}}e.sort(function(e,t){return e.y-t.y});for(var l,c=0,h=e.length,p=[],d=[],v=0;v<h;v++)l=e[v].y-c,l<0&&u(v,h,-l,i),c=e[v].y+e[v].height;o-c<0&&a(h-1,c-o);for(var v=0;v<h;v++)e[v].y>=n?d.push(e[v]):p.push(e[v]);f(p,!1,t,n,r,i),f(d,!0,t,n,r,i)}function i(e,t,n,i,s,o){for(var u=[],a=[],f=0;f<e.length;f++)e[f].x<t?u.push(e[f]):a.push(e[f]);r(a,t,n,i,1,s,o),r(u,t,n,i,-1,s,o);for(var f=0;f<e.length;f++){var l=e[f].linePoints;if(l){var c=l[1][0]-l[2][0];e[f].x<t?l[2][0]=e[f].x+3:l[2][0]=e[f].x-3,l[1][1]=l[2][1]=e[f].y,l[1][0]=l[2][0]+c}}}var s=n(16);e.exports=function(e,t,n,r){var o,u,a=e.getData(),f=[],l=!1;a.each(function(n){var r,i,p,d,v=a.getItemLayout(n),m=a.getItemModel(n),g=m.getModel("label.normal"),y=g.get("position")||m.get("label.emphasis.position"),b=m.getModel("labelLine.normal"),w=b.get("length"),E=b.get("length2"),S=(v.startAngle+v.endAngle)/2,x=Math.cos(S),T=Math.sin(S);o=v.cx,u=v.cy;var N="inside"===y||"inner"===y;if("center"===y)r=v.cx,i=v.cy,d="center";else{var C=(N?(v.r+v.r0)/2*x:v.r*x)+o,k=(N?(v.r+v.r0)/2*T:v.r*T)+u;if(r=C+3*x,i=k+3*T,!N){var L=C+x*(w+t-v.r),A=k+T*(w+t-v.r),O=L+(x<0?-1:1)*E,M=A;r=O+(x<0?-5:5),i=M,p=[[C,k],[L,A],[O,M]]}d=N?"center":x>0?"left":"right"}var _=g.getModel("textStyle").getFont(),D=g.get("rotate")?x<0?-S+Math.PI:-S:0,P=e.getFormattedLabel(n,"normal")||a.getName(n),H=s.getBoundingRect(P,_,d,"top");l=!!D,v.label={x:r,y:i,position:y,height:H.height,len:w,len2:E,linePoints:p,textAlign:d,verticalAlign:"middle",font:_,rotation:D},N||f.push(v.label)}),!l&&e.get("avoidLabelOverlap")&&i(f,o,u,t,n,r)}},function(e,t,n){var r=n(4),i=r.parsePercent,s=n(117),o=n(1),u=2*Math.PI,a=Math.PI/180;e.exports=function(e,t,n,f){t.eachSeriesByType(e,function(e){var t=e.get("center"),f=e.get("radius");o.isArray(f)||(f=[0,f]),o.isArray(t)||(t=[t,t]);var l=n.getWidth(),c=n.getHeight(),h=Math.min(l,c),p=i(t[0],l),d=i(t[1],c),v=i(f[0],h/2),m=i(f[1],h/2),g=e.getData(),y=-e.get("startAngle")*a,b=e.get("minAngle")*a,w=g.getSum("value"),E=Math.PI/(w||g.count())*2,S=e.get("clockwise"),x=e.get("roseType"),T=e.get("stillShowZeroSum"),N=g.getDataExtent("value");N[0]=0;var C=u,k=0,L=y,A=S?1:-1;if(g.each("value",function(e,t){var n;if(isNaN(e))return void g.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:p,cy:d,r0:v,r:x?NaN:m});n="area"!==x?0===w&&T?E:e*E:u/(g.count()||1),n<b?(n=b,C-=b):k+=e;var i=L+A*n;g.setItemLayout(t,{angle:n,startAngle:L,endAngle:i,clockwise:S,cx:p,cy:d,r0:v,r:x?r.linearMap(e,N,[v,m]):m}),L=i},!0),C<u)if(C<=.001){var O=u/g.count();g.each(function(e){var t=g.getItemLayout(e);t.startAngle=y+A*e*O,t.endAngle=y+A*(e+1)*O})}else E=C/k,L=y,g.each("value",function(e,t){var n=g.getItemLayout(t),r=n.angle===b?b:e*E;n.startAngle=L,n.endAngle=L+A*r,L+=A*r});s(e,m,l,c)})}},function(e,t,n){n(60),n(120)},function(e,t,n){var r=n(1),i=n(3),s=n(37),o=n(123),u=n(57),a=n(58),f=s.ifIgnoreOnTick,l=s.getInterval,c=["axisLine","axisLabel","axisTick","axisName"],h=["splitArea","splitLine"],p=u.extend({type:"cartesianAxis",axisPointerClass:o,render:function(e,t,n,o){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var f=e.getCoordSysModel(),l=a.layout(f,e),d=new s(e,l);r.each(c,d.add,d),this._axisGroup.add(d.getGroup()),r.each(h,function(t){e.get(t+".show")&&this["_"+t](e,f,l.labelInterval)},this),i.groupTransition(u,this._axisGroup,e),p.superCall(this,"render",e,t,n,o)}},_splitLine:function(e,t,n){var s=e.axis;if(!s.scale.isBlank()){var o=e.getModel("splitLine"),u=o.getModel("lineStyle"),a=u.get("color"),c=l(o,n);a=r.isArray(a)?a:[a];for(var h=t.coordinateSystem.getRect(),p=s.isHorizontal(),d=0,v=s.getTicksCoords(),m=s.scale.getTicks(),g=[],y=[],b=u.getLineStyle(),w=0;w<v.length;w++)if(!f(s,w,c)){var E=s.toGlobalCoord(v[w]);p?(g[0]=E,g[1]=h.y,y[0]=E,y[1]=h.y+h.height):(g[0]=h.x,g[1]=E,y[0]=h.x+h.width,y[1]=E);var S=d++%a.length;this._axisGroup.add(new i.Line(i.subPixelOptimizeLine({anid:"line_"+m[w],shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:r.defaults({stroke:a[S]},b),silent:!0})))}}},_splitArea:function(e,t,n){var s=e.axis;if(!s.scale.isBlank()){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),a=u.get("color"),c=t.coordinateSystem.getRect(),h=s.getTicksCoords(),p=s.scale.getTicks(),d=s.toGlobalCoord(h[0]),v=s.toGlobalCoord(h[0]),m=0,g=l(o,n),y=u.getAreaStyle();a=r.isArray(a)?a:[a];for(var b=1;b<h.length;b++)if(!f(s,b,g)){var w,E,S,x,T=s.toGlobalCoord(h[b]);s.isHorizontal()?(w=d,E=c.y,S=T-w,x=c.height):(w=c.x,E=v,S=c.width,x=T-E);var N=m++%a.length;this._axisGroup.add(new i.Rect({anid:"area_"+p[b],shape:{x:w,y:E,width:S,height:x},style:r.defaults({fill:a[N]},y),silent:!0})),d=w+S,v=E+x}}}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},function(e,t,n){var r=n(2),i=r.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,textStyle:{color:"#fff"},padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=i},function(e,t,n){var r=n(76),i=n(2).extendComponentView({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),s=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,function(e,t,n){"none"!==s&&("leave"===e||s.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){r.disopse(t.getZr(),"axisPointer"),i.superApply(this._model,"remove",arguments)},dispose:function(e,t){r.unregister("axisPointer",t),i.superApply(this._model,"dispose",arguments)}})},function(e,t,n){function r(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function i(e){return"x"===e.dim?0:1}var s=n(3),o=n(74),u=n(55),a=n(58),f=o.extend({makeElOption:function(e,t,n,i,s){var o=n.axis,f=o.grid,c=i.get("type"),h=r(f,o).getOtherAxis(o).getGlobalExtent(),p=o.toGlobalCoord(o.dataToCoord(t,!0)),d=u.buildElStyle(i),v=l[c](o,p,h,d);v.style=d,e.graphicKey=v.type,e.pointer=v;var m=a.layout(f.model,n);u.buildCartesianSingleLabelElOption(t,e,m,n,i,s)},getHandleTransform:function(e,t,n){var r=a.layout(t.axis.grid.model,t,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:u.getTransformedPosition(t.axis,e,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var s=n.axis,o=s.grid,u=s.getGlobalExtent(!0),a=r(o,s).getOtherAxis(s).getGlobalExtent(),f="x"===s.dim?0:1,l=e.position;l[f]+=t[f],l[f]=Math.min(u[1],l[f]),l[f]=Math.max(u[0],l[f]);var c=(a[1]+a[0])/2,h=[c,c];h[f]=l[f];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:l,rotation:e.rotation,cursorPoint:h,tooltipOption:p[f]}}}),l={line:function(e,t,n,r){var o=u.makeLineShape([t,n[0]],[t,n[1]],i(e));return s.subPixelOptimizeLine({shape:o,style:r}),{type:"Line",shape:o}},shadow:function(e,t,n,r){var s=e.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:u.makeRectShape([t-s/2,n[0]],[s,o],i(e))}}};e.exports=f},function(e,t,n){function r(e,t,n,r,s,v,m,g){var E=[];E=null!=n.x&&null!=n.y?[n.x,n.y]:y({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},s).point;var S=e.axesInfo,x="leave"===t||d(E),T={},N={},C={list:[],map:{}},k=[],L={showPointer:w(o,N),showTooltip:w(u,C),highlight:w(a,k)};return b(e.coordSysMap,function(t,r){var s=t.containPoint(E);b(e.coordSysAxesInfo[r],function(e,t){var r=e.axis;x||!s||h(n,r)||i(e,r.pointToData(E),L,!1,T)})}),b(S,function(e,t){var n=e.linkGroup;n&&!N[t]&&b(n.axesInfo,function(t,r){var s=N[r];if(t!==e&&s){var o=s.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,p(t),p(e)))),i(e,o,L,!0,T)}})}),f(N,S),l(C,E,m,r),c(k,r,v,g),T}function i(e,t,n,r,i){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t)){if(!e.involveSeries)return void n.showPointer(e,t);var u=s(t,e),a=u.payloadBatch,f=u.snapToValue;a[0]&&null==i.seriesIndex&&v.extend(i,a[0]),!r&&e.snap&&o.containData(f)&&null!=f&&(t=f),n.highlight("highlight",a),n.showPointer(e,t,a),n.showTooltip(e,u,f)}}function s(e,t){var n=t.axis,r=n.dim,i=e,s=[],o=Number.MAX_VALUE,u=-1;return b(t.seriesModels,function(t,a){var f,l,c=t.coordDimToDataDim(r);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(c,e,n);l=h.dataIndices,f=h.nestestValue}else{if(l=t.getData().indexOfNearest(c[0],e,!1,"category"===n.type?.5:null),!l.length)return;f=t.getData().get(c[0],l[0])}if(null!=f&&isFinite(f)){var p=e-f,d=Math.abs(p);d<=o&&((d<o||p>=0&&u<0)&&(o=d,u=p,i=f,s.length=0),b(l,function(e){s.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:s,snapToValue:i}}function o(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function u(e,t,n,r){var i=n.payloadBatch,s=t.axis,o=s.model,u=t.axisPointerModel;if(t.triggerTooltip&&i.length){var a=t.coordSys.model,f=g.makeKey(a),l=e.map[f];l||(l=e.map[f]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},e.list.push(l)),l.dataByAxis.push({axisDim:s.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:u.get("label.precision"),formatter:u.get("label.formatter")},seriesDataIndices:i.slice()})}}function a(e,t,n){e.push.apply(e,n)}function f(e,t){b(t,function(t,n){var r=t.axisPointerModel.option,i=e[n];i?(!t.useHandle&&(r.status="show"),r.value=i.value,r.seriesDataIndices=(i.payloadBatch||[]).slice()):!t.useHandle&&(r.status="hide")})}function l(e,t,n,r){if(d(t)||!e.list.length)return void r({type:"hideTip"});var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function c(e,t,n,r){var i=n.getZr();r="lastHighlights"+(r||"");var s=E(i)[r]||{},o=E(i)[r]={};v.each(e,function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e});var u=[],a=[];v.each(s,function(e,t){!o[t]&&a.push(e)}),v.each(o,function(e,t){!s[t]&&u.push(e)}),a.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:a}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:u})}function h(e,t){var n=1;return b(e,function(e,t){n&=!/^.+(AxisId|AxisName|AxisIndex)$/.test(t)}),!n&&b([["AxisId","id"],["AxisIndex","componentIndex"],["AxisName","name"]],function(r){var i=m.normalizeToArray(e[t.dim+r[0]]);n|=v.indexOf(i,t.model[r[1]])>=0}),!n}function p(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function d(e){return null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}var v=n(1),m=n(5),g=n(32),y=n(75),b=v.each,w=v.curry,E=m.makeGetter();e.exports=r},function(e,t,n){var r=n(1),i=n(77),s=n(2);s.registerAction("dataZoom",function(e,t){var n=i.createLinkedNodesFinder(r.bind(t.eachComponent,t,"dataZoom"),i.eachAxisDim,function(e,t){return e.get(t.axisIndex)}),s=[];t.eachComponent({mainType:"dataZoom",query:e},function(e,t){s.push.apply(s,n(e).nodes)}),r.each(s,function(t,n){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})},function(e,t,n){function r(e,t,n){n.getAxisProxy(e.name,t).reset(n)}function i(e,t,n){n.getAxisProxy(e.name,t).filterData(n)}var s=n(2);s.registerProcessor(function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(r),e.eachTargetAxis(i)}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy(),n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setRawRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]},!0)})})},function(e,t,n){function r(e){var t=e[o];return t||(t=e[o]=[{}]),t}var i=n(1),s=i.each,o="\0_ec_hist_store",u={push:function(e,t){var n=r(e);s(t,function(t,r){for(var i=n.length-1;i>=0;i--){var s=n[i];if(s[r])break}if(i<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var u=o.getPercentRange();n[0][r]={dataZoomId:r,start:u[0],end:u[1]}}}}),n.push(t)},pop:function(e){var t=r(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return s(n,function(e,n){for(var r=t.length-1;r>=0;r--){var e=t[r][n];if(e){i[n]=e;break}}}),i},clear:function(e){e[o]=null},count:function(e){return r(e).length}};e.exports=u},function(e,t,n){n(13).registerSubTypeDefaulter("dataZoom",function(e){return"slider"})},function(e,t,n){function r(e){F.call(this),this._zr=e,this.group=new R.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+rt++,this._handlers={},X(it,function(e,t){this._handlers[t]=I.bind(e,this)},this)}function i(e,t){var n=e._zr;e._enableGlobalPan||U.take(n,Z,e._uid),X(e._handlers,function(e,t){n.on(t,e)}),e._brushType=t.brushType,e._brushOption=I.merge(I.clone(nt),t,!0)}function s(e){var t=e._zr;U.release(t,Z,e._uid),X(e._handlers,function(e,n){t.off(n,e)}),e._brushType=e._brushOption=null}function o(e,t){var n=st[t.brushType].createCover(e,t);return f(n),n.__brushOption=t,e.group.add(n),n}function u(e,t){var n=c(t);return n.endCreating&&(n.endCreating(e,t),f(t)),t}function a(e,t){var n=t.__brushOption;c(t).updateCoverShape(e,t,n.range,n)}function f(e){e.traverse(function(e){e.z=Q,e.z2=Q})}function l(e,t){c(t).updateCommon(e,t),a(e,t)}function c(e){return st[e.__brushOption.brushType]}function h(e,t,n){var r=e._panels;if(!r)return!0;var i;return X(r,function(e){e.contain(t,n)&&(i=e)}),i}function p(e,t){var n=e._panels;if(!n)return!0;var r=t.__brushOption.panelId;return null==r||n[r]}function d(e){var t=e._covers,n=t.length;return X(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function v(e,t){var n=V(e._covers,function(e){var t=e.__brushOption,n=I.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function m(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],s=n[1]-r[1],o=K(i*i+s*s,.5);return o>G}function g(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function y(e,t,n,r){var i=new R.Group;return i.add(new R.Rect({name:"main",style:S(n),silent:!0,draggable:!0,cursor:"move",drift:W(e,t,i,"nswe"),ondragend:W(v,t,{isEnd:!0})})),X(r,function(n){i.add(new R.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:W(e,t,i,n),ondragend:W(v,t,{isEnd:!0})}))}),i}function b(e,t,n,r){var i=r.brushStyle.lineWidth||0,s=J(i,Y),o=n[0][0],u=n[1][0],a=o-i/2,f=u-i/2,l=n[0][1],c=n[1][1],h=l-s+i/2,p=c-s+i/2,d=l-o,v=c-u,m=d+i,g=v+i;E(e,t,"main",o,u,d,v),r.transformable&&(E(e,t,"w",a,f,s,g),E(e,t,"e",h,f,s,g),E(e,t,"n",a,f,m,s),E(e,t,"s",a,p,m,s),E(e,t,"nw",a,f,s,s),E(e,t,"ne",h,f,s,s),E(e,t,"sw",a,p,s,s),E(e,t,"se",h,p,s,s))}function w(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(S(n)),i.attr({silent:!r,cursor:r?"move":"default"}),X(["w","e","n","s","se","sw","ne","nw"],function(n){var i=t.childOfName(n),s=N(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?tt[s]+"-resize":null})})}function E(e,t,n,r,i,s,o){var u=t.childOfName(n);u&&u.setShape(O(A(e,t,[[r,i],[r+s,i+o]])))}function S(e){return I.defaults({strokeNoScale:!0},e.brushStyle)}function x(e,t,n,r){var i=[$(e,n),$(t,r)],s=[J(e,n),J(t,r)];return[[i[0],s[0]],[i[1],s[1]]]}function T(e){return R.getTransform(e.group)}function N(e,t){if(t.length>1){t=t.split("");var n=[N(e,t[0]),N(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var r={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},n=R.transformDirection(r[t],T(e));return i[n]}function C(e,t,n,r,i,s,o,u){var a=r.__brushOption,f=e(a.range),c=L(n,s,o);X(i.split(""),function(e){var t=et[e];f[t[0]][t[1]]+=c[t[0]]}),a.range=t(x(f[0][0],f[1][0],f[0][1],f[1][1])),l(n,r),v(n,{isEnd:!1})}function k(e,t,n,r,i){var s=t.__brushOption.range,o=L(e,n,r);X(s,function(e){e[0]+=o[0],e[1]+=o[1]}),l(e,t),v(e,{isEnd:!1})}function L(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),s=r.transformCoordToLocal(0,0);return[i[0]-s[0],i[1]-s[1]]}function A(e,t,n){var r=p(e,t);if(r===!0)return I.clone(n);var i=r.getBoundingRect();return I.map(n,function(e){var t=e[0];t=J(t,i.x),t=$(t,i.x+i.width);var n=e[1];return n=J(n,i.y),n=$(n,i.y+i.height),[t,n]})}function O(e){var t=$(e[0][0],e[1][0]),n=$(e[0][1],e[1][1]),r=J(e[0][0],e[1][0]),i=J(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:i-n}}function M(e,t){var n=t.offsetX,r=t.offsetY,i=e._zr;if(e._brushType){for(var s,o=e._panels,u=e._covers,a=0;a<u.length;a++)if(st[u[a].__brushOption.brushType].contain(u[a],n,r)){s=!0;break}s||(o?X(o,function(e){e.contain(n,r)&&i.setCursorStyle("crosshair")}):i.setCursorStyle("crosshair"))}}function _(e){var t=e.event;t.preventDefault&&t.preventDefault()}function D(e,t,n){return e.childOfName("main").contain(t,n)}function P(e,t,n){var r,i=t.offsetX,s=t.offsetY,f=e._creatingCover,l=e._creatingPanel,c=e._brushOption;if(e._track.push(e.group.transformCoordToLocal(i,s)),m(e)||f){if(l&&!f){"single"===c.brushMode&&d(e);var p=I.clone(c);p.brushType=H(p.brushType,l),p.panelId=l===!0?null:l.__brushPanelId,f=e._creatingCover=o(e,p),e._covers.push(f)}if(f){var v=st[H(e._brushType,l)],g=f.__brushOption;g.range=v.getCreatingRange(A(e,f,e._track)),n&&(u(e,f),v.updateCommon(e,f)),a(e,f),r={isEnd:n}}}else n&&"single"===c.brushMode&&c.removeOnClick&&h(e,i,s)&&d(e)&&(r={isEnd:n,removeOnClick:!0});return r}function H(e,t){return"auto"===e?t.__defaultBrushType:e}function B(e){if(this._dragging){_(e);var t=P(this,e,!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&v(this,t)}}function j(e){return{createCover:function(t,n){return y(W(C,function(t){var n=[t,[0,100]];return e&&n.reverse(),n},function(t){return t[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=g(t),r=$(n[0][e],n[1][e]),i=J(n[0][e],n[1][e]);return[r,i]},updateCoverShape:function(t,n,r,i){var s,o=i.brushStyle.width;if(null==o){var u=p(t,n),a=0;if(u!==!0){var f=u.getBoundingRect();o=e?f.width:f.height,a=e?f.x:f.y}s=[a,a+(o||0)]}else s=[-o/2,o/2];var l=[r,s];e&&l.reverse(),b(t,n,l,i)},updateCommon:w,contain:D}}var F=n(23),I=n(1),q=n(11),R=n(3),U=n(130),z=n(48),W=I.curry,X=I.each,V=I.map,$=Math.min,J=Math.max,K=Math.pow,Q=1e4,G=6,Y=6,Z="globalPan",et={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},tt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},nt={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},rt=0;r.prototype={constructor:r,enableBrush:function(e){return this._brushType&&s(this),e.brushType&&i(this,e),this},setPanels:function(e){var t=this._panels||{},n=this._panels=e&&e.length&&{},r=this.group;return n&&X(e,function(e){var i=e.panelId,s=t[i];s||(s=new R.Rect({silent:!0,invisible:!0}),r.add(s));var o=e.rect;o instanceof q||(o=q.create(o)),s.attr("shape",o.plain()),s.__brushPanelId=i,s.__defaultBrushType=e.defaultBrushType,n[i]=s,t[i]=null}),X(t,function(e){e&&r.remove(e)}),this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this},eachCover:function(e,t){X(this._covers,e,t)},updateCovers:function(e){function t(e,t){return(null!=e.id?e.id:s+t)+"-"+e.brushType}function n(e,n){return t(e.__brushOption,n)}function r(t,n){var r=e[t];if(null!=n&&a[n]===h)f[t]=a[n];else{var i=f[t]=null!=n?(a[n].__brushOption=r,a[n]):u(c,o(c,r));l(c,i)}}function i(e){a[e]!==h&&c.group.remove(a[e])}e=I.map(e,function(e){return I.merge(I.clone(nt),e,!0)});var s="\0-brush-index-",a=this._covers,f=this._covers=[],c=this,h=this._creatingCover;return(new z(a,e,n,t)).add(r).update(r).remove(i).execute(),this},unmount:function(){return this.enableBrush(!1),d(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},I.mixin(r,F);var it={mousedown:function(e){if(this._dragging)B.call(this,e);else if(!e.target||!e.target.draggable){_(e);var t=e.offsetX,n=e.offsetY;this._creatingCover=null;var r=this._creatingPanel=h(this,t,n);r&&(this._dragging=!0,this._track=[this.group.transformCoordToLocal(t,n)])}},mousemove:function(e){if(M(this,e),this._dragging){_(e);var t=P(this,e,!1);t&&v(this,t)}},mouseup:B},st={lineX:j(0),lineY:j(1),rect:{createCover:function(e,t){return y(W(C,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=g(e);return x(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){b(e,t,n,r)},updateCommon:w,contain:D},polygon:{createCover:function(e,t){var n=new R.Group;return n.add(new R.Polyline({name:"main",style:S(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new R.Polygon({name:"main",draggable:!0,drift:W(k,e,t),ondragend:W(v,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:A(e,t,n)})},updateCommon:w,contain:D}};e.exports=r},function(e,t,n){function r(e){return e[i]||(e[i]={})}var i="\0_ec_interaction_mutex",s={take:function(e,t,n){var i=r(e);i[t]=n},release:function(e,t,n){var i=r(e),s=i[t];s===n&&(i[t]=null)},isTaken:function(e,t){return!!r(e)[t]}};n(2).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),e.exports=s},function(e,t,n){function r(e,t,n){i.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"))}var i=n(12),s=n(7),o=n(3);e.exports={layout:function(e,t,n){var s=i.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"));i.box(t.get("orient"),e,t.get("itemGap"),s.width,s.height),r(e,t,n)},addBackground:function(e,t){var n=s.normalizeCssArray(t.get("padding")),r=e.getBoundingRect(),i=t.getItemStyle(["color","opacity"]);i.fill=t.get("backgroundColor");var u=new o.Rect({shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[1]+n[3],height:r.height+n[0]+n[2]},style:i,silent:!0,z2:-1});o.subPixelOptimizeRect(u),e.add(u)}}},function(e,t,n){var r=n(1),i=n(33),s=n(136),o=function(e,t,n,r,s){i.call(this,e,t,n),this.type=r||"value",this.position=s||"bottom"};o.prototype={constructor:o,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},getLabelInterval:function(){var e=this._labelInterval;return e||(e=this._labelInterval=s(this)),e},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},r.inherits(o,i),e.exports=o},function(e,t,n){function r(e){return this._axes[e]}var i=n(1),s=function(e){this._axes={},this._dimList=[],this.name=e||""};s.prototype={constructor:s,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(e){return e=e.toLowerCase(),i.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,r=e instanceof Array?[]:{},i=0;i<n.length;i++){var s=n[i],o=this._axes[s];r[s]=o[t](e[s])}return r}},e.exports=s},function(e,t,n){function r(e){s.call(this,e)}var i=n(1),s=n(133);r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoints:function(e,t){return e.mapArray(["x","y"],function(e,t){return this.dataToPoint([e,t])},t,this)},dataToPoint:function(e,t){var n=this.getAxis("x"),r=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),r.toGlobalCoord(r.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),r=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),r.coordToData(r.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},i.inherits(r,s),e.exports=r},function(e,t,n){n(60);var r=n(13);e.exports=r.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(e,t,n){var r=n(1),i=n(17);e.exports=function(e){var t=e.model,n=t.getModel("axisLabel"),s=n.get("interval");return"category"!==e.type||"auto"!==s?"auto"===s?0:s:i.getAxisLabelInterval(r.map(e.scale.getTicks(),e.dataToCoord,e),t.getFormattedLabels(),n.getModel("textStyle").getFont(),e.isHorizontal())}},function(e,t,n){var r=n(27),i=n(24),s=n(17),o=n(42),u=n(10),a=n(1);e.exports={createList:function(e){var t=e.get("data");return r(t,e,e.ecModel)},completeDimensions:n(25),createSymbol:i.createSymbol,createScale:function(e,t){var n=t;t instanceof u||(n=new u(t),a.mixin(n,o));var r=s.createScaleByModel(n);return r.setExtent(e[0],e[1]),s.niceScaleExtent(r,n),r},mixinAxisModelCommonMethods:function(e){a.mixin(e,o)}}},function(e,t,n){var r=n(3),i=n(1),s=Math.PI;e.exports=function(e,t){t=t||{},i.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new r.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=new r.Arc({shape:{startAngle:-s/2,endAngle:-s/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),u=new r.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*s/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*s/2}).delay(300).start("circularInOut");var a=new r.Group;return a.add(o),a.add(u),a.add(n),a.resize=function(){var t=e.getWidth()/2,r=e.getHeight()/2;o.setShape({cx:t,cy:r});var i=o.shape.r;u.setShape({x:t-i,y:r-i,width:2*i,height:2*i}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},a.resize(),a}},function(e,t,n){function r(e,t){l.each(t,function(t,n){b.hasClass(n)||("object"==typeof t?e[n]=e[n]?l.merge(e[n],t,!1):l.clone(t):null==e[n]&&(e[n]=t))})}function i(e){e=e,this.option={},this.option[E]=1,this._componentsMap={series:[]},this._seriesIndices=null,r(e,this._theme.option),l.merge(e,w,!1),this.mergeOption(e)}function s(e,t){l.isArray(t)||(t=t?[t]:[]);var n={};return p(t,function(t){n[t]=(e[t]||[]).slice()}),n}function o(e,t,n){var r=t.type?t.type:n?n.subType:b.determineSubType(e,t);return r}function u(e){return v(e,function(e){return e.componentIndex})||[]}function a(e,t){return t.hasOwnProperty("subType")?d(e,function(e){return e.subType===t.subType}):e}function f(e){}var l=n(1),c=n(5),h=n(10),p=l.each,d=l.filter,v=l.map,m=l.isArray,g=l.indexOf,y=l.isObject,b=n(13),w=n(141),E="\0_ec_inner",S=h.extend({constructor:S,init:function(e,t,n,r){n=n||{},this.option=null,this._theme=new h(n),this._optionManager=r},setOption:function(e,t,n){l.assert(!(E in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null,n)},resetOption:function(e,t){var n=!1,r=this._optionManager;if(!e||"recreate"===e){var s=r.mountOption("recreate"===e);this.option&&"recreate"!==e?(!t&&this.restoreData(),this.mergeOption(s)):i.call(this,s),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=r.getTimelineOption(this);o&&(this.mergeOption(o),n=!0)}if(!e||"recreate"===e||"media"===e){var u=r.getMediaOption(this,this._api);u.length&&p(u,function(e){this.mergeOption(e,n=!0)},this)}return n},mergeOption:function(e){function t(t,i){var a=c.normalizeToArray(e[t]),f=c.mappingToExists(r[t],a);c.makeIdAndName(f),p(f,function(e,n){var r=e.option;y(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=o(t,r,e.exist))});var h=s(r,i);n[t]=[],r[t]=[],p(f,function(e,i){var s=e.exist,o=e.option;if(l.assert(y(o)||s,"Empty component definition"),o){var u=b.getClass(t,e.keyInfo.subType,!0);if(s&&s instanceof u)s.name=e.keyInfo.name,s.mergeOption(o,this),s.optionUpdated(o,!1);else{var a=l.extend({dependentModels:h,componentIndex:i},e.keyInfo);s=new u(o,this,this,a),l.extend(s,a),s.init(o,this,this,a),s.optionUpdated(null,!0)}}else s.mergeOption({},this),s.optionUpdated({},!1);r[t][i]=s,n[t][i]=s.option},this),"series"===t&&(this._seriesIndices=u(r.series))}var n=this.option,r=this._componentsMap,i=[];p(e,function(e,t){null!=e&&(b.hasClass(t)?i.push(t):n[t]=null==n[t]?l.clone(e):l.merge(n[t],e,!0))}),b.topologicalTravel(i,b.getAllClassMainTypes(),t,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var e=l.clone(this.option);return p(e,function(t,n){if(b.hasClass(n)){for(var t=c.normalizeToArray(t),r=t.length-1;r>=0;r--)c.isIdInner(t[r])&&t.splice(r,1);e[n]=t}}),delete e[E],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap[e];if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,r=e.id,i=e.name,s=this._componentsMap[t];if(!s||!s.length)return[];var o;if(null!=n)m(n)||(n=[n]),o=d(v(n,function(e){return s[e]}),function(e){return!!e});else if(null!=r){var u=m(r);o=d(s,function(e){return u&&g(r,e.id)>=0||!u&&e.id===r})}else if(null!=i){var f=m(i);o=d(s,function(e){return f&&g(i,e.name)>=0||!f&&e.name===i})}else o=s.slice();return a(o,e)},findComponents:function(e){function t(e){var t=i+"Index",n=i+"Id",r=i+"Name";return!e||null==e[t]&&null==e[n]&&null==e[r]?null:{mainType:i,index:e[t],id:e[n],name:e[r]}}function n(t){return e.filter?d(t,e.filter):t}var r=e.query,i=e.mainType,s=t(r),o=s?this.queryComponents(s):this._componentsMap[i];return n(a(o,e))},eachComponent:function(e,t,n){var r=this._componentsMap;if("function"==typeof e)n=t,t=e,p(r,function(e,r){p(e,function(e,i){t.call(n,r,e,i)})});else if(l.isString(e))p(r[e],t,n);else if(y(e)){var i=this.findComponents(e);p(i,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.series;return d(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.series[e]},getSeriesByType:function(e){var t=this._componentsMap.series;return d(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(e,t){f(this),p(this._seriesIndices,function(n){var r=this._componentsMap.series[n];e.call(t,r,n)},this)},eachRawSeries:function(e,t){p(this._componentsMap.series,e,t)},eachSeriesByType:function(e,t,n){f(this),p(this._seriesIndices,function(r){var i=this._componentsMap.series[r];i.subType===e&&t.call(n,i,r)},this)},eachRawSeriesByType:function(e,t,n){return p(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return f(this),l.indexOf(this._seriesIndices,e.componentIndex)<0},filterSeries:function(e,t){f(this);var n=d(this._componentsMap.series,e,t);this._seriesIndices=u(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=u(e.series);var t=[];p(e,function(e,n){t.push(n)}),b.topologicalTravel(t,b.getAllClassMainTypes(),function(t,n){p(e[t],function(e){e.restoreData()})})}});l.mixin(S,n(62)),e.exports=S},function(e,t,n){function r(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function i(e,t,n){var r,i,s=[],o=[],u=e.timeline;if(e.baseOption&&(i=e.baseOption),(u||e.options)&&(i=i||{},s=(e.options||[]).slice()),e.media){i=i||{};var a=e.media;h(a,function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))})}return i||(i=e),i.timeline||(i.timeline=u),h([i].concat(s).concat(f.map(o,function(e){return e.option})),function(e){h(t,function(t){t(e,n)})}),{baseOption:i,timelineOptions:s,mediaDefault:r,mediaList:o}}function s(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return f.each(e,function(e,t){var n=t.match(m);if(n&&n[1]&&n[2]){var s=n[1],u=n[2].toLowerCase();o(r[u],e,s)||(i=!1)}}),i}function o(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function u(e,t){return e.join(",")===t.join(",")}function a(e,t){t=t||{},h(t,function(t,n){if(null!=t){var r=e[n];if(c.hasClass(n)){t=l.normalizeToArray(t),r=l.normalizeToArray(r);var i=l.mappingToExists(r,t);e[n]=d(i,function(e){return e.option&&e.exist?v(e.exist,e.option,!0):e.exist||e.option})}else e[n]=v(r,t,!0)}})}var f=n(1),l=n(5),c=n(13),h=f.each,p=f.clone,d=f.map,v=f.merge,m=/^(min|max)?(.+)$/;r.prototype={constructor:r,setOption:function(e,t){e=p(e,!0);var n=this._optionBackup,r=i.call(this,e,t,!n);this._newBaseOption=r.baseOption,n?(a(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=d(t.timelineOptions,p),this._mediaList=d(t.mediaList,p),this._mediaDefault=p(t.mediaDefault),this._currentMediaIndices=[],p(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=p(n[r.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],a=[];if(!r.length&&!i)return a;for(var f=0,l=r.length;f<l;f++)s(r[f].query,t,n)&&o.push(f);return!o.length&&i&&(o=[-1]),o.length&&!u(o,this._currentMediaIndices)&&(a=d(o,function(e){return p(e===-1?i.option:r[e].option)})),this._currentMediaIndices=o,a}},e.exports=r},function(e,t){var n="";"undefined"!=typeof navigator&&(n=navigator.platform||""),e.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(e,t,n){e.exports={getAreaStyle:n(31)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(e,t){e.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(e,t,n){var r=n(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);e.exports={getItemStyle:function(e,t){var n=r.call(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}},function(e,t,n){var r=n(31)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getLineStyle:function(e){var t=r.call(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),r=4*e;return"solid"===t||null==t?null:"dashed"===t?[r,r]:[n,n]}}},function(e,t,n){function r(e,t){return e&&e.getShallow(t)}var i=n(16);e.exports={getTextColor:function(){var e=this.ecModel;return this.getShallow("color")||e&&e.get("textStyle.color")},getFont:function(){var e=this.ecModel,t=e&&e.getModel("textStyle");return[this.getShallow("fontStyle")||r(t,"fontStyle"),this.getShallow("fontWeight")||r(t,"fontWeight"),(this.getShallow("fontSize")||r(t,"fontSize")||12)+"px",this.getShallow("fontFamily")||r(t,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){return i.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(e,t,n,r){return i.truncateText(e,t,this.getFont(),n,r)}}},function(e,t,n){function r(e,t){t=t.split(",");for(var n=e,r=0;r<t.length&&(n=n&&n[t[r]],null!=n);r++);return n}function i(e,t,n,r){t=t.split(",");for(var i,s=e,o=0;o<t.length-1;o++)i=t[o],null==s[i]&&(s[i]={}),s=s[i];(r||null==s[t[o]])&&(s[t[o]]=n)}function s(e){c(a,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var o=n(1),u=n(148),a=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=o.each;e.exports=function(e){c(e.series,function(e){if(o.isObject(e)){var t=e.type;if(u(e),"pie"!==t&&"gauge"!==t||null!=e.clockWise&&(e.clockwise=e.clockWise),"gauge"===t){var n=r(e,"pointer.color");null!=n&&i(e,"itemStyle.normal.color",n)}for(var a=0;a<l.length;a++)if(l[a]===e.type){s(e);break}}}),e.dataRange&&(e.visualMap=e.dataRange),c(f,function(t){var n=e[t];n&&(o.isArray(n)||(n=[n]),c(n,function(e){s(e)}))})}},function(e,t,n){function r(e){var t=e&&e.itemStyle;t&&i.each(s,function(n){var r=t.normal,s=t.emphasis;r&&r[n]&&(e[n]=e[n]||{},e[n].normal?i.merge(e[n].normal,r[n]):e[n].normal=r[n],r[n]=null),s&&s[n]&&(e[n]=e[n]||{},e[n].emphasis?i.merge(e[n].emphasis,s[n]):e[n].emphasis=s[n],s[n]=null)})}var i=n(1),s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];e.exports=function(e){if(e){r(e),r(e.markPoint),r(e.markLine);var t=e.data;if(t){for(var n=0;n<t.length;n++)r(t[n]);var s=e.markPoint;if(s&&s.data)for(var o=s.data,n=0;n<o.length;n++)r(o[n]);var u=e.markLine;if(u&&u.data)for(var a=u.data,n=0;n<a.length;n++)i.isArray(a[n])?(r(a[n][0]),r(a[n][1])):r(a[n])}}}},function(e,t){var n={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},r=function(e,t){return Math.round(e.length/2)};e.exports=function(e,t,i){t.eachSeriesByType(e,function(e){var t=e.getData(),i=e.get("sampling"),s=e.coordinateSystem;if("cartesian2d"===s.type&&i){var o=s.getBaseAxis(),u=s.getOtherAxis(o),a=o.getExtent(),f=a[1]-a[0],l=Math.round(t.count()/f);if(l>1){var c;"string"==typeof i?c=n[i]:"function"==typeof i&&(c=i),c&&(t=t.downSample(u.dim,1/l,c,r),e.setData(t))}}},this)}},function(e,t,n){function r(e,t){return c(e,l(t))}var i=n(1),s=n(34),o=n(4),u=n(43),a=s.prototype,f=u.prototype,l=o.getPrecisionSafe,c=o.round,h=Math.floor,p=Math.ceil,d=Math.pow,v=Math.log,m=s.extend({type:"log",base:10,$constructor:function(){s.apply(this,arguments),this._originalScale=new u},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return i.map(f.getTicks.call(this),function(i){var s=o.round(d(this.base,i));return s=i===t[0]&&e.__fixMin?r(s,n[0]):s,s=i===t[1]&&e.__fixMax?r(s,n[1]):s},this)},getLabel:f.getLabel,scale:function(e){return e=a.scale.call(this,e),d(this.base,e)},setExtent:function(e,t){var n=this.base;e=v(e)/v(n),t=v(t)/v(n),f.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=a.getExtent.call(this);t[0]=d(e,t[0]),t[1]=d(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=r(t[0],i[0])),n.__fixMax&&(t[1]=r(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=v(e[0])/v(t),e[1]=v(e[1])/v(t),a.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getDataExtent(t,!0,function(e){return e>0}))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=o.quantity(n),i=e/n*r;for(i<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var s=[o.round(p(t[0]/r)*r),o.round(h(t[1]/r)*r)];this._interval=r,this._niceExtent=s}},niceExtent:function(e,t,n){f.niceExtent.call(this,e,t,n);var r=this._originalScale;r.__fixMin=t,r.__fixMax=n}});i.each(["contain","normalize"],function(e){m.prototype[e]=function(t){return t=v(t)/v(this.base),a[e].call(this,t)}}),m.create=function(){return new m},e.exports=m},function(e,t,n){var r=n(1),i=n(34),s=i.prototype,o=i.extend({type:"ordinal",init:function(e,t){this._data=e,this._extent=t||[0,e.length-1]},parse:function(e){return"string"==typeof e?r.indexOf(this._data,e):Math.round(e)},contain:function(e){return e=this.parse(e),s.contain.call(this,e)&&null!=this._data[e]},normalize:function(e){return s.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(s.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._data[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getDataExtent(t,!1))},niceTicks:r.noop,niceExtent:r.noop});o.create=function(){return new o},e.exports=o},function(e,t,n){var r=n(1),i=n(4),s=n(7),o=n(43),u=o.prototype,a=Math.ceil,f=Math.floor,l=1e3,c=60*l,h=60*c,p=24*h,d=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][2]<t?n=i+1:r=i}return n},v=o.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return s.formatTime(t[0],n)},niceExtent:function(e,t,n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=p,r[1]+=p),r[1]===-1/0&&r[0]===1/0){var s=new Date;r[1]=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r[0]=r[1]-p}this.niceTicks(e);var o=this._interval;t||(r[0]=i.round(f(r[0]/o)*o)),n||(r[1]=i.round(a(r[1]/o)*o))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0],r=n/e,s=m.length,o=d(m,r,0,s),u=m[Math.min(o,s-1)],l=u[2];if("year"===u[0]){var c=n/l,h=i.nice(c/e,!0);l*=h}var p=[a(t[0]/l)*l,f(t[1]/l)*l];this._stepLvl=u,this._interval=l,this._niceExtent=p},parse:function(e){return+i.parseDate(e)}});r.each(["contain","normalize"],function(e){v.prototype[e]=function(t){return u[e].call(this,this.parse(t))}});var m=[["hh:mm:ss",1,l],["hh:mm:ss",5,5*l],["hh:mm:ss",10,10*l],["hh:mm:ss",15,15*l],["hh:mm:ss",30,30*l],["hh:mm\nMM-dd",1,c],["hh:mm\nMM-dd",5,5*c],["hh:mm\nMM-dd",10,10*c],["hh:mm\nMM-dd",15,15*c],["hh:mm\nMM-dd",30,30*c],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",2,2*h],["hh:mm\nMM-dd",6,6*h],["hh:mm\nMM-dd",12,12*h],["MM-dd\nyyyy",1,p],["week",7,7*p],["month",1,31*p],["quarter",3,380*p/4],["half-year",6,380*p/2],["year",1,380*p]];v.create=function(){return new v},e.exports=v},function(e,t,n){var r=n(41);e.exports=function(e){function t(t){var n=(t.visualColorAccessPath||"itemStyle.normal.color").split("."),i=t.getData(),s=t.get(n)||t.getColorFromPalette(t.get("name"));i.setVisual("color",s),e.isSeriesFiltered(t)||("function"!=typeof s||s instanceof r||i.each(function(e){i.setItemVisual(e,"color",s(t.getDataParams(e)))}),i.each(function(e){var t=i.getItemModel(e),r=t.get(n,!0);null!=r&&i.setItemVisual(e,"color",r)}))}e.eachRawSeries(t)}},function(e,t,n){function r(e,t,n){return{type:e,event:n,target:t,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch}}function i(){}function s(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e;r;){if(r.silent||r.clipPath&&!r.clipPath.contain(t,n))return!1;r=r.parent}return!0}return!1}var o=n(1),u=n(181),a=n(23);i.prototype.dispose=function(){};var f=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],l=function(e,t,n,r){a.call(this),this.storage=e,this.painter=t,this.painterRoot=r,n=n||new i,this.proxy=n,n.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,u.call(this),o.each(f,function(e){n.on&&n.on(e,this[e],this)},this)};l.prototype={constructor:l,mousemove:function(e){var t=e.zrX,n=e.zrY,r=this.findHover(t,n,null),i=this._hovered,s=this.proxy;this._hovered=r,s.setCursor&&s.setCursor(r?r.cursor:"default"),i&&r!==i&&i.__zr&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(r,"mousemove",e),r&&r!==i&&this.dispatchToElement(r,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t,n=e.toElement||e.relatedTarget;do n=n&&n.parentNode;while(n&&9!=n.nodeType&&!(t=n===this.painterRoot));!t&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered=null},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){for(var i="on"+t,s=r(t,e,n),o=e;o&&(o[i]&&(s.cancelBubble=o[i].call(o,s)),o.trigger(t,s),o=o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(t,s),this.painter&&this.painter.eachOtherLayer(function(e){"function"==typeof e[i]&&e[i].call(e,s),e.trigger&&e.trigger(t,s)}))},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),i=r.length-1;i>=0;i--)if(!r[i].silent&&r[i]!==n&&!r[i].ignore&&s(r[i],e,t))return r[i]}},o.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){l.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY,null);if("mousedown"===e)this._downel=n,this._upel=n;else if("mosueup"===e)this._upel=n;else if("click"===e&&this._downel!==this._upel)return;this.dispatchToElement(n,e,t)}}),o.mixin(l,a),o.mixin(l,u),e.exports=l},function(e,t,n){function r(){return!1}function i(e,t,n,r){var i=document.createElement(t),s=n.getWidth(),o=n.getHeight(),u=i.style;return u.position="absolute",u.left=0,u.top=0,u.width=s+"px",u.height=o+"px",i.width=s*r,i.height=o*r,i.setAttribute("data-zr-dom-id",e),i}var s=n(1),o=n(35),u=n(72),a=n(71),f=function(e,t,n){var u;n=n||o.devicePixelRatio,"string"==typeof e?u=i(e,"canvas",t,n):s.isObject(e)&&(u=e,e=u.id),this.id=e,this.dom=u;var a=u.style;a&&(u.onselectstart=r,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};f.prototype={constructor:f,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=i("back-"+this.id,"canvas",this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,r=this.dom,i=r.style,s=this.domBack;i.width=e+"px",i.height=t+"px",r.width=e*n,r.height=t*n,s&&(s.width=e*n,s.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t=this.dom,n=this.ctx,r=t.width,i=t.height,s=this.clearColor,o=this.motionBlur&&!e,f=this.lastFrameAlpha,l=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,r/l,i/l)),n.clearRect(0,0,r,i),s){var c;s.colorStops?(c=s.__canvasGradient||u.getGradient(n,s,{x:0,y:0,width:r,height:i}),s.__canvasGradient=c):s.image&&(c=a.prototype.getCanvasPattern.call(s,n)),n.save(),n.fillStyle=c||s,n.fillRect(0,0,r,i),n.restore()}if(o){var h=this.domBack;n.save(),n.globalAlpha=f,n.drawImage(h,0,0,r,i),n.restore()}}},e.exports=f},function(e,t,n){function r(e){return parseInt(e,10)}function i(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}function s(e){e.__unusedCount++}function o(e){1==e.__unusedCount&&e.clear()}function u(e,t,n){return b.copy(e.getBoundingRect()),e.transform&&b.applyTransform(e.transform),w.width=t,w.height=n,!b.intersect(w)}function a(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.path;r.setTransform(t),i.beginPath(t),r.buildPath(i,r.shape),t.clip(),r.restoreTransform(t)}}function l(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var c=n(35),h=n(1),p=n(52),d=n(11),v=n(51),m=n(155),g=n(67),y=5,b=new d(0,0,0,0),w=new d(0,0,0,0),E=function(e,t,n){var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=h.extend({},n||{}),this.dpr=n.devicePixelRatio||c.devicePixelRatio,this._singleCanvas=r,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var s=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},r){null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height);var u=e.width,a=e.height;this._width=u,this._height=a;var f=new m(e,this,1);f.initContext(),o[0]=f,s.push(0),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=l(this._width,this._height);e.appendChild(p)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};E.prototype={constructor:E,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(t,e);for(var r=0;r<n.length;r++){var i=n[r],s=this._layers[i];!s.__builtin__&&s.refresh&&s.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,r=h.indexOf(n,t);r>=0&&n.splice(r,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var r=t[n].__from;r&&(r.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){v(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<t;){var s=e[i],o=s.__from;o&&o.__zr?(i++,o.invisible||(s.transform=o.transform,s.invTransform=o.invTransform,s.__clipPaths=o.__clipPaths,this._doPaintEl(s,n,!0,r))):(e.splice(i,1),o.__hoverMir=null,t--)}n.ctx.restore()}},_startProgessive:function(){function e(){n===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,g(e)):t._progressiveToken=-1)}var t=this;if(t._furtherProgressive){var n=t._progressiveToken=+(new Date);t._progress++,g(e)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,h.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e),this._clearProgressive(),this.eachBuiltinLayer(s),this._doPaintList(e,t),this.eachBuiltinLayer(o)},_doPaintList:function(e,t){function n(e){var t=s.dpr||1;s.save(),s.globalAlpha=1,s.shadowBlur=0,r.__dirty=!0,s.setTransform(1,0,0,1,0,0),s.drawImage(e.dom,0,0,l*t,c*t),s.restore()}for(var r,i,s,o,u,a,f=0,l=this._width,c=this._height,d=this._progress,v=0,m=e.length;v<m;v++){var g=e[v],b=this._singleCanvas?0:g.zlevel,w=g.__frame;if(w<0&&u&&(n(u),u=null),i!==b&&(s&&s.restore(),o={},i=b,r=this.getLayer(i),r.__builtin__||p("ZLevel "+i+" has been used by unkown layer "+r.id),s=r.ctx,s.save(),r.__unusedCount=0,(r.__dirty||t)&&r.clear()),r.__dirty||t){if(w>=0){if(!u){if(u=this._progressiveLayers[Math.min(f++,y-1)],u.ctx.save(),u.renderScope={},u&&u.__progress>u.__maxProgress){v=u.__nextIdxNotProg-1;continue}a=u.__progress,u.__dirty||(d=a),u.__progress=d+1}w===d&&this._doPaintEl(g,u,!0,u.renderScope)}else this._doPaintEl(g,r,t,o);g.__dirty=!1}}u&&n(u),s&&s.restore(),this._furtherProgressive=!1,h.each(this._progressiveLayers,function(e){e.__maxProgress>=e.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(e,t,n,r){var i=t.ctx,s=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!s||s[0]||s[3])&&(!e.culling||!u(e,this._width,this._height))){var o=e.__clipPaths;(r.prevClipLayer!==t||a(o,r.prevElClipPaths))&&(r.prevElClipPaths&&(r.prevClipLayer.ctx.restore(),r.prevClipLayer=r.prevElClipPaths=null,r.prevEl=null),o&&(i.save(),f(o,i),r.prevClipLayer=t,r.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,r.prevEl||null),r.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||(t=new m("zr_"+e,this,this.dpr),t.__builtin__=!0,this._layerConfig[e]&&h.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,t){var n=this._layers,r=this._zlevelList,s=r.length,o=null,u=-1,a=this._domRoot;if(n[e])return void p("ZLevel "+e+" has been used already");if(!i(t))return void p("Layer of zlevel "+e+" is not valid");if(s>0&&e>r[0]){for(u=0;u<s-1&&!(r[u]<e&&r[u+1]>e);u++);o=n[r[u]]}if(r.splice(u+1,0,e),n[e]=t,!t.virtual)if(o){var f=o.dom;f.nextSibling?a.insertBefore(t.dom,f.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom)},eachLayer:function(e,t){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__&&e.call(t,n,r)},eachOtherLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__||e.call(t,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers,n=this._progressiveLayers,r={},i={};this.eachBuiltinLayer(function(e,t){r[t]=e.elCount,e.elCount=0,e.__dirty=!1}),h.each(n,function(e,t){i[t]=e.elCount,e.elCount=0,e.__dirty=!1});for(var s,o,u=0,a=0,f=0,l=e.length;f<l;f++){var c=e[f],p=this._singleCanvas?0:c.zlevel,d=t[p],v=c.progressive;if(d&&(d.elCount++,d.__dirty=d.__dirty||c.__dirty),v>=0){o!==v&&(o=v,a++);var g=c.__frame=a-1;if(!s){var b=Math.min(u,y-1);s=n[b],s||(s=n[b]=new m("progressive",this,this.dpr),s.initContext()),s.__maxProgress=0}s.__dirty=s.__dirty||c.__dirty,s.elCount++,s.__maxProgress=Math.max(s.__maxProgress,g),s.__maxProgress>=s.__progress&&(d.__dirty=!0)}else c.__frame=-1,s&&(s.__nextIdxNotProg=f,u++,s=null)}s&&(u++,s.__nextIdxNotProg=f),this.eachBuiltinLayer(function(e,t){r[t]!==e.elCount&&(e.__dirty=!0)}),n.length=Math.min(u,y),h.each(n,function(e,t){i[t]!==e.elCount&&(c.__dirty=!0),e.__dirty&&(e.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?h.merge(n[e],t,!0):n[e]=t;var r=this._layers[e];r&&h.merge(r,n[e],!0)}},delLayer:function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(h.indexOf(n,e),1))},resize:function(e,t){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);h.each(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=new m("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clearColor=e.backgroundColor,t.clear();for(var n=this.storage.getDisplayList(!0),r={},i=0;i<n.length;i++){var s=n[i];this._doPaintEl(s,t,!0,r)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],s=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var u=this.root,a=document.defaultView.getComputedStyle(u);return(u[i]||r(a[n])||r(u.style[n]))-(r(a[s])||0)-(r(a[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),s=e.getBoundingRect(),o=e.style,u=o.shadowBlur,a=o.shadowOffsetX,f=o.shadowOffsetY,l=o.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-a+u),h=Math.max(l/2,a+u),p=Math.max(l/2,-f+u),d=Math.max(l/2,f+u),v=s.width+c+h,m=s.height+p+d;r.width=v*t,r.height=m*t,i.scale(t,t),i.clearRect(0,0,v,m),i.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[c-s.x,p-s.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var y=n(53),b=new y({style:{x:0,y:0,image:r}});return null!=g.position&&(b.position=e.position=g.position),null!=g.rotation&&(b.rotation=e.rotation=g.rotation),null!=g.scale&&(b.scale=e.scale=g.scale),b}},e.exports=E},function(e,t,n){function r(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var i=n(1),s=n(9),o=n(36),u=n(51),a=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};a.prototype={constructor:a,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,s.canvasSupported&&u(n,r)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var r=e.clipPath;if(r){t=t?t.slice():[];for(var i=r,s=e;i;)i.parent=s,i.updateTransform(),t.push(i),s=i,i=i.clipPath}if(e.isGroup){for(var o=e._children,u=0;u<o.length;u++){var a=o[u];e.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){this._elements[e.id]||(e instanceof o&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof o&&n.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(e instanceof Array)for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);else{var s;s="string"==typeof e?this._elements[e]:e;var u=i.indexOf(this._roots,s);u>=0&&(this.delFromMap(s.id),this._roots.splice(u,1),s instanceof o&&s.delChildrenFromStorage(this))}},addToMap:function(e){return e instanceof o&&(e.__storage=this),e.dirty(!1),this._elements[e.id]=e,this},get:function(e){return this._elements[e]},delFromMap:function(e){var t=this._elements,n=t[e];return n&&(delete t[e],n instanceof o&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:r},e.exports=a},function(e,t,n){var r=n(1),i=n(20).Dispatcher,s=n(67),o=n(66),u=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,i.call(this)};u.prototype={constructor:u,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=r.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,r=n.length,i=[],s=[],o=0;o<r;o++){var u=n[o],a=u.step(e,t);a&&(i.push(a),s.push(u))}for(var o=0;o<r;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;r=i.length;for(var o=0;o<r;o++)s[o].fire(i[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){function e(){t._running&&(s(e),!t._paused&&t._update())}var t=this;this._running=!0,s(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new o(e,t.loop,t.getter,t.setter);return this.addAnimator(n),n}},r.mixin(u,i),e.exports=u},function(e,t,n){function r(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}var i=n(160);r.prototype={constructor:r,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)return void (this._pausedTime+=t);var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,s="string"==typeof r?i[r]:r,o="function"==typeof s?s(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},e.exports=r},function(e,t){var n={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5}};e.exports=n},function(e,t,n){var r=n(68).normalizeRadian,i=2*Math.PI;e.exports={containStroke:function(e,t,n,s,o,u,a,f,l){if(0===a)return!1;var c=a;f-=e,l-=t;var h=Math.sqrt(f*f+l*l);if(h-c>n||h+c<n)return!1;if(Math.abs(s-o)%i<1e-4)return!0;if(u){var p=s;s=r(o),o=r(p)}else s=r(s),o=r(o);s>o&&(o+=i);var d=Math.atan2(l,f);return d<0&&(d+=i),d>=s&&d<=o||d+i>=s&&d+i<=o}}},function(e,t,n){var r=n(21);e.exports={containStroke:function(e,t,n,i,s,o,u,a,f,l,c){if(0===f)return!1;var h=f;if(c>t+h&&c>i+h&&c>o+h&&c>a+h||c<t-h&&c<i-h&&c<o-h&&c<a-h||l>e+h&&l>n+h&&l>s+h&&l>u+h||l<e-h&&l<n-h&&l<s-h&&l<u-h)return!1;var p=r.cubicProjectPoint(e,t,n,i,s,o,u,a,l,c,null);return p<=h/2}}},function(e,t,n){function r(e,t){return Math.abs(e-t)<b}function i(){var e=E[0];E[0]=E[1],E[1]=e}function s(e,t,n,r,s,o,u,a,f,l){if(l>t&&l>r&&l>o&&l>a||l<t&&l<r&&l<o&&l<a)return 0;var c=v.cubicRootAt(t,r,o,a,l,w);if(0===c)return 0;for(var h,p,d=0,m=-1,g=0;g<c;g++){var y=w[g],b=0===y||1===y?.5:1,S=v.cubicAt(e,n,s,u,y);S<f||(m<0&&(m=v.cubicExtrema(t,r,o,a,E),E[1]<E[0]&&m>1&&i(),h=v.cubicAt(t,r,o,a,E[0]),m>1&&(p=v.cubicAt(t,r,o,a,E[1]))),d+=2==m?y<E[0]?h<t?b:-b:y<E[1]?p<h?b:-b:a<p?b:-b:y<E[0]?h<t?b:-b:a<h?b:-b)}return d}function o(e,t,n,r,i,s,o,u){if(u>t&&u>r&&u>s||u<t&&u<r&&u<s)return 0;var a=v.quadraticRootAt(t,r,s,u,w);if(0===a)return 0;var f=v.quadraticExtremum(t,r,s);if(f>=0&&f<=1){for(var l=0,c=v.quadraticAt(t,r,s,f),h=0;h<a;h++){var p=0===w[h]||1===w[h]?.5:1,d=v.quadraticAt(e,n,i,w[h]);d<o||(l+=w[h]<f?c<t?p:-p:s<c?p:-p)}return l}var p=0===w[0]||1===w[0]?.5:1,d=v.quadraticAt(e,n,i,w[0]);return d<o?0:s<t?p:-p}function u(e,t,n,r,i,s,o,u){if(u-=t,u>n||u<-n)return 0;var a=Math.sqrt(n*n-u*u);w[0]=-a,w[1]=a;var f=Math.abs(r-i);if(f<1e-4)return 0;if(f%y<1e-4){r=0,i=y;var l=s?1:-1;return o>=w[0]+e&&o<=w[1]+e?l:0}if(s){var a=r;r=d(i),i=d(a)}else r=d(r),i=d(i);r>i&&(i+=y);for(var c=0,h=0;h<2;h++){var p=w[h];if(p+e>o){var v=Math.atan2(u,p),l=s?1:-1;v<0&&(v=y+v),(v>=r&&v<=i||v+y>=r&&v+y<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(l=-l),c+=l)}}return c}function a(e,t,n,i,a){for(var l=0,d=0,v=0,y=0,b=0,w=0;w<e.length;){var E=e[w++];switch(E===f.M&&w>1&&(n||(l+=m(d,v,y,b,i,a))),1==w&&(d=e[w],v=e[w+1],y=d,b=v),E){case f.M:y=e[w++],b=e[w++],d=y,v=b;break;case f.L:if(n){if(g(d,v,e[w],e[w+1],t,i,a))return!0}else l+=m(d,v,e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.C:if(n){if(c.containStroke(d,v,e[w++],e[w++],e[w++],e[w++],e[w],e[w+1],t,i,a))return!0}else l+=s(d,v,e[w++],e[w++],e[w++],e[w++],e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.Q:if(n){if(h.containStroke(d,v,e[w++],e[w++],e[w],e[w+1],t,i,a))return!0}else l+=o(d,v,e[w++],e[w++],e[w],e[w+1],i,a)||0;d=e[w++],v=e[w++];break;case f.A:var S=e[w++],x=e[w++],T=e[w++],N=e[w++],C=e[w++],k=e[w++],L=(e[w++],1-e[w++]),A=Math.cos(C)*T+S,O=Math.sin(C)*N+x;w>1?l+=m(d,v,A,O,i,a):(y=A,b=O);var M=(i-S)*N/T+S;if(n){if(p.containStroke(S,x,N,C,C+k,L,t,M,a))return!0}else l+=u(S,x,N,C,C+k,L,M,a);d=Math.cos(C+k)*T+S,v=Math.sin(C+k)*N+x;break;case f.R:y=d=e[w++],b=v=e[w++];var _=e[w++],D=e[w++],A=y+_,O=b+D;if(n){if(g(y,b,A,b,t,i,a)||g(A,b,A,O,t,i,a)||g(A,O,y,O,t,i,a)||g(y,O,y,b,t,i,a))return!0}else l+=m(A,b,A,O,i,a),l+=m(y,O,y,b,i,a);break;case f.Z:if(n){if(g(d,v,y,b,t,i,a))return!0}else l+=m(d,v,y,b,i,a);d=y,v=b}}return n||r(v,b)||(l+=m(d,v,y,b,i,a)||0),0!==l}var f=n(30).CMD,l=n(98),c=n(162),h=n(99),p=n(161),d=n(68).normalizeRadian,v=n(21),m=n(100),g=l.containStroke,y=2*Math.PI,b=1e-4,w=[-1,-1,-1],E=[-1,-1];e.exports={contain:function(e,t,n){return a(e,0,!1,t,n)},containStroke:function(e,t,n,r){return a(e,t,!0,n,r)}}},function(e,t,n){function r(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function i(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var s=n(20),o=function(){this._track=[]};o.prototype={constructor:o,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},o=0,u=r.length;o<u;o++){var a=r[o],f=s.clientToLocal(n,a,{});i.points.push([f.zrX,f.zrY]),i.touches.push(a)}this._track.push(i)}},_recognize:function(e){for(var t in u)if(u.hasOwnProperty(t)){var n=u[t](this._track,e);if(n)return n}}};var u={pinch:function(e,t){var n=e.length;if(n){var s=(e[n-1]||{}).points,o=(e[n-2]||{}).points||s;if(o&&o.length>1&&s&&s.length>1){var u=r(s)/r(o);!isFinite(u)&&(u=1),t.pinchScale=u;var a=i(s);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};e.exports=o},function(e,t,n){function r(e){return"mousewheel"===e&&h.browser.firefox?"DOMMouseScroll":e}function i(e,t,n){var r=e._gestureMgr;"start"===n&&r.clear();var i=r.recognize(t,e.handler.findHover(t.zrX,t.zrY,null),e.dom);if("end"===n&&r.clear(),i){var s=i.type;t.gestureEvent=s,e.handler.dispatchToElement(i.target,s,i.event)}}function s(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function o(e){var t=e.pointerType;return"pen"===t||"touch"===t}function u(e){function t(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}l.each(b,function(t){e._handlers[t]=l.bind(S[t],e)}),l.each(E,function(t){e._handlers[t]=l.bind(S[t],e)}),l.each(y,function(n){e._handlers[n]=t(S[n],e)})}function a(e){function t(t,n){l.each(t,function(t){d(e,r(t),n._handlers[t])},n)}c.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new p,this._handlers={},u(this),h.pointerEventsSupported?t(E,this):(h.touchEventsSupported&&t(b,this),t(y,this))}var f=n(20),l=n(1),c=n(23),h=n(9),p=n(164),d=f.addEventListener,v=f.removeEventListener,m=f.normalizeEvent,g=300,y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],b=["touchstart","touchend","touchmove"],w={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},E=l.map(y,function(e){var t=e.replace("mouse","pointer");return w[t]?t:e}),S={mousemove:function(e){e=m(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){e=m(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){e=m(this.dom,e),e.zrByTouch=!0,this._lastTouchMoment=new Date,i(this,e,"start"),S.mousemove.call(this,e),S.mousedown.call(this,e),s(this)},touchmove:function(e){e=m(this.dom,e),e.zrByTouch=!0,i(this,e,"change"),S.mousemove.call(this,e),s(this)},touchend:function(e){e=m(this.dom,e),e.zrByTouch=!0,i(this,e,"end"),S.mouseup.call(this,e),+(new Date)-this._lastTouchMoment<g&&S.click.call(this,e),s(this)},pointerdown:function(e){S.mousedown.call(this,e)},pointermove:function(e){o(e)||S.mousemove.call(this,e)},pointerup:function(e){S.mouseup.call(this,e)},pointerout:function(e){o(e)||S.mouseout.call(this,e)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){S[e]=function(t){t=m(this.dom,t),this.trigger(e,t)}});var x=a.prototype;x.dispose=function(){for(var e=y.concat(b),t=0;t<e.length;t++){var n=e[t];v(this.dom,r(n),this._handlers[n])}},x.setCursor=function(e){this.dom.style.cursor=e||"default"},l.mixin(a,c),e.exports=a},function(e,t,n){var r=n(8);e.exports=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},afterBrush:function(){for(var e=this.shape.paths,t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}})},function(e,t,n){var r=n(1),i=n(41),s=function(e,t,n,r,s){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=s||!1,i.call(this,r)};s.prototype={constructor:s},r.inherits(s,i),e.exports=s},function(e,t){e.exports={buildPath:function(e,t){var n,r,i,s,o=t.x,u=t.y,a=t.width,f=t.height,l=t.r;a<0&&(o+=a,a=-a),f<0&&(u+=f,f=-f),"number"==typeof l?n=r=i=s=l:l instanceof Array?1===l.length?n=r=i=s=l[0]:2===l.length?(n=i=l[0],r=s=l[1]):3===l.length?(n=l[0],r=s=l[1],i=l[2]):(n=l[0],r=l[1],i=l[2],s=l[3]):n=r=i=s=0;var c;n+r>a&&(c=n+r,n*=a/c,r*=a/c),i+s>a&&(c=i+s,i*=a/c,s*=a/c),r+i>f&&(c=r+i,r*=f/c,i*=f/c),n+s>f&&(c=n+s,n*=f/c,s*=f/c),e.moveTo(o+n,u),e.lineTo(o+a-r,u),0!==r&&e.quadraticCurveTo(o+a,u,o+a,u+r),e.lineTo(o+a,u+f-i),0!==i&&e.quadraticCurveTo(o+a,u+f,o+a-i,u+f),e.lineTo(o+s,u+f),0!==s&&e.quadraticCurveTo(o,u+f,o,u+f-s),e.lineTo(o,u+n),0!==n&&e.quadraticCurveTo(o,u,o+n,u)}}},function(e,t,n){var r=n(6),i=r.min,s=r.max,o=r.scale,u=r.distance,a=r.add;e.exports=function(e,t,n,f){var l,c,h,p,d=[],v=[],m=[],g=[];if(f){h=[1/0,1/0],p=[-1/0,-1/0];for(var y=0,b=e.length;y<b;y++)i(h,h,e[y]),s(p,p,e[y]);i(h,h,f[0]),s(p,p,f[1])}for(var y=0,b=e.length;y<b;y++){var w=e[y];if(n)l=e[y?y-1:b-1],c=e[(y+1)%b];else{if(0===y||y===b-1){d.push(r.clone(e[y]));continue}l=e[y-1],c=e[y+1]}r.sub(v,c,l),o(v,v,t);var E=u(w,l),S=u(w,c),x=E+S;0!==x&&(E/=x,S/=x),o(m,v,-E),o(g,v,S);var T=a([],w,m),N=a([],w,g);f&&(s(T,T,h),i(T,T,p),s(N,N,h),i(N,N,p)),d.push(T),d.push(N)}return n&&d.push(d.shift()),d}},function(e,t,n){function r(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}var i=n(6);e.exports=function(e,t){for(var n=e.length,s=[],o=0,u=1;u<n;u++)o+=i.distance(e[u-1],e[u]);var a=o/2;a=a<n?n:a;for(var u=0;u<a;u++){var f,l,c,h=u/(a-1)*(t?n:n-1),p=Math.floor(h),d=h-p,v=e[p%n];t?(f=e[(p-1+n)%n],l=e[(p+1)%n],c=e[(p+2)%n]):(f=e[0===p?p:p-1],l=e[p>n-2?n-1:p+1],c=e[p>n-3?n-1:p+2]);var m=d*d,g=d*m;s.push([r(f[0],v[0],l[0],c[0],d,m,g),r(f[1],v[1],l[1],c[1],d,m,g)])}return s}},function(e,t,n){e.exports=n(8).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),s=t.startAngle,o=t.endAngle,u=t.clockwise,a=Math.cos(s),f=Math.sin(s);e.moveTo(a*i+n,f*i+r),e.arc(n,r,i,s,o,!u)}})},function(e,t,n){function r(e,t,n){var r=e.cpx2,i=e.cpy2;return null===r||null===i?[(n?c:f)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?c:f)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?l:a)(e.x1,e.cpx1,e.x2,t),(n?l:a)(e.y1,e.cpy1,e.y2,t)]}var i=n(21),s=n(6),o=i.quadraticSubdivide,u=i.cubicSubdivide,a=i.quadraticAt,f=i.cubicAt,l=i.quadraticDerivativeAt,c=i.cubicDerivativeAt,h=[];e.exports=n(8).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2,a=t.cpx1,f=t.cpy1,l=t.cpx2,c=t.cpy2,p=t.percent;0!==p&&(e.moveTo(n,r),null==l||null==c?(p<1&&(o(n,a,i,p,h),a=h[1],i=h[2],o(r,f,s,p,h),f=h[1],s=h[2]),e.quadraticCurveTo(a,f,i,s)):(p<1&&(u(n,a,l,i,p,h),a=h[1],l=h[2],i=h[3],u(r,f,c,s,p,h),f=h[1],c=h[2],s=h[3]),e.bezierCurveTo(a,f,l,c,i,s)))},pointAt:function(e){return r(this.shape,e,!1)},tangentAt:function(e){var t=r(this.shape,e,!0);return s.normalize(t,t)}})},function(e,t,n){e.exports=n(8).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})},function(e,t,n){e.exports=n(8).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2,o=t.percent;0!==o&&(e.moveTo(n,r),o<1&&(i=n*(1-o)+i*o,s=r*(1-o)+s*o),e.lineTo(i,s))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})},function(e,t,n){var r=n(73);e.exports=n(8).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){r.buildPath(e,t,!0)}})},function(e,t,n){var r=n(73);e.exports=n(8).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){r.buildPath(e,t,!1)}})},function(e,t,n){var r=n(168);e.exports=n(8).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,s=t.width,o=t.height;t.r?r.buildPath(e,t):e.rect(n,i,s,o),e.closePath()}})},function(e,t,n){e.exports=n(8).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)}})},function(e,t,n){var r=n(9),i=n(8),s=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];e.exports=i.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r.browser.ie&&r.browser.version>=11?function(){var e,t=this.__clipPaths,n=this.style;if(t)for(var r=0;r<t.length;r++){var o=t[r]&&t[r].shape;if(o&&o.startAngle===o.endAngle){for(var u=0;u<s.length;u++)s[u][2]=n[s[u][0]],n[s[u][0]]=s[u][1];e=!0;break}}if(i.prototype.brush.apply(this,arguments),e)for(var u=0;u<s.length;u++)n[s[u][0]]=s[u][2]}:i.prototype.brush,buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),s=Math.max(t.r,0),o=t.startAngle,u=t.endAngle,a=t.clockwise,f=Math.cos(o),l=Math.sin(o);e.moveTo(f*i+n,l*i+r),e.lineTo(f*s+n,l*s+r),e.arc(n,r,s,o,u,!a),e.lineTo(Math.cos(u)*i+n,Math.sin(u)*i+r),0!==i&&e.arc(n,r,i,u,o,a),e.closePath()}})},function(e,t,n){var r=n(66),i=n(1),s=i.isString,o=i.isFunction,u=i.isObject,a=n(52),f=function(){this.animators=[]};f.prototype={constructor:f,animate:function(e,t){var n,s=!1,o=this,u=this.__zr;if(e){var f=e.split("."),l=o;s="shape"===f[0];for(var c=0,h=f.length;c<h;c++)l&&(l=l[f[c]]);l&&(n=l)}else n=o;if(!n)return void a('Property "'+e+'" is not existed in element '+o.id);var p=o.animators,d=new r(n,t);return d.during(function(e){o.dirty(s)}).done(function(){p.splice(i.indexOf(p,d),1)}),p.push(d),u&&u.animation.addAnimator(d),d},stopAnimation:function(e){for(var t=this.animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},animateTo:function(e,t,n,r,i){function u(){f--,f||i&&i()}s(n)?(i=r,r=n,n=0):o(r)?(i=r,r="linear",n=0):o(n)?(i=n,n=0):o(t)?(i=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n,r,i);var a=this.animators.slice(),f=a.length;f||i&&i();for(var l=0;l<a.length;l++)a[l].done(u).start(r)},_animateToShallow:function(e,t,n,r,s){var o={},a=0;for(var f in n)if(n.hasOwnProperty(f))if(null!=t[f])u(n[f])&&!i.isArrayLike(n[f])?this._animateToShallow(e?e+"."+f:f,t[f],n[f],r,s):(o[f]=n[f],a++);else if(null!=n[f])if(e){var l={};l[e]={},l[e][f]=n[f],this.attr(l)}else this.attr(f,n[f]);return a>0&&this.animate(e,!1).when(null==r?500:r,o).delay(s||0),this}},e.exports=f},function(e,t){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}n.prototype={constructor:n,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(t,"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,i=n-this._x,s=r-this._y;this._x=n,this._y=r,t.drift(i,s,e),this.dispatchToElement(t,"drag",e.event);var o=this.findHover(n,r,t),u=this._dropTarget;this._dropTarget=o,t!==o&&(u&&o!==u&&this.dispatchToElement(u,"dragleave",e.event),o&&o!==u&&this.dispatchToElement(o,"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(t,"dragend",e.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},e.exports=n},function(e,t,n){function r(e,t,n,r,i,s,o,u,a,f,l){var v=a*(d/180),y=p(v)*(e-n)/2+h(v)*(t-r)/2,b=-1*h(v)*(e-n)/2+p(v)*(t-r)/2,w=y*y/(o*o)+b*b/(u*u);w>1&&(o*=c(w),u*=c(w));var E=(i===s?-1:1)*c((o*o*u*u-o*o*b*b-u*u*y*y)/(o*o*b*b+u*u*y*y))||0,S=E*o*b/u,x=E*-u*y/o,T=(e+n)/2+p(v)*S-h(v)*x,N=(t+r)/2+h(v)*S+p(v)*x,C=g([1,0],[(y-S)/o,(b-x)/u]),k=[(y-S)/o,(b-x)/u],L=[(-1*y-S)/o,(-1*b-x)/u],A=g(k,L);m(k,L)<=-1&&(A=d),m(k,L)>=1&&(A=0),0===s&&A>0&&(A-=2*d),1===s&&A<0&&(A+=2*d),l.addData(f,T,N,o,u,C,A,v,s)}function i(e){if(!e)return[];var t,n=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<l.length;t++)n=n.replace(new RegExp(l[t],"g"),"|"+l[t]);var i,s=n.split("|"),o=0,a=0,f=new u,c=u.CMD;for(t=1;t<s.length;t++){var h,p=s[t],d=p.charAt(0),v=0,m=p.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var g=0;g<m.length;g++)m[g]=parseFloat(m[g]);for(;v<m.length&&!isNaN(m[v])&&!isNaN(m[0]);){var y,b,w,E,S,x,T,N=o,C=a;switch(d){case"l":o+=m[v++],a+=m[v++],h=c.L,f.addData(h,o,a);break;case"L":o=m[v++],a=m[v++],h=c.L,f.addData(h,o,a);break;case"m":o+=m[v++],a+=m[v++],h=c.M,f.addData(h,o,a),d="l";break;case"M":o=m[v++],a=m[v++],h=c.M,f.addData(h,o,a),d="L";break;case"h":o+=m[v++],h=c.L,f.addData(h,o,a);break;case"H":o=m[v++],h=c.L,f.addData(h,o,a);break;case"v":a+=m[v++],h=c.L,f.addData(h,o,a);break;case"V":a=m[v++],h=c.L,f.addData(h,o,a);break;case"C":h=c.C,f.addData(h,m[v++],m[v++],m[v++],m[v++],m[v++],m[v++]),o=m[v-2],a=m[v-1];break;case"c":h=c.C,f.addData(h,m[v++]+o,m[v++]+a,m[v++]+o,m[v++]+a,m[v++]+o,m[v++]+a),o+=m[v-2],a+=m[v-1];break;case"S":y=o,b=a;var k=f.len(),L=f.data;i===c.C&&(y+=o-L[k-4],b+=a-L[k-3]),h=c.C,N=m[v++],C=m[v++],o=m[v++],a=m[v++],f.addData(h,y,b,N,C,o,a);break;case"s":y=o,b=a;var k=f.len(),L=f.data;i===c.C&&(y+=o-L[k-4],b+=a-L[k-3]),h=c.C,N=o+m[v++],C=a+m[v++],o+=m[v++],a+=m[v++],f.addData(h,y,b,N,C,o,a);break;case"Q":N=m[v++],C=m[v++],o=m[v++],a=m[v++],h=c.Q,f.addData(h,N,C,o,a);break;case"q":N=m[v++]+o,C=m[v++]+a,o+=m[v++],a+=m[v++],h=c.Q,f.addData(h,N,C,o,a);break;case"T":y=o,b=a;var k=f.len(),L=f.data;i===c.Q&&(y+=o-L[k-4],b+=a-L[k-3]),o=m[v++],a=m[v++],h=c.Q,f.addData(h,y,b,o,a);break;case"t":y=o,b=a;var k=f.len(),L=f.data;i===c.Q&&(y+=o-L[k-4],b+=a-L[k-3]),o+=m[v++],a+=m[v++],h=c.Q,f.addData(h,y,b,o,a);break;case"A":w=m[v++],E=m[v++],S=m[v++],x=m[v++],T=m[v++],N=o,C=a,o=m[v++],a=m[v++],h=c.A,r(N,C,o,a,x,T,w,E,S,h,f);break;case"a":w=m[v++],E=m[v++],S=m[v++],x=m[v++],T=m[v++],N=o,C=a,o+=m[v++],a+=m[v++],h=c.A,r(N,C,o,a,x,T,w,E,S,h,f)}}"z"!==d&&"Z"!==d||(h=c.Z,f.addData(h)),i=h}return f.toStatic(),f}function s(e,t){var n,r=i(e);return t=t||{},t.buildPath=function(e){e.setData(r.data),n&&a(e,n);var t=e.getContext();t&&e.rebuildPath(t)},t.applyTransform=function(e){n||(n=f.create()),f.mul(n,e,n),this.dirty(!0)},t}var o=n(8),u=n(30),a=n(183),f=n(19),l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,h=Math.sin,p=Math.cos,d=Math.PI,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},m=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(m(e,t))};e.exports={createFromString:function(e,t){return new o(s(e,t))},extendFromString:function(e,t){return o.extend(s(e,t))},mergePath:function(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var s=e[i];s.__dirty&&s.buildPath(s.path,s.shape,!0),n.push(s.path)}var u=new o(t);return u.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},u}}},function(e,t,n){function r(e,t){var n,r,s,l,c,h,p=e.data,d=i.M,v=i.C,m=i.L,g=i.R,y=i.A,b=i.Q;for(s=0,l=0;s<p.length;){switch(n=p[s++],l=s,r=0,n){case d:r=1;break;case m:r=1;break;case v:r=3;break;case b:r=2;break;case y:var w=t[4],E=t[5],S=a(t[0]*t[0]+t[1]*t[1]),x=a(t[2]*t[2]+t[3]*t[3]),T=f(-t[1]/x,t[0]/S);p[s++]+=w,p[s++]+=E,p[s++]*=S,p[s++]*=x,p[s++]+=T,p[s++]+=T,s+=2,l=s;break;case g:h[0]=p[s++],h[1]=p[s++],o(h,h,t),p[l++]=h[0],p[l++]=h[1],h[0]+=p[s++],h[1]+=p[s++],o(h,h,t),p[l++]=h[0],p[l++]=h[1]}for(c=0;c<r;c++){var h=u[c];h[0]=p[s++],h[1]=p[s++],o(h,h,t),p[l++]=h[0],p[l++]=h[1]}}}var i=n(30).CMD,s=n(6),o=s.applyTransform,u=[[],[],[]],a=Math.sqrt,f=Math.atan2;e.exports=r},function(e,t,n){if(!n(9).canvasSupported){var r,i="urn:schemas-microsoft-com:vml",s=window,o=s.document,u=!1;try{!o.namespaces.zrvml&&o.namespaces.add("zrvml",i),r=function(e){return o.createElement("<zrvml:"+e+' class="zrvml">')}}catch(a){r=function(e){return o.createElement("<"+e+' xmlns="'+i+'" class="zrvml">')}}var f=function(){if(!u){u=!0;var e=o.styleSheets;e.length<31?o.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}};e.exports={doc:o,initVML:f,createNode:r}}},function(e,t,n){function r(e){return null==e.value?e:e.value}var i=n(14),s=n(25),o=n(309),u=n(1),a={_baseAxisDim:null,getInitialData:function(e,t){var n,o,u=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),f=u.get("type"),l=a.get("type");"category"===f?(e.layout="horizontal",n=u.getCategories(),o=!0):"category"===l?(e.layout="vertical",n=a.getCategories(),o=!0):e.layout=e.layout||"horizontal",this._baseAxisDim="horizontal"===e.layout?"x":"y";var c=e.data,h=this.dimensions=["base"].concat(this.valueDimensions);s(h,c);var p=new i(h,this);return p.initData(c,n?n.slice():null,function(e,t,n,i){var s=r(e);return o?"base"===t?n:s[i-1]:s[i]}),p},coordDimToDataDim:function(e){var t=this.valueDimensions.slice(),n=["base"],r={horizontal:{x:n,y:t},vertical:{x:t,y:n}};return r[this.get("layout")][e]},dataDimToCoordDim:function(e){var t;return u.each(["x","y"],function(n,r){var i=this.coordDimToDataDim(n);u.indexOf(i,e)>=0&&(t=n)},this),t},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},f={init:function(){var e=this._whiskerBoxDraw=new o(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};e.exports={seriesModelMixin:a,viewMixin:f}},function(e,t,n){function r(e,t,n){var r=this._targetInfoList=[],i={},o=s(t,e);p(b,function(e,t){(!n||!n.include||d(n.include,t)>=0)&&e(o,r,i)})}function i(e){return e[0]>e[1]&&e.reverse(),e}function s(e,t){return h.parseFinder(e,t,{includeMainTypes:g})}function o(e,t,n,r){var s=n.getAxis(["x","y"][e]),o=i(l.map([0,1],function(e){return t?s.coordToData(s.toLocalCoord(r[e])):s.toGlobalCoord(s.dataToCoord(r[e]))})),u=[];return u[e]=o,u[1-e]=[NaN,NaN],{values:o,xyMinMax:u}}function u(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function a(e,t){var n=f(e),r=f(t),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function f(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var l=n(1),c=n(3),h=n(5),p=l.each,d=l.indexOf,v=l.curry,m=["dataToPoint","pointToData"],g=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],y=r.prototype;y.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=S[e.brushType](0,n,t);e.__rangeOffset={offset:x[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})},y.matchOutputRanges=function(e,t,n){p(e,function(e){var r=this.findTargetInfo(e,t);r&&r!==!0&&l.each(r.coordSyses,function(r){var i=S[e.brushType](1,r,e.range);n(e,i.values,r,t)})},this)},y.setInputRanges=function(e,t){p(e,function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&n!==!0){e.panelId=n.panelId;var r=S[e.brushType](0,n.coordSys,e.coordRange),i=e.__rangeOffset;e.range=i?x[e.brushType](r.values,i.offset,a(r.xyMinMax,i.xyMinMax)):r.values}},this)},y.makePanelOpts=function(e){return l.map(this._targetInfoList,function(t){return{panelId:t.panelId,rect:t.getPanelRect(),defaultBrushType:e&&e(t)}})},y.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return r===!0||r&&d(r.coordSyses,t.coordinateSystem)>=0},y.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=s(t,e),i=0;i<n.length;i++){var o=n[i],u=e.panelId;if(u){if(o.panelId===u)return o}else for(var i=0;i<w.length;i++)if(w[i](r,o))return o}return!0};var b={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,s={},o={},u={};(n||r||i)&&(p(n,function(e){var t=e.axis.grid.model;s[t.id]=t,o[t.id]=!0}),p(r,function(e){var t=e.axis.grid.model;s[t.id]=t,u[t.id]=!0}),p(i,function(e){s[e.id]=e,o[e.id]=!0,u[e.id]=!0}),p(s,function(e){var i=e.coordinateSystem,s=[];p(i.getCartesians(),function(e,t){(d(n,e.getAxis("x").model)>=0||d(r,e.getAxis("y").model)>=0)&&s.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSys:s[0],coordSyses:s,getPanelRect:E.grid,xAxisDeclared:o[e.id],yAxisDeclared:u[e.id]})}))},geo:function(e,t){p(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSys:n,coordSyses:[n],getPanelRect:E.geo})})}},w=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],E={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(c.getTransform(e)),t}},S={lineX:v(o,0),lineY:v(o,1),rect:function(e,t,n){var r=t[m[e]]([n[0][0],n[1][0]]),s=t[m[e]]([n[0][1],n[1][1]]),o=[i([r[0],s[0]]),i([r[1],s[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]],i=l.map(n,function(n){var i=t[m[e]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i});return{values:i,xyMinMax:r}}},x={lineX:v(u,0),lineY:v(u,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return l.map(e,function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]})}};e.exports=r},function(e,t,n){function r(e,t){var n=e.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(i[0])||isNaN(i[1])||this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}var s,u=this.getBoundingRect(),f=e.get("layoutCenter"),l=e.get("layoutSize"),c=t.getWidth(),h=t.getHeight(),p=e.get("aspectScale")||.75,d=u.width/u.height*p,v=!1;f&&l&&(f=[a.parsePercent(f[0],c),a.parsePercent(f[1],h)],l=a.parsePercent(l,Math.min(c,h)),isNaN(f[0])||isNaN(f[1])||isNaN(l)||(v=!0));var m;if(v){var m={};d>1?(m.width=l,m.height=l/d):(m.height=l,m.width=l*d),m.y=f[1]-m.height/2,m.x=f[0]-m.width/2}else s=e.getBoxLayoutParams(),s.aspect=d,m=o.getLayoutRect(s,{width:c,height:h});this.setViewRect(m.x,m.y,m.width,m.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function i(e,t){u.each(t.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}var s=n(391),o=n(12),u=n(1),a=n(4),f={},l={dimensions:s.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(e,o){var u=e.get("map"),a=f[u],l=new s(u+o,u,a&&a.geoJson,a&&a.specialAreas,e.get("nameMap"));l.zoomLimit=e.get("scaleLimit"),n.push(l),i(l,e),e.coordinateSystem=l,l.model=e,l.resize=r,l.resize(e,t)}),e.eachSeries(function(e){var t=e.get("coordinateSystem");if("geo"===t){var r=e.get("geoIndex")||0;e.coordinateSystem=n[r]}});var o={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}}),u.each(o,function(e,o){var a=f[o],l=u.map(e,function(e){return e.get("nameMap")}),c=new s(o,o,a&&a.geoJson,a&&a.specialAreas,u.mergeAll(l));c.zoomLimit=u.retrieve.apply(null,u.map(e,function(e){return e.get("scaleLimit")})),n.push(c),c.resize=r,c.resize(e[0],t),u.each(e,function(e){e.coordinateSystem=c,i(c,e)})}),n},registerMap:function(e,t,n){t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):(new Function("return ("+t+");"))()),f[e]={geoJson:t,specialAreas:n}},getMap:function(e){return f[e]},getFilledRegions:function(e,t){var n=(e||[]).slice(),r=l.getMap(t),i=r&&r.geoJson;if(!i)return e;for(var s={},o=i.features,u=0;u<n.length;u++)s[n[u].name]=n[u];for(var u=0;u<o.length;u++){var a=o[u].properties.name;s[a]||n.push({name:a})}return n}},c=n(2);c.registerMap=l.registerMap,c.getMap=l.getMap,c.parseGeoJSON=n(259),c.loadMap=function(){},c.registerCoordinateSystem("geo",l),e.exports=l},function(e,t,n){function r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}var i=n(1),s=n(82),o=i.each,u={createVisualMappings:function(e,t,n){function r(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}var u={};return o(t,function(t){var a=u[t]=r();o(e[t],function(e,r){if(s.isValidType(r)){var o={type:r,visual:e};n&&n(o,t),a[r]=new s(o),"opacity"===r&&(o=i.clone(o),o.type="colorAlpha",a.__hidden.__alphaForOpacity=new s(o))}})}),u},replaceVisualOption:function(e,t,n){var s;i.each(n,function(e){t.hasOwnProperty(e)&&r(t[e])&&(s=!0)}),s&&i.each(n,function(n){t.hasOwnProperty(n)&&r(t[n])?e[n]=i.clone(t[n]):delete e[n]})},applyVisual:function(e,t,n,r,o,u){function a(e){return n.getItemVisual(h,e)}function f(e,t){n.setItemVisual(h,e,t)}function l(e,i){h=null==u?e:i;var s=n.getRawDataItem(h);if(!s||s.visualMap!==!1)for(var l=r.call(o,e),d=t[l],v=c[l],m=0,g=v.length;m<g;m++){var y=v[m];d[y]&&d[y].applyVisual(e,a,f)}}var c={};i.each(e,function(e){var n=s.prepareVisualTypes(t[e]);c[e]=n});var h;null==u?n.each(l,!0):n.each([u],l,!0)}};e.exports=u},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&u())}function u(){if(!v){var e=i(o);v=!0;for(var t=d.length;t;){for(p=d,d=[];++m<t;)p&&p[m].run();m=-1,t=d.length}p=null,v=!1,s(e)}}function a(e,t){this.fun=e,this.array=t}function f(){}var l,c,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var p,d=[],v=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new a(e,t)),1!==d.length||v||i(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){function r(){this.group=new i.Group,this._symbolEl=new o({})}var i=n(3),s=n(24),o=i.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(e,t){for(var n=t.points,r=t.sizes,i=this.symbolProxy,s=i.shape,o=0;o<n.length;o++){var u=n[o],a=r[o];a[0]<4?e.rect(u[0]-a[0]/2,u[1]-a[1]/2,a[0],a[1]):(s.x=u[0]-a[0]/2,s.y=u[1]-a[1]/2,s.width=a[0],s.height=a[1],i.buildPath(e,s,!0))}},findDataIndex:function(e,t){for(var n=this.shape,r=n.points,i=n.sizes,s=r.length-1;s>=0;s--){var o=r[s],u=i[s],a=o[0]-u[0]/2,f=o[1]-u[1]/2;if(e>=a&&t>=f&&e<=a+u[0]&&t<=f+u[1])return s}return-1}}),u=r.prototype;u.updateData=function(e){this.group.removeAll();var t=this._symbolEl,n=e.hostModel;t.setShape({points:e.mapArray(e.getItemLayout),sizes:e.mapArray(function(t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array||(n=[n,n]),n})}),t.symbolProxy=s.createSymbol(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor,t.useStyle(n.getModel("itemStyle.normal").getItemStyle(["color"]));var r=e.getVisual("color");r&&t.setColor(r),t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n)}),this.group.add(t)},u.updateLayout=function(e){var t=e.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})},u.remove=function(){this.group.removeAll()},e.exports=r},function(e,t,n){function r(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var i=n(3),s=n(6),o=i.Line.prototype,u=i.BezierCurve.prototype;e.exports=i.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(r(t)?o:u).buildPath(e,t)},pointAt:function(e){return r(this.shape)?o.pointAt.call(this,e):u.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,n=r(t)?[t.x2-t.x1,t.y2-t.y1]:u.tangentAt.call(this,e);return s.normalize(n,n)}})},function(e,t,n){var r=n(1),i=n(2);n(193),n(194),i.registerVisual(r.curry(n(50),"scatter","circle",null)),i.registerLayout(r.curry(n(61),"scatter")),n(38)},function(e,t,n){var r=n(27),i=n(18);e.exports=i.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis"],getInitialData:function(e,t){var n=r(e.data,this,t);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(e,t,n){var r=n(44),i=n(190);n(2).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new r,this._largeSymbolDraw=new i},render:function(e,t,n){var r=e.getData(),i=this._largeSymbolDraw,s=this._normalSymbolDraw,o=this.group,u=e.get("large")&&r.count()>e.get("largeThreshold")?i:s;this._symbolDraw=u,u.updateData(r),o.add(u.group),o.remove(u===i?s.group:i.group)},updateLayout:function(e){this._symbolDraw.updateLayout(e)},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)},dispose:function(){}})},function(e,t,n){n(128),n(46),n(47),n(201),n(202),n(197),n(198),n(126),n(125)},function(e,t,n){function r(e,t,n){var r=[1/0,-1/0];return f(n,function(e){var n=e.getData();n&&f(e.coordDimToDataDim(t),function(e){var t=n.getDataExtent(e);t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),i(e,r),r}function i(e,t){var n=e.getAxisModel(),r=n.getMin(!0),i="category"===n.get("type"),s=i&&(n.get("data")||[]).length;null!=r&&"dataMin"!==r?t[0]=r:i&&(t[0]=s>0?0:NaN);var o=n.getMax(!0);return null!=o&&"dataMax"!==o?t[1]=o:i&&(t[1]=s>0?s-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function s(e,t){var n=e.getAxisModel(),r=e._percentWindow,i=e._valueWindow;if(r){var s=u.getPixelPrecision(i,[0,500]),o=t||0===r[0]&&100===r[1];n.setRange(o?null:+i[0].toFixed(s),o?null:+i[1].toFixed(s))}}var o=n(1),u=n(4),a=n(77),f=o.each,l=u.asc,c=function(e,t,n,r){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=r,this._dataZoomModel=n};c.prototype={constructor:c,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(a.isCoordSupported(n.get("coordinateSystem"))){var r=this._dimName,i=t.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n=this._dimName,r=this.ecModel,i=this.getAxisModel(),s="x"===n||"y"===n;s?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle");var o;return r.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(i.get(t)||0)&&(o=e)}),o},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel(),r=n.axis.scale,i=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[e.start,e.end],a=[];return f(["startValue","endValue"],function(t){a.push(null!=e[t]?r.parse(e[t]):null)}),f([0,1],function(e){var n=a[e],f=o[e];"percent"===i[e]?(null==f&&(f=s[e]),n=r.parse(u.linearMap(f,s,t,!0))):f=u.linearMap(n,t,s,!0),a[e]=n,o[e]=f}),{valueWindow:l(a),percentWindow:l(o)}},reset:function(e){if(e===this._dataZoomModel){this._dataExtent=r(this,this._dimName,this.getTargetSeriesModels());var t=this.calculateDataWindow(e.option);this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,s(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,s(this,!0))},filterData:function(e){function t(e){return e>=s[0]&&e<=s[1]}if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),s=this._valueWindow,o=this.getOtherAxisModel();e.get("$fromToolbox")&&o&&"category"===o.get("type")&&(i="empty"),f(r,function(e){var r=e.getData();r&&f(e.coordDimToDataDim(n),function(n){"empty"===i?e.setData(r.map(n,function(e){return t(e)?e:NaN})):r.filterSelf(n,t)})})}}},e.exports=c},function(e,t,n){e.exports=n(46).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1}})},function(e,t,n){function r(e){var t=[0,100];return!(e[0]<=t[1])&&(e[0]=t[1]),!(e[1]<=t[1])&&(e[1]=t[1]),!(e[0]>=t[0])&&(e[0]=t[0]),!(e[1]>=t[0])&&(e[1]=t[0]),e}var i=n(47),s=n(1),o=n(95),u=n(203),a=s.bind,f=i.extend({type:"dataZoom.inside",init:function(e,t){this._range},render:function(e,t,n,r){f.superApply(this,"render",arguments),u.shouldRecordRange(r,e.id)&&(this._range=e.getPercentRange()),s.each(this.getTargetCoordInfo(),function(t,r){var i=s.map(t,function(e){return u.generateCoordId(e.model)});s.each(t,function(t){var s=t.model;u.register(n,{coordId:u.generateCoordId(s),allCoordIds:i,containsPoint:function(e,t){return s.coordinateSystem.containPoint([e,t])},dataZoomId:e.id,throttleRate:e.get("throttle",!0),panGetRange:a(this._onPan,this,t,r),zoomGetRange:a(this._onZoom,this,t,r)})},this)},this)},dispose:function(){u.unregister(this.api,this.dataZoomModel.id),f.superApply(this,"dispose",arguments),this._range=null},_onPan:function(e,t,n,r,i,s,u,a,f){if(this.dataZoomModel.option.disabled)return this._range;var c=this._range.slice(),h=e.axisModels[0];if(h){var p=l[t]([s,u],[a,f],h,n,e),d=p.signal*(c[1]-c[0])*p.pixel/p.pixelLength;return o(d,c,[0,100],"rigid"),this._range=c}},_onZoom:function(e,t,n,i,s,o){var u=this.dataZoomModel.option;if(u.disabled||u.zoomLock)return this._range;var a=this._range.slice(),f=e.axisModels[0];if(f){var c=l[t](null,[s,o],f,n,e),h=(c.pixel-c.pixelStart)/c.pixelLength*(a[1]-a[0])+a[0];return i=Math.max(1/i,0),a[0]=(a[0]-h)*i+h,a[1]=(a[1]-h)*i+h,this._range=r(a)}}}),l={grid:function(e,t,n,r,i){var s=n.axis,o={},u=i.model.coordinateSystem.getRect();return e=e||[0,0],"x"===s.dim?(o.pixel=t[0]-e[0],o.pixelLength=u.width,o.pixelStart=u.x,o.signal=s.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u.height,o.pixelStart=u.y,o.signal=s.inverse?-1:1),o},polar:function(e,t,n,r,i){var s=n.axis,o={},u=i.model.coordinateSystem,a=u.getRadiusAxis().getExtent(),f=u.getAngleAxis().getExtent();return e=e?u.pointToCoord(e):[0,0],t=u.pointToCoord(t),"radiusAxis"===n.mainType?(o.pixel=t[0]-e[0],o.pixelLength=a[1]-a[0],o.pixelStart=a[0],o.signal=s.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=f[1]-f[0],o.pixelStart=f[0],o.signal=s.inverse?-1:1),o},singleAxis:function(e,t,n,r,i){var s=n.axis,o=i.model.coordinateSystem.getRect(),u={};return e=e||[0,0],"horizontal"===s.orient?(u.pixel=t[0]-e[0],u.pixelLength=o.width,u.pixelStart=o.x,u.signal=s.inverse?1:-1):(u.pixel=t[1]-e[1],u.pixelLength=o.height,u.pixelStart=o.y,u.signal=s.inverse?-1:1),u}};e.exports=f},function(e,t,n){var r=n(46);e.exports=r.extend({type:"dataZoom.select"})},function(e,t,n){e.exports=n(47).extend({type:"dataZoom.select"})},function(e,t,n){var r=n(46),i=r.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});e.exports=i},function(e,t,n){function r(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}var i=n(1),s=n(3),o=n(39),u=n(47),a=s.Rect,f=n(4),l=f.linearMap,c=n(12),h=n(95),p=n(20),d=f.asc,v=i.bind,m=i.each,g=7,y=1,b=30,w="horizontal",E="vertical",S=5,x=["line","bar","candlestick","scatter"],T=u.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,n,r){return T.superApply(this,"render",arguments),o.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),void this._updateView())},remove:function(){T.superApply(this,"remove",arguments),o.clear(this,"_dispatchZoomAction")},dispose:function(){T.superApply(this,"dispose",arguments),o.clear(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new s.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},s=this._orient===w?{right:r.width-n.x-n.width,top:r.height-b-g,width:n.width,height:b}:{right:g,top:n.y,width:b,height:n.height},o=c.getLayoutParams(e.option);i.each(["right","top","width","height"],function(e){"ph"===o[e]&&(o[e]=s[e])});var u=c.getLayoutRect(o,r,e.padding);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===E&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),s=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(n!==w||i?n===w&&i?{scale:o?[-1,1]:[-1,-1]}:n!==E||i?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var u=e.getBoundingRect([s]);e.attr("position",[t.x-u.x,t.y-u.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size;this._displayables.barGroup.add(new a({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,r=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var u=r.getDataExtent(o),a=.3*(u[1]-u[0]);u=[u[0]-a,u[1]+a];var f,c=[0,t[1]],h=[0,t[0]],p=[[t[0],0],[0,0]],d=[],v=h[1]/(r.count()-1),m=0,g=Math.round(r.count()/t[0]);r.each([o],function(e,t){if(g>0&&t%g)return void (m+=v);var n=null==e||isNaN(e)||""===e,r=n?0:l(e,u,c,!0);n&&!f&&t?(p.push([p[p.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&f&&(p.push([m,0]),d.push([m,0])),p.push([m,r]),d.push([m,r]),m+=v,f=n});var y=this.dataZoomModel;this._displayables.barGroup.add(new s.Polygon({shape:{points:p},style:i.defaults({fill:y.get("dataBackgroundColor")},y.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new s.Polyline({shape:{points:d},style:y.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(t!==!1){var n,s=this.ecModel;return e.eachTargetAxis(function(o,u){var a=e.getAxisProxy(o.name,u).getTargetSeriesModels();i.each(a,function(e){if(!(n||t!==!0&&i.indexOf(x,e.get("type"))<0)){var a,f=s.getComponent(o.axis,u).axis,l=r(o.name),c=e.coordinateSystem;null!=l&&c.getOtherAxis&&(a=c.getOtherAxis(f).inverse),n={thisAxis:f,series:e,thisDim:o.name,otherDim:l,otherAxisInverse:a}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],r=this._displayables.barGroup,i=this._size,o=this.dataZoomModel;r.add(e.filler=new a({draggable:!0,cursor:"move",drift:v(this._onDragMove,this,"all"),onmousemove:function(e){p.stop(e.event)},ondragstart:v(this._showDataInfo,this,!0),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),r.add(new a(s.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:y,fill:"rgba(0,0,0,0)"}})));var u=o.get("handleIcon");m([0,1],function(e){var i=s.makePath(u,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:v(this._onDragMove,this,e),onmousemove:function(e){p.stop(e.event)},ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1)},{x:-0.5,y:0,width:1,height:1},"center"),a=i.getBoundingRect();this._handleHeight=f.parsePercent(o.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,i.setStyle(o.getModel("handleStyle").getItemStyle());var l=o.get("handleColor");null!=l&&(i.style.fill=l),r.add(t[e]=i);var c=o.textStyleModel;this.group.add(n[e]=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:c.getTextColor(),textFont:c.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[l(e[0],[0,100],t,!0),l(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this._handleEnds,r=this._getViewExtent();h(t,n,r,"all"===e||this.dataZoomModel.get("zoomLock")?"rigid":"cross",e),this._range=d([l(n[0],r,[0,100],!0),l(n[1],r,[0,100],!0)])},_updateView:function(e){var t=this._displayables,n=this._handleEnds,r=d(n.slice()),i=this._size;m([0,1],function(e){var r=t.handles[e],s=this._handleHeight;r.attr({scale:[s,s],position:[n[e],i[1]/2-s/2]})},this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(e){var t=s.getTransform(r.handles[e].parent,this.group),n=s.transformDirection(0===e?"right":"left",t),a=this._handleWidth/2+S,f=s.applyTransform([h[e]+(0===e?-a:a),this._size[1]/2],t);i[e].setStyle({x:f[0],y:f[1],textVerticalAlign:o===w?"middle":n,textAlign:o===w?n:"center",text:u[e]})}var n=this.dataZoomModel,r=this._displayables,i=r.handleLabels,o=this._orient,u=["",""];if(n.get("showDetail")){var a=n.findRepresentativeAxisProxy();if(a){var f=a.getAxisModel().axis,l=this._range,c=e?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();u=[this._formatLabel(c[0],f),this._formatLabel(c[1],f)]}}var h=d(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),s=n.get("labelPrecision");null!=s&&"auto"!==s||(s=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(s,20));return i.isFunction(r)?r(e,o):i.isString(r)?r.replace("{value}",o):o},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var r=this._applyBarTransform([t,n],!0);this._updateInterval(e,r[0]);var i=this.dataZoomModel.get("realtime");this._updateView(!i),i&&i&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_applyBarTransform:function(e,t){var n=this._displayables.barGroup.getLocalTransform();return s.applyTransform(e,n,t)},_findCoordRect:function(){var e;if(m(this.getTargetCoordInfo(),function(t){if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});e.exports=T},function(e,t,n){function r(e){var t=e.getZr();return t[d]||(t[d]={})}function i(e,t,n){var r=new c(e.getZr());return r.enable(),r.on("pan",p(o,n)),r.on("zoom",p(u,n)),r}function s(e){l.each(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function o(e,t,n,r,i,s,o){a(e,function(u){return u.panGetRange(e.controller,t,n,r,i,s,o)})}function u(e,t,n,r){a(e,function(i){return i.zoomGetRange(e.controller,t,n,r)})}function a(e,t){var n=[];l.each(e.dataZoomInfos,function(e){var r=t(e);r&&n.push({dataZoomId:e.dataZoomId,start:r[0],end:r[1]})}),e.dispatchAction(n)}function f(e,t){e.dispatchAction({type:"dataZoom",batch:t})}var l=n(1),c=n(94),h=n(39),p=l.curry,d="\0_ec_dataZoom_roams",v={register:function(e,t){var n=r(e),o=t.dataZoomId,u=t.coordId;l.each(n,function(e,n){var r=e.dataZoomInfos;r[o]&&l.indexOf(t.allCoordIds,u)<0&&(delete r[o],e.count--)}),s(n);var a=n[u];a||(a=n[u]={coordId:u,dataZoomInfos:{},count:0},a.controller=i(e,t,a),a.dispatchAction=l.curry(f,e)),a.controller.setContainsPoint(t.containsPoint),h.createOrUpdate(a,"dispatchAction",t.throttleRate,"fixRate"),!a.dataZoomInfos[o]&&a.count++,a.dataZoomInfos[o]=t},unregister:function(e,t){var n=r(e);l.each(n,function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)}),s(n)},shouldRecordRange:function(e,t){if(e&&"dataZoom"===e.type&&e.batch)for(var n=0,r=e.batch.length;n<r;n++)if(e.batch[n].dataZoomId===t)return!1;return!0},generateCoordId:function(e){return e.type+"\0_"+e.id}};e.exports=v},function(e,t,n){n(128),n(46),n(47),n(199),n(200),n(126),n(125)},function(e,t,n){function r(e,t,n,r){var i=n.type,s=p[i.charAt(0).toUpperCase()+i.slice(1)],o=new s(n);t.add(o),r[e]=o,o.__ecGraphicId=e}function i(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(e){i(e,t)}),delete t[e.__ecGraphicId],n.remove(e))}function s(e){return e=c.extend({},e),c.each(["id","parentId","$action","hv","bounding"].concat(d.LOCATION_PARAMS),function(t){delete e[t]}),e}function o(e,t){var n;return c.each(t,function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)}),n}function u(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function a(e,t,n){var r=c.extend({},n),i=e[t],s=n.$action||"merge";"merge"===s?i?(c.merge(i,r,!0),d.mergeLayoutParam(i,r,{ignoreSize:!0}),d.copyLayoutParams(n,i)):e[t]=r:"replace"===s?e[t]=r:"remove"===s&&i&&(e[t]=null)}function f(e,t){e&&(e.hv=t.hv=[o(t,["left","right"]),o(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}var l=n(2),c=n(1),h=n(5),p=n(3),d=n(12);l.registerPreprocessor(function(e){var t=e.graphic;c.isArray(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var v=l.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,v.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,r=(t?n:e).elements,i=n.elements=t?[]:n.elements,s=[];this._flatten(r,s);var o=h.mappingToExists(i,s);h.makeIdAndName(o);var l=this._elOptionsToUpdate=[];c.each(o,function(e,t){var n=e.option;n&&(l.push(n),u(e,n),a(i,t,n),f(i[t],n))},this);for(var p=i.length-1;p>=0;p--)null==i[p]?i.splice(p,1):delete i[p].$action},_flatten:function(e,t,n){c.each(e,function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;"group"===e.type&&r&&this._flatten(r,t,e),delete e.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});l.extendComponentView({type:"graphic",init:function(e,t){this._elMap={},this._lastGraphicModel},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,n),this._relocate(e,n)},_updateElements:function(e,t){var n=e.useElOptionsToUpdate();if(n){var o=this._elMap,u=this.group;c.each(n,function(e){var t=e.$action,n=e.id,a=o[n],f=e.parentId,l=null!=f?o[f]:u;e.hv&&e.hv[1]&&"text"===e.type&&(e.style=c.defaults({textBaseline:"middle"},e.style),e.style.textVerticalAlign=null);var h=s(e);t&&"merge"!==t?"replace"===t?(i(a,o),r(n,l,h,o)):"remove"===t&&i(a,o):a?a.attr(h):r(n,l,h,o),o[n]&&(o[n].__ecGraphicWidth=e.width,o[n].__ecGraphicHeight=e.height)})}},_relocate:function(e,t){for(var n=e.option.elements,r=this.group,i=this._elMap,s=n.length-1;s>=0;s--){var o=n[s],u=i[o.id];if(u){var a=u.parent,f=a===r?{width:t.getWidth(),height:t.getHeight()}:{width:a.__ecGraphicWidth||0,height:a.__ecGraphicHeight||0};d.positionElement(u,o,f,null,{hv:o.hv,boundingMode:o.bounding})}}},_clear:function(){var e=this._elMap;c.each(e,function(t){i(t,e)}),this._elMap={}},dispose:function(){this._clear()}})},function(e,t,n){n(207),n(209),n(208);var r=n(2);r.registerProcessor(n(210))},function(e,t,n){var r=n(1),i=n(10),s=n(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){s.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=r.map(this.get("data")||[],function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new i(e,this,this.ecModel)},this);this._data=t;var n=r.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();n=n.concat(t.mapArray(t.getName))}}),this._availableNames=n},getData:function(){return this._data},select:function(e){var t=this.option.selected,n=this.get("selectedMode");if("single"===n){var i=this._data;r.each(i,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return(!t.hasOwnProperty(e)||!!t[e])&&r.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});e.exports=s},function(e,t,n){function r(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function i(e,t,n){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function s(e,t,n){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var o=n(1),u=n(24),a=n(3),f=n(131),l=o.curry;e.exports=n(2).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(e,t,n){var u=this.group;if(u.removeAll(),e.get("show")){var c=e.get("selectedMode"),h=e.get("align");"auto"===h&&(h="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left");var p={};o.each(e.getData(),function(o){var f=o.get("name");if(""===f||"\n"===f)return void u.add(new a.Group({newline:!0}));var v=t.getSeriesByName(f)[0];if(!p[f])if(v){var m=v.getData(),g=m.getVisual("color");"function"==typeof g&&(g=g(v.getDataParams(0)));var y=m.getVisual("legendSymbol")||"roundRect",b=m.getVisual("symbol"),w=this._createItem(f,o,e,y,b,h,g,c);w.on("click",l(r,f,n)).on("mouseover",l(i,v,null,n)).on("mouseout",l(s,v,null,n)),p[f]=!0}else t.eachRawSeries(function(t){if(!p[f]&&t.legendDataProvider){var u=t.legendDataProvider(),a=u.indexOfName(f);if(a<0)return;var v=u.getItemVisual(a,"color"),m="roundRect",g=this._createItem(f,o,e,m,null,h,v,c);g.on("click",l(r,f,n)).on("mouseover",l(i,t,f,n)).on("mouseout",l(s,t,f,n)),p[f]=!0}},this)},this),f.layout(u,e,n),f.addBackground(u,e)}},_createItem:function(e,t,n,r,i,s,f,l){var c=n.get("itemWidth"),h=n.get("itemHeight"),p=n.get("inactiveColor"),d=n.isSelected(e),v=new a.Group,m=t.getModel("textStyle"),g=t.get("icon"),y=t.getModel("tooltip"),b=y.parentModel;if(r=g||r,v.add(u.createSymbol(r,0,0,c,h,d?f:p)),!g&&i&&(i!==r||"none"==i)){var w=.8*h;"none"===i&&(i="circle"),v.add(u.createSymbol(i,(c-w)/2,(h-w)/2,w,w,d?f:p))}var E="left"===s?c+5:-5,S=s,x=n.get("formatter"),T=e;"string"==typeof x&&x?T=x.replace("{name}",null!=e?e:""):"function"==typeof x&&(T=x(e));var N=new a.Text({style:{text:T,x:E,y:h/2,fill:d?m.getTextColor():p,textFont:m.getFont(),textAlign:S,textVerticalAlign:"middle"}});v.add(N);var C=new a.Rect({shape:v.getBoundingRect(),invisible:!0,tooltip:y.get("show")?o.extend({content:e,formatter:b.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},y.option):null});return v.add(C),v.eachChild(function(e){e.silent=!0}),C.silent=!l,this.group.add(v),a.setHoverStyle(v),v}})},function(e,t,n){function r(e,t,n){var r,i={},o="toggleSelected"===e;return n.eachComponent("legend",function(n){o&&null!=r?n[r?"select":"unSelect"](t.name):(n[e](t.name),r=n.isSelected(t.name));var u=n.getData();s.each(u,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var r=n.isSelected(t);t in i?i[t]=i[t]&&r:i[t]=r}})}),{name:t.name,selected:i}}var i=n(2),s=n(1);i.registerAction("legendToggleSelect","legendselectchanged",s.curry(r,"toggleSelected")),i.registerAction("legendSelect","legendselected",s.curry(r,"select")),i.registerAction("legendUnSelect","legendunselected",s.curry(r,"unSelect"))},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}},function(e,t,n){n(214),n(215),n(2).registerPreprocessor(function(e){e.markArea=e.markArea||{}})},function(e,t,n){n(216),n(217),n(2).registerPreprocessor(function(e){e.markLine=e.markLine||{}})},function(e,t,n){n(218),n(219),n(2).registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})},function(e,t,n){e.exports=n(79).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(e,t,n){function r(e){return!isNaN(e)&&!isFinite(e)}function i(e,t,n,i){var s=1-e;return r(t[s])&&r(n[s])}function s(e,t){var n=t.coord[0],r=t.coord[1];return!("cartesian2d"!==e.type||!n||!r||!i(1,n,r,e)&&!i(0,n,r,e))||p.dataFilter(e,{coord:n,x:t.x0,y:t.y0})||p.dataFilter(e,{coord:r,x:t.x1,y:t.y1})}function o(e,t,n,i,s){var o,u=i.coordinateSystem,a=e.getItemModel(t),f=l.parsePercent(a.get(n[0]),s.getWidth()),c=l.parsePercent(a.get(n[1]),s.getHeight());if(isNaN(f)||isNaN(c)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(n,t));else{var h=e.get(n[0],t),p=e.get(n[1],t);o=u.dataToPoint([h,p],!0)}if("cartesian2d"===u.type){var d=u.getAxis("x"),v=u.getAxis("y"),h=e.get(n[0],t),p=e.get(n[1],t);r(h)?o[0]=d.toGlobalCoord(d.getExtent()["x0"===n[0]?0:1]):r(p)&&(o[1]=v.toGlobalCoord(v.getExtent()["y0"===n[1]?0:1]))}isNaN(f)||(o[0]=f),isNaN(c)||(o[1]=c)}else o=[f,c];return o}function u(e,t,n){var r,i,o=["x0","y0","x1","y1"];e?(r=a.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return n.name=e,n}),i=new f(a.map(o,function(e,t){return{name:e,type:r[t%2].type}}),n)):(r=[{name:"value",type:"float"}],i=new f(r,n));var u=a.map(n.get("data"),a.curry(d,t,e,n));e&&(u=a.filter(u,a.curry(s,e)));var l=e?function(e,t,n,r){return e.coord[Math.floor(r/2)][r%2]}:function(e){return e.value};return i.initData(u,null,l),i.hasItemOption=!0,i}var a=n(1),f=n(14),l=n(4),c=n(3),h=n(22),p=n(81),d=function(e,t,n,r){var i=p.dataTransform(e,r[0]),s=p.dataTransform(e,r[1]),o=a.retrieve,u=i.coord,f=s.coord;u[0]=o(u[0],-1/0),u[1]=o(u[1],-1/0),f[0]=o(f[0],1/0),f[1]=o(f[1],1/0);var l=a.mergeAll([{},i,s]);return l.coord=[i.coord,s.coord],l.x0=i.x,l.y0=i.y,l.x1=s.x,l.y1=s.y,l},v=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];n(80).extend({type:"markArea",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var r=t.getData();r.each(function(t){var i=a.map(v,function(i){return o(r,t,i,e,n)});r.setItemLayout(t,i);var s=r.getItemGraphicEl(t);s.setShape("points",i)})}},this)},renderSeries:function(e,t,n,r){var i=e.coordinateSystem,s=e.name,f=e.getData(),l=this.markerGroupMap,p=l[s];p||(p=l[s]={group:new c.Group}),this.group.add(p.group),p.__keep=!0;var d=u(i,e,t);t.setData(d),d.each(function(t){d.setItemLayout(t,a.map(v,function(n){return o(d,t,n,e,r)})),d.setItemVisual(t,{color:f.getVisual("color")})}),d.diff(p.__data).add(function(e){var t=new c.Polygon({shape:{points:d.getItemLayout(e)}});d.setItemGraphicEl(e,t),p.group.add(t)}).update(function(e,n){var r=p.__data.getItemGraphicEl(n);c.updateProps(r,{shape:{points:d.getItemLayout(e)}},t,e),p.group.add(r),d.setItemGraphicEl(e,r)}).remove(function(e){var t=p.__data.getItemGraphicEl(e);p.group.remove(t)}).execute(),d.eachItemGraphicEl(function(e,n){var r=d.getItemModel(n),i=r.getModel("label.normal"),s=r.getModel("label.emphasis"),o=d.getItemVisual(n,"color");e.useStyle(a.defaults(r.getModel("itemStyle.normal").getItemStyle(),{fill:h.modifyAlpha(o,.4),stroke:o})),e.hoverStyle=r.getModel("itemStyle.normal").getItemStyle();var u=d.getName(n)||"",f=o||e.style.fill;i.getShallow("show")?(c.setText(e.style,i,f),e.style.text=a.retrieve(t.getFormattedLabel(n,"normal"),u)):e.style.text="",s.getShallow("show")?(c.setText(e.hoverStyle,s,f),e.hoverStyle.text=a.retrieve(t.getFormattedLabel(n,"emphasis"),u)):e.hoverStyle.text="",c.setHoverStyle(e,{}),e.dataModel=t}),p.__data=d,p.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){e.exports=n(79).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(e,t,n){function r(e){return!isNaN(e)&&!isFinite(e)}function i(e,t,n,i){var s=1-e,o=i.dimensions[e];return r(t[s])&&r(n[s])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function s(e,t){if("cartesian2d"===e.type){var n=t[0].coord,r=t[1].coord;if(n&&r&&(i(1,n,r,e)||i(0,n,r,e)))return!0}return c.dataFilter(e,t[0])&&c.dataFilter(e,t[1])}function o(e,t,n,i,s){var o,u=i.coordinateSystem,a=e.getItemModel(t),f=l.parsePercent(a.get("x"),s.getWidth()),c=l.parsePercent(a.get("y"),s.getHeight());if(isNaN(f)||isNaN(c)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var h=u.dimensions,p=e.get(h[0],t),d=e.get(h[1],t);o=u.dataToPoint([p,d])}if("cartesian2d"===u.type){var v=u.getAxis("x"),m=u.getAxis("y"),h=u.dimensions;r(e.get(h[0],t))?o[0]=v.toGlobalCoord(v.getExtent()[n?0:1]):r(e.get(h[1],t))&&(o[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(f)||(o[0]=f),isNaN(c)||(o[1]=c)}else o=[f,c];e.setItemLayout(t,o)}function u(e,t,n){var r;r=e?a.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return n.name=e,n}):[{name:"value",type:"float"}];var i=new f(r,n),o=new f(r,n),u=new f([],n),l=a.map(n.get("data"),a.curry(p,t,e,n));e&&(l=a.filter(l,a.curry(s,e)));var h=e?c.dimValueGetter:function(e){return e.value};return i.initData(a.map(l,function(e){return e[0]}),null,h),o.initData(a.map(l,function(e){return e[1]}),null,h),u.initData(a.map(l,function(e){return e[2]})),u.hasItemOption=!0,{from:i,to:o,line:u}}var a=n(1),f=n(14),l=n(4),c=n(81),h=n(109),p=function(e,t,n,r){var i=e.getData(),s=r.type;if(!a.isArray(r)&&("min"===s||"max"===s||"average"===s||null!=r.xAxis||null!=r.yAxis)){var o,u,f;if(null!=r.yAxis||null!=r.xAxis)u=null!=r.yAxis?"y":"x",o=t.getAxis(u),f=a.retrieve(r.yAxis,r.xAxis);else{var l=c.getAxisInfo(r,i,t,e);u=l.valueDataDim,o=l.valueAxis,f=c.numCalculate(i,u,s)}var h="x"===u?0:1,p=1-h,d=a.clone(r),v={};d.type=null,d.coord=[],v.coord=[],d.coord[p]=-1/0,v.coord[p]=1/0;var m=n.get("precision");m>=0&&"number"==typeof f&&(f=+f.toFixed(m)),d.coord[h]=v.coord[h]=f,r=[d,v,{type:s,valueIndex:r.valueIndex,value:f}]}return r=[c.dataTransform(e,r[0]),c.dataTransform(e,r[1]),a.extend({},r[2])],r[2].type=r[2].type||"",a.merge(r[2],r[0]),a.merge(r[2],r[1]),r};n(80).extend({type:"markLine",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markLineModel;if(t){var r=t.getData(),i=t.__from,s=t.__to;i.each(function(t){o(i,t,!0,e,n),o(s,t,!1,e,n)}),r.each(function(e){r.setItemLayout(e,[i.getItemLayout(e),s.getItemLayout(e)])}),this.markerGroupMap[e.name].updateLayout()}},this)},renderSeries:function(e,t,n,r){function i(t,n,i){var s=t.getItemModel(n);o(t,n,i,e,r),t.setItemVisual(n,{symbolSize:s.get("symbolSize")||b[i?0:1],symbol:s.get("symbol",!0)||y[i?0:1],color:s.get("itemStyle.normal.color")||l.getVisual("color")})}var s=e.coordinateSystem,f=e.name,l=e.getData(),c=this.markerGroupMap,p=c[f];p||(p=c[f]=new h),this.group.add(p.group);var d=u(s,e,t),v=d.from,m=d.to,g=d.line;t.__from=v,t.__to=m,t.setData(g);var y=t.get("symbol"),b=t.get("symbolSize");a.isArray(y)||(y=[y,y]),"number"==typeof b&&(b=[b,b]),d.from.each(function(e){i(v,e,!0),i(m,e,!1)}),g.each(function(e){var t=g.getItemModel(e).get("lineStyle.normal.color");g.setItemVisual(e,{color:t||v.getItemVisual(e,"color")}),g.setItemLayout(e,[v.getItemLayout(e),m.getItemLayout(e)]),g.setItemVisual(e,{fromSymbolSize:v.getItemVisual(e,"symbolSize"),fromSymbol:v.getItemVisual(e,"symbol"),toSymbolSize:m.getItemVisual(e,"symbolSize"),toSymbol:m.getItemVisual(e,"symbol")})}),p.updateData(g),d.line.eachItemGraphicEl(function(e,n){e.traverse(function(e){e.dataModel=t})}),p.__keep=!0,p.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){e.exports=n(79).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(e,t,n){function r(e,t,n){var r=t.coordinateSystem;e.each(function(i){var s,o=e.getItemModel(i),a=u.parsePercent(o.get("x"),n.getWidth()),f=u.parsePercent(o.get("y"),n.getHeight());if(isNaN(a)||isNaN(f)){if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var l=e.get(r.dimensions[0],i),c=e.get(r.dimensions[1],i);s=r.dataToPoint([l,c])}}else s=[a,f];isNaN(a)||(s[0]=a),isNaN(f)||(s[1]=f),e.setItemLayout(i,s)})}function i(e,t,n){var r;r=e?o.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return n.name=e,n}):[{name:"value",type:"float"}];var i=new a(r,n),s=o.map(n.get("data"),o.curry(f.dataTransform,t));return e&&(s=o.filter(s,o.curry(f.dataFilter,e))),i.initData(s,null,e?f.dimValueGetter:function(e){return e.value}),i}var s=n(44),o=n(1),u=n(4),a=n(14),f=n(81);n(80).extend({type:"markPoint",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markPointModel;t&&(r(t.getData(),e,n),this.markerGroupMap[e.name].updateLayout(t))},this)},renderSeries:function(e,t,n,o){var u=e.coordinateSystem,a=e.name,f=e.getData(),l=this.markerGroupMap,c=l[a];c||(c=l[a]=new s);var h=i(u,e,t);t.setData(h),r(t.getData(),e,o),h.each(function(e){var n=h.getItemModel(e),r=n.getShallow("symbolSize");"function"==typeof r&&(r=r(t.getRawValue(e),t.getDataParams(e))),h.setItemVisual(e,{symbolSize:r,color:n.get("itemStyle.normal.color")||f.getVisual("color"),symbol:n.getShallow("symbol")})}),c.updateData(h),this.group.add(c.group),h.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),c.__keep=!0,c.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){var r=n(2),i=n(3),s=n(12);r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),r.extendComponentView({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var r=this.group,o=e.getModel("textStyle"),u=e.getModel("subtextStyle"),a=e.get("textAlign"),f=e.get("textBaseline"),l=new i.Text({style:{text:e.get("text"),textFont:o.getFont(),fill:o.getTextColor()},z2:10}),c=l.getBoundingRect(),h=e.get("subtext"),p=new i.Text({style:{text:h,textFont:u.getFont(),fill:u.getTextColor(),y:c.height+e.get("itemGap"),textBaseline:"top"},z2:10}),d=e.get("link"),v=e.get("sublink");l.silent=!d,p.silent=!v,d&&l.on("click",function(){window.open(d,"_"+e.get("target"))}),v&&p.on("click",function(){window.open(v,"_"+e.get("subtarget"))}),r.add(l),h&&r.add(p);var m=r.getBoundingRect(),g=e.getBoxLayoutParams();g.width=m.width,g.height=m.height;var y=s.getLayoutRect(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));a||(a=e.get("left")||e.get("right"),"middle"===a&&(a="center"),"right"===a?y.x+=y.width:"center"===a&&(y.x+=y.width/2)),f||(f=e.get("top")||e.get("bottom"),"center"===f&&(f="middle"),"bottom"===f?y.y+=y.height:"middle"===f&&(y.y+=y.height/2),f=f||"top"),r.attr("position",[y.x,y.y]);var b={textAlign:a,textVerticalAlign:f};l.setStyle(b),p.setStyle(b),m=r.getBoundingRect();var w=y.margin,E=e.getItemStyle(["color","opacity"]);E.fill=e.get("backgroundColor");var S=new i.Rect({shape:{x:m.x-w[3],y:m.y-w[0],width:m.width+w[1]+w[3],height:m.height+w[0]+w[2]},style:E,silent:!0});i.subPixelOptimizeRect(S),r.add(S)}}})},function(e,t,n){n(222),n(223),n(228),n(226),n(224),n(225),n(227)},function(e,t,n){var r=n(28),i=n(1),s=n(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){s.superApply(this,"mergeDefaultAndTheme",arguments),i.each(this.option.feature,function(e,t){var n=r.get(t);n&&i.merge(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});e.exports=s},function(e,t,n){(function(t){function r(e){return 0===e.indexOf("my")}var i=n(28),s=n(1),o=n(3),u=n(10),a=n(48),f=n(131),l=n(16);e.exports=n(2).extendComponentView({type:"toolbox",render:function(e,t,n,h){function p(s,o){var a,f=b[s],l=b[o],c=g[f],p=new u(c,e,e.ecModel);if(f&&!l){if(r(f))a={model:p,onclick:p.option.onclick,featureName:f};else{var v=i.get(f);if(!v)return;a=new v(p,t,n)}y[f]=a}else{if(a=y[l],!a)return;a.model=p,a.ecModel=t,a.api=n}return!f&&l?void (a.dispose&&a.dispose(t,n)):!p.get("show")||a.unusable?void (a.remove&&a.remove(t,n)):(d(p,a,f),p.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&r[e].trigger(t)},void (a.render&&a.render(p,t,n,h)))}function d(r,i,u){var a=r.getModel("iconStyle"),f=i.getIcons?i.getIcons():r.get("icon"),l=r.get("title")||{};if("string"==typeof f){var c=f,h=l;f={},l={},f[u]=c,l[u]=h}var p=r.iconPaths={};s.each(f,function(u,f){var c=a.getModel("normal").getItemStyle(),h=a.getModel("emphasis").getItemStyle(),d={x:-m/2,y:-m/2,width:m,height:m},g=0===u.indexOf("image://")?(d.image=u.slice(8),new o.Image({style:d})):o.makePath(u.replace("path://",""),{style:c,hoverStyle:h,rectHover:!0},d,"center");o.setHoverStyle(g),e.get("showTitle")&&(g.__title=l[f],g.on("mouseover",function(){var e=a.getModel("emphasis").getItemStyle();g.setStyle({text:l[f],textPosition:e.textPosition||"bottom",textFill:e.fill||e.stroke||"#000",textAlign:e.textAlign||"center"})}).on("mouseout",function(){g.setStyle({textFill:null})})),g.trigger(r.get("iconStatus."+f)||"normal"),v.add(g),g.on("click",s.bind(i.onclick,i,t,n,f)),p[f]=g})}var v=this.group;if(v.removeAll(),e.get("show")){var m=+e.get("itemSize"),g=e.get("feature")||{},y=this._features||(this._features={}),b=[];s.each(g,function(e,t){b.push(t)}),(new a(this._featureNames||[],b)).add(p).update(p).remove(s.curry(p,null)).execute(),this._featureNames=b,f.layout(v,e,n),f.addBackground(v,e),v.eachChild(function(e){var t=e.__title,r=e.hoverStyle;if(r&&t){var i=l.getBoundingRect(t,r.font),s=e.position[0]+v.position[0],o=e.position[1]+v.position[1]+m,u=!1;o+i.height>n.getHeight()&&(r.textPosition="top",u=!0);var a=u?-5-i.height:m+8;s+i.width/2>n.getWidth()?(r.textPosition=["100%",a],r.textAlign="right"):s-i.width/2<0&&(r.textPosition=[0,a],r.textAlign="left")}})}},updateView:function(e,t,n,r){s.each(this._features,function(e){e.updateView&&e.updateView(e.model,t,n,r)})},updateLayout:function(e,t,n,r){s.each(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,t,n,r)})},remove:function(e,t){s.each(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){s.each(this._features,function(n){n.dispose&&n.dispose(e,t)})}})}).call(t,n(189))},function(e,t,n){function r(e){var t={},n=[],r=[];return e.eachRawSeries(function(e){var i=e.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(e);else{var s=i.getBaseAxis();if("category"===s.type){var o=s.dim+"_"+s.index;t[o]||(t[o]={categoryAxis:s,valueAxis:i.getOtherAxis(s),series:[]},r.push({axisDim:s.dim,axisIndex:s.index})),t[o].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function i(e){var t=[];return d.each(e,function(e,n){var r=e.categoryAxis,i=e.valueAxis,s=i.dim,o=[" "].concat(d.map(e.series,function(e){return e.name})),u=[r.model.getCategories()];d.each(e.series,function(e){u.push(e.getRawData().mapArray(s,function(e){return e}))});for(var a=[o.join(g)],f=0;f<u[0].length;f++){for(var l=[],c=0;c<u.length;c++)l.push(u[c][f]);a.push(l.join(g))}t.push(a.join("\n"))}),t.join("\n\n"+m+"\n\n")}function s(e){return d.map(e,function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,function(){for(var e=arguments.length,i=arguments[e-1],s=t.getName(i),o=0;o<e-1;o++)r[o]=arguments[o];n.push((s?s+g:"")+r.join(g))}),n.join("\n")}).join("\n\n"+m+"\n\n")}function o(e){var t=r(e);return{value:d.filter([i(t.seriesGroupByCategoryAxis),s(t.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:t.meta}}function u(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function a(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(g)>=0)return!0}function f(e){for(var t=e.split(/\n+/g),n=u(t.shift()).split(y),r=[],i=d.map(n,function(e){return{name:e,data:[]}}),s=0;s<t.length;s++){var o=u(t[s]).split(y);r.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[s]=o[a])}return{series:i,categories:r}}function l(e){for(var t=e.split(/\n+/g),n=u(t.shift()),r=[],i=0;i<t.length;i++){var s,o=u(t[i]).split(y),a="",f=!1;isNaN(o[0])?(f=!0,a=o[0],o=o.slice(1),r[i]={name:a,value:[]},s=r[i].value):s=r[i]=[];for(var l=0;l<o.length;l++)s.push(+o[l]);1===s.length&&(f?r[i].value=s[0]:r[i]=s[0])}return{name:n,data:r}}function c(e,t){var n=e.split(new RegExp("\n*"+m+"\n*","g")),r={series:[]};return d.each(n,function(e,n){if(a(e)){var i=f(e),s=t[n],o=s.axisDim+"Axis";s&&(r[o]=r[o]||[],r[o][s.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{var i=l(e);r.series.push(i)}}),r}function h(e){this._dom=null,this.model=e}function p(e,t){return d.map(e,function(e,n){var r=t&&t[n];return d.isObject(r)&&!d.isArray(r)?(d.isObject(e)&&!d.isArray(e)&&(e=e.value),d.defaults({value:e},r)):e})}var d=n(1),v=n(20),m=(new Array(60)).join("-"),g="	",y=new RegExp("["+g+"]+","g");h.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"Êï∞ÊçÆËßÜÂõæ",lang:["Êï∞ÊçÆËßÜÂõæ","ÂÖ≥Èó≠","Âà∑Êñ∞"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},h.prototype.onclick=function(e,t){function n(){r.removeChild(s),T._dom=null}var r=t.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=i.get("backgroundColor")||"#fff";var u=document.createElement("h4"),a=i.get("lang")||[];u.innerHTML=a[0]||i.get("title"),u.style.cssText="margin: 10px 20px;",u.style.color=i.get("textColor");var f=document.createElement("div"),l=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var h=i.get("optionToContent"),p=i.get("contentToOption"),m=o(e);if("function"==typeof h){var y=h(t.getOption());"string"==typeof y?f.innerHTML=y:d.isDom(y)&&f.appendChild(y)}else f.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=m.value;var b=m.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:0;left:0;right:0;";var E="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),x=document.createElement("div");E+=";background-color:"+i.get("buttonColor"),E+=";color:"+i.get("buttonTextColor");var T=this;v.addEventListener(S,"click",n),v.addEventListener(x,"click",function(){var e;try{e="function"==typeof p?p(f,t.getOption()):c(l.value,b)}catch(r){throw n(),new Error("Data view format error "+r)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),n()}),S.innerHTML=a[1],x.innerHTML=a[2],x.style.cssText=E,S.style.cssText=E,!i.get("readOnly")&&w.appendChild(x),w.appendChild(S),v.addEventListener(l,"keydown",function(e){if(9===(e.keyCode||e.which)){var t=this.value,n=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,n)+g+t.substring(r),this.selectionStart=this.selectionEnd=n+1,v.stop(e)}}),s.appendChild(u),s.appendChild(f),s.appendChild(w),f.style.height=r.clientHeight-80+"px",r.appendChild(s),this._dom=s},h.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},h.prototype.dispose=function(e,t){this.remove(e,t)},n(28).register("dataView",h),n(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];d.each(e.newOption.series,function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get("data");n.push({name:e.name,data:p(e.data,i)})}else n.push(d.extend({type:"scatter"},e))}),t.mergeOption(d.defaults({series:n},e.newOption))}),e.exports=h},function(e,t,n){function r(e,t,n){(this._brushController=new a(n.getZr())).on("brush",u.bind(this._onBrush,this)).mount(),this._isZoomActive}function i(e){var t={};return u.each(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),(t[n]===!1||"none"===t[n])&&(t[n]=[])}),t}function s(e,t){e.setIconStatus("back",l.count(t)>1?"emphasis":"normal")}function o(e,t,n,r){var s=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(s="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n._isZoomActive=s,e.setIconStatus("zoom",s?"emphasis":"normal");var o=new f(i(e.option),t,{include:["grid"]});n._brushController.setPanels(o.makePanelOpts(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(!!s&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}var u=n(1),a=n(129),f=n(186),l=n(127),c=u.each;n(204);var h="\0_ec_\0toolbox-dataZoom_";r.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"Âå∫ÂüüÁº©Êîæ",back:"Âå∫ÂüüÁº©ÊîæËøòÂéü"}};var p=r.prototype;p.render=function(e,t,n,r){this.model=e,this.ecModel=t,this.api=n,o(e,t,this,r),s(e,t)},p.onclick=function(e,t,n){d[n].call(this)},p.remove=function(e,t){this._brushController.unmount()},p.dispose=function(e,t){this._brushController.dispose()};var d={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(l.pop(this.ecModel))}};p._onBrush=function(e,t){function n(e,t,n){var i=r(e,t.getAxis(e).model,o);i&&(s[i.id]={dataZoomId:i.id,startValue:n[0],endValue:n[1]})}function r(e,t,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){var i=n.getAxisModel(e,t.componentIndex);i&&(r=n)}),r}if(t.isEnd&&e.length){var s={},o=this.ecModel;this._brushController.updateCovers([]);var u=new f(i(this.model.option),o,{include:["grid"]});u.matchOutputRanges(e,o,function(e,t,r){if("cartesian2d"===r.type){var i=e.brushType;"rect"===i?(n("x",r,t[0]),n("y",r,t[1])):n({lineX:"x",lineY:"y"}[i],r,t)}}),l.push(o,s),this._dispatchZoomAction(s)}},p._dispatchZoomAction=function(e){var t=[];c(e,function(e,n){t.push(u.clone(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},n(28).register("dataZoom",r),n(2).registerPreprocessor(function(e){function t(e,t){if(t){var i=e+"Index",s=t[i];null==s||"all"==s||u.isArray(s)||(s=s===!1||"none"===s?[]:[s]),n(e,function(t,n){if(null==s||"all"==s||u.indexOf(s,n)!==-1){var o={type:"select",$fromToolbox:!0,id:h+e+n};o[i]=n,r.push(o)}})}}function n(t,n){var r=e[t];u.isArray(r)||(r=r?[r]:[]),c(r,n)}if(e){var r=e.dataZoom||(e.dataZoom=[]);u.isArray(r)||(e.dataZoom=r=[r]);var i=e.toolbox;if(i&&(u.isArray(i)&&(i=i[0]),i&&i.feature)){var s=i.feature.dataZoom;t("xAxis",s),t("yAxis",s)}}}),e.exports=r},function(e,t,n){function r(e){this.model=e}var i=n(1);r.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"ÂàáÊç¢‰∏∫ÊäòÁ∫øÂõæ",bar:"ÂàáÊç¢‰∏∫Êü±Áä∂Âõæ",stack:"ÂàáÊç¢‰∏∫Â†ÜÂè†",tiled:"ÂàáÊç¢‰∏∫Âπ≥Èì∫"},option:{},seriesIndex:{}};var s=r.prototype;s.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return i.each(e.get("type"),function(e){t[e]&&(n[e]=t[e])}),n};var o={line:function(e,t,n,r){if("bar"===e)return i.merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.line")||{},!0)},bar:function(e,t,n,r){if("line"===e)return i.merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.bar")||{},!0)},stack:function(e,t,n,r){if("line"===e||"bar"===e)return i.merge({id:t,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(e,t,n,r){if("line"===e||"bar"===e)return i.merge({id:t,stack:""},r.get("option.tiled")||{},!0)}},u=[["line","bar"],["stack","tiled"]];s.onclick=function(e,t,n){var r=this.model,s=r.get("seriesIndex."+n);if(o[n]){var a={series:[]},f=function(t){var s=t.subType,u=t.id,f=o[n](s,u,t,r);f&&(i.defaults(f,t.option),a.series.push(f));var l=t.coordinateSystem;if(l&&"cartesian2d"===l.type&&("line"===n||"bar"===n)){var c=l.getAxesByScale("ordinal")[0];if(c){var h=c.dim,p=h+"Axis",d=e.queryComponents({mainType:p,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],v=d.componentIndex;a[p]=a[p]||[];for(var m=0;m<=v;m++)a[p][v]=a[p][v]||{};a[p][v].boundaryGap="bar"===n}}};i.each(u,function(e){i.indexOf(e,n)>=0&&i.each(e,function(e){r.setIconStatus(e,"normal")})}),r.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},f),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a})}};var a=n(2);a.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),n(28).register("magicType",r),e.exports=r},function(e,t,n){function r(e){this.model=e}var i=n(127);r.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"ËøòÂéü"};var s=r.prototype;s.onclick=function(e,t,n){i.clear(e),t.dispatchAction({type:"restore",from:this.uid})},n(28).register("restore",r),n(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")}),e.exports=r},function(e,t,n){function r(e){this.model=e}var i=n(9);r.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"‰øùÂ≠ò‰∏∫ÂõæÁâá",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["Âè≥ÈîÆÂè¶Â≠ò‰∏∫ÂõæÁâá"]},r.prototype.unusable=!i.canvasSupported;var s=r.prototype;s.onclick=function(e,t){var n=this.model,r=n.get("name")||e.get("title.0.text")||"echarts",s=document.createElement("a"),o=n.get("type",!0)||"png";s.download=r+"."+o,s.target="_blank";var u=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(s.href=u,"function"!=typeof MouseEvent||i.browser.ie||i.browser.edge){var a=n.get("lang"),f='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(a&&a[0]||"")+'" /></body>',l=window.open();l.document.write(f)}else{var c=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});s.dispatchEvent(c)}},n(28).register("saveAsImage",r),e.exports=r},function(e,t,n){n(45),n(231),n(232),n(2).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n(2).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(e,t,n){function r(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return u.map(d,function(e){return e+"transition:"+n}).join(";")}function i(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();return r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),c(["decoration","align"],function(n){var r=e.get(n);r&&t.push("text-"+n+":"+r)}),t.join(";")}function s(e){var t=[],n=e.get("transitionDuration"),s=e.get("backgroundColor"),o=e.getModel("textStyle"),u=e.get("padding");return n&&t.push(r(n)),s&&(p.canvasSupported?t.push("background-Color:"+s):(t.push("background-Color:#"+a.toHex(s)),t.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],function(n){var r="border-"+n,i=h(r),s=e.get(i);null!=s&&t.push(r+":"+s+("color"===n?"":"px"))}),t.push(i(o)),null!=u&&t.push("padding:"+l.normalizeCssArray(u).join("px ")+"px"),t.join(";")+";"}function o(e,t){var n=document.createElement("div"),r=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var i=this;n.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0),i._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!i._enterable){var n=r.handler;f.normalizeEvent(e,t,!0),n.dispatch("mousemove",t)}},n.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay),i._inContent=!1}}var u=n(1),a=n(22),f=n(20),l=n(7),c=u.each,h=l.toCamelCase,p=n(9),d=["","-webkit-","-moz-","-o-"],v="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";o.prototype={constructor:o,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=v+s(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRoot())&&(e+=n.offsetLeft||0,t+=n.offsetTop||0);var i=this.el.style;i.left=e+"px",i.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(u.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}},e.exports=o},function(e,t,n){n(2).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}})},function(e,t,n){function r(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(n instanceof m&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new m(n,t,t.ecModel))}return t}function i(e,t){return e.dispatchAction||l.bind(t.dispatchAction,t)}function s(e,t,n,r,i,s,o){var u=n.clientWidth,a=n.clientHeight;return e+u+s>r?e-=u+s:e+=s,t+a+o>i?t-=a+o:t+=o,[e,t]}function o(e,t,n,r,i){var s=n.clientWidth,o=n.clientHeight;return e=Math.min(e+s,r)-s,t=Math.min(t+o,i)-o,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function u(e,t,n){var r=n[0],i=n[1],s=5,o=0,u=0,a=t.width,f=t.height;switch(e){case"inside":o=t.x+a/2-r/2,u=t.y+f/2-i/2;break;case"top":o=t.x+a/2-r/2,u=t.y-i-s;break;case"bottom":o=t.x+a/2-r/2,u=t.y+f+s;break;case"left":o=t.x-r-s,u=t.y+f/2-i/2;break;case"right":o=t.x+a+s,u=t.y+f/2-i/2}return[o,u]}function a(e){return"center"===e||"middle"===e}var f=n(230),l=n(1),c=n(7),h=n(4),p=n(75),d=n(12),v=n(9),m=n(10),g=n(76),y=n(17),b=n(55),w=l.bind,E=l.each,S=h.parsePercent;n(2).extendComponentView({type:"tooltip",init:function(e,t){if(!v.node){var n=new f(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!v.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys,this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel,t=e.get("triggerOn");g.register("itemTooltip",this._api,w(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(e,t,n,r){if(r.from!==this.uid&&!v.node){var s=i(r,n);this._ticket="";var o=r.seriesIndex,u=r.dataByCoordSys;if(u)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},s);else if(null!=o){var a=p(r,t),f=a.point[0],l=a.point[1];null!=f&&null!=l&&this._tryShow({offsetX:f,offsetY:l,position:r.position,target:a.el,event:{}},s)}else null!=r.x&&null!=r.y&&this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().handler.findHover(r.x,r.y),event:{}},s)}},manuallyHideTip:function(e,t,n,r){var s=this._tooltipContent;this._alwaysShowContent||s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide(i(r,n))},_tryShow:function(e,t){var n=e.target,r=this._tooltipModel;if(r){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=l.bind(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,i=this._tooltipModel,s=[t.offsetX,t.offsetY],o=[],u=[],a=r([t.tooltipOption,i]);E(e,function(e){E(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value,i=[];if(t&&null!=r){var s=b.getValueLabel(r,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);l.each(e.seriesDataIndices,function(o){var a=n.getSeriesByIndex(o.seriesIndex),f=o.dataIndexInside,l=a&&a.getDataParams(f);l.axisDim=e.axisDim,l.axisIndex=e.axisIndex,l.axisType=e.axisType,l.axisId=e.axisId,l.axisValue=y.getAxisRawValue(t.axis,r),l.axisValueLabel=s,l&&(u.push(l),i.push(a.formatTooltip(f,!0)))});var a=s;o.push((a?c.encodeHTML(a)+"<br />":"")+i.join("<br />"))}})},this),o.reverse(),o=o.join("<br /><br />");var f=t.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(a,f,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(a,o,u,Math.random(),s[0],s[1],f)})},_showSeriesItemTooltip:function(e,t,n){var i=this._ecModel,s=t.seriesIndex,o=i.getSeriesByIndex(s),u=t.dataModel||o,a=t.dataIndex,f=t.dataType,l=u.getData(),c=r([l.getItemModel(a),u,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),h=c.get("trigger");if(null==h||"item"===h){var p=u.getDataParams(a,f),d=u.formatTooltip(a,!1,f),v="item_"+u.name+"_"+a;this._showOrMove(c,function(){this._showTooltipContent(c,d,p,v,e.offsetX,e.offsetY,e.position,e.target)}),n({type:"showTip",dataIndexInside:a,dataIndex:l.getRawIndex(a),seriesIndex:s,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var r=t.tooltip;if("string"==typeof r){var i=r;r={content:i,formatter:i}}var s=new m(r,this._tooltipModel,this._ecModel),o=s.get("content"),u=Math.random();this._showOrMove(s,function(){this._showTooltipContent(s,o,s.get("formatterParams")||{},u,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,r,i,s,o,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var a=this._tooltipContent,f=e.get("formatter");o=o||e.get("position");var l=t;if(f&&"string"==typeof f)l=c.formatTpl(f,n,!0);else if("function"==typeof f){var h=w(function(t,r){t===this._ticket&&(a.setContent(r),this._updatePosition(e,o,i,s,a,n,u))},this);this._ticket=r,l=f(n,r,h)}a.setContent(l),a.show(e),this._updatePosition(e,o,i,s,a,n,u)}},_updatePosition:function(e,t,n,r,i,f,c){var h=this._api.getWidth(),p=this._api.getHeight();t=t||e.get("position");var v=i.getSize(),m=e.get("align"),g=e.get("verticalAlign"),y=c&&c.getBoundingRect().clone();if(c&&y.applyTransform(c.transform),"function"==typeof t&&(t=t([n,r],f,i.el,y,{viewSize:[h,p],contentSize:v.slice()})),l.isArray(t))n=S(t[0],h),r=S(t[1],p);else if(l.isObject(t)){t.width=v[0],t.height=v[1];var b=d.getLayoutRect(t,{width:h,height:p});n=b.x,r=b.y,m=null,g=null}else if("string"==typeof t&&c){var w=u(t,y,v);n=w[0],r=w[1]}else{var w=s(n,r,i.el,h,p,m?0:20,g?0:20);n=w[0],r=w[1]}if(m&&(n-=a(m)?v[0]/2:"right"===m?v[0]:0),g&&(r-=a(g)?v[1]/2:"bottom"===g?v[1]:0),e.get("confine")){var w=o(n,r,i.el,h,p);n=w[0],r=w[1]}i.moveTo(n,r)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return E(t,function(t,r){var i=t.dataByAxis||{},s=e[r]||{},o=s.dataByAxis||[];n&=i.length===o.length,E(i,function(e,t){var r=o[t]||{},i=e.seriesDataIndices||[],s=r.seriesDataIndices||[];n&=e.value===r.value&&e.axisType===r.axisType&&e.axisId===r.axisId&&i.length===s.length,E(i,function(e,t){var r=s[t];n&=e.seriesIndex===r.seriesIndex&&e.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){v.node||(this._tooltipContent.hide(),g.unregister("itemTooltip",t))}})},function(e,t,n){function r(e,t){var n=e.get("center"),r=e.get("radius"),i=t.getWidth(),s=t.getHeight(),o=u.parsePercent;this.cx=o(n[0],i),this.cy=o(n[1],s);var a=this.getRadiusAxis(),f=Math.min(i,s)/2;a.setExtent(0,o(r,f))}function i(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();i.scale.unionExtentFromData(t,"radius"),r.scale.unionExtentFromData(t,"angle")}}),f(r.scale,r.model),f(i.scale,i.model),"category"===r.type&&!r.onBand){var s=r.getExtent(),o=360/r.scale.count();r.inverse?s[1]+=o:s[1]-=o,r.setExtent(s[0],s[1])}}function s(e,t){if(e.type=t.get("type"),e.scale=a.createScaleByModel(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,"angleAxis"===t.mainType){var n=t.get("startAngle");e.inverse=t.get("inverse")^t.get("clockwise"),e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var o=n(403),u=n(4),a=(n(1),n(17)),f=a.niceScaleExtent;n(404);var l={dimensions:o.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(e,u){var a=new o(u);a.resize=r,a.update=i;var f=a.getRadiusAxis(),l=a.getAngleAxis(),c=e.findAxisModel("radiusAxis"),h=e.findAxisModel("angleAxis");s(f,c),s(l,h),a.resize(e,t),n.push(a),e.coordinateSystem=a,a.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}};n(26).register("polar",l)},function(e,t,n){function r(e){return parseInt(e,10)}function i(e,t){u.initVML(),this.root=e,this.storage=t;var n=document.createElement("div"),r=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=r,this._vmlViewport=n,this.resize();var i=t.delFromMap,s=t.addToMap;t.delFromMap=function(e){var n=t.get(e);i.call(t,e),n&&n.onRemove&&n.onRemove(r)},t.addToMap=function(e){e.onAdd&&e.onAdd(r),s.call(t,e)},this._firstPaint=!0}function s(e){return function(){o('In IE8.0 VML mode painter not support method "'+e+'"')}}var o=n(52),u=n(184);i.prototype={constructor:i,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var r=e[n];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(t),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(t),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,t),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){var e=null==e?this._getWidth():e,t=null==t?this._getHeight():t;if(this._width!=e||this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||r(t.width))-r(t.paddingLeft)-r(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||r(t.height))-r(t.paddingTop)-r(t.paddingBottom)|0}};for(var a=["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],f=0;f<a.length;f++){var l=a[f];i.prototype[l]=s(l)}e.exports=i},function(e,t,n){if(!n(9).canvasSupported){var r=n(6),i=n(11),s=n(30).CMD,o=n(22),u=n(16),a=n(86),f=n(40),l=n(53),c=n(85),h=n(8),p=n(41),d=n(184),v=Math.round,m=Math.sqrt,g=Math.abs,y=Math.cos,b=Math.sin,w=Math.max,E=r.applyTransform,S=",",x="progid:DXImageTransform.Microsoft",T=21600,N=T/2,C=1e5,k=1e3,L=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=T+","+T,e.coordorigin="0,0"},A=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},O=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},M=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},_=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},D=function(e,t,n){return(parseFloat(e)||0)*C+(parseFloat(t)||0)*k+n},P=function(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},H=function(e,t,n){var r=o.parse(t);n=+n,isNaN(n)&&(n=1),r&&(e.color=O(r[0],r[1],r[2]),e.opacity=n*r[3])},B=function(e){var t=o.parse(e);return[O(t[0],t[1],t[2]),t[3]]},j=function(e,t,n){var r=t.fill;if(null!=r)if(r instanceof p){var i,s=0,o=[0,0],u=0,a=1,f=n.getBoundingRect(),l=f.width,c=f.height;if("linear"===r.type){i="gradient";var h=n.transform,d=[r.x*l,r.y*c],v=[r.x2*l,r.y2*c];h&&(E(d,d,h),E(v,v,h));var m=v[0]-d[0],g=v[1]-d[1];s=180*Math.atan2(m,g)/Math.PI,s<0&&(s+=360),s<1e-6&&(s=0)}else{i="gradientradial";var d=[r.x*l,r.y*c],h=n.transform,y=n.scale,b=l,S=c;o=[(d[0]-f.x)/b,(d[1]-f.y)/S],h&&E(d,d,h),b/=y[0]*T,S/=y[1]*T;var x=w(b,S);u=0/x,a=2*r.r/x-u}var N=r.colorStops.slice();N.sort(function(e,t){return e.offset-t.offset});for(var C=N.length,k=[],L=[],A=0;A<C;A++){var O=N[A],M=B(O.color);L.push(O.offset*a+u+" "+M[0]),0!==A&&A!==C-1||k.push(M)}if(C>=2){var _=k[0][0],D=k[1][0],P=k[0][1]*t.opacity,j=k[1][1]*t.opacity;e.type=i,e.method="none",e.focus="100%",e.angle=s,e.color=_,e.color2=D,e.colors=L.join(","),e.opacity=j,e.opacity2=P}"radial"===i&&(e.focusposition=o.join(","))}else H(e,r,t.opacity)},F=function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t.stroke||t.stroke instanceof p||H(e,t.stroke,t.opacity)},I=function(e,t,n,r){var i="fill"==t,s=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(i||!i&&n.lineWidth)?(e[i?"filled":"stroked"]="true",n[t]instanceof p&&_(e,s),s||(s=d.createNode(t)),i?j(s,n,r):F(s,n),M(e,s)):(e[i?"filled":"stroked"]="false",_(e,s))},q=[[],[],[]],R=function(e,t){var n,r,i,o,u,a,f=s.M,l=s.C,c=s.L,h=s.A,p=s.Q,d=[];for(o=0;o<e.length;){switch(i=e[o++],r="",n=0,i){case f:r=" m ",n=1,u=e[o++],a=e[o++],q[0][0]=u,q[0][1]=a;break;case c:r=" l ",n=1,u=e[o++],a=e[o++],q[0][0]=u,q[0][1]=a;break;case p:case l:r=" c ",n=3;var g,w,x=e[o++],C=e[o++],k=e[o++],L=e[o++];i===p?(g=k,w=L,k=(k+2*x)/3,L=(L+2*C)/3,x=(u+2*x)/3,C=(a+2*C)/3):(g=e[o++],w=e[o++]),q[0][0]=x,q[0][1]=C,q[1][0]=k,q[1][1]=L,q[2][0]=g,q[2][1]=w,u=g,a=w;break;case h:var A=0,O=0,M=1,_=1,D=0;t&&(A=t[4],O=t[5],M=m(t[0]*t[0]+t[1]*t[1]),_=m(t[2]*t[2]+t[3]*t[3]),D=Math.atan2(-t[1]/_,t[0]/M));var P=e[o++],H=e[o++],B=e[o++],j=e[o++],F=e[o++]+D,I=e[o++]+F+D;o++;var R=e[o++],U=P+y(F)*B,z=H+b(F)*j,x=P+y(I)*B,C=H+b(I)*j,W=R?" wa ":" at ";Math.abs(U-x)<1e-4&&(Math.abs(I-F)>.01?R&&(U+=270/T):Math.abs(z-H)<1e-4?R&&U<P||!R&&U>P?C-=270/T:C+=270/T:R&&z<H||!R&&z>H?x+=270/T:x-=270/T),d.push(W,v(((P-B)*M+A)*T-N),S,v(((H-j)*_+O)*T-N),S,v(((P+B)*M+A)*T-N),S,v(((H+j)*_+O)*T-N),S,v((U*M+A)*T-N),S,v((z*_+O)*T-N),S,v((x*M+A)*T-N),S,v((C*_+O)*T-N)),u=x,a=C;break;case s.R:var X=q[0],V=q[1];X[0]=e[o++],X[1]=e[o++],V[0]=X[0]+e[o++],V[1]=X[1]+e[o++],t&&(E(X,X,t),E(V,V,t)),X[0]=v(X[0]*T-N),V[0]=v(V[0]*T-N),X[1]=v(X[1]*T-N),V[1]=v(V[1]*T-N),d.push(" m ",X[0],S,X[1]," l ",V[0],S,X[1]," l ",V[0],S,V[1]," l ",X[0],S,V[1]);break;case s.Z:d.push(" x ")}if(n>0){d.push(r);for(var $=0;$<n;$++){var J=q[$];t&&E(J,J,t),d.push(v(J[0]*T-N),S,v(J[1]*T-N),$<n-1?S:"")}}}return d.join("")};h.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=d.createNode("shape"),L(n),this._vmlEl=n),I(n,"fill",t,this),I(n,"stroke",t,this);var r=this.transform,i=null!=r,s=n.getElementsByTagName("stroke")[0];if(s){var o=t.lineWidth;if(i&&!t.strokeNoScale){var u=r[0]*r[3]-r[1]*r[2];o*=m(g(u))}s.weight=o+"px"}var a=this.path;this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape),a.toStatic(),this.__dirtyPath=!1),n.path=R(a.data,this.transform),n.style.zIndex=D(this.zlevel,this.z,this.z2),M(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},h.prototype.onRemove=function(e){_(e,this._vmlEl),this.removeRectText(e)},h.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)};var U=function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()};l.prototype.brushVML=function(e){var t,n,r=this.style,i=r.image;if(U(i)){var s=i.src;if(s===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var o=i.runtimeStyle,u=o.width,a=o.height;o.width="auto",o.height="auto",t=i.width,n=i.height,o.width=u,o.height=a,this._imageSrc=s,this._imageWidth=t,this._imageHeight=n}i=s}else i===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(i){var f=r.x||0,l=r.y||0,c=r.width,h=r.height,p=r.sWidth,g=r.sHeight,y=r.sx||0,b=r.sy||0,T=p&&g,N=this._vmlEl;N||(N=d.doc.createElement("div"),L(N),this._vmlEl=N);var C,k=N.style,A=!1,O=1,_=1;if(this.transform&&(C=this.transform,O=m(C[0]*C[0]+C[1]*C[1]),_=m(C[2]*C[2]+C[3]*C[3]),A=C[1]||C[2]),A){var P=[f,l],H=[f+c,l],B=[f,l+h],j=[f+c,l+h];E(P,P,C),E(H,H,C),E(B,B,C),E(j,j,C);var F=w(P[0],H[0],B[0],j[0]),I=w(P[1],H[1],B[1],j[1]),q=[];q.push("M11=",C[0]/O,S,"M12=",C[2]/_,S,"M21=",C[1]/O,S,"M22=",C[3]/_,S,"Dx=",v(f*O+C[4]),S,"Dy=",v(l*_+C[5])),k.padding="0 "+v(F)+"px "+v(I)+"px 0",k.filter=x+".Matrix("+q.join("")+", SizingMethod=clip)"}else C&&(f=f*O+C[4],l=l*_+C[5]),k.filter="",k.left=v(f)+"px",k.top=v(l)+"px";var R=this._imageEl,z=this._cropEl;R||(R=d.doc.createElement("div"),this._imageEl=R);var W=R.style;if(T){if(t&&n)W.width=v(O*t*c/p)+"px",W.height=v(_*n*h/g)+"px";else{var X=new Image,V=this;X.onload=function(){X.onload=null,t=X.width,n=X.height,W.width=v(O*t*c/p)+"px",W.height=v(_*n*h/g)+"px",V._imageWidth=t,V._imageHeight=n,V._imageSrc=i},X.src=i}z||(z=d.doc.createElement("div"),z.style.overflow="hidden",this._cropEl=z);var $=z.style;$.width=v((c+y*c/p)*O),$.height=v((h+b*h/g)*_),$.filter=x+".Matrix(Dx="+ -y*c/p*O+",Dy="+ -b*h/g*_+")",z.parentNode||N.appendChild(z),R.parentNode!=z&&z.appendChild(R)}else W.width=v(O*c)+"px",W.height=v(_*h)+"px",N.appendChild(R),z&&z.parentNode&&(N.removeChild(z),this._cropEl=null);var J="",K=r.opacity;K<1&&(J+=".Alpha(opacity="+v(100*K)+") "),J+=x+".AlphaImageLoader(src="+i+", SizingMethod=scale)",W.filter=J,N.style.zIndex=D(this.zlevel,this.z,this.z2),M(e,N),null!=r.text&&this.drawRectText(e,this.getBoundingRect())}},l.prototype.onRemove=function(e){_(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},l.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)};var z,W="normal",X={},V=0,$=100,J=document.createElement("div"),K=function(e){var t=X[e];if(!t){V>$&&(V=0,X={});var n,r=J.style;try{r.font=e,n=r.fontFamily.split(",")[0]}catch(i){}t={style:r.fontStyle||W,variant:r.fontVariant||W,weight:r.fontWeight||W,size:0|parseFloat(r.fontSize||12),family:n||"Microsoft YaHei"},X[e]=t,V++}return t};u.measureText=function(e,t){var n=d.doc;z||(z=n.createElement("div"),z.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",d.doc.body.appendChild(z));try{z.style.font=t}catch(r){}return z.innerHTML="",z.appendChild(n.createTextNode(e)),{width:z.offsetWidth}};for(var Q=new i,G=function(e,t,n,r){var i=this.style,s=i.text;if(null!=s&&(s+=""),s){var o,a,f=i.textAlign,l=K(i.textFont),c=l.style+" "+l.variant+" "+l.weight+" "+l.size+'px "'+l.family+'"',h=i.textBaseline,p=i.textVerticalAlign;n=n||u.getBoundingRect(s,c,f,h);var m=this.transform;if(m&&!r&&(Q.copy(t),Q.applyTransform(m),t=Q),r)o=t.x,a=t.y;else{var g=i.textPosition,y=i.textDistance;if(g instanceof Array)o=t.x+P(g[0],t.width),a=t.y+P(g[1],t.height),f=f||"left",h=h||"top";else{var b=u.adjustTextPositionOnRect(g,t,n,y);o=b.x,a=b.y,f=f||b.textAlign,h=h||b.textBaseline}}if(p){switch(p){case"middle":a-=n.height/2;break;case"bottom":a-=n.height}h="top"}var w=l.size;switch(h){case"hanging":case"top":a+=w/1.75;break;case"middle":break;default:a-=w/2.25}switch(f){case"left":break;case"center":o-=n.width/2;break;case"right":o-=n.width}var x,T,N,C=d.createNode,k=this._textVmlEl;k?(N=k.firstChild,x=N.nextSibling,T=x.nextSibling):(k=C("line"),x=C("path"),T=C("textpath"),N=C("skew"),T.style["v-text-align"]="left",L(k),x.textpathok=!0,T.on=!0,k.from="0 0",k.to="1000 0.05",M(k,N),M(k,x),M(k,T),this._textVmlEl=k);var O=[o,a],_=k.style;m&&r?(E(O,O,m),N.on=!0,N.matrix=m[0].toFixed(3)+S+m[2].toFixed(3)+S+m[1].toFixed(3)+S+m[3].toFixed(3)+",0,0",N.offset=(v(O[0])||0)+","+(v(O[1])||0),N.origin="0 0",_.left="0px",_.top="0px"):(N.on=!1,_.left=v(o)+"px",_.top=v(a)+"px"),T.string=A(s);try{T.style.font=c}catch(H){}I(k,"fill",{fill:r?i.fill:i.textFill,opacity:i.opacity},this),I(k,"stroke",{stroke:r?i.stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),k.style.zIndex=D(this.zlevel,this.z,this.z2),M(e,k)}},Y=function(e){_(e,this._textVmlEl),this._textVmlEl=null},Z=function(e){M(e,this._textVmlEl)},et=[a,f,l,h,c],tt=0;tt<et.length;tt++){var nt=et[tt].prototype;nt.drawRectText=G,nt.removeRectText=Y,nt.appendRectText=Z}c.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},c.prototype.onRemove=function(e){this.removeRectText(e)},c.prototype.onAdd=function(e){this.appendRectText(e)}}},function(e,t,n){n(235),n(87).registerPainter("vml",n(234))},function(e,t,n){var r=n(1),i=n(238),s=n(2);s.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){var s=t.coordinateSystem;if("geo"===s.type){var o=i.updateCenterAndZoom(s,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===n&&r.each(t.seriesGroup,function(e){e.setCenter(o.center),e.setZoom(o.zoom)})}})})},function(e,t){var n={};n.updateCenterAndZoom=function(e,t,n){var r=e.getZoom(),i=e.getCenter(),s=t.zoom,o=e.dataToPoint(i);if(null!=t.dx&&null!=t.dy){o[0]-=t.dx,o[1]-=t.dy;var i=e.pointToData(o);e.setCenter(i)}if(null!=s){if(n){var u=n.min||0,a=n.max||1/0;s=Math.max(Math.min(r*s,a),u)/r}e.scale[0]*=s,e.scale[1]*=s;var f=e.position,l=(t.originX-f[0])*(s-1),c=(t.originY-f[1])*(s-1);f[0]-=l,f[1]-=c,e.updateTransform();var i=e.pointToData(o);e.setCenter(i),e.setZoom(s*r)}return{center:e.getCenter(),zoom:e.getZoom()}},e.exports=n},function(e,t,n){var r=n(6);e.exports=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=t.getBoundingRect(),i=e.getData(),s=i.graph,o=0,u=i.getSum("value"),a=2*Math.PI/(u||i.count()),f=n.width/2+n.x,l=n.height/2+n.y,c=Math.min(n.width,n.height)/2;s.eachNode(function(e){var t=e.getValue("value");o+=a*(u?t:1)/2,e.setLayout([c*Math.cos(o)+f,c*Math.sin(o)+l]),o+=a*(u?t:1)/2}),i.setLayout({cx:f,cy:l}),s.eachEdge(function(e){var t,n=e.getModel().get("lineStyle.normal.curveness")||0,i=r.clone(e.node1.getLayout()),s=r.clone(e.node2.getLayout()),o=(i[0]+s[0])/2,u=(i[1]+s[1])/2;+n&&(n*=3,t=[f*n+o*(1-n),l*n+u*(1-n)]),e.setLayout([i,s,t])})}}},function(e,t,n){var r=n(6);e.exports=function(e){e.eachEdge(function(e){var t=e.getModel().get("lineStyle.normal.curveness")||0,n=r.clone(e.node1.getLayout()),i=r.clone(e.node2.getLayout()),s=[n,i];+t&&s.push([(n[0]+i[0])/2-(n[1]-i[1])*t,(n[1]+i[1])/2-(i[0]-n[0])*t]),e.setLayout(s)})}},function(e,t,n){var r=n(240);e.exports=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),r(n)}}},function(e,t,n){function r(e,t,n){i.Group.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var i=n(3),s=n(108),o=n(1),u=n(24),a=n(6),f=n(21),l=r.prototype;l.createLine=function(e,t,n){return new s(e,t,n)},l._updateEffectSymbol=function(e,t){var n=e.getItemModel(t),r=n.getModel("effect"),i=r.get("symbolSize"),s=r.get("symbol");o.isArray(i)||(i=[i,i]);var a=r.get("color")||e.getItemVisual(t,"color"),f=this.childAt(1);this._symbolType!==s&&(this.remove(f),f=u.createSymbol(s,-0.5,-0.5,1,1,a),f.z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",a),f.setStyle(r.getItemStyle(["color"])),f.attr("scale",i),f.setColor(a),f.attr("scale",i),this._symbolType=s,this._updateEffectAnimation(e,r,t))},l._updateEffectAnimation=function(e,t,n){var r=this.childAt(1);if(r){var i=this,s=e.getItemLayout(n),u=1e3*t.get("period"),a=t.get("loop"),f=t.get("constantSpeed"),l=o.retrieve(t.get("delay"),function(t){return t/e.count()*u/3}),c="function"==typeof l;if(r.ignore=!0,this.updateAnimationPoints(r,s),f>0&&(u=this.getLineLength(r)/f*1e3),u!==this._period||a!==this._loop){r.stopAnimation();var h=l;c&&(h=l(n)),r.__t>0&&(h=-u*r.__t),r.__t=0;var p=r.animate("",a).when(u,{__t:1}).delay(h).during(function(){i.updateSymbolPosition(r)});a||p.done(function(){i.remove(r)}),p.start()}this._period=u,this._loop=a}},l.getLineLength=function(e){return a.dist(e.__p1,e.__cp1)+a.dist(e.__cp1,e.__p2)},l.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},l.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},l.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,r=e.__cp1,i=e.__t,s=e.position,o=f.quadraticAt,u=f.quadraticDerivativeAt;s[0]=o(t[0],r[0],n[0],i),s[1]=o(t[1],r[1],n[1],i);var a=u(t[0],r[0],n[0],i),l=u(t[1],r[1],n[1],i);e.rotation=-Math.atan2(l,a)-Math.PI/2,e.ignore=!1},l.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},o.inherits(r,i.Group),e.exports=r},function(e,t,n){function r(e,t,n){i.Group.call(this),this._createPolyline(e,t,n)}var i=n(3),s=n(1),o=r.prototype;o._createPolyline=function(e,t,n){var r=e.getItemLayout(t),s=new i.Polyline({shape:{points:r}});this.add(s),this._updateCommonStl(e,t,n)},o.updateData=function(e,t,n){var r=e.hostModel,s=this.childAt(0),o={shape:{points:e.getItemLayout(t)}};i.updateProps(s,o,r,t),this._updateCommonStl(e,t,n)},o._updateCommonStl=function(e,t,n){var r=this.childAt(0),o=e.getItemModel(t),u=e.getItemVisual(t,"color"),a=n&&n.lineStyle,f=n&&n.hoverLineStyle;n&&!e.hasItemOption||(a=o.getModel("lineStyle.normal").getLineStyle(),f=o.getModel("lineStyle.emphasis").getLineStyle()),r.useStyle(s.defaults({strokeNoScale:!0,fill:"none",stroke:u},a)),r.hoverStyle=f,i.setHoverStyle(this)},o.updateLayout=function(e,t){var n=this.childAt(0);n.setShape("points",e.getItemLayout(t))},s.inherits(r,i.Group),e.exports=r},function(e,t,n){var r=n(14),i=n(413),s=n(261),o=n(25),u=n(26),a=n(1),f=n(27);e.exports=function(e,t,n,l,c){for(var h=new i(l),p=0;p<e.length;p++)h.addNode(a.retrieve(e[p].id,e[p].name,p),p);for(var d=[],v=[],m=0,p=0;p<t.length;p++){var g=t[p],y=g.source,b=g.target;h.addEdge(y,b,m)&&(v.push(g),d.push(a.retrieve(g.id,y+" > "+b)),m++)}var w,E=n.get("coordinateSystem");if("cartesian2d"===E||"polar"===E)w=f(e,n,n.ecModel);else{var S=u.get(E),x=o((S&&"view"!==S.type?S.dimensions||[]:[]).concat(["value"]),e);w=new r(x,n),w.initData(e)}var T=new r(["value"],n);return T.initData(v,d),c&&c(w,T),s({mainData:w,struct:h,structAttr:"graph",datas:{node:w,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}},function(e,t,n){var r=n(1),i={};i.layout=function(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,s={},o=i.position,u=i.orient,a=n.getRect(),f=[a.x,a.x+a.width,a.y,a.y+a.height],l={horizontal:{top:f[2],bottom:f[3]},vertical:{left:f[0],right:f[1]}};s.position=["vertical"===u?l.vertical[o]:f[0],"horizontal"===u?l.horizontal[o]:f[3]];var c={horizontal:0,vertical:1};s.rotation=Math.PI/2*c[u];var h={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=h[o],e.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),r.retrieve(t.labelInside,e.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var p=t.rotate;return null==p&&(p=e.get("axisLabel.rotate")),s.labelRotation="top"===o?-p:p,s.labelInterval=i.getLabelInterval(),s.z2=1,s},e.exports=i},function(e,t,n){function r(e,t,n,r,i){var s=t.axis,u=s.dataToCoord(e),l=r.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var c,h,p,d=r.getRadiusAxis().getExtent();if("radius"===s.dim){var v=a.create();a.rotate(v,v,l),a.translate(v,v,[r.cx,r.cy]),c=o.applyTransform([u,-i],v);var m=t.getModel("axisLabel").get("rotate")||0,g=f.innerTextLayout(l,m*Math.PI/180,-1);h=g.textAlign,p=g.textVerticalAlign}else{var y=d[1];c=r.coordToPoint([y+i,u]);var b=r.cx,w=r.cy;h=Math.abs(c[0]-b)/y<.3?"center":c[0]>b?"left":"right",p=Math.abs(c[1]-w)/y<.3?"middle":c[1]>w?"top":"bottom"}return{position:c,align:h,verticalAlign:p}}var i=n(7),s=n(74),o=n(3),u=n(55),a=n(19),f=n(37),l=s.extend({makeElOption:function(e,t,n,s,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var f,l=a.polar,h=l.getOtherAxis(a),p=h.getExtent();f=a["dataTo"+i.capitalFirst(a.dim)](t);var d=u.buildElStyle(s),v=c[s.get("type")](a,l,f,p,d);v.style=d,e.graphicKey=v.type,e.pointer=v;var m=s.get("label.margin"),g=r(t,n,s,l,m);u.buildLabelElOption(e,n,s,o,g)}}),c={line:function(e,t,n,r,i){return"angle"===e.dim?{type:"Line",shape:u.makeLineShape(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r,i){var s=e.getBandWidth(),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:u.makeSectorShape(t.cx,t.cy,r[0],r[1],(-n-s/2)*o,(-n+s/2)*o)}:{type:"Sector",shape:u.makeSectorShape(t.cx,t.cy,n-s/2,n+s/2,0,2*Math.PI)}}};e.exports=l},function(e,t,n){function r(e,t){var n=e.getItemStyle(),r=e.get("areaColor");return null!=r&&(n.fill=r),n}function i(e,t,n,r,i){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(o){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var u=o.target;!u.__regions;)u=u.parent;if(u){var a={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:f.map(u.__regions,function(e){return{name:e.name,from:i.uid}})};a[t.mainType+"Id"]=t.id,r.dispatchAction(a),s(t,n)}}}))}function s(e,t){t.eachChild(function(t){f.each(t.__regions,function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")})})}function o(e,t){var n=new a.Group;this._controller=new u(e.getZr(),t?n:null,null),this.group=n,this._updateGroup=t,this._mouseDownFlag}var u=n(94),a=n(3),f=n(1);o.prototype={constructor:o,draw:function(e,t,n,o,u){var l="geo"===e.mainType,c=e.getData&&e.getData();l&&t.eachComponent({mainType:"series",subType:"map"},function(t){c||t.getHostGeoModel()!==e||(c=t.getData())});var h=e.coordinateSystem,p=this.group,d=h.scale,v={position:h.position,scale:d};!p.childAt(0)||u?p.attr(v):a.updateProps(p,v,e),p.removeAll();var m=["itemStyle","normal"],g=["itemStyle","emphasis"],y=["label","normal"],b=["label","emphasis"],w={};f.each(h.regions,function(t){var n=w[t.name]||(w[t.name]=new a.Group),i=new a.CompoundPath({shape:{paths:[]}});n.add(i);var s,o=e.getRegionModel(t.name)||e,u=o.getModel(m),h=o.getModel(g),v=r(u,d),S=r(h,d),x=o.getModel(y),T=o.getModel(b);if(c){s=c.indexOfName(t.name);var N=c.getItemVisual(s,"color",!0);N&&(v.fill=N)}var C=x.getModel("textStyle"),k=T.getModel("textStyle");f.each(t.geometries,function(e){if("polygon"===e.type){i.shape.paths.push(new a.Polygon({shape:{points:e.exterior}}));for(var t=0;t<(e.interiors?e.interiors.length:0);t++)i.shape.paths.push(new a.Polygon({shape:{points:e.interiors[t]}}))}}),i.setStyle(v),i.style.strokeNoScale=!0,i.culling=!0;var L=x.get("show"),A=T.get("show"),O=c&&isNaN(c.get("value",s)),M=c&&c.getItemLayout(s);if(l||O&&(L||A)||M&&M.showLabel){var _=c?s:t.name,D=e.getFormattedLabel(_,"normal"),P=e.getFormattedLabel(_,"emphasis"),H=new a.Text({style:{text:L?D||t.name:"",fill:C.getTextColor(),textFont:C.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:A?P||t.name:"",fill:k.getTextColor(),textFont:k.getFont()},position:t.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});n.add(H)}if(c)c.setItemGraphicEl(s,n);else{var o=e.getRegionModel(t.name);i.eventData={componentType:"geo",geoIndex:e.componentIndex,name:t.name,region:o&&o.option||{}}}var B=n.__regions||(n.__regions=[]);B.push(t),a.setHoverStyle(n,S,{hoverSilentOnTouch:!!e.get("selectedMode")}),p.add(n)}),this._updateController(e,t,n),i(this,e,p,n,o),s(e,p)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(e,t,n){function r(){var t={type:"geoRoam",componentType:o};return t[o+"Id"]=e.id,t}var i=e.coordinateSystem,s=this._controller;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),s.enable(e.get("roam")||!1);var o=e.mainType;s.off("pan").on("pan",function(e,t){this._mouseDownFlag=!1,n.dispatchAction(f.extend(r(),{dx:e,dy:t}))},this),s.off("zoom").on("zoom",function(e,t,i){if(this._mouseDownFlag=!1,n.dispatchAction(f.extend(r(),{zoom:e,originX:t,originY:i})),this._updateGroup){var s=this.group,o=s.scale;s.traverse(function(e){"text"===e.type&&e.attr("scale",[1/o[0],1/o[1]])})}},this),s.setContainsPoint(function(e,t){return i.getViewRectAfterRoam().contain(e,t)})}},e.exports=o},function(e,t,n){n(260),n(399),n(367);var r=n(2),i=n(1),s=5;r.extendComponentView({type:"parallel",render:function(e,t,n){var r=n.getZr();if(!this.__onMouseDown){var o;r.on("mousedown",this.__onMouseDown=function(e){o=[e.offsetX,e.offsetY]}),r.on("mouseup",this.__onMouseUp=function(t){var r=[t.offsetX,t.offsetY],a=Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2);if(e.get("axisExpandable")&&!(a>s)){var f=e.coordinateSystem,l=f.findClosestAxisDim(r);if(l){var c=i.indexOf(f.dimensions,l);n.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:c})}}})}},dispose:function(e,t){t.getZr().off(this.__onMouseDown),t.getZr().off(this.__onMouseUp)}}),r.registerPreprocessor(n(400))},function(e,t,n){n(412),n(353),n(409),n(45);var r=n(2);r.extendComponentView({type:"single"})},function(e,t,n){var r=n(2),i=n(1),s=n(9),o=n(263),u=n(82),a=n(188),f=u.mapVisual,l=n(5),c=u.eachVisual,h=n(4),p=i.isArray,d=i.each,v=h.asc,m=h.linearMap,g=i.noop,y=["#f6efa6","#d88273","#bf444c"],b=r.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;s.canvasSupported||(n.realtime=!1),!t&&a.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=i.bind(e,this),this.controllerVisuals=a.createVisualMappings(this.option.controller,t,e),this.targetVisuals=a.createVisualMappings(this.option.target,t,e)},resetTargetSeries:function(){var e=this.option,t=null==e.seriesIndex;e.seriesIndex=t?[]:l.normalizeToArray(e.seriesIndex),t&&this.ecModel.eachSeries(function(t,n){e.seriesIndex.push(n)})},eachTargetSeries:function(e,t){i.each(this.option.seriesIndex,function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function r(e){return e===f[0]?"min":e===f[1]?"max":(+e).toFixed(a)}var s,o,u=this.option,a=u.precision,f=this.dataBound,l=u.formatter;return n=n||["<",">"],i.isArray(e)&&(e=e.slice(),s=!0),o=t?e:s?[r(e[0]),r(e[1])]:r(e),i.isString(l)?l.replace("{value}",s?o[0]:o).replace("{value2}",s?o[1]:o):i.isFunction(l)?s?l(e[0],e[1]):l(e):s?e[0]===f[0]?n[0]+" "+o[1]:e[1]===f[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var e=this.option,t=v([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;return null!=t?t:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){p(r.color)&&!e.inRange&&(e.inRange={color:r.color.slice().reverse()}),e.inRange=e.inRange||{color:y},d(this.stateList,function(t){var n=e[t];if(i.isString(n)){var r=o.get(n,"active",h);r?(e[t]={},e[t][n]=r):delete e[t]}},this)}function t(e,t,n){var r=e[t],i=e[n];r&&!i&&(i=e[n]={},d(r,function(e,t){if(u.isValidType(t)){var n=o.get(t,"inactive",h);null!=n&&(i[t]=n,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}}))}function n(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor");d(this.stateList,function(s){var o=this.itemSize,u=e[s];u||(u=e[s]={color:h?r:[r]}),null==u.symbol&&(u.symbol=t&&i.clone(t)||(h?"roundRect":["roundRect"])),null==u.symbolSize&&(u.symbolSize=n&&i.clone(n)||(h?o[0]:[o[0],o[0]])),u.symbol=f(u.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var a=u.symbolSize;if(null!=a){var l=-1/0;c(a,function(e){e>l&&(l=e)}),u.symbolSize=f(a,function(e){return m(e,[0,l],[0,o[0]],!0)})}},this)}var r=this.option,s={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),l=r.controller||(r.controller={});i.merge(a,s),i.merge(l,s);var h=this.isCategory();e.call(this,a),e.call(this,l),t.call(this,a,"inRange","outOfRange"),n.call(this,l)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:g,getValueState:g,getVisualMeta:g});e.exports=b},function(e,t,n){var r=n(1),i=n(3),s=n(7),o=n(12),u=n(2),a=n(82);e.exports=u.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,r){return this.visualMapModel=e,e.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(e){var t=this.visualMapModel,n=s.normalizeCssArray(t.get("padding")||0),r=e.getBoundingRect();e.add(new i.Rect({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function i(e){return f[e]}function s(e,t){f[e]=t}n=n||{};var o=n.forceState,u=this.visualMapModel,f={};if("symbol"===t&&(f.symbol=u.get("itemSymbol")),"color"===t){var l=u.get("contentColor");f.color=l}var c=u.controllerVisuals[o||u.getValueState(e)],h=a.prepareVisualTypes(c);return r.each(h,function(r){var o=c[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",o=c.__alphaForOpacity),a.dependsOn(r,t)&&o&&o.applyVisual(e,i,s)}),f[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;o.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:r.noop})},function(e,t,n){var r=n(1),i=n(12),s={getItemAlign:function(e,t,n){var r=e.option,s=r.align;if(null!=s&&"auto"!==s)return s;for(var o={width:t.getWidth(),height:t.getHeight()},u="horizontal"===r.orient?1:0,a=[["left","right","width"],["top","bottom","height"]],f=a[u],l=[0,null,10],c={},h=0;h<3;h++)c[a[1-u][h]]=l[h],c[f[h]]=2===h?n[0]:r[f[h]];var p=[["x","width",3],["y","height",0]][u],d=i.getLayoutRect(c,o,r.padding);return f[(d.margin[p[2]]||0)+d[p[0]]+.5*d[p[1]]<.5*o[p[1]]?0:1]},convertDataIndex:function(e){return r.each(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}};e.exports=s},function(e,t,n){function r(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var i=n(1),s=i.each;e.exports=function(e){var t=e&&e.visualMap;i.isArray(t)||(t=t?[t]:[]),s(t,function(e){if(e){r(e,"splitList")&&!r(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&i.isArray(t)&&s(t,function(e){i.isObject(e)&&(r(e,"start")&&!r(e,"min")&&(e.min=e.start),r(e,"end")&&!r(e,"max")&&(e.max=e.end))})}})}},function(e,t,n){n(13).registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})},function(e,t,n){function r(e,t){e.eachTargetSeries(function(t){var n=t.getData();u.applyVisual(e.stateList,e.targetVisuals,n,e.getValueState,e,e.getDataDimension(n))})}function i(e){e.eachSeries(function(t){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(f.bind(s,null,t,e))||{stops:[],outerColors:[]};i.dimension=e.getDataDimension(n),r.push(i)}}),t.getData().setVisual("visualMeta",r)})}function s(e,t,n,r){function i(e){return f[e]}function s(e,t){f[e]=t}for(var o=t.targetVisuals[r],u=a.prepareVisualTypes(o),f={color:e.getData().getVisual("color")},l=0,c=u.length;l<c;l++){var h=u[l],p=o["opacity"===h?"__alphaForOpacity":h];p&&p.applyVisual(n,i,s)}return f.color}var o=n(2),u=n(188),a=n(82),f=n(1);o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,function(e){e.eachComponent("visualMap",function(t){r(t,e)}),i(e)})},function(e,t,n){var r=n(2),i={type:"selectDataRange",event:"dataRangeSelected",update:"update"};r.registerAction(i,function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},function(e,t,n){function r(){a.call(this)}function i(e){this.name=e,this.zoomLimit,a.call(this),this._roamTransform=new r,this._viewTransform=new r,this._center,this._zoom}function s(e,t,n,r){var i=n.seriesModel,s=i?i.coordinateSystem:null;return s===this?s[e](r):null}var o=n(6),u=n(19),a=n(102),f=n(1),l=n(11),c=o.applyTransform;f.mixin(r,a),i.prototype={constructor:i,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,r){return this._rect=new l(e,t,n,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,r){this.transformTo(e,t,n,r),this._viewRect=new l(e,t,n,r)},transformTo:function(e,t,n,r){var i=this.getBoundingRect(),s=this._viewTransform;s.transform=i.calculateTransform(new l(e,t,n,r)),s.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect(),t=e.x+e.width/2,n=e.y+e.height/2;return[t,n]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var e=this._viewTransform.getLocalTransform(),t=this._roamTransform,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=o.applyTransform([],r,e),n=o.applyTransform([],n,e),t.origin=r,t.position=[n[0]-r[0],n[1]-r[1]],t.scale=[i,i],this._updateTransform()},_updateTransform:function(){var e=this._roamTransform,t=this._viewTransform;t.parent=e,e.updateTransform(),t.updateTransform(),t.transform&&u.copy(this.transform||(this.transform=[]),t.transform),this.transform?(this.invTransform=this.invTransform||[],u.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e){var t=this.transform;return t?c([],e,t):[e[0],e[1]]},pointToData:function(e){var t=this.invTransform;return t?c([],e,t):[e[0],e[1]]},convertToPixel:f.curry(s,"dataToPoint"),convertFromPixel:f.curry(s,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},f.mixin(i,a),e.exports=i},function(e,t,n){function r(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}var i=n(264),s=n(11),o=n(84),u=n(6);r.prototype={constructor:r,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],r=[-t,-t],i=[],a=[],f=this.geometries,l=0;l<f.length;l++)if("polygon"===f[l].type){var c=f[l].exterior;o.fromPoints(c,i,a),u.min(n,n,i),u.max(r,r,a)}return 0===l&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new s(n[0],n[1],r[0]-n[0],r[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,s=n.length;r<s;r++)if("polygon"===n[r].type){var o=n[r].exterior,u=n[r].interiors;if(i.contain(o,e[0],e[1])){for(var a=0;a<(u?u.length:0);a++)if(i.contain(u[a]))continue e;return!0}}return!1},transformTo:function(e,t,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new s(e,t,n,r),f=i.calculateTransform(a),l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){for(var h=l[c].exterior,p=l[c].interiors,d=0;d<h.length;d++)u.applyTransform(h[d],h[d],f);for(var v=0;v<(p?p.length:0);v++)for(var d=0;d<p[v].length;d++)u.applyTransform(p[v][d],p[v][d],f)}i=this._rect,i.copy(a),this.center=[i.x+i.width/2,i.y+i.height/2]}},e.exports=r},function(e,t,n){function r(e){if(!e.UTF8Encoding)return e;for(var t=e.features,n=0;n<t.length;n++)for(var r=t[n],s=r.geometry,o=s.coordinates,u=s.encodeOffsets,a=0;a<o.length;a++){var f=o[a];if("Polygon"===s.type)o[a]=i(f,u[a]);else if("MultiPolygon"===s.type)for(var l=0;l<f.length;l++){var c=f[l];f[l]=i(c,u[a][l])}}return e.UTF8Encoding=!1,e}function i(e,t){for(var n=[],r=t[0],i=t[1],s=0;s<e.length;s+=2){var o=e.charCodeAt(s)-64,u=e.charCodeAt(s+1)-64;o=o>>1^-(1&o),u=u>>1^-(1&u),o+=r,u+=i,r=o,i=u,n.push([o/1024,u/1024])}return n}var s=n(1),o=n(258);e.exports=function(e){return r(e),s.map(s.filter(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var t=e.properties,n=e.geometry,r=n.coordinates,i=[];"Polygon"===n.type&&i.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===n.type&&s.each(r,function(e){e[0]&&i.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var u=new o(t.name,i,t.cp);return u.properties=t,u})}},function(e,t,n){function r(e,t){var n=[];return e.eachComponent("parallel",function(r,s){var o=new i(r,e,t);o.name="parallel_"+s,o.resize(r,t),r.coordinateSystem=o,o.model=r,n.push(o)}),e.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}var i=n(397);n(26).register("parallel",{create:r})},function(e,t,n){function r(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,f(t,n,e),h(n,function(n){h(t.TRANSFERABLE_METHODS,function(t){n.wrapMethod(t,c.curry(i,e))})}),t.wrapMethod("cloneShallow",c.curry(o,e)),h(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,c.curry(s,e))}),c.assert(n[t.dataType]===t)}function i(e,t){if(a(this)){var n=c.extend({},this[p]);n[this.dataType]=t,f(t,n,e)}else l(t,this.dataType,this[d],e);return t}function s(e,t){return e.struct&&e.struct.update(this),t}function o(e,t){return h(t[p],function(n,r){n!==t&&l(n.cloneShallow(),r,t,e)}),t}function u(e){var t=this[d];return null==e||null==t?t:t[p][e]}function a(e){return e[d]===e}function f(e,t,n){e[p]={},h(t,function(t,r){l(t,r,e,n)})}function l(e,t,n,r){n[p][t]=e,e[d]=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=u}var c=n(1),h=c.each,p="\0__link_datas",d="\0__link_mainData";e.exports=r},function(e,t,n){function r(){function e(t,r){if(r>=n.length)return t;for(var s=-1,o=t.length,u=n[r++],a={},f={};++s<o;){var l=u(t[s]),c=f[l];c?c.push(t[s]):f[l]=[t[s]]}return i.each(f,function(t,n){a[n]=e(t,r)}),a}function t(e,s){if(s>=n.length)return e;var o=[],u=r[s++];return i.each(e,function(e,n){o.push({key:n,values:t(e,s)})}),u?o.sort(function(e,t){return u(e.key,t.key)}):o}var n=[],r=[];return{key:function(e){return n.push(e),this},sortKeys:function(e){return r[n.length-1]=e,this},entries:function(n){return t(e(n,0),0)}}}var i=n(1);e.exports=r},function(e,t,n){var r=n(1),i={get:function(e,t,n){var i=r.clone((s[e]||{})[t]);return n&&r.isArray(i)?i[i.length-1]:i}},s={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};e.exports=i},function(e,t,n){function r(e,t){return Math.abs(e-t)<o}function i(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var u=1;u<e.length;u++){var a=e[u];i+=s(o[0],o[1],a[0],a[1],t,n),o=a}var f=e[0];return r(o[0],f[0])&&r(o[1],f[1])||(i+=s(o[0],o[1],f[0],f[1],t,n)),0!==i}var s=n(100),o=1e-8;e.exports={contain:i}},function(e,t,n){var r=n(89).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,r.superApply(this,"getInitialData",arguments)}});e.exports=r},function(e,t,n){function r(e,t,n,r){var a=e.getItemLayout(t),f=n.get("symbolRepeat"),l=n.get("symbolClip"),c=n.get("symbolPosition")||"start",h=n.get("symbolRotate"),p=(h||0)*Math.PI/180||0,d=n.get("symbolPatternSize")||2,v=n.isAnimationEnabled(),m={dataIndex:t,layout:a,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:l,symbolRepeat:f,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:p,animationModel:v?n:null,hoverAnimation:v&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};i(n,f,a,r,m),s(e,t,a,f,l,m.boundingLength,m.pxSign,d,r,m),o(n,m.symbolScale,p,r,m);var g=m.symbolSize,y=n.get("symbolOffset");return N.isArray(y)&&(y=[O(y[0],g[0]),O(y[1],g[1])]),u(n,g,a,f,l,y,c,m.valueLineWidth,m.boundingLength,m.repeatCutLength,r,m),m}function i(e,t,n,r,i){var s=r.valueDim,o=e.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),a=u.toGlobalCoord(u.dataToCoord(0)),f=i.boundingLength=null!=o?u.toGlobalCoord(u.dataToCoord(u.scale.parse(o)))-a:t?r.coordSysExtent[s.index][1- +(n[s.wh]<=0)]-a:n[s.wh];t&&(i.repeatCutLength=n[s.wh]),i.pxSign=f>0?1:f<0?-1:0}function s(e,t,n,r,i,s,o,u,a,f){var l=a.valueDim,c=a.categoryDim,h=Math.abs(n[c.wh]),p=e.getItemVisual(t,"symbolSize");N.isArray(p)?p=p.slice():(null==p&&(p="100%"),p=[p,p]),p[c.index]=O(p[c.index],h),p[l.index]=O(p[l.index],r?h:Math.abs(s)),f.symbolSize=p;var d=f.symbolScale=[p[0]/u,p[1]/u];d[l.index]*=(a.isHorizontal?-1:1)*o}function o(e,t,n,r,i){var s=e.get(M)||0;s&&(D.attr({scale:t.slice(),rotation:n}),D.updateTransform(),s/=D.getLineScale(),s*=t[r.valueDim.index]),i.valueLineWidth=s}function u(e,t,n,r,i,s,o,u,a,f,l,c){var h=l.categoryDim,p=l.valueDim,d=c.pxSign,v=Math.max(t[p.index]+u,0),m=v;if(r){var g=Math.abs(a),y=N.retrieve(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1)),y=O(y,t[p.index]);var w=Math.max(v+2*y,0),E=b?0:2*y,S=L.isNumeric(r),x=S?r:T((g+E)/w),C=g-x*v;y=C/2/(b?x:x-1),w=v+2*y,E=b?0:2*y,S||"fixed"===r||(x=f?T((Math.abs(f)+E)/w):0),m=x*w-E,c.repeatTimes=x,c.symbolMargin=y}var k=d*(m/2),A=c.pathPosition=[];A[h.index]=n[h.wh]/2,A[p.index]="start"===o?k:"end"===o?a-k:a/2,s&&(A[0]+=s[0],A[1]+=s[1]);var M=c.bundlePosition=[];M[h.index]=n[h.xy],M[p.index]=n[p.xy];var _=c.barRectShape=N.extend({},n);_[p.wh]=d*Math.max(Math.abs(n[p.wh]),Math.abs(A[p.index]+k)),_[h.wh]=n[h.wh];var D=c.clipShape={};D[h.xy]=-n[h.xy],D[h.wh]=l.ecSize[h.wh],D[p.xy]=0,D[p.wh]=n[p.wh]}function a(e){var t=e.symbolPatternSize,n=k.createSymbol(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function f(e,t,n,r){function i(e){var t=c.slice(),r=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=p-1-e),t[h.index]=v*(i-p/2+.5)+c[h.index],{position:t,scale:n.symbolScale.slice(),rotation:n.rotation}}function s(){E(e,function(e){e.trigger("emphasis")})}function o(){E(e,function(e){e.trigger("normal")})}var u=e.__pictorialBundle,f=n.symbolSize,l=n.valueLineWidth,c=n.pathPosition,h=t.valueDim,p=n.repeatTimes||0,d=0,v=f[t.valueDim.index]+l+2*n.symbolMargin;for(E(e,function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=p,d<p?S(e,null,i(d),n,r):S(e,null,{scale:[0,0]},n,r,function(){u.remove(e)}),m(e,n),d++});d<p;d++){var g=a(n);g.__pictorialAnimationIndex=d,g.__pictorialRepeatTimes=p,u.add(g);var y=i(d,!0);S(g,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},n,r),g.on("mouseover",s).on("mouseout",o),m(g,n)}}function l(e,t,n,r){function i(){this.trigger("emphasis")}function s(){this.trigger("normal")}var o=e.__pictorialBundle,u=e.__pictorialMainPath;u?S(u,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,r):(u=e.__pictorialMainPath=a(n),o.add(u),S(u,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,r),u.on("mouseover",i).on("mouseout",s)),m(u,n)}function c(e,t,n){var r=N.extend({},t.barRectShape),i=e.__pictorialBarRect;i?S(i,null,{shape:r},t,n):(i=e.__pictorialBarRect=new C.Rect({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(i))}function h(e,t,n,r){if(n.symbolClip){var i=e.__pictorialClipPath,s=N.extend({},n.clipShape),o=t.valueDim,u=n.animationModel,a=n.dataIndex;if(i)C.updateProps(i,{shape:s},u,a);else{s[o.wh]=0,i=new C.Rect({shape:s}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var f={};f[o.wh]=n.clipShape[o.wh],C[r?"updateProps":"initProps"](i,{shape:f},u,a)}}}function p(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=d,n.isAnimationEnabled=v,n}function d(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function v(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function m(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function g(e,t,n,r){var i=new C.Group,s=new C.Group;return i.add(s),i.__pictorialBundle=s,s.attr("position",n.bundlePosition.slice()),n.symbolRepeat?f(i,t,n):l(i,t,n),c(i,n,r),h(i,t,n,r),i.__pictorialShapeStr=w(e,n),i.__pictorialSymbolMeta=n,i}function y(e,t,n){var r=n.animationModel,i=n.dataIndex,s=e.__pictorialBundle;C.updateProps(s,{position:n.bundlePosition.slice()},r,i),n.symbolRepeat?f(e,t,n,!0):l(e,t,n,!0),c(e,n,!0),h(e,t,n,!0)}function b(e,t,n,r){var i=r.__pictorialBarRect;i&&(i.style.text="");var s=[];E(r,function(e){s.push(e)}),r.__pictorialMainPath&&s.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),N.each(s,function(e){C.updateProps(e,{scale:[0,0]},n,t,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(t,null)}function w(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function E(e,t,n){N.each(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&t.call(n,r)})}function S(e,t,n,r,i,s){t&&e.attr(t),r.symbolClip&&!i?n&&e.attr(n):n&&C[i?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,s)}function x(e,t,n){var r=n.color,i=n.dataIndex,s=n.itemModel,o=s.getModel("itemStyle.normal").getItemStyle(["color"]),u=s.getModel("itemStyle.emphasis").getItemStyle();E(e,function(e){e.setColor(r),e.setStyle(N.defaults({fill:r,opacity:n.opacity},o)),C.setHoverStyle(e,u),e.z2=n.z2});var a={},f=t.valueDim.posDesc[+(n.boundingLength>0)],l=e.__pictorialBarRect;A.setLabel(l.style,a,s,r,t.seriesModel,i,f),C.setHoverStyle(l,a)}function T(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var N=n(1),C=n(3),k=n(24),L=n(4),A=n(90),O=L.parsePercent,M=["itemStyle","normal","borderWidth"],_=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],D=new C.Circle,P=n(2).extendChartView({type:"pictorialBar",render:function(e,t,n){var i=this.group,s=e.getData(),o=this._data,u=e.coordinateSystem,a=u.getBaseAxis(),f=!!a.isHorizontal(),l=u.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:u,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:f,valueDim:_[+f],categoryDim:_[1-f]};return s.diff(o).add(function(e){if(s.hasValue(e)){var t=p(s,e),n=r(s,e,t,c),o=g(s,c,n);s.setItemGraphicEl(e,o),i.add(o),x(o,c,n)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(!s.hasValue(e))return void i.remove(n);var u=p(s,e),a=r(s,e,u,c),f=w(s,a);n&&f!==n.__pictorialShapeStr&&(i.remove(n),s.setItemGraphicEl(e,null),n=null),n?y(n,c,a):n=g(s,c,a,!0),s.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=a,i.add(n),x(n,c,a)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&b(o,e,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=s,this.group},dispose:N.noop,remove:function(e,t){var n=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl(function(t){b(r,t.dataIndex,e,t)}):n.removeAll()}});e.exports=P},function(e,t,n){var r=n(2);n(268),n(269),r.registerVisual(n(271)),r.registerLayout(n(270))},function(e,t,n){var r=n(1),i=n(18),s=n(185),o=i.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});r.mixin(o,s.seriesModelMixin,!0),e.exports=o},function(e,t,n){function r(e,t,n){var r=t.getItemModel(n),i=r.getModel(f),s=t.getItemVisual(n,"color"),u=i.getItemStyle(["borderColor"]),a=e.childAt(e.whiskerIndex);a.style.set(u),a.style.stroke=s,a.dirty();var c=e.childAt(e.bodyIndex);c.style.set(u),c.style.stroke=s,c.dirty();var h=r.getModel(l).getItemStyle();o.setHoverStyle(e,h)}var i=n(1),s=n(29),o=n(3),u=n(185),a=s.extend({type:"boxplot",getStyleUpdater:function(){return r},dispose:i.noop});i.mixin(a,u.viewMixin,!0);var f=["itemStyle","normal"],l=["itemStyle","emphasis"];e.exports=a},function(e,t,n){function r(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(e){var r=e.getBaseAxis(),i=o.indexOf(n,r);i<0&&(i=n.length,n[i]=r,t[i]={axis:r,seriesModels:[]}),t[i].seriesModels.push(e)}),t}function i(e){var t,n,r=e.axis,i=e.seriesModels,s=i.length,u=e.boxWidthList=[],l=e.boxOffsetList=[],c=[];if("category"===r.type)n=r.getBandWidth();else{var h=0;f(i,function(e){h=Math.max(h,e.getData().count())}),t=r.getExtent(),Math.abs(t[1]-t[0])/h}f(i,function(e){var t=e.get("boxWidth");o.isArray(t)||(t=[t,t]),c.push([a(t[0],n)||0,a(t[1],n)||0])});var p=.8*n-2,d=p/s*.3,v=(p-d*(s-1))/s,m=v/2-p/2;f(i,function(e,t){l.push(m),m+=d+v,u.push(Math.min(Math.max(v,c[t][0]),c[t][1]))})}function s(e,t,n){var r=e.coordinateSystem,i=e.getData(),s=e.dimensions,o=e.get("layout"),u=n/2;i.each(s,function(){function e(e){var n=[];n[p]=c,n[d]=e;var i;return isNaN(c)||isNaN(e)?i=[NaN,NaN]:(i=r.dataToPoint(n),i[p]+=t),i}function n(e,t){var n=e.slice(),r=e.slice();n[p]+=u,r[p]-=u,t?b.push(n,r):b.push(r,n)}function a(e){var t=[e.slice(),e.slice()];t[0][p]-=u,t[1][p]+=u,y.push(t)}var f=arguments,l=s.length,c=f[0],h=f[l],p="horizontal"===o?0:1,d=1-p,v=e(f[3]),m=e(f[1]),g=e(f[5]),y=[[m,e(f[2])],[g,e(f[4])]];a(m),a(g),a(v);var b=[];n(y[0][1],0),n(y[1][1],1),i.setItemLayout(h,{chartLayout:o,initBaseline:v[d],median:v,bodyEnds:b,whiskerEnds:y})})}var o=n(1),u=n(4),a=u.parsePercent,f=o.each;e.exports=function(e){var t=r(e);f(t,function(e){var t=e.seriesModels;t.length&&(i(e),f(t,function(t,n){s(t,e.boxOffsetList[n],e.boxWidthList[n])}))})}},function(e,t){var n=["itemStyle","normal","borderColor"];e.exports=function(e,t){var r=e.get("color");e.eachRawSeriesByType("boxplot",function(t){var i=r[t.seriesIndex%r.length],s=t.getData();s.setVisual({legendSymbol:"roundRect",color:t.get(n)||i}),e.isSeriesFiltered(t)||s.each(function(e){var t=s.getItemModel(e);s.setItemVisual(e,{color:t.get(n,!0)})})})}},function(e,t,n){var r=n(2);n(273),n(274),r.registerPreprocessor(n(277)),r.registerVisual(n(276)),r.registerLayout(n(275))},function(e,t,n){var r=n(1),i=n(18),s=n(185),o=n(7),u=o.encodeHTML,a=o.addCommas,f=i.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(e,t){var n=r.map(this.valueDimensions,function(t){return u(t+": "+a(this.getData().get(t,e)))},this).join("<br />"),i=[];return null!=this.name&&i.push(u(this.name)),null!=n&&i.push(n),i.join("<br />")},brushSelector:function(e,t){return t.rect(e.brushRect)}});r.mixin(f,s.seriesModelMixin,!0),e.exports=f},function(e,t,n){function r(e,t,n){var r=t.getItemModel(n),i=r.getModel(f),s=t.getItemVisual(n,"color"),u=t.getItemVisual(n,"borderColor")||s,a=i.getItemStyle(["color","color0","borderColor","borderColor0"]),c=e.childAt(e.whiskerIndex);c.useStyle(a),c.style.stroke=u;var h=e.childAt(e.bodyIndex);h.useStyle(a),h.style.fill=s,h.style.stroke=u;var p=r.getModel(l).getItemStyle();o.setHoverStyle(e,p)}var i=n(1),s=n(29),o=n(3),u=n(185),a=s.extend({type:"candlestick",getStyleUpdater:function(){return r},dispose:i.noop});i.mixin(a,u.viewMixin,!0);var f=["itemStyle","normal"],l=["itemStyle","emphasis"];e.exports=a},function(e,t,n){function r(e,t){var n,r=e.getBaseAxis(),o="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),u=s(i(e.get("barMaxWidth"),o),o),a=s(i(e.get("barMinWidth"),1),o),f=e.get("barWidth");return null!=f?s(f,o):Math.max(Math.min(o/2,u),a)}var i=n(1).retrieve,s=n(4).parsePercent;e.exports=function(e){e.eachSeriesByType("candlestick",function(e){var t=e.coordinateSystem,n=e.getData(),i=e.dimensions,s=e.get("layout"),o=r(e,n);n.each(i,function(){function e(e){var n=[];return n[h]=l,n[p]=e,isNaN(l)||isNaN(e)?[NaN,NaN]:t.dataToPoint(n)}function r(e,t){var n=e.slice(),r=e.slice();n[h]+=o/2,r[h]-=o/2,t?N.push(n,r):N.push(r,n)}function u(){var t=e(Math.min(d,v,m,g)),n=e(Math.max(d,v,m,g));return t[h]-=o/2,n[h]-=o/2,{x:t[0],y:t[1],width:p?o:n[0]-t[0],height:p?n[1]-t[1]:o}}var a=arguments,f=i.length,l=a[0],c=a[f],h="horizontal"===s?0:1,p=1-h,d=a[1],v=a[2],m=a[3],g=a[4],y=Math.min(d,v),b=Math.max(d,v),w=e(y),E=e(b),S=e(m),x=e(g),T=[[x,E],[S,w]],N=[];r(E,0),r(w,1),n.setItemLayout(c,{chartLayout:s,sign:d>v?-1:d<v?1:0,initBaseline:d>v?E[p]:w[p],bodyEnds:N,whiskerEnds:T,brushRect:u()})},!0)})}},function(e,t){var n=["itemStyle","normal","borderColor"],r=["itemStyle","normal","borderColor0"],i=["itemStyle","normal","color"],s=["itemStyle","normal","color0"];e.exports=function(e,t){e.eachRawSeriesByType("candlestick",function(t){var o=t.getData();o.setVisual({legendSymbol:"roundRect"}),e.isSeriesFiltered(t)||o.each(function(e){var t=o.getItemModel(e),a=o.getItemLayout(e).sign;o.setItemVisual(e,{color:t.get(a>0?i:s),borderColor:t.get(a>0?n:r)})})})}},function(e,t,n){var r=n(1);e.exports=function(e){e&&r.isArray(e.series)&&r.each(e.series,function(e){r.isObject(e)&&"k"===e.type&&(e.type="candlestick")})}},function(e,t,n){var r=n(1),i=n(2);n(279),n(280),i.registerVisual(r.curry(n(50),"effectScatter","circle",null)),i.registerLayout(r.curry(n(61),"effectScatter"))},function(e,t,n){var r=n(27),i=n(18);e.exports=i.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){var n=r(e.data,this,t);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(e,t,n){var r=n(44),i=n(307);n(2).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(i)},render:function(e,t,n){var r=e.getData(),i=this._symbolDraw;i.updateData(r),this.group.add(i.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}})},function(e,t,n){var r=n(1),i=n(2);n(282),n(283),i.registerVisual(r.curry(n(83),"funnel")),i.registerLayout(n(284)),i.registerProcessor(r.curry(n(63),"funnel"))},function(e,t,n){var r=n(14),i=n(5),s=n(25),o=n(2).extendSeriesModel({type:"series.funnel",init:function(e){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){var n=s(["value"],e.data),i=new r(n,this);return i.initData(e.data),i},_defaultLabelLine:function(e){i.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,n.show=n.show&&e.label.emphasis.show},getDataParams:function(e){var t=this.getData(),n=o.superCall(this,"getDataParams",e),r=t.getSum("value");return n.percent=r?+(t.get("value",e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});e.exports=o},function(e,t,n){function r(e,t){function n(){o.ignore=o.hoverIgnore,u.ignore=u.hoverIgnore}function r(){o.ignore=o.normalIgnore,u.ignore=u.normalIgnore}s.Group.call(this);var i=new s.Polygon,o=new s.Polyline,u=new s.Text;this.add(i),this.add(o),this.add(u),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function i(e,t,n,r){var i=r.getModel("textStyle"),s=r.get("position"),u="inside"===s||"inner"===s||"center"===s;return{fill:i.getTextColor()||(u?"#fff":e.getItemVisual(t,"color")),textFont:i.getFont(),text:o.retrieve(e.hostModel.getFormattedLabel(t,n),e.getName(t))}}var s=n(3),o=n(1),u=r.prototype,a=["itemStyle","normal","opacity"];u.updateData=function(e,t,n){var r=this.childAt(0),i=e.hostModel,u=e.getItemModel(t),f=e.getItemLayout(t),l=e.getItemModel(t).get(a);l=null==l?1:l,r.useStyle({}),n?(r.setShape({points:f.points}),r.setStyle({opacity:0}),s.initProps(r,{style:{opacity:l}},i,t)):s.updateProps(r,{style:{opacity:l},shape:{points:f.points}},i,t);var c=u.getModel("itemStyle"),h=e.getItemVisual(t,"color");r.setStyle(o.defaults({lineJoin:"round",fill:h},c.getModel("normal").getItemStyle(["opacity"]))),r.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),s.setHoverStyle(this)},u._updateLabel=function(e,t){var n=this.childAt(1),r=this.childAt(2),o=e.hostModel,u=e.getItemModel(t),a=e.getItemLayout(t),f=a.label,l=e.getItemVisual(t,"color");s.updateProps(n,{shape:{points:f.linePoints||f.linePoints}},o,t),s.updateProps(r,{style:{x:f.x,y:f.y}},o,t),r.attr({style:{textAlign:f.textAlign,textVerticalAlign:f.verticalAlign,textFont:f.font},rotation:f.rotation,origin:[f.x,f.y],z2:10});var c=u.getModel("label.normal"),h=u.getModel("label.emphasis"),p=u.getModel("labelLine.normal"),d=u.getModel("labelLine.emphasis");r.setStyle(i(e,t,"normal",c)),r.ignore=r.normalIgnore=!c.get("show"),r.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!p.get("show"),n.hoverIgnore=!d.get("show"),n.setStyle({stroke:l}),n.setStyle(p.getModel("lineStyle").getLineStyle()),r.hoverStyle=i(e,t,"emphasis",h),n.hoverStyle=d.getModel("lineStyle").getLineStyle()},o.inherits(r,s.Group);var f=n(29).extend({type:"funnel",render:function(e,t,n){var i=e.getData(),s=this._data,o=this.group;i.diff(s).add(function(e){var t=new r(i,e);i.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var n=s.getItemGraphicEl(t);n.updateData(i,e),o.add(n),i.setItemGraphicEl(e,n)}).remove(function(e){var t=s.getItemGraphicEl(e);o.remove(t)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=f},function(e,t,n){function r(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function i(e,t){for(var n=e.mapArray("value",function(e){return e}),r=[],i="ascending"===t,s=0,o=e.count();s<o;s++)r[s]=s;return r.sort(function(e,t){return i?n[e]-n[t]:n[t]-n[e]}),r}function s(e){e.each(function(t){var n,r,i,s,o=e.getItemModel(t),u=o.getModel("label.normal"),a=u.get("position"),f=o.getModel("labelLine.normal"),l=e.getItemLayout(t),c=l.points,h="inner"===a||"inside"===a||"center"===a;if(h)r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,i=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,n="center",s=[[r,i],[r,i]];else{var p,d,v,m=f.get("length");"left"===a?(p=(c[3][0]+c[0][0])/2,d=(c[3][1]+c[0][1])/2,v=p-m,r=v-5,n="right"):(p=(c[1][0]+c[2][0])/2,d=(c[1][1]+c[2][1])/2,v=p+m,r=v+5,n="left");var g=d;s=[[p,d],[v,g]],i=g}l.label={linePoints:s,x:r,y:i,verticalAlign:"middle",textAlign:n,inside:h}})}var o=n(12),u=n(4),a=u.parsePercent;e.exports=function(e,t,n){e.eachSeriesByType("funnel",function(e){var n=e.getData(),o=e.get("sort"),f=r(e,t),l=i(n,o),c=[a(e.get("minSize"),f.width),a(e.get("maxSize"),f.width)],h=n.getDataExtent("value"),p=e.get("min"),d=e.get("max");null==p&&(p=Math.min(h[0],0)),null==d&&(d=h[1]);var v=e.get("funnelAlign"),m=e.get("gap"),g=(f.height-m*(n.count()-1))/n.count(),y=f.y,b=function(e,t){var r,i=n.get("value",e)||0,s=u.linearMap(i,[p,d],c,!0);switch(v){case"left":r=f.x;break;case"center":r=f.x+(f.width-s)/2;break;case"right":r=f.x+f.width-s}return[[r,t],[r+s,t]]};"ascending"===o&&(g=-g,m=-m,y+=f.height,l=l.reverse());for(var w=0;w<l.length;w++){var E=l[w],S=l[w+1],x=b(E,y),T=b(S,y+g);y+=g+m,n.setItemLayout(E,{points:x.concat(T.slice().reverse())})}s(n)})}},function(e,t,n){n(286),n(287)},function(e,t,n){var r=n(14),i=n(18),s=n(1),o=i.extend({type:"series.gauge",getInitialData:function(e,t){var n=new r(["value"],this),i=e.data||[];return s.isArray(i)||(i=[i]),n.initData(i),n},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});e.exports=o},function(e,t,n){function r(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),s=Math.min(r,i),o=a(n[0],t.getWidth()),u=a(n[1],t.getHeight()),f=a(e.get("radius"),s/2);return{cx:o,cy:u,r:f}}function i(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var s=n(288),o=n(3),u=n(4),a=u.parsePercent,f=2*Math.PI,l=n(29).extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),s=r(e,n);this._renderMain(e,t,n,i,s)},dispose:function(){},_renderMain:function(e,t,n,r,i){for(var s=this.group,u=e.getModel("axisLine"),a=u.getModel("lineStyle"),l=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,p=(h-c)%f,d=c,v=a.get("width"),m=0;m<r.length;m++){var g=Math.min(Math.max(r[m][0],0),1),h=c+p*g,y=new o.Sector({shape:{startAngle:d,endAngle:h,cx:i.cx,cy:i.cy,clockwise:l,r0:i.r-v,r:i.r},silent:!0});y.setStyle({fill:r[m][1]}),y.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),s.add(y),d=h}var b=function(e){if(e<=0)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};if(!l){var w=c;c=h,h=w}this._renderTicks(e,t,n,b,i,c,h,l),this._renderPointer(e,t,n,b,i,c,h,l),this._renderTitle(e,t,n,b,i),this._renderDetail(e,t,n,b,i)},_renderTicks:function(e,t,n,r,s,f,l,c){for(var h=this.group,p=s.cx,d=s.cy,v=s.r,m=+e.get("min"),g=+e.get("max"),y=e.getModel("splitLine"),b=e.getModel("axisTick"),w=e.getModel("axisLabel"),E=e.get("splitNumber"),S=b.get("splitNumber"),x=a(y.get("length"),v),T=a(b.get("length"),v),N=f,C=(l-f)/E,k=C/S,L=y.getModel("lineStyle").getLineStyle(),A=b.getModel("lineStyle").getLineStyle(),O=w.getModel("textStyle"),M=0;M<=E;M++){var _=Math.cos(N),D=Math.sin(N);if(y.get("show")){var P=new o.Line({shape:{x1:_*v+p,y1:D*v+d,x2:_*(v-x)+p,y2:D*(v-x)+d},style:L,silent:!0});"auto"===L.stroke&&P.setStyle({stroke:r(M/E)}),h.add(P)}if(w.get("show")){var H=i(u.round(M/E*(g-m)+m),w.get("formatter")),B=w.get("distance"),j=new o.Text({style:{text:H,x:_*(v-x-B)+p,y:D*(v-x-B)+d,fill:O.getTextColor(),textFont:O.getFont(),textVerticalAlign:D<-0.4?"top":D>.4?"bottom":"middle",textAlign:_<-0.4?"left":_>.4?"right":"center"},silent:!0});"auto"===j.style.fill&&j.setStyle({fill:r(M/E)}),h.add(j)}if(b.get("show")&&M!==E){for(var F=0;F<=S;F++){var _=Math.cos(N),D=Math.sin(N),I=new o.Line({shape:{x1:_*v+p,y1:D*v+d,x2:_*(v-T)+p,y2:D*(v-T)+d},silent:!0,style:A});"auto"===A.stroke&&I.setStyle({stroke:r((M+F/S)/E)}),h.add(I),N+=k}N-=k}else N+=C}},_renderPointer:function(e,t,n,r,i,f,l,c){var h=this.group,p=this._data;if(!e.get("pointer.show"))return void (p&&p.eachItemGraphicEl(function(e){h.remove(e)}));var d=[+e.get("min"),+e.get("max")],v=[f,l],m=e.getData();m.diff(p).add(function(t){var n=new s({shape:{angle:f}});o.updateProps(n,{shape:{angle:u.linearMap(m.get("value",t),d,v,!0)}},e),h.add(n),m.setItemGraphicEl(t,n)}).update(function(t,n){var r=p.getItemGraphicEl(n);o.updateProps(r,{shape:{angle:u.linearMap(m.get("value",t),d,v,!0)}},e),h.add(r),m.setItemGraphicEl(t,r)}).remove(function(e){var t=p.getItemGraphicEl(e);h.remove(t)}).execute(),m.eachItemGraphicEl(function(e,t){var n=m.getItemModel(t),s=n.getModel("pointer");e.setShape({x:i.cx,y:i.cy,width:a(s.get("width"),i.r),r:a(s.get("length"),i.r)}),e.useStyle(n.getModel("itemStyle.normal").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",r(u.linearMap(m.get("value",t),d,[0,1],!0))),o.setHoverStyle(e,n.getModel("itemStyle.emphasis").getItemStyle())}),this._data=m},_renderTitle:function(e,t,n,r,i){var s=e.getModel("title");if(s.get("show")){var f=s.getModel("textStyle"),l=s.get("offsetCenter"),c=i.cx+a(l[0],i.r),h=i.cy+a(l[1],i.r),p=new o.Text({style:{x:c,y:h,text:e.getData().getName(0),fill:f.getTextColor(),textFont:f.getFont(),textAlign:"center",textVerticalAlign:"middle"}});if("auto"===p.style.fill){var d=+e.get("min"),v=+e.get("max"),m=e.getData().get("value",0);p.setStyle("fill",r(u.linearMap(m,[d,v],[0,1],!0)))}this.group.add(p)}},_renderDetail:function(e,t,n,r,s){var f=e.getModel("detail"),l=+e.get("min"),c=+e.get("max");if(f.get("show")){var h=f.getModel("textStyle"),p=f.get("offsetCenter"),d=s.cx+a(p[0],s.r),v=s.cy+a(p[1],s.r),m=a(f.get("width"),s.r),g=a(f.get("height"),s.r),y=e.getData().get("value",0),b=new o.Rect({shape:{x:d-m/2,y:v-g/2,width:m,height:g},style:{text:i(y,f.get("formatter")),fill:f.get("backgroundColor"),textFill:h.getTextColor(),textFont:h.getFont()}});"auto"===b.style.textFill&&b.setStyle("textFill",r(u.linearMap(y,[l,c],[0,1],!0))),b.setStyle(f.getItemStyle(["color"])),this.group.add(b)}}});e.exports=l},function(e,t,n){e.exports=n(8).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,r=Math.sin,i=t.r,s=t.width,o=t.angle,u=t.x-n(o)*s*(s>=i/3?1:2),a=t.y-r(o)*s*(s>=i/3?1:2);o=t.angle-Math.PI/2,e.moveTo(u,a),e.lineTo(t.x+n(o)*s,t.y+r(o)*s),e.lineTo(t.x+n(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-n(o)*s,t.y-r(o)*s),e.lineTo(u,a)}})},function(e,t,n){var r=n(2),i=n(1);n(290),n(291),n(300),r.registerProcessor(n(293)),r.registerVisual(i.curry(n(50),"graph","circle",null)),r.registerVisual(n(294)),r.registerVisual(n(297)),r.registerLayout(n(301)),r.registerLayout(n(295)),r.registerLayout(n(299)),r.registerCoordinateSystem("graphView",{create:n(296)})},function(e,t,n){var r=n(14),i=n(1),s=n(5),o=n(10),u=n(7),a=n(244),f=n(2).extendSeriesModel({type:"series.graph",init:function(e){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){f.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){f.superApply(this,"mergeDefaultAndTheme",arguments),s.defaultEmphasis(e.edgeLabel,s.LABEL_OPTIONS)},getInitialData:function(e,t){function n(e,n){function r(e){return e=this.parsePath(e),e&&"label"===e[0]?u:this.parentModel}e.wrapMethod("getItemModel",function(e){var t=s._categoriesModels,n=e.getShallow("category"),r=t[n];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e});var i=s.getModel("edgeLabel"),u=new o({label:i.option},i.parentModel,t);n.wrapMethod("getItemModel",function(e){return e.customizeGetParent(r),e})}var r=e.edges||e.links||[],i=e.data||e.nodes||[],s=this;if(i&&r)return a(i,r,this,!0,n).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(e,n),s=r.graph.getEdgeByIndex(e),o=r.getName(s.node1.dataIndex),a=r.getName(s.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=a&&l.push(a),l=u.encodeHTML(l.join(" > ")),i.value&&(l+=" : "+u.encodeHTML(i.value)),l}return f.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=i.map(this.option.categories||[],function(e){return null!=e.value?e:i.extend({value:0},e)}),t=new r(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return f.superCall(this,"isAnimationEnabled")&&("force"!==this.get("layout")||!this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});e.exports=f},function(e,t,n){function r(e,t){return e.getVisual("opacity")||e.getModel().get(t)}var i=n(44),s=n(109),o=n(94),u=n(3),a=n(292),f=n(1),l=["itemStyle","normal","opacity"],c=["lineStyle","normal","opacity"];n(2).extendChartView({type:"graph",init:function(e,t){var n=new i,r=new s,u=this.group,a=new o(t.getZr(),u);u.add(n.group),u.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._controller=a,this._firstRender=!0},render:function(e,t,n){var r=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var i=this._symbolDraw,s=this._lineDraw,o=this.group;if("view"===r.type){var f={position:r.position,scale:r.scale};this._firstRender?o.attr(f):u.updateProps(o,f,e)}a(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();i.updateData(l);var c=e.getEdgeData();s.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,p=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,p),l.eachItemGraphicEl(function(t,r){var i=l.getItemModel(r);t.off("drag").off("dragend");var s=l.getItemModel(r).get("draggable");s&&t.on("drag",function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,p),h.setFixed(r),l.setItemLayout(r,t.position))},this).on("dragend",function(){h&&h.setUnfixed(r)},this),t.setDraggable(s&&h),t.off("mouseover",t.__focusNodeAdjacency),t.off("mouseout",t.__unfocusNodeAdjacency),i.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this);var d="circular"===e.get("layout")&&e.get("circular.rotateLabel"),v=l.getLayout("cx"),m=l.getLayout("cy");l.eachItemGraphicEl(function(e,t){var n=e.getSymbolPath();if(d){var r=l.getItemLayout(t),i=Math.atan2(r[1]-m,r[0]-v);i<0&&(i=2*Math.PI+i);var s=r[0]<v;s&&(i-=Math.PI);var o=s?"left":"right";n.setStyle({textRotation:i,textPosition:o}),n.hoverStyle&&(n.hoverStyle.textPosition=o)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose()},focusNodeAdjacency:function(e,t,n,i){function s(e,t){var n=r(e,t),i=e.getGraphicEl();null==n&&(n=1),i.traverse(function(e){e.trigger("normal"),"group"!==e.type&&e.setStyle("opacity",.1*n)})}function o(e,t){var n=r(e,t),i=e.getGraphicEl();i.traverse(function(e){e.trigger("emphasis"),"group"!==e.type&&e.setStyle("opacity",n)})}var u=this._model.getData(),a=i.dataIndex,h=u.getItemGraphicEl(a);if(h){var p=u.graph,d=h.dataType;if(null!==a&&"edge"!==d){p.eachNode(function(e){s(e,l)}),p.eachEdge(function(e){s(e,c)});var v=p.getNodeByIndex(a);o(v,l),f.each(v.edges,function(e){e.dataIndex<0||(o(e,c),o(e.node1,l),o(e.node2,l))})}}},unfocusNodeAdjacency:function(e,t,n,i){var s=this._model.getData().graph;s.eachNode(function(e){var t=r(e,l);e.getGraphicEl().traverse(function(e){e.trigger("normal"),"group"!==e.type&&e.setStyle("opacity",t)})}),s.eachEdge(function(e){var t=r(e,c);e.getGraphicEl().traverse(function(e){e.trigger("normal"),"group"!==e.type&&e.setStyle("opacity",t)})})},_startForceLayoutIteration:function(e,t){var n=this;!function r(){e.step(function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(e,t){var n=this._controller,r=this.group;return n.setContainsPoint(function(e,t){var n=r.getBoundingRect();return n.applyTransform(r.transform),n.contain(e,t)}),"view"!==e.coordinateSystem.type?void n.disable():(n.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),void n.off("pan").off("zoom").on("pan",function(n,r){t.dispatchAction({seriesId:e.id,type:"graphRoam",dx:n,dy:r})}).on("zoom",function(n,r,i){t.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:n,originX:r,originY:i}),this._updateNodeAndLinkScale(),a(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),r=[n,n];t.eachItemGraphicEl(function(e,t){e.attr("scale",r)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,r=t.scale,i=r&&r[0]||1,s=t.getZoom(),o=(s-1)*n+1;return o/i},updateLayout:function(e){a(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(e,t,n){function r(e,t,n){for(var r,i=e[0],s=e[1],h=e[2],p=1/0,d=n*n,v=.1,m=.1;m<=.9;m+=.1){o[0]=f(i[0],s[0],h[0],m),o[1]=f(i[1],s[1],h[1],m);var g=c(l(o,t)-d);g<p&&(p=g,r=m)}for(var y=0;y<32;y++){var b=r+v;u[0]=f(i[0],s[0],h[0],r),u[1]=f(i[1],s[1],h[1],r),a[0]=f(i[0],s[0],h[0],b),a[1]=f(i[1],s[1],h[1],b);var g=l(u,t)-d;if(c(g)<.01)break;var w=l(a,t)-d;v/=2,g<0?w>=0?r+=v:r-=v:w>=0?r-=v:r+=v}return r}var i=n(21),s=n(6),o=[],u=[],a=[],f=i.quadraticAt,l=s.distSquare,c=Math.abs;e.exports=function(e,t){function n(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}var o=[],u=i.quadraticSubdivide,a=[[],[],[]],f=[[],[]],l=[];t/=2,e.eachEdge(function(e,i){var c=e.getLayout(),h=e.getVisual("fromSymbol"),p=e.getVisual("toSymbol");c.__original||(c.__original=[s.clone(c[0]),s.clone(c[1])],c[2]&&c.__original.push(s.clone(c[2])));var d=c.__original;if(null!=c[2]){if(s.copy(a[0],d[0]),s.copy(a[1],d[2]),s.copy(a[2],d[1]),h&&"none"!=h){var v=n(e.node1),m=r(a,d[0],v*t);u(a[0][0],a[1][0],a[2][0],m,o),a[0][0]=o[3],a[1][0]=o[4],u(a[0][1],a[1][1],a[2][1],m,o),a[0][1]=o[3],a[1][1]=o[4]}if(p&&"none"!=p){var v=n(e.node2),m=r(a,d[1],v*t);u(a[0][0],a[1][0],a[2][0],m,o),a[1][0]=o[1],a[2][0]=o[2],u(a[0][1],a[1][1],a[2][1],m,o),a[1][1]=o[1],a[2][1]=o[2]}s.copy(c[0],a[0]),s.copy(c[1],a[2]),s.copy(c[2],a[1])}else{if(s.copy(f[0],d[0]),s.copy(f[1],d[1]),s.sub(l,f[1],f[0]),s.normalize(l,l),h&&"none"!=h){var v=n(e.node1);s.scaleAndAdd(f[0],f[0],l,v*t)}if(p&&"none"!=p){var v=n(e.node2);s.scaleAndAdd(f[1],f[1],l,-v*t)}s.copy(c[0],f[0]),s.copy(c[1],f[1])}})}},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getGraph(),i=r.data,s=n.mapArray(n.getName);i.filterSelf(function(e){var n=i.getItemModel(e),r=n.getShallow("category");if(null!=r){"number"==typeof r&&(r=s[r]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(r))return!1}return!0})},this)}},function(e,t){e.exports=function(e){var t={};e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each(function(r){var s=n.getName(r);i[s]=r;var o=n.getItemModel(r),u=o.get("itemStyle.normal.color")||e.getColorFromPalette(s,t);n.setItemVisual(r,"color",u)}),n.count()&&r.each(function(e){var t=r.getItemModel(e),s=t.getShallow("category");null!=s&&("string"==typeof s&&(s=i[s]),r.getItemVisual(e,"color",!0)||r.setItemVisual(e,"color",n.getItemVisual(s,"color")))})})}},function(e,t,n){var r=n(239);e.exports=function(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&r(e)})}},function(e,t,n){function r(e,t,n){var r=e.getBoxLayoutParams();return r.aspect=n,s.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()})}var i=n(257),s=n(12),o=n(84);e.exports=function(e,t){var n=[];return e.eachSeriesByType("graph",function(e){var s=e.get("coordinateSystem");if(!s||"view"===s){var u=e.getData(),a=u.mapArray(function(e){var t=u.getItemModel(e);return[+t.get("x"),+t.get("y")]}),f=[],l=[];o.fromPoints(a,f,l),l[0]-f[0]===0&&(l[0]+=1,f[0]-=1),l[1]-f[1]===0&&(l[1]+=1,f[1]-=1);var c=(l[0]-f[0])/(l[1]-f[1]),h=r(e,t,c);isNaN(c)&&(f=[h.x,h.y],l=[h.x+h.width,h.y+h.height]);var p=l[0]-f[0],d=l[1]-f[1],v=h.width,m=h.height,g=e.coordinateSystem=new i;g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(f[0],f[1],p,d),g.setViewRect(h.x,h.y,v,m),g.setCenter(e.get("center")),g.setZoom(e.get("zoom")),n.push(g)}}),n}},function(e,t){function n(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),r=e.getEdgeData(),i=n(e.get("edgeSymbol")),s=n(e.get("edgeSymbolSize")),o="lineStyle.normal.color".split("."),u="lineStyle.normal.opacity".split(".");r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",s&&s[0]),r.setVisual("toSymbolSize",s&&s[1]),r.setVisual("color",e.get(o)),r.setVisual("opacity",e.get(u)),r.each(function(e){var i=r.getItemModel(e),s=t.getEdgeByIndex(e),f=n(i.getShallow("symbol",!0)),l=n(i.getShallow("symbolSize",!0)),c=i.get(o),h=i.get(u);switch(c){case"source":c=s.node1.getVisual("color");break;case"target":c=s.node2.getVisual("color")}f[0]&&s.setVisual("fromSymbol",f[0]),f[1]&&s.setVisual("toSymbol",f[1]),l[0]&&s.setVisual("fromSymbolSize",l[0]),l[1]&&s.setVisual("toSymbolSize",l[1]),s.setVisual("color",c),s.setVisual("opacity",h)})})}},function(e,t,n){var r=n(6),i=r.scaleAndAdd;e.exports=function(e,t,n){for(var s=n.rect,o=s.width,u=s.height,a=[s.x+o/2,s.y+u/2],f=null==n.gravity?.1:n.gravity,l=0;l<e.length;l++){var c=e[l];c.p||(c.p=r.create(o*(Math.random()-.5)+a[0],u*(Math.random()-.5)+a[1])),c.pp=r.clone(c.p),c.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){for(var s=[],o=e.length,u=0;u<t.length;u++){var l=t[u],c=l.n1,d=l.n2;r.sub(s,d.p,c.p);var v=r.len(s)-l.d,m=d.w/(c.w+d.w);r.normalize(s,s),!c.fixed&&i(c.p,c.p,s,m*v*h),!d.fixed&&i(d.p,d.p,s,-(1-m)*v*h)}for(var u=0;u<o;u++){var g=e[u];g.fixed||(r.sub(s,a,g.p),r.scaleAndAdd(g.p,g.p,s,f*h))}for(var u=0;u<o;u++)for(var c=e[u],y=u+1;y<o;y++){var d=e[y];r.sub(s,d.p,c.p);var v=r.len(s);0===v&&(r.set(s,Math.random()-.5,Math.random()-.5),v=1);var b=(c.rep+d.rep)/v/v;!c.fixed&&i(c.pp,c.pp,s,b),!d.fixed&&i(d.pp,d.pp,s,-b)}for(var w=[],u=0;u<o;u++){var g=e[u];g.fixed||(r.sub(w,g.p,g.pp),r.scaleAndAdd(g.p,g.p,w,h),r.copy(g.pp,g.p))}h=.992*h,n&&n(e,t,h<.01)}}}},function(e,t,n){var r=n(298),i=n(4),s=n(241),o=n(239),u=n(6),a=n(1);e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},f=e.getGraph(),l=f.data,c=f.edgeData,h=e.getModel("force"),p=h.get("initLayout");e.preservedPoints?l.each(function(e){var t=l.getId(e);l.setItemLayout(e,n[t]||[NaN,NaN])}):p&&"none"!==p?"circular"===p&&o(e):s(e);var d=l.getDataExtent("value"),v=c.getDataExtent("value"),m=h.get("repulsion"),g=h.get("edgeLength");a.isArray(m)||(m=[m,m]),a.isArray(g)||(g=[g,g]),g=[g[1],g[0]];var y=l.mapArray("value",function(e,t){var n=l.getItemLayout(t),r=i.linearMap(e,d,m);return isNaN(r)&&(r=(m[0]+m[1])/2),{w:r,rep:r,p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),b=c.mapArray("value",function(e,t){var n=f.getEdgeByIndex(t),r=i.linearMap(e,v,g);return isNaN(r)&&(r=(g[0]+g[1])/2),{n1:y[n.node1.dataIndex],n2:y[n.node2.dataIndex],d:r,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),t=e.coordinateSystem,w=t.getBoundingRect(),E=r(y,b,{rect:w,gravity:h.get("gravity")}),S=E.step;E.step=function(e){for(var t=0,r=y.length;t<r;t++)y[t].fixed&&u.copy(y[t].p,f.getNodeByIndex(t).getLayout());S(function(t,r,i){for(var s=0,o=t.length;s<o;s++)t[s].fixed||f.getNodeByIndex(s).setLayout(t[s].p),n[l.getId(s)]=t[s].p;for(var s=0,o=r.length;s<o;s++){var a=r[s],c=f.getEdgeByIndex(s),h=a.n1.p,p=a.n2.p,d=c.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],u.copy(d[0],h),u.copy(d[1],p),+a.curveness&&(d[2]=[(h[0]+p[0])/2-(h[1]-p[1])*a.curveness,(h[1]+p[1])/2-(p[0]-h[0])*a.curveness]),c.setLayout(d)}e&&e(i)})},e.forceLayout=E,e.preservedPoints=n,E.step()}else e.forceLayout=null})}},function(e,t,n){var r=n(2),i=n(238),s={type:"graphRoam",event:"graphRoam",update:"none"};r.registerAction(s,function(e,t){t.eachComponent({mainType:"series",query:e},function(t){var n=t.coordinateSystem,r=i.updateCenterAndZoom(n,e);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)})}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(e,t,n){var r=n(241),i=n(240);e.exports=function(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var s=e.getData(),o=n.dimensions;s.each(o,function(){for(var e,t=arguments,r=[],i=0;i<o.length;i++)isNaN(t[i])||(e=!0),r.push(t[i]);var a=t[t.length-1];e?s.setItemLayout(a,n.dataToPoint(r)):s.setItemLayout(a,[NaN,NaN])}),i(s.graph)}else t&&"none"!==t||r(e)})}},function(e,t,n){n(304),n(305)},function(e,t,n){function r(){var e=s.createCanvas();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var i=256,s=n(1);r.prototype={update:function(e,t,n,r,s,o){var u=this._getBrush(),a=this._getGradient(e,s,"inRange"),f=this._getGradient(e,s,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),p=e.length;c.width=t,c.height=n;for(var d=0;d<p;++d){var v=e[d],m=v[0],g=v[1],y=v[2],b=r(y);h.globalAlpha=b,h.drawImage(u,m-l,g-l)}for(var w=h.getImageData(0,0,c.width,c.height),E=w.data,S=0,x=E.length,T=this.minOpacity,N=this.maxOpacity,C=N-T;S<x;){var b=E[S+3]/256,k=4*Math.floor(b*(i-1));if(b>0){var L=o(b)?a:f;b>0&&(b=b*C+T),E[S++]=L[k],E[S++]=L[k+1],E[S++]=L[k+2],E[S++]=L[k+3]*b*256}else S+=4}return h.putImageData(w,0,0),c},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=s.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},_getGradient:function(e,t,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(1024)),s=[],o=0,u=0;u<256;u++)t[n](u/255,!0,s),i[o++]=s[0],i[o++]=s[1],i[o++]=s[2],i[o++]=s[3];return i}},e.exports=r},function(e,t,n){var r=n(18),i=n(27);e.exports=r.extend({type:"series.heatmap",getInitialData:function(e,t){return i(e.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(e,t,n){function r(e,t,n){var r=e[1]-e[0];t=a.map(t,function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}});var i=t.length,s=0;return function(e){for(var r=s;r<i;r++){var o=t[r].interval;if(o[0]<=e&&e<=o[1]){s=r;break}}if(r===i)for(var r=s-1;r>=0;r--){var o=t[r].interval;if(o[0]<=e&&e<=o[1]){s=r;break}}return r>=0&&r<i&&n[r]}}function i(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}function s(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var o=n(3),u=n(303),a=n(1);e.exports=n(2).extendChartView({type:"heatmap",render:function(e,t,n){var r;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(n){n===e&&(r=t)})}),this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(i,e,n):s(i)&&this._renderOnGeo(i,e,r,n)},dispose:function(){},_renderOnCartesianAndCalendar:function(e,t,n){if("cartesian2d"===e.type)var r=e.getAxis("x"),i=e.getAxis("y"),s=r.getBandWidth(),u=i.getBandWidth();var f=this.group,l=t.getData(),c="itemStyle.normal",h="itemStyle.emphasis",p="label.normal",d="label.emphasis",v=t.getModel(c).getItemStyle(["color"]),m=t.getModel(h).getItemStyle(),g=t.getModel("label.normal"),y=t.getModel("label.emphasis");l.each("cartesian2d"===e.type?["x","y","z"]:["time","value"],function(n,r,i,w){var E;if("cartesian2d"===e.type){if(isNaN(i))return;var S=e.dataToPoint([n,r]);E=new o.Rect({shape:{x:S[0]-s/2,y:S[1]-u/2,width:s,height:u},style:{fill:l.getItemVisual(w,"color"),opacity:l.getItemVisual(w,"opacity")}})}else{if(isNaN(r))return;w=i,E=new o.Rect({z2:1,shape:e.dataToRect([n,r]).contentShape,style:{fill:l.getItemVisual(w,"color"),opacity:l.getItemVisual(w,"opacity")}})}var x=l.getItemModel(w);l.hasItemOption&&(v=x.getModel(c).getItemStyle(["color"]),m=x.getModel(h).getItemStyle(),g=x.getModel(p),y=x.getModel(d));var T=t.getRawValue(w),N="-";T&&null!=T[2]&&(N=T[2]),g.getShallow("show")&&(o.setText(v,g),v.text=t.getFormattedLabel(w,"normal")||N),y.getShallow("show")&&(o.setText(m,y),m.text=t.getFormattedLabel(w,"emphasis")||N),E.setStyle(v),o.setHoverStyle(E,l.hasItemOption?m:a.extend({},m)),f.add(E),l.setItemGraphicEl(w,E)})},_renderOnGeo:function(e,t,n,s){var a=n.targetVisuals.inRange,f=n.targetVisuals.outOfRange,l=t.getData(),c=this._hmLayer||this._hmLayer||new u;c.blurSize=t.get("blurSize"),c.pointSize=t.get("pointSize"),c.minOpacity=t.get("minOpacity"),c.maxOpacity=t.get("maxOpacity");var h=e.getViewRect().clone(),p=e.getRoamTransform().transform;h.applyTransform(p);var d=Math.max(h.x,0),v=Math.max(h.y,0),m=Math.min(h.width+h.x,s.getWidth()),g=Math.min(h.height+h.y,s.getHeight()),y=m-d,b=g-v,w=l.mapArray(["lng","lat","value"],function(t,n,r){var i=e.dataToPoint([t,n]);return i[0]-=d,i[1]-=v,i.push(r),i}),E=n.getExtent(),S="visualMap.continuous"===n.type?i(E,n.option.range):r(E,n.getPieceList(),n.option.selected);c.update(w,y,b,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:f.color.getColorMapper()},S);var x=new o.Image({style:{width:y,height:b,x:d,y:v,image:c.canvas},silent:!0});this.group.add(x)}})},function(e,t,n){function r(e,t,n){o.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}var i=n(243),s=n(1),o=n(242),u=n(6),a=r.prototype;a.createLine=function(e,t,n){return new i(e,t,n)},a.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],r=0,i=1;i<t.length;i++){var s=t[i-1],o=t[i];r+=u.dist(s,o),n.push(r)}if(0!==r){for(var i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},a.getLineLength=function(e){return this._length},a.updateSymbolPosition=function(e){var t=e.__t,n=this._points,r=this._offsets,i=n.length;if(r){var s,o=this._lastFrame;if(t<this._lastFramePercent){var a=Math.min(o+1,i-1);for(s=a;s>=0&&!(r[s]<=t);s--);s=Math.min(s,i-2)}else{for(var s=o;s<i&&!(r[s]>t);s++);s=Math.min(s-1,i-2)}u.lerp(e.position,n[s],n[s+1],(t-r[s])/(r[s+1]-r[s]));var f=n[s+1][0]-n[s][0],l=n[s+1][1]-n[s][1];e.rotation=-Math.atan2(l,f)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},s.inherits(r,o),e.exports=r},function(e,t,n){function r(e){return o.isArray(e)||(e=[+e,+e]),e}function i(e,t){e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function s(e,t){c.call(this);var n=new l(e,t),r=new c;this.add(n),this.add(r),r.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}var o=n(1),u=n(24),a=n(3),f=n(4),l=n(54),c=a.Group,h=3,p=s.prototype;p.stopEffectAnimation=function(){this.childAt(1).removeAll()},p.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,r=this.childAt(1),s=0;s<h;s++){var o=u.createSymbol(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-s/h*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),r.add(o)}i(r,e)},p.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],s=0;s<r;s++){var o=r[s];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}i(n,e)},p.highlight=function(){this.trigger("emphasis")},p.downplay=function(){this.trigger("normal")},p.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),s=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),u=r(e.getItemVisual(t,"symbolSize")),a=e.getItemVisual(t,"color");i.attr("scale",u),i.traverse(function(e){e.attr({fill:a})});var l=s.getShallow("symbolOffset");if(l){var c=i.position;c[0]=f.parsePercent(l[0],u[0]),c[1]=f.parsePercent(l[1],u[1])}i.rotation=(s.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=s.get("rippleEffect.scale"),h.brushType=s.get("rippleEffect.brushType"),h.period=1e3*s.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=s.getShallow("z")||0,h.zlevel=s.getShallow("zlevel")||0,h.symbolType=o,h.color=a,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var p=this.childAt(0),d=function(){p.trigger("emphasis"),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},v=function(){p.trigger("normal"),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",v,this).on("emphasis",d,this).on("normal",v,this)}this._effectCfg=h},p.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},o.inherits(s,c),e.exports=s},function(e,t,n){function r(){this.group=new i.Group,this._lineEl=new u}var i=n(3),s=n(99),o=n(98),u=i.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(e,t){for(var n=t.segs,r=t.polyline,i=0;i<n.length;i++){var s=n[i];if(r){e.moveTo(s[0][0],s[0][1]);for(var o=1;o<s.length;o++)e.lineTo(s[o][0],s[o][1])}else e.moveTo(s[0][0],s[0][1]),s.length>2?e.quadraticCurveTo(s[2][0],s[2][1],s[1][0],s[1][1]):e.lineTo(s[1][0],s[1][1])}},findDataIndex:function(e,t){for(var n=this.shape,r=n.segs,i=n.polyline,u=Math.max(this.style.lineWidth,1),a=0;a<r.length;a++){var f=r[a];if(i){for(var l=1;l<f.length;l++)if(o.containStroke(f[l-1][0],f[l-1][1],f[l][0],f[l][1],u,e,t))return a}else if(f.length>2){if(s.containStroke(f[0][0],f[0][1],f[2][0],f[2][1],f[1][0],f[1][1],u,e,t))return a}else if(o.containStroke(f[0][0],f[0][1],f[1][0],f[1][1],u,e,t))return a}return-1}}),a=r.prototype;a.updateData=function(e){this.group.removeAll();var t=this._lineEl,n=e.hostModel;t.setShape({segs:e.mapArray(e.getItemLayout),polyline:n.get("polyline")}),t.useStyle(n.getModel("lineStyle.normal").getLineStyle());var r=e.getVisual("color");r&&t.setStyle("stroke",r),t.setStyle("fill"),t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n)}),this.group.add(t)},a.updateLayout=function(e){var t=e.getData();this._lineEl.setShape({segs:t.mapArray(t.getItemLayout)})},a.remove=function(){this.group.removeAll()},e.exports=r},function(e,t,n){function r(e,t,n,r){a.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=n,this._createContent(e,t,r),this.updateData(e,t,r),this._seriesModel}function i(e,t,n){return u.map(e,function(e){return e=e.slice(),e[t]=n.initBaseline,e})}function s(e){var t={};return u.each(e,function(e,n){t["ends"+n]=e}),t}function o(e){this.group=new a.Group,this.styleUpdater=e}var u=n(1),a=n(3),f=n(8),l=f.extend({type:"whiskerInBox",shape:{},buildPath:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&0===n.indexOf("ends")){var r=t[n];e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1])}}}),c=r.prototype;c._createContent=function(e,t,n){var r=e.getItemLayout(t),o="horizontal"===r.chartLayout?1:0,f=0;this.add(new a.Polygon({shape:{points:n?i(r.bodyEnds,o,r):r.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=f++;var c=u.map(r.whiskerEnds,function(e){return n?i(e,o,r):e});this.add(new l({shape:s(c),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=f++},c.updateData=function(e,t,n){var r=this._seriesModel=e.hostModel,i=e.getItemLayout(t),o=a[n?"initProps":"updateProps"];o(this.childAt(this.bodyIndex),{shape:{points:i.bodyEnds}},r,t),o(this.childAt(this.whiskerIndex),{shape:s(i.whiskerEnds)},r,t),this.styleUpdater.call(null,this,e,t)},u.inherits(r,a.Group);var h=o.prototype;h.updateData=function(e){var t=this.group,n=this._data,i=this.styleUpdater;e.diff(n).add(function(n){if(e.hasValue(n)){var s=new r(e,n,i,!0);e.setItemGraphicEl(n,s),t.add(s)}}).update(function(s,o){var u=n.getItemGraphicEl(o);return e.hasValue(s)?(u?u.updateData(e,s):u=new r(e,s,i),t.add(u),void e.setItemGraphicEl(s,u)):void t.remove(u)}).remove(function(e){var r=n.getItemGraphicEl(e);r&&t.remove(r)}).execute(),this._data=e},h.remove=function(){var e=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(t){t&&e.remove(t)})},e.exports=o},function(e,t,n){n(311),n(312);var r=n(2);r.registerLayout(n(313)),r.registerVisual(n(314))},function(e,t,n){function r(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=o.map(t,function(e){var t=[e[0].coord,e[1].coord],n={coords:t};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),o.mergeAll([n,e[0],e[1]])}))}var i=n(18),s=n(14),o=n(1),u=n(7),a=(n(26),i.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(e){r(e),a.superApply(this,"init",arguments)},mergeOption:function(e){r(e),a.superApply(this,"mergeOption",arguments)},getInitialData:function(e,t){var n=new s(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var s=e.value;return null!=s?s instanceof Array?s[i]:s:void 0}),n},formatTooltip:function(e){var t=this.getData(),n=t.getItemModel(e),r=n.get("name");if(r)return r;var i=n.get("fromName"),s=n.get("toName"),o=[];return null!=i&&o.push(i),null!=s&&o.push(s),u.encodeHTML(o.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}))},function(e,t,n){var r=n(109),i=n(242),s=n(108),o=n(243),u=n(306),a=n(308);n(2).extendChartView({type:"lines",init:function(){},render:function(e,t,n){var f=e.getData(),l=this._lineDraw,c=e.get("effect.show"),h=e.get("polyline"),p=e.get("large")&&f.count()>=e.get("largeThreshold");c===this._hasEffet&&h===this._isPolyline&&p===this._isLarge||(l&&l.remove(),l=this._lineDraw=p?new a:new r(h?c?u:o:c?i:s),this._hasEffet=c,this._isPolyline=h,this._isLarge=p);var d=e.get("zlevel"),v=e.get("effect.trailLength"),m=n.getZr();(m.painter.getLayer(d).clear(!0),null!=this._lastZlevel&&m.configLayer(this._lastZlevel,{motionBlur:!1}),c&&v)&&m.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(v/10+.9,1),0)}),this.group.add(l.group),l.updateData(f),this._lastZlevel=d},updateLayout:function(e,t,n){this._lineDraw.updateLayout(e);var r=n.getZr();r.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(t,!0)},dispose:function(){}})},function(e,t,n){e.exports=function(e){e.eachSeriesByType("lines",function(e){var t=e.coordinateSystem,n=e.getData();n.each(function(r){var i=n.getItemModel(r),s=i.option instanceof Array?i.option:i.get("coords"),o=[];if(e.get("polyline"))for(var u=0;u<s.length;u++)o.push(t.dataToPoint(s[u]));else{o[0]=t.dataToPoint(s[0]),o[1]=t.dataToPoint(s[1]);var a=i.get("lineStyle.normal.curveness");+a&&(o[2]=[(o[0][0]+o[1][0])/2-(o[0][1]-o[1][1])*a,(o[0][1]+o[1][1])/2-(o[1][0]-o[0][0])*a])}n.setItemLayout(r,o)})})}},function(e,t){function n(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("lines",function(e){var t=e.getData(),r=n(e.get("symbol")),i=n(e.get("symbolSize")),s="lineStyle.normal.opacity".split(".");t.setVisual("fromSymbol",r&&r[0]),t.setVisual("toSymbol",r&&r[1]),t.setVisual("fromSymbolSize",i&&i[0]),t.setVisual("toSymbolSize",i&&i[1]),t.setVisual("opacity",e.get(s)),t.each(function(e){var r=t.getItemModel(e),i=n(r.getShallow("symbol",!0)),u=n(r.getShallow("symbolSize",!0)),a=r.get(s);i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),u[0]&&t.setItemVisual(e,"fromSymbolSize",u[0]),u[1]&&t.setItemVisual(e,"toSymbolSize",u[1]),t.setItemVisual(e,"opacity",a)})})}},function(e,t,n){var r=n(2),i=r.PRIORITY;n(316),n(317),n(237),n(187),r.registerLayout(n(320)),r.registerVisual(n(321)),r.registerProcessor(i.PROCESSOR.STATISTIC,n(319)),r.registerPreprocessor(n(318)),n(88)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(e,t,n){var r=n(14),i=n(18),s=n(1),o=n(25),u=n(7),a=u.encodeHTML,f=u.addCommas,l=n(78),c=n(187),h=i.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){e=this._fillOption(e,this.getMapType()),this.option=e,h.superApply(this,"init",arguments),this.updateSelectedMap(e.data)},getInitialData:function(e){var t=o(["value"],e.data||[]),n=new r(t,this);return n.initData(e.data),n},mergeOption:function(e){e.data&&(e=this._fillOption(e,this.getMapType())),h.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){return e=s.extend({},e),e.data=c.getFilledRegions(e.data,t),e},getRawValue:function(e){return this.getData().get("value",e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=f(this.getRawValue(e)),r=t.getName(e),i=this.seriesGroup,s=[],o=0;o<i.length;o++){var u=i[o].originalData.indexOfName(r);isNaN(i[o].originalData.get("value",u))||s.push(a(i[o].name))}return s.join(", ")+"<br />"+a(r+" : "+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,r=n.getRegion(t);return r&&n.dataToPoint(r.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});s.mixin(h,l),e.exports=h},function(e,t,n){var r=n(3),i=n(247);n(2).extendChartView({type:"map",render:function(e,t,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var s=this.group;if(s.removeAll(),!e.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id){var o=this._mapDraw;o&&s.add(o.group)}else if(e.needsDrawMap){var o=this._mapDraw||new i(n,!0);s.add(o.group),o.draw(e,t,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,s=this.group;i.each("value",function(t,n){if(!isNaN(t)){var o=i.getItemLayout(n);if(o&&o.point){var u=o.point,a=o.offset,f=new r.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*a,cy:u[1],r:3},silent:!0,z2:10});if(!a){var l=e.mainSeries.getData(),c=i.getName(n),h=c,p=l.indexOfName(c),d=i.getItemModel(n),v=d.getModel("label.normal"),m=d.getModel("label.emphasis"),g=v.getModel("textStyle"),y=m.getModel("textStyle"),b=l.getItemGraphicEl(p);f.setStyle({textPosition:"bottom"});var w=function(){f.setStyle({text:m.get("show")?h:"",textFill:y.getTextColor(),textFont:y.getFont()})},E=function(){f.setStyle({text:v.get("show")?h:"",textFill:g.getTextColor(),textFont:g.getFont()})};b.on("mouseover",w).on("mouseout",E).on("emphasis",w).on("normal",E),E()}s.add(f)}}})}})},function(e,t,n){var r=n(1);e.exports=function(e){var t=[];r.each(e.series,function(e){"map"===e.type&&t.push(e)}),r.each(t,function(e){e.map=e.map||e.mapType,r.defaults(e,e.mapLocation)})}},function(e,t,n){function r(e,t){var n={},r=["value"];return i.each(e,function(e){e.each(r,function(t,r){var i=e.getName(r);n[i]=n[i]||[],isNaN(t)||n[i].push(t)})}),e[0].map(r,function(r,i){for(var s=e[0].getName(i),o=0,u=1/0,a=-1/0,f=n[s].length,l=0;l<f;l++)u=Math.min(u,n[s][l]),a=Math.max(a,n[s][l]),o+=n[s][l];var c;return c="min"===t?u:"max"===t?a:"average"===t?o/f:o,0===f?NaN:c})}var i=n(1);e.exports=function(e){var t={};e.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),i.each(t,function(e,t){for(var n=r(i.map(e,function(e){return e.getData()}),e[0].get("mapValueCalculation")),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(var s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(n.cloneShallow()),e[s].mainSeries=e[0]})}},function(e,t,n){var r=n(1);e.exports=function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var s={};r.each(n.seriesGroup,function(t){var n=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each("value",function(e,t){var i=r.getName(t),o=n.getRegion(i);if(o&&!isNaN(e)){var u=s[i]||0,a=n.dataToPoint(o.center);s[i]=u+1,r.setItemLayout(t,{point:a,offset:u})}})});var o=n.getData();o.each(function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!s[t],o.setItemLayout(e,n)}),t[i]=!0}})}},function(e,t){e.exports=function(e){e.eachSeriesByType("map",function(e){var t=e.get("color"),n=e.getModel("itemStyle.normal"),r=n.get("areaColor"),i=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:r,color:i})})}},function(e,t,n){var r=n(2);n(248),n(323),n(324),r.registerVisual(n(325))},function(e,t,n){function r(e,t,n){var r=e.get("data"),s=i(t);r&&r.length&&u.each(n,function(e){if(e){var t=u.indexOf(r,e[s]);e[s]=t>=0?t:NaN}})}function i(e){return+e.replace("dim","")}function s(e,t){var n=0;u.each(e,function(e){var t=i(e);t>n&&(n=t)});var r=t[0];r&&r.length-1>n&&(n=r.length-1);for(var s=[],o=0;o<=n;o++)s.push("dim"+o);return s}var o=n(14),u=n(1),a=n(18),f=n(25);e.exports=a.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(e,t){var n=t.getComponent("parallel",this.get("parallelIndex")),i=n.parallelAxisIndex,a=e.data,l=n.dimensions,c=s(l,a),h=u.map(c,function(e,n){var s=u.indexOf(l,e),o=s>=0&&t.getComponent("parallelAxis",i[s]);return o&&"category"===o.get("type")?(r(o,e,a),{name:e,type:"ordinal"}):s<0&&f.guessOrdinal(a,n)?{name:e,type:"ordinal"}:e}),p=new o(h,this);return p.initData(a),this.option.progressive&&(this.option.animation=!1),p},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),r=[];return t.eachActiveState(n,function(t,i){e===t&&r.push(n.getRawIndex(i))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(e,t,n){function r(e,t,n){var r=e.model,i=e.getRect(),s=new a.Rect({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o="horizontal"===r.get("layout")?"width":"height";return s.setShape(o,0),a.initProps(s,{shape:{width:i.width,height:i.height}},t,n),s}function i(e,t,n,r){for(var i=[],s=0;s<n.length;s++){var o=n[s],a=e.get(o,t);u(a,r.getAxis(o).type)||i.push(r.dataToPoint(a,o))}return i}function s(e,t,n,r,s){var o=i(e,n,r,s),u=new a.Polyline({shape:{points:o},silent:!0,z2:10});t.add(u),e.setItemGraphicEl(n,u)}function o(e,t){var n=e.hostModel.getModel("lineStyle.normal"),r=n.getLineStyle();e.eachItemGraphicEl(function(i,s){if(e.hasItemOption){var o=e.getItemModel(s),u=o.getModel("lineStyle.normal",n);r=u.getLineStyle()}i.useStyle(f.extend(r,{fill:null,stroke:e.getItemVisual(s,"color"),opacity:e.getItemVisual(s,"opacity")})),i.shape.smooth=t})}function u(e,t){return"category"===t?null==e:null==e||isNaN(e)}var a=n(3),f=n(1),l=.3,c=n(29).extend({type:"parallel",init:function(){this._dataGroup=new a.Group,this.group.add(this._dataGroup),this._data},render:function(e,t,n,r){this._renderForNormal(e)},dispose:function(){},_renderForNormal:function(e){function t(e){s(c,f,e,d,p,null,m)}function n(t,n){var r=h.getItemGraphicEl(n),s=i(c,t,d,p);c.setItemGraphicEl(t,r),a.updateProps(r,{shape:{points:s}},e,t)}function u(e){var t=h.getItemGraphicEl(e);f.remove(t)}var f=this._dataGroup,c=e.getData(),h=this._data,p=e.coordinateSystem,d=p.dimensions,v=e.option,m=v.smooth?l:null;if(c.diff(h).add(t).update(n).remove(u).execute(),o(c,m),!this._data){var g=r(p,e,function(){setTimeout(function(){f.removeClipPath()})});f.setClipPath(g)}this._data=c},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});e.exports=c},function(e,t){e.exports=function(e){e.eachSeriesByType("parallel",function(t){var n=t.getModel("itemStyle.normal"),r=t.getModel("lineStyle.normal"),i=e.get("color"),s=r.get("color")||n.get("color")||i[t.seriesIndex%i.length],o=t.get("inactiveOpacity"),u=t.get("activeOpacity"),a=t.getModel("lineStyle.normal").getLineStyle(),f=t.coordinateSystem,l=t.getData(),c={normal:a.opacity,active:u,inactive:o};f.eachActiveState(l,function(e,t){l.setItemVisual(t,"opacity",c[e])}),l.setVisual("color",s)})}},function(e,t,n){var r=n(1);n(56),n(265),n(266);var i=n(97),s=n(2);s.registerLayout(r.curry(i,"pictorialBar")),s.registerVisual(r.curry(n(50),"pictorialBar","roundRect",null)),n(38)},function(e,t,n){var r=n(1),i=n(2);n(369),n(328),n(329),i.registerVisual(r.curry(n(83),"radar")),i.registerVisual(r.curry(n(50),"radar","circle",null)),i.registerLayout(n(331)),i.registerProcessor(r.curry(n(63),"radar")),i.registerPreprocessor(n(330))},function(e,t,n){var r=n(18),i=n(14),s=n(25),o=n(1),u=n(7).encodeHTML,a=r.extend({type:"series.radar",dependencies:["radar"],init:function(e){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){var n=e.data||[],r=s([],n,{extraPrefix:"indicator_"}),o=new i(r,this);return o.initData(n),o},formatTooltip:function(e){var t=this.getRawValue(e),n=this.coordinateSystem,r=n.getIndicatorAxes(),i=this.getData().getName(e);return u(""===i?this.name:i)+"<br/>"+o.map(r,function(e,n){return u(e.name+" : "+t[n])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});e.exports=a},function(e,t,n){function r(e){return s.isArray(e)||(e=[+e,+e]),e}var i=n(3),s=n(1),o=n(24);e.exports=n(2).extendChartView({type:"radar",render:function(e,t,n){function u(e,t){var n=e.getItemVisual(t,"symbol")||"circle",i=e.getItemVisual(t,"color");if("none"!==n){var s=o.createSymbol(n,-0.5,-0.5,1,1,i);return s.attr({style:{strokeNoScale:!0},z2:100,scale:r(e.getItemVisual(t,"symbolSize"))}),s}}function a(t,n,r,s,o,a){r.removeAll();for(var f=0;f<n.length-1;f++){var l=u(s,o);l&&(l.__dimIdx=f,t[f]?(l.attr("position",t[f]),i[a?"initProps":"updateProps"](l,{position:n[f]},e,o)):l.attr("position",n[f]),r.add(l))}}function f(e){return s.map(e,function(e){return[l.cx,l.cy]})}var l=e.coordinateSystem,c=this.group,h=e.getData(),p=this._data;h.diff(p).add(function(t){var n=h.getItemLayout(t);if(n){var r=new i.Polygon,s=new i.Polyline,o={shape:{points:n}};r.shape.points=f(n),s.shape.points=f(n),i.initProps(r,o,e,t),i.initProps(s,o,e,t);var u=new i.Group,l=new i.Group;u.add(s),u.add(r),u.add(l),a(s.shape.points,n,l,h,t,!0),h.setItemGraphicEl(t,u)}}).update(function(t,n){var r=p.getItemGraphicEl(n),s=r.childAt(0),o=r.childAt(1),u=r.childAt(2),f={shape:{points:h.getItemLayout(t)}};f.shape.points&&(a(s.shape.points,f.shape.points,u,h,t,!1),i.updateProps(s,f,e),i.updateProps(o,f,e),h.setItemGraphicEl(t,r))}).remove(function(e){c.remove(p.getItemGraphicEl(e))}).execute(),h.eachItemGraphicEl(function(t,n){function r(){f.attr("ignore",g)}function o(){f.attr("ignore",m)}var u=h.getItemModel(n),a=t.childAt(0),f=t.childAt(1),l=t.childAt(2),p=h.getItemVisual(n,"color");c.add(t),a.useStyle(s.defaults(u.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:p})),a.hoverStyle=u.getModel("lineStyle.emphasis").getLineStyle();var d=u.getModel("areaStyle.normal"),v=u.getModel("areaStyle.emphasis"),m=d.isEmpty()&&d.parentModel.isEmpty(),g=v.isEmpty()&&v.parentModel.isEmpty();g=g&&m,f.ignore=m,f.useStyle(s.defaults(d.getAreaStyle(),{fill:p,opacity:.7})),f.hoverStyle=v.getAreaStyle();var y=u.getModel("itemStyle.normal").getItemStyle(["color"]),b=u.getModel("itemStyle.emphasis").getItemStyle(),w=u.getModel("label.normal"),E=u.getModel("label.emphasis");l.eachChild(function(t){t.setStyle(y),t.hoverStyle=s.clone(b);var r=h.get(h.dimensions[t.__dimIdx],n);i.setText(t.style,w,p),t.setStyle({text:w.get("show")?s.retrieve(e.getFormattedLabel(n,"normal",null,t.__dimIdx),r):""}),i.setText(t.hoverStyle,E,p),t.hoverStyle.text=E.get("show")?s.retrieve(e.getFormattedLabel(n,"emphasis",null,t.__dimIdx),r):""}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",r).on("mouseover",r).on("normal",o).on("mouseout",o),i.setHoverStyle(t)}),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}})},function(e,t,n){var r=n(1);e.exports=function(e){var t=e.polar;if(t){r.isArray(t)||(t=[t]);var n=[];r.each(t,function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],r.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)}),e.polar=n}r.each(e.series,function(e){"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}},function(e,t){e.exports=function(e){e.eachSeriesByType("radar",function(e){function t(e,t){r[t]=r[t]||[],r[t][s]=i.dataToPoint(e,s)}var n=e.getData(),r=[],i=e.coordinateSystem;if(i){for(var s=0;s<i.getIndicatorAxes().length;s++){var o=n.dimensions[s];n.each(o,t)}n.each(function(e){r[e][0]&&r[e].push(r[e][0].slice()),n.setItemLayout(e,r[e])})}})}},function(e,t,n){var r=n(2);n(333),n(334),r.registerLayout(n(335)),r.registerVisual(n(336))},function(e,t,n){var r=n(18),i=n(244),s=n(7).encodeHTML,o=r.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,n=e.data||e.nodes;if(n&&t){var r=i(n,t,this,!0);return r.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var r=this.getDataParams(e,n),i=r.data,u=i.source+" -- "+i.target;return r.value&&(u+=" : "+r.value),s(u)}return o.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});e.exports=o},function(e,t,n){function r(e,t,n){var r=new i.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return i.initProps(r,{shape:{width:e.width+20,height:e.height+20}},t,n),r}var i=n(3),s=n(1),o=i.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n),e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n),e.closePath()}});e.exports=n(2).extendChartView({type:"sankey",_model:null,render:function(e,t,n){var u=e.getGraph(),a=this.group,f=e.layoutInfo,l=e.getData(),c=e.getData("edge");this._model=e,a.removeAll(),a.position=[f.x,f.y],u.eachEdge(function(t){var n=new o;n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType="edge";var r=t.getModel("lineStyle.normal"),s=r.get("curveness"),u=t.node1.getLayout(),f=t.node2.getLayout(),l=t.getLayout();n.shape.extent=Math.max(1,l.dy);var p=u.x+u.dx,d=u.y+l.sy+l.dy/2,v=f.x,m=f.y+l.ty+l.dy/2,g=p*(1-s)+v*s,y=d,b=p*s+v*(1-s),w=m;switch(n.setShape({x1:p,y1:d,x2:v,y2:m,cpx1:g,cpy1:y,cpx2:b,cpy2:w}),n.setStyle(r.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color");break;case"target":n.style.fill=t.node2.getVisual("color")}i.setHoverStyle(n,t.getModel("lineStyle.emphasis").getItemStyle()),a.add(n),c.setItemGraphicEl(t.dataIndex,n)}),u.eachNode(function(t){var n=t.getLayout(),r=t.getModel(),o=r.getModel("label.normal"),u=o.getModel("textStyle"),f=r.getModel("label.emphasis"),c=f.getModel("textStyle"),h=new i.Rect({shape:{x:n.x,y:n.y,width:t.getLayout().dx,height:t.getLayout().dy},style:{text:o.get("show")?e.getFormattedLabel(t.dataIndex,"normal")||t.id:"",textFont:u.getFont(),textFill:u.getTextColor(),textPosition:o.get("position")}});h.setStyle(s.defaults({fill:t.getVisual("color")},r.getModel("itemStyle.normal").getItemStyle())),i.setHoverStyle(h,s.extend(t.getModel("itemStyle.emphasis"),{text:f.get("show")?e.getFormattedLabel(t.dataIndex,"emphasis")||t.id:"",textFont:c.getFont(),textFill:c.getTextColor(),textPosition:f.get("position")})),a.add(h),l.setItemGraphicEl(t.dataIndex,h),h.dataType="node"}),!this._data&&e.get("animation")&&a.setClipPath(r(a.getBoundingRect(),e,function(){a.removeClipPath()})),this._data=e.getData()},dispose:function(){}})},function(e,t,n){function r(e,t){return T.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function i(e,t,n,r,i,s,u){o(e,n,i),f(e,t,s,r,u),m(e)}function s(e){C.each(e,function(e){var t=b(e.outEdges,x),n=b(e.inEdges,x),r=Math.max(t,n);e.setLayout({value:r},!0)})}function o(e,t,n){for(var r=e,i=null,s=0,o=0;r.length;){i=[];for(var f=0,l=r.length;f<l;f++){var c=r[f];c.setLayout({x:s},!0),c.setLayout({dx:t},!0);for(var h=0,p=c.outEdges.length;h<p;h++)i.push(c.outEdges[h].node2)}r=i,++s}u(e,s),o=(n-t)/(s-1),a(e,o)}function u(e,t){C.each(e,function(e){e.outEdges.length||e.setLayout({x:t-1},!0)})}function a(e,t){C.each(e,function(e){var n=e.getLayout().x*t;e.setLayout({x:n},!0)})}function f(e,t,n,r,i){var s=N().key(function(e){return e.getLayout().x}).sortKeys(S).entries(e).map(function(e){return e.values});l(e,s,t,n,r),c(s,r,n);for(var o=1;i>0;i--)o*=.99,h(s,o),c(s,r,n),d(s,o),c(s,r,n)}function l(e,t,n,r,i){var s=[];C.each(t,function(e){var t=e.length,n=0;C.each(e,function(e){n+=e.getLayout().value});var o=(r-(t-1)*i)/n;s.push(o)}),s.sort(function(e,t){return e-t});var o=s[0];C.each(t,function(e){C.each(e,function(e,t){e.setLayout({y:t},!0);var n=e.getLayout().value*o;e.setLayout({dy:n},!0)})}),C.each(n,function(e){var t=+e.getValue()*o;e.setLayout({dy:t},!0)})}function c(e,t,n){C.each(e,function(e){var r,i,s,o=0,u=e.length;for(e.sort(E),s=0;s<u;s++){if(r=e[s],i=o-r.getLayout().y,i>0){var a=r.getLayout().y+i;r.setLayout({y:a},!0)}o=r.getLayout().y+r.getLayout().dy+t}if(i=o-t-n,i>0){var a=r.getLayout().y-i;for(r.setLayout({y:a},!0),o=r.getLayout().y,s=u-2;s>=0;--s)r=e[s],i=r.getLayout().y+r.getLayout().dy+t-o,i>0&&(a=r.getLayout().y-i,r.setLayout({y:a},!0)),o=r.getLayout().y}})}function h(e,t){C.each(e.slice().reverse(),function(e){C.each(e,function(e){if(e.outEdges.length){var n=b(e.outEdges,p)/b(e.outEdges,x),r=e.getLayout().y+(n-w(e))*t;e.setLayout({y:r},!0)}})})}function p(e){return w(e.node2)*e.getValue()}function d(e,t){C.each(e,function(e){C.each(e,function(e){if(e.inEdges.length){var n=b(e.inEdges,v)/b(e.inEdges,x),r=e.getLayout().y+(n-w(e))*t;e.setLayout({y:r},!0)}})})}function v(e){return w(e.node1)*e.getValue()}function m(e){C.each(e,function(e){e.outEdges.sort(g),e.inEdges.sort(y)}),C.each(e,function(e){var t=0,n=0;C.each(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),C.each(e.inEdges,function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy})})}function g(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function y(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function b(e,t){for(var n=0,r=e.length,i=-1;++i<r;){var s=+t.call(e,e[i],i);isNaN(s)||(n+=s)}return n}function w(e){return e.getLayout().y+e.getLayout().dy/2}function E(e,t){return e.getLayout().y-t.getLayout().y}function S(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function x(e){return e.getValue()}var T=n(12),N=n(262),C=n(1);e.exports=function(e,t,n){e.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),o=e.get("nodeGap"),u=r(e,t);e.layoutInfo=u;var a=u.width,f=u.height,l=e.getGraph(),c=l.nodes,h=l.edges;s(c);var p=c.filter(function(e){return 0===e.getLayout().value}),d=0!==p.length?0:e.get("layoutIterations");i(c,h,n,o,a,f,d)})}},function(e,t,n){var r=n(82),i=n(1);e.exports=function(e,t){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes;n.sort(function(e,t){return e.getLayout().value-t.getLayout().value});var s=n[0].getLayout().value,o=n[n.length-1].getLayout().value;i.each(n,function(t){var n=new r({type:"color",mappingMethod:"linear",dataExtent:[s,o],visual:e.get("color")}),i=n.mapValueToVisual(t.getLayout().value);t.setVisual("color",i);var a=t.getModel(),f=a.get("itemStyle.normal.color");null!=f&&t.setVisual("color",f)})})}},function(e,t,n){var r=n(2),i=n(1);n(249),n(338),n(339),r.registerLayout(n(340)),r.registerVisual(n(341)),r.registerProcessor(i.curry(n(63),"themeRiver"))},function(e,t,n){var r=n(25),i=n(18),s=n(14),o=n(1),u=n(7),a=u.encodeHTML,f=n(262),l=2,c=i.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,n=f().key(function(e){return e[2]}).entries(e),r=o.map(n,function(e){return{name:e.key,dataList:e.values}}),i=r.length,s=-1,u=-1,a=0;a<i;++a){var l=r[a].dataList.length;l>s&&(s=l,u=a)}for(var c=0;c<i;++c)if(c!==u)for(var h=r[c].name,p=0;p<s;++p){for(var d=r[u].dataList[p][0],v=r[c].dataList.length,m=-1,g=0;g<v;++g){var y=r[c].dataList[g][0];if(y===d){m=g;break}}m===-1&&(e[t]=[],e[t][0]=d,e[t][1]=0,e[t][2]=h,t++)}return e},getInitialData:function(e,t){var n=[],i=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],u=i.get("type");n=[{name:"time",type:"category"===u?"ordinal":"time"===u?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var a=o.filter(e.data,function(e){return void 0!==e[2]}),f=this.fixData(a||[]),c=[],h=this.nameMap={},p=0,d=0;d<f.length;++d)c.push(f[d][l]),h[f[d][l]]||(h[f[d][l]]=p++);r(n,f);var v=new s(n,this);return v.initData(f,c),v},coordDimToDataDim:function(e){return["time"]},getLayerSeries:function(){function e(e,n){return t.get("time",e)-t.get("time",n)}for(var t=this.getData(),n=t.count(),r=[],i=0;i<n;++i)r[i]=i;for(var s=f().key(function(e){return t.get("name",e)}).entries(r),u=o.map(s,function(e){return{name:e.key,indices:e.values}}),a=0;a<u.length;++a)u[a].indices.sort(e);return u},getAxisTooltipData:function(e,t,n){o.isArray(e)||(e=e?[e]:[]);for(var r,i=this.getData(),s=this.getLayerSeries(),u=[],a=s.length,f=0;f<a;++f){for(var l=Number.MAX_VALUE,c=-1,h=s[f].indices.length,p=0;p<h;++p){var d=i.get(e[0],s[f].indices[p]),v=Math.abs(d-t);v<=l&&(r=d,l=v,c=s[f].indices[p])}u.push(c)}return{dataIndices:u,nestestValue:r}},formatTooltip:function(e){var t=this.getData(),n=t.get("name",e),r=t.get("value",e);return(isNaN(r)||null==r)&&(r="-"),a(n+" : "+r)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});e.exports=c},function(e,t,n){(function(t){function r(e,t,n){var r=new s.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return s.initProps(r,{shape:{width:e.width+20,height:e.height+20}},t,n),r}var i=n(91),s=n(3),o=n(1),u=n(48);e.exports=n(2).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){function f(e){return e.name}function l(t,n,u){var a=this._layers;if("remove"===t)return void p.remove(a[n]);for(var f,l=[],v=[],m=d[n].indices,g=0;g<m.length;g++){var y=c.getItemLayout(m[g]),w=y.x,E=y.y0,S=y.y;l.push([w,E]),v.push([w,E+S]),f=h.getItemVisual(m[g],"color")}var x,T,N=c.getItemLayout(m[0]),C=c.getItemModel(m[g-1]),k=C.getModel("label.normal"),L=k.get("margin");if("add"===t){var A=b[n]=new s.Group;x=new i.Polygon({shape:{points:l,stackedOnPoints:v,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),T=new s.Text({style:{x:N.x-L,y:N.y0+N.y/2}}),A.add(x),A.add(T),p.add(A),x.setClipPath(r(x.getBoundingRect(),e,function(){x.removeClipPath()}))}else{var A=a[u];x=A.childAt(0),T=A.childAt(1),p.add(A),b[n]=A,s.updateProps(x,{shape:{points:l,stackedOnPoints:v}},e),s.updateProps(T,{style:{x:N.x-L,y:N.y0+N.y/2}},e)}var O=C.getModel("itemStyle.emphasis"),M=C.getModel("itemStyle.normal"),_=k.getModel("textStyle");T.setStyle({text:k.get("show")?e.getFormattedLabel(m[g-1],"normal")||c.getName(m[g-1]):"",textFont:_.getFont(),textAlign:k.get("textAlign"),textVerticalAlign:"middle"}),x.setStyle(o.extend({fill:f},M.getItemStyle(["color"]))),s.setHoverStyle(x,O.getItemStyle())}var c=e.getData(),h=e.getRawData();if(c.count()){var p=this.group,d=e.getLayerSeries(),v=c.getLayout("layoutInfo"),m=v.rect,g=v.boundaryGap;p.attr("position",[0,m.y+g[0]]);var y=new u(this._layersSeries||[],d,f,f),b={};y.add(o.bind(o.curry(l,"add"),this)).update(o.bind(o.curry(l,"update"),this)).remove(o.bind(o.curry(l,"remove"),this)).execute(),this._layersSeries=d,this._layers=b}},dispose:function(){}})}).call(t,n(189))},function(e,t,n){function r(e,t,n){if(e.count())for(var r,o=t.coordinateSystem,u=t.getLayerSeries(),a=s.map(u,function(t){return s.map(t.indices,function(t){var n=o.dataToPoint(e.get("time",t));return n[1]=e.get("value",t),n})}),f=i(a),l=f.y0,c=n/f.max,h=u.length,p=u[0].indices.length,d=0;d<p;++d){r=l[d]*c,e.setItemLayout(u[0].indices[d],{layerIndex:0,x:a[0][d][0],y0:r,y:a[0][d][1]*c});for(var v=1;v<h;++v)r+=a[v-1][d][1]*c,e.setItemLayout(u[v].indices[d],{layerIndex:v,x:a[v][d][0],y0:r,y:a[v][d][1]*c})}}function i(e){for(var t,n=e.length,r=e[0].length,i=[],s=[],o=0,u={},a=0;a<r;++a){for(var f=0,t=0;f<n;++f)t+=e[f][a][1];t>o&&(o=t),i.push(t)}for(var l=0;l<r;++l)s[l]=(o-i[l])/2;o=0;for(var c=0;c<r;++c){var h=i[c]+s[c];h>o&&(o=h)}return u.y0=s,u.max=o,u}var s=n(1),o=n(4);e.exports=function(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),n=e.coordinateSystem,i={},s=n.getRect();i.rect=s;var u=e.get("boundaryGap"),a=n.getAxis();if(i.boundaryGap=u,"horizontal"===a.orient){u[0]=o.parsePercent(u[0],s.height),u[1]=o.parsePercent(u[1],s.height);var f=s.height-u[0]-u[1];r(t,e,f)}else{u[0]=o.parsePercent(u[0],s.width),u[1]=o.parsePercent(u[1],s.width);var l=s.width-u[0]-u[1];r(t,e,l)}t.setLayout("layoutInfo",i)})}},function(e,t){e.exports=function(e){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),n=e.getRawData(),r=e.get("color");t.each(function(i){var s=t.getName(i),o=r[(e.nameMap[s]-1)%r.length];n.setItemVisual(i,"color",o)})})}},function(e,t,n){var r=n(2);n(344),n(345),n(346),r.registerVisual(n(348)),r.registerLayout(n(347))},function(e,t,n){function r(e){this.group=new o.Group,e.add(this.group)}function i(e,t,n,r,i,s){var o=[[i?e:e-h,t],[e+n,t],[e+n,t+r],[i?e:e-h,t+r]];return!s&&o.splice(2,0,[e+n+h,t+r/2]),!i&&o.push([e,t+r/2]),o}function s(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&f.wrapTreePathInfo(n,t)}}var o=n(3),u=n(12),a=n(1),f=n(92),l=8,c=8,h=5;r.prototype={constructor:r,render:function(e,t,n,r){var i=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),i.get("show")&&n){var o=i.getModel("itemStyle.normal"),a=o.getModel("textStyle"),f={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,f,a),this._renderContent(e,f,o,a,r),u.positionElement(s,f.pos,f.box)}},_prepare:function(e,t,n){for(var r=e;r;r=r.parentNode){var i=r.getModel().get("name"),s=n.getTextRect(i),o=Math.max(s.width+2*l,t.emptyItemWidth);t.totalWidth+=o+c,t.renderList.push({node:r,text:i,width:o})}},_renderContent:function(e,t,n,r,f){for(var l=0,h=t.emptyItemWidth,p=e.get("breadcrumb.height"),d=u.getAvailableSize(t.pos,t.box),v=t.totalWidth,m=t.renderList,g=m.length-1;g>=0;g--){var y=m[g],b=y.node,w=y.width,E=y.text;v>d.width&&(v-=w-h,w=h,E="");var S=new o.Polygon({shape:{points:i(l,0,w,p,g===m.length-1,0===g)},style:a.defaults(n.getItemStyle(),{lineJoin:"bevel",text:E,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:a.curry(f,b)});this.group.add(S),s(S,e,b),l+=w+c}},remove:function(){this.group.removeAll()}},e.exports=r},function(e,t,n){function r(e){var t=0;u.each(e.children,function(e){r(e);var n=e.value;u.isArray(n)&&(n=n[0]),t+=n});var n=e.value;u.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),u.isArray(e.value)?e.value[0]=n:e.value=n}function i(e,t){var n=t.get("color");if(n){e=e||[];var r;if(u.each(e,function(e){var t=new a(e),n=t.get("color");(t.get("itemStyle.normal.color")||n&&"none"!==n)&&(r=!0)}),!r){var i=e[0]||(e[0]={});i.color=n.slice()}return e}}var s=n(18),o=n(414),u=n(1),a=n(10),f=n(7),l=n(92),c=f.encodeHTML,h=f.addCommas;e.exports=s.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"‚ñ∂",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n=e.name;null==n&&(n=e.name);var s={name:n,children:e.data};r(s);var u=e.levels||[];return u=e.levels=i(u,t),o.createTree(s,this,u).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),r=h(u.isArray(n)?n[0]:n),i=t.getName(e);return c(i+": "+r)},getDataParams:function(e){var t=s.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=l.wrapTreePathInfo(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},u.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap={},this._idIndexMapCount=0);var n=t[e];return null==n&&(t[e]=n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}})},function(e,t,n){function r(){return{nodeGroup:[],background:[],content:[]}}function i(e,t,n,r,i,a,f,l,c,h){function p(t){H.dataIndex=f.dataIndex,H.seriesIndex=e.seriesIndex;var n=C.borderWidth,r=Math.max(k-2*n,0),i=Math.max(L-2*n,0);H.culling=!0,H.setShape({x:n,y:n,width:r,height:i});var s=f.getVisual("color",!0);d(H,function(){var e={fill:s},t=f.getModel("itemStyle.emphasis").getItemStyle();v(e,t,s,r,i),H.setStyle(e),u.setHoverStyle(H,t)}),t.add(H)}function d(e,t){A?!e.invisible&&a.push(e):(t(),e.__tmWillVisible||(e.invisible=!1))}function v(t,n,r,i,s){var o=f.getModel(),u=o.get("name");if(C.isLeafRoot){var a=e.get("drillDownIcon",!0);u=a?a+" "+u:u}y(u,t,o,w,r,i,s),y(u,n,o,E,r,i,s)}function y(e,t,n,r,i,s,o){var a=n.getModel(r),f=a.getModel("textStyle");u.setText(t,a,i),t.textAlign=f.get("align"),t.textVerticalAlign=f.get("baseline");var l=f.getTextRect(e);!a.getShallow("show")||l.height>o?t.text="":l.width>s?t.text=f.get("ellipsis")?f.truncateText(e,s,null,{minChar:2}):"":t.text=e}function b(e,r,o,u){var a=null!=M&&n[e][M],f=i[e];return a?(n[e][M]=null,S(f,a,e)):A||(a=new r({z:s(o,u)}),a.__tmDepth=o,a.__tmStorageName=e,N(f,a,e)),t[e][O]=a}function S(e,t,n){var r=e[O]={};r.old="nodeGroup"===n?t.position.slice():o.extend({},t.shape)}function N(e,t,n){var s=e[O]={},o=f.parentNode;if(o&&(!r||"drillDown"===r.direction)){var u=0,a=0,l=i.background[o.getRawIndex()];!r&&l&&l.old&&(u=l.old.width,a=l.old.height),s.old="nodeGroup"===n?[0,a]:{x:u,y:a,width:0,height:0}}s.fadein="nodeGroup"!==n}if(f){var C=f.getLayout();if(C&&C.isInView){var k=C.width,L=C.height,A=C.invisible,O=f.getRawIndex(),M=l&&l.getRawIndex(),_=b("nodeGroup",m);if(_){if(c.add(_),_.attr("position",[C.x||0,C.y||0]),_.__tmNodeWidth=k,_.__tmNodeHeight=L,C.isAboveViewRoot)return _;var D=b("background",g,h,x);D&&(D.setShape({x:0,y:0,width:k,height:L}),d(D,function(){D.setStyle("fill",f.getVisual("borderColor",!0))}),_.add(D));var P=f.viewChildren;if(!P||!P.length){var H=b("content",g,h,T);H&&p(_)}return _}}}}function s(e,t){var n=e*S+t;return(n-1)/n}var o=n(1),u=n(3),a=n(48),f=n(92),l=n(343),c=n(94),h=n(11),p=n(19),d=n(415),v=o.bind,m=u.Group,g=u.Rect,y=o.each,b=3,w=["label","normal"],E=["label","emphasis"],S=10,x=1,T=2;e.exports=n(2).extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage=r(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(e,t,n,r){var i=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(o.indexOf(i,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var s=f.retrieveTargetInfo(r,e),u=r&&r.type,a=e.layoutInfo,l=!this._oldTree,c=this._storage,h="treemapRootToNode"===u&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:r.direction}:null,p=this._giveContainerGroup(a),d=this._doRender(p,e,h);l||u&&"treemapZoomToNode"!==u&&"treemapRootToNode"!==u?d.renderFinally():this._doAnimation(p,d,e,h),this._resetController(n),this._renderBreadcrumb(e,n,s)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new m,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){function s(e,t,n,r,i){function u(e){return e.getId()}function f(o,u){var a=null!=o?e[o]:null,f=null!=u?t[u]:null,l=m(a,f,n,i);l&&s(a&&a.viewChildren||[],f&&f.viewChildren||[],l,r,i+1)}r?(t=e,y(e,function(e,t){!e.isRemoved()&&f(t,t)})):(new a(t,e,u,u)).add(f).update(f).remove(o.curry(f,null)).execute()}function u(e){var t=r();return e&&y(e,function(e,n){var r=t[n];y(e,function(e){e&&(r.push(e),e.__tmWillDelete=1)})}),t}function f(){y(g,function(e){y(e,function(e){e.parent&&e.parent.remove(e)})}),y(v,function(e){e.invisible=!0,e.dirty()})}var l=t.getData().tree,c=this._oldTree,h=r(),p=r(),d=this._storage,v=[],m=o.curry(i,t,p,d,n,h,v);s(l.root?[l.root]:[],c&&c.root?[c.root]:[],e,l===c||!c,0);var g=u(d);return this._oldTree=l,this._storage=p,{lastsForAnimation:h,willDeleteEls:g,renderFinally:f}},_doAnimation:function(e,t,n,r){if(n.get("animation")){var i=n.get("animationDurationUpdate"),s=n.get("animationEasing"),u=d.createWrap();y(t.willDeleteEls,function(e,t){y(e,function(e,n){if(!e.invisible){var o,a=e.parent;if(r&&"drillDown"===r.direction)o=a===r.rootNodeGroup?{shape:{x:0,y:0,width:a.__tmNodeWidth,height:a.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,l=0;a.__tmWillDelete||(f=a.__tmNodeWidth/2,l=a.__tmNodeHeight/2),o="nodeGroup"===t?{position:[f,l],style:{opacity:0}}:{shape:{x:f,y:l,width:0,height:0},style:{opacity:0}}}o&&u.add(e,o,i,s)}})}),y(this._storage,function(e,n){y(e,function(e,r){var a=t.lastsForAnimation[n][r],f={};a&&("nodeGroup"===n?a.old&&(f.position=e.position.slice(),e.attr("position",a.old)):(a.old&&(f.shape=o.extend({},e.shape),e.setShape(a.old)),a.fadein?(e.setStyle("opacity",0),f.style={opacity:1}):1!==e.style.opacity&&(f.style={opacity:1})),u.add(e,f,i,s))})},this),this._state="animating",u.done(v(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||(t=this._controller=new c(e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",v(this._onPan,this)),t.on("zoom",v(this._onZoom,this)));var n=new h(0,0,e.getWidth(),e.getHeight());t.setContainsPoint(function(e,t){return n.contain(e,t)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(e)>b||Math.abs(t)>b)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e,y:r.y+t,width:r.width,height:r.height}})}},_onZoom:function(e,t,n){if(this._mayClick=!1,"animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var s=new h(i.x,i.y,i.width,i.height),o=this.seriesModel.layoutInfo;t-=o.x,n-=o.y;var u=p.create();p.translate(u,u,[-t,-n]),p.scale(u,u,[e,e]),p.translate(u,u,[t,n]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},_initEvents:function(e){function t(e){var t=this.seriesModel.get("nodeClick",!0);if(t){var n=this.findTarget(e.offsetX,e.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===t)this._zoomToNode(n);else if("link"===t){var i=r.hostTree.data.getItemModel(r.dataIndex),s=i.get("link",!0),o=i.get("target",!0)||"blank";s&&window.open(s,o)}}}}e.on("mousedown",function(e){"ready"===this._state&&(this._mayClick=!0)},this),e.on("mouseup",function(e){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&t.call(this,e))},this)},_renderBreadcrumb:function(e,t,n){function r(t){"animating"!==this._state&&(f.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),n||(n={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(e,t,n.node,v(r,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=r(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var s=i.transformCoordToLocal(e,t),o=i.shape;if(!(o.x<=s[0]&&s[0]<=o.x+o.width&&o.y<=s[1]&&s[1]<=o.y+o.height))return!1;n={node:r,offsetX:s[0],offsetY:s[1]}}},this),n}})},function(e,t,n){for(var r=n(2),i=n(92),s=function(){},o=["treemapZoomToNode","treemapRender","treemapMove"],u=0;u<o.length;u++)r.registerAction({type:o[u],update:"updateView"},s);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){function n(t,n){var r=i.retrieveTargetInfo(e,t);if(r){var s=t.getViewRoot();s&&(e.direction=i.aboveViewRoot(s,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},n)})},function(e,t,n){function r(e,t,n){var r={mainType:"series",subType:"treemap",query:n};e.eachComponent(r,function(e){var r=t.getWidth(),s=t.getHeight(),o=e.option,u=m.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),a=o.size||[],f=E(S(u.width,a[0]),r),l=E(S(u.height,a[1]),s),v=n&&n.type,b=g.retrieveTargetInfo(n,e),w="treemapRender"===v||"treemapMove"===v?n.rootRect:null,T=e.getViewRoot(),N=g.getPathToRoot(T);if("treemapMove"!==v){var C="treemapZoomToNode"===v?c(e,b,T,f,l):w?[w.width,w.height]:[f,l],k=o.sort;k&&"asc"!==k&&"desc"!==k&&(k="desc");var L={squareRatio:o.squareRatio,sort:k,leafDepth:o.leafDepth};T.hostTree.clearLayouts();var A={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};T.setLayout(A),i(T,L,!1,0);var A=T.getLayout();x(N,function(e,t){var n=(N[t+1]||T).getValue();e.setLayout(d.extend({dataExtent:[n,n],borderWidth:0},A))})}var O=e.getData().tree.root;O.setLayout(h(u,w,b),!0),e.setLayoutInfo(u),p(O,new y(-u.x,-u.y,r,s),N,T,0)})}function i(e,t,n,r){var o,u;if(!e.isRemoved()){var a=e.getLayout();o=a.width,u=a.height;var c=e.getModel("itemStyle.normal"),h=c.get("borderWidth"),p=c.get("gapWidth")/2,d=h-p,v=e.getModel();e.setLayout({borderWidth:h},!0),o=b(o-2*d,0),u=b(u-2*d,0);var m=o*u,g=s(e,v,m,t,n,r);if(g.length){var y={x:d,y:d,width:o,height:u},E=w(o,u),S=1/0,x=[];x.area=0;for(var T=0,N=g.length;T<N;){var C=g[T];x.push(C),x.area+=C.getLayout().area;var k=f(x,E,t.squareRatio);k<=S?(T++,S=k):(x.area-=x.pop().getLayout().area,l(x,E,y,p,!1),E=w(y.width,y.height),x.length=x.area=0,S=1/0)}if(x.length&&l(x,E,y,p,!0),!n){var L=v.get("childrenVisibleMin");null!=L&&m<L&&(n=!0)}for(var T=0,N=g.length;T<N;T++)i(g[T],t,n,r+1)}}}function s(e,t,n,r,i,s){var f=e.children||[],l=r.sort;"asc"!==l&&"desc"!==l&&(l=null);var c=null!=r.leafDepth&&r.leafDepth<=s;if(i&&!c)return e.viewChildren=[];f=d.filter(f,function(e){return!e.isRemoved()}),u(f,l);var h=a(t,f,l);if(0===h.sum)return e.viewChildren=[];if(h.sum=o(t,n,h.sum,l,f),0===h.sum)return e.viewChildren=[];for(var p=0,v=f.length;p<v;p++){var m=f[p].getValue()/h.sum*n;f[p].setLayout({area:m})}return c&&(f.length&&e.setLayout({isLeafRoot:!0},!0),f.length=0),e.viewChildren=f,e.setLayout({dataExtent:h.dataExtent},!0),f}function o(e,t,n,r,i){if(!r)return n;for(var s=e.get("visibleMin"),o=i.length,u=o,a=o-1;a>=0;a--){var f=i["asc"===r?o-a-1:a].getValue();f/n*t<s&&(u=a,n-=f)}return"asc"===r?i.splice(0,o-u):i.splice(u,o-u),n}function u(e,t){return t&&e.sort(function(e,n){return"asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue()}),e}function a(e,t,n){for(var r=0,i=0,s=t.length;i<s;i++)r+=t[i].getValue();var o,u=e.get("visualDimension");if(t&&t.length)if("value"===u&&n)o=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&o.reverse();else{var o=[1/0,-1/0];x(t,function(e){var t=e.getValue(u);t<o[0]&&(o[0]=t),t>o[1]&&(o[1]=t)})}else o=[NaN,NaN];return{sum:r,dataExtent:o}}function f(e,t,n){for(var r,i=0,s=1/0,o=0,u=e.length;o<u;o++)r=e[o].getLayout().area,r&&(r<s&&(s=r),r>i&&(i=r));var a=e.area*e.area,f=t*t*n;return a?b(f*i/a,a/(f*s)):1/0}function l(e,t,n,r,i){var s=t===n.width?0:1,o=1-s,u=["x","y"],a=["width","height"],f=n[u[s]],l=t?e.area/t:0;(i||l>n[a[o]])&&(l=n[a[o]]);for(var c=0,h=e.length;c<h;c++){var p=e[c],d={},v=l?p.getLayout().area/l:0,m=d[a[o]]=b(l-2*r,0),g=n[u[s]]+n[a[s]]-f,y=c===h-1||g<v?g:v,E=d[a[s]]=b(y-2*r,0);d[u[o]]=n[u[o]]+w(r,m/2),d[u[s]]=f+w(r,E/2),f+=y,p.setLayout(d,!0)}n[u[o]]+=l,n[a[o]]-=l}function c(e,t,n,r,i){var s=(t||{}).node,o=[r,i];if(!s||s===n)return o;for(var u,a=r*i,f=a*e.option.zoomToNodeRatio;u=s.parentNode;){for(var l=0,c=u.children,h=0,p=c.length;h<p;h++)l+=c[h].getValue();var d=s.getValue();if(0===d)return o;f*=l/d;var m=u.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(f+=4*m*m+4*m*Math.pow(f,.5)),f>v.MAX_SAFE_INTEGER&&(f=v.MAX_SAFE_INTEGER),s=u}f<a&&(f=a);var g=Math.pow(f/a,.5);return[r*g,i*g]}function h(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var i=n.node,s=i.getLayout();if(!s)return r;for(var o=[s.width/2,s.height/2],u=i;u;){var a=u.getLayout();o[0]+=a.x,o[1]+=a.y,u=u.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function p(e,t,n,r,i){var s=e.getLayout(),o=n[i],u=o&&o===e;if(!(o&&!u||i===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!u&&!t.intersect(s),isAboveViewRoot:u},!0);var a=new y(t.x-s.x,t.y-s.y,t.width,t.height);x(e.viewChildren||[],function(e){p(e,a,n,r,i+1)})}}var d=n(1),v=n(4),m=n(12),g=n(92),y=n(11),g=n(92),b=Math.max,w=Math.min,E=v.parsePercent,S=d.retrieve,x=d.each;e.exports=r},function(e,t,n){function r(e,t,n,u,f,c){var h=e.getModel(),d=e.getLayout();if(d&&!d.invisible&&d.isInView){var m,g=e.getModel(v),y=n[e.depth],b=i(g,t,y,u),w=g.get("borderColor"),E=g.get("borderColorSaturation");null!=E&&(m=s(b,e),w=o(E,m)),e.setVisual("borderColor",w);var S=e.viewChildren;if(S&&S.length){var x=a(e,h,d,g,b,S);p.each(S,function(e,t){if(e.depth>=f.length||e===f[e.depth]){var i=l(h,b,e,t,x,c);r(e,i,n,u,f,c)}})}else m=s(b,e),e.setVisual("color",m)}}function i(e,t,n,r){var i=p.extend({},t);return p.each(["color","colorAlpha","colorSaturation"],function(s){var o=e.get(s,!0);null==o&&n&&(o=n[s]),null==o&&(o=t[s]),null==o&&(o=r.get(s)),null!=o&&(i[s]=o)}),i}function s(e){var t=u(e,"color");if(t){var n=u(e,"colorAlpha"),r=u(e,"colorSaturation");return r&&(t=h.modifyHSL(t,null,null,r)),n&&(t=h.modifyAlpha(t,n)),t}}function o(e,t){return null!=t?h.modifyHSL(t,null,null,e):null}function u(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function a(e,t,n,r,i,s){if(s&&s.length){var o=f(t,"color")||null!=i.color&&"none"!==i.color&&(f(t,"colorAlpha")||f(t,"colorSaturation"));if(o){var u=t.get("visualMin"),a=t.get("visualMax"),l=n.dataExtent.slice();null!=u&&u<l[0]&&(l[0]=u),null!=a&&a>l[1]&&(l[1]=a);var h=t.get("colorMappingBy"),p={type:o.name,dataExtent:l,visual:o.range};"color"!==p.type||"index"!==h&&"id"!==h?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var d=new c(p);return d.__drColorMappingBy=h,d}}}function f(e,t){var n=e.get(t);return d(n)&&n.length?{name:t,range:n}:null}function l(e,t,n,r,i,s){var o=p.extend({},t);if(i){var u=i.type,a="color"===u&&i.__drColorMappingBy,f="index"===a?r:"id"===a?s.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[u]=i.mapValueToVisual(f)}return o}var c=n(82),h=n(22),p=n(1),d=p.isArray,v="itemStyle.normal";e.exports=function(e,t,n){var i={mainType:"series",subType:"treemap",query:n};e.eachComponent(i,function(e){var t=e.getData().tree,n=t.root,i=e.getModel(v);if(!n.isRemoved()){var s=p.map(t.levelModels,function(e){return e?e.get(v):null});r(n,{},s,i,e.getViewRoot().getAncestors(),e)}})}},function(e,t,n){n(233),n(350)},function(e,t,n){function r(e,t,n,r){var i=e.coordToPoint([t,r]),s=e.coordToPoint([n,r]);return{x1:i[0],y1:i[1],x2:s[0],y2:s[1]}}var i=n(1),s=n(3),o=n(10),u=n(246),a=["axisLine","axisLabel","axisTick","splitLine","splitArea"];n(57).extend({type:"angleAxis",axisPointerClass:u,render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,s=r.getRadiusAxis().getExtent(),o=n.getTicksCoords();"category"!==n.type&&o.pop(),i.each(a,function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,r,o,s)},this)}},_axisLine:function(e,t,n,r){var i=e.getModel("axisLine.lineStyle"),o=new s.Circle({shape:{cx:t.cx,cy:t.cy,r:r[1]},style:i.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(e,t,n,o){var u=e.getModel("axisTick"),a=(u.get("inside")?-1:1)*u.get("length"),f=i.map(n,function(e){return new s.Line({shape:r(t,o[1],o[1]+a,e)})});this.group.add(s.mergePath(f,{style:i.defaults(u.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,r){for(var i=e.axis,u=e.get("data"),a=e.getModel("axisLabel"),f=a.getModel("textStyle"),l=e.getFormattedLabels(),c=a.get("margin"),h=i.getLabelsCoords(),p=0;p<n.length;p++){var d=r[1],v=t.coordToPoint([d+c,h[p]]),m=t.cx,g=t.cy,y=Math.abs(v[0]-m)/d<.3?"center":v[0]>m?"left":"right",b=Math.abs(v[1]-g)/d<.3?"middle":v[1]>g?"top":"bottom",w=f;u&&u[p]&&u[p].textStyle&&(w=new o(u[p].textStyle,f)),this.group.add(new s.Text({style:{x:v[0],y:v[1],fill:w.getTextColor()||e.get("axisLine.lineStyle.color"),text:l[p],textAlign:y,textVerticalAlign:b,textFont:w.getFont()},silent:!0}))}},_splitLine:function(e,t,n,o){var u=e.getModel("splitLine"),a=u.getModel("lineStyle"),f=a.get("color"),l=0;f=f instanceof Array?f:[f];for(var c=[],h=0;h<n.length;h++){var p=l++%f.length;c[p]=c[p]||[],c[p].push(new s.Line({shape:r(t,o[0],o[1],n[h])}))}for(var h=0;h<c.length;h++)this.group.add(s.mergePath(c[h],{style:i.defaults({stroke:f[h%f.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,r){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),a=u.get("color"),f=0;a=a instanceof Array?a:[a];for(var l=[],c=Math.PI/180,h=-n[0]*c,p=Math.min(r[0],r[1]),d=Math.max(r[0],r[1]),v=e.get("clockwise"),m=1;m<n.length;m++){var g=f++%a.length;l[g]=l[g]||[],l[g].push(new s.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:d,startAngle:h,endAngle:-n[m]*c,clockwise:v},silent:!0})),h=-n[m]*c}for(var m=0;m<l.length;m++)this.group.add(s.mergePath(l[m],{style:i.defaults({fill:a[m%a.length]},u.getAreaStyle()),silent:!0}))}})},function(e,t,n){function r(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}var i=n(1),s=n(37),o=n(129),u=n(3),a=["axisLine","axisLabel","axisTick","axisName"],f=n(2).extendComponentView({type:"parallelAxis",init:function(e,t){f.superApply(this,"init",arguments),(this._brushController=new o(t.getZr())).on("brush",i.bind(this._onBrush,this))},render:function(e,t,n,o){if(!r(e,t,o)){this.axisModel=e,this.api=n,this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new u.Group,this.group.add(this._axisGroup),e.get("show")){var l,c=t.getComponent("parallel",e.get("parallelIndex")).coordinateSystem,h=e.getAreaSelectStyle(),p=h.width,d=e.axis.dim,v=c.getAxisLayout(d),m=i.indexOf(c.dimensions,d),g=v.axisExpandWindow;g&&(m<=g[0]||m>=g[1])&&(l=!1);var y=i.extend({axisLabelShow:l,strokeContainThreshold:p},v),b=new s(e,y);i.each(a,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(y,h,e,p),u.groupTransition(f,this._axisGroup,e)}}},_refreshBrushController:function(e,t,n,r){var s=n.axis,o=i.map(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[s.dataToCoord(e[0],!0),s.dataToCoord(e[1],!0)]}}),a=s.getExtent(),f=a[1]-a[0],l=Math.min(30,.1*Math.abs(f)),c=u.BoundingRect.create({x:a[0],y:-r/2,width:f,height:r});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",rect:c}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(o)},_onBrush:function(e,t){var n=this.axisModel,r=n.axis,s=i.map(e,function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:s})},dispose:function(){this._brushController.dispose()}});e.exports=f},function(e,t,n){function r(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var i=n(1),s=n(3),o=n(37),u=n(246),a=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];n(57).extend({type:"radiusAxis",axisPointerClass:u,render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,s=n.polar,u=s.getAngleAxis(),l=n.getTicksCoords(),c=u.getExtent()[0],h=n.getExtent(),p=r(s,e,c),d=new o(e,p);i.each(a,d.add,d),this.group.add(d.getGroup()),i.each(f,function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,s,c,h,l)},this)}},_splitLine:function(e,t,n,r,o){var u=e.getModel("splitLine"),a=u.getModel("lineStyle"),f=a.get("color"),l=0;f=f instanceof Array?f:[f];for(var c=[],h=0;h<o.length;h++){var p=l++%f.length;c[p]=c[p]||[],c[p].push(new s.Circle({shape:{cx:t.cx,cy:t.cy,r:o[h]},silent:!0}))}for(var h=0;h<c.length;h++)this.group.add(s.mergePath(c[h],{style:i.defaults({stroke:f[h%f.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,r,o){var u=e.getModel("splitArea"),a=u.getModel("areaStyle"),f=a.get("color"),l=0;f=f instanceof Array?f:[f];for(var c=[],h=o[0],p=1;p<o.length;p++){var d=l++%f.length;c[d]=c[d]||[],c[d].push(new s.Sector({shape:{cx:t.cx,cy:t.cy,r0:h,r:o[p],startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[p]}for(var p=0;p<c.length;p++)this.group.add(s.mergePath(c[p],{style:i.defaults({fill:f[p%f.length]},a.getAreaStyle()),silent:!0}))}})},function(e,t,n){var r=n(37),i=n(1),s=n(3),o=n(355),u=n(245),a=r.getInterval,f=r.ifIgnoreOnTick,l=["axisLine","axisLabel","axisTick","axisName"],c="splitLine",h=n(57).extend({type:"singleAxis",axisPointerClass:o,render:function(e,t,n,s){var o=this.group;o.removeAll();var a=u.layout(e),f=new r(e,a);i.each(l,f.add,f),o.add(f.getGroup()),e.get(c+".show")&&this["_"+c](e,a.labelInterval),h.superCall(this,"render",e,t,n,s)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var r=e.getModel("splitLine"),i=r.getModel("lineStyle"),o=i.get("width"),u=i.get("color"),l=a(r,t);u=u instanceof Array?u:[u];for(var c=e.coordinateSystem.getRect(),h=n.isHorizontal(),p=[],d=0,v=n.getTicksCoords(),m=[],g=[],y=0;y<v.length;++y)if(!f(n,y,l)){var b=n.toGlobalCoord(v[y]);h?(m[0]=b,m[1]=c.y,g[0]=b,g[1]=c.y+c.height):(m[0]=c.x,m[1]=b,g[0]=c.x+c.width,g[1]=b);var w=d++%u.length;p[w]=p[w]||[],p[w].push(new s.Line(s.subPixelOptimizeLine({shape:{x1:m[0],y1:m[1],x2:g[0],y2:g[1]},style:{lineWidth:o},silent:!0})))}for(var y=0;y<p.length;++y)this.group.add(s.mergePath(p[y],{style:{stroke:u[y%u.length],lineDash:i.getLineDash(o),lineWidth:o},silent:!0}))}}});e.exports=h},function(e,t,n){var r=n(2),i={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};r.registerAction(i,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})},function(e,t,n){function r(e){return e.isHorizontal()?0:1}function i(e,t){var n=e.getRect();return[n[f[t]],n[f[t]]+n[l[t]]]}var s=n(3),o=n(74),u=n(55),a=n(245),f=["x","y"],l=["width","height"],c=o.extend({makeElOption:function(e,t,n,s,o){var f=n.axis,l=f.coordinateSystem,c=i(l,1-r(f)),p=l.dataToPoint(t)[0],d=u.buildElStyle(s),v=h[s.get("type")](f,p,c,d);v.style=d,e.graphicKey=v.type,e.pointer=v;var m=a.layout(n);u.buildCartesianSingleLabelElOption(t,e,m,n,s,o)},getHandleTransform:function(e,t,n){var r=a.layout(t,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:u.getTransformedPosition(t.axis,e,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,s){var o=n.axis,u=o.coordinateSystem,a=r(o),f=i(u,a),l=e.position;l[a]+=t[a],l[a]=Math.min(f[1],l[a]),l[a]=Math.max(f[0],l[a]);var c=i(u,1-a),h=(c[1]+c[0])/2,p=[h,h];return p[a]=l[a],{position:l,rotation:e.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}}}),h={line:function(e,t,n,i){var o=u.makeLineShape([t,n[0]],[t,n[1]],r(e));return s.subPixelOptimizeLine({shape:o,style:i}),{type:"Line",shape:o}},shadow:function(e,t,n,i){var s=e.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:u.makeRectShape([t-s/2,n[0]],[s,o],r(e))}}};e.exports=c},function(e,t,n){n(2).registerPreprocessor(n(360)),n(362),n(357),n(358),n(359),n(381)},function(e,t,n){function r(e,t){return s.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:(new u(e.brushStyle)).getItemStyle(),removeOnClick:e.removeOnClick},t,!0)}var i=n(2),s=n(1),o=n(188),u=n(10),a=["#ddd"],f=i.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&o.replaceVisualOption(n,e,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:a}},setAreas:function(e){e&&(this.areas=s.map(e,function(e){return r(this.option,e)},this))},setBrushOption:function(e){this.brushOption=r(this.option,e),this.brushType=this.brushOption.brushType}});e.exports=f},function(e,t,n){function r(e,t,n,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts()).enableBrush(e.brushOption).updateCovers(e.areas.slice())}var i=n(1),s=n(129),o=n(2);e.exports=o.extendComponentView({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new s(t.getZr())).on("brush",i.bind(this._onBrush,this)).mount()},render:function(e){return this.model=e,r.apply(this,arguments)},updateView:r,updateLayout:r,updateVisual:r,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:i.clone(e),$from:n})}})},function(e,t,n){var r=n(2);r.registerAction({type:"brush",event:"brush",update:"updateView"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(e,t,n){function r(e){var t={};i.each(e,function(e){t[e]=1}),e.length=0,i.each(t,function(t,n){e.push(n)})}var i=n(1),s=["rect","polygon","keep","clear"];e.exports=function(e,t){var n=e&&e.brush;if(i.isArray(n)||(n=n?[n]:[]),n.length){var o=[];i.each(n,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(o=o.concat(t))});var u=e&&e.toolbox;i.isArray(u)&&(u=u[0]),u||(u={feature:{}},e.toolbox=[u]);var a=u.feature||(u.feature={}),f=a.brush||(a.brush={}),l=f.type||(f.type=[]);l.push.apply(l,o),r(l),t&&!l.length&&l.push.apply(l,s)}}},function(e,t,n){function r(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,r){var s=r.range,o=t[e];return i(o,s)},rect:function(r,s,o){var u=o.range,a=[r[t[e]],r[t[e]]+r[n[e]]];return a[1]<a[0]&&a.reverse(),i(a[0],u)||i(a[1],u)||i(u[0],a)||i(u[1],a)}}}function i(e,t){return t[0]<=e&&e<=t[1]}function s(e,t,n,r,i){for(var s=0,u=i[i.length-1];s<i.length;s++){var a=i[s];if(o(e,t,n,r,a[0],a[1],u[0],u[1]))return!0;u=a}}function o(e,t,n,r,i,s,o,f){var l=a(n-e,i-o,r-t,s-f);if(u(l))return!1;var c=a(i-e,i-o,s-t,s-f)/l;if(c<0||c>1)return!1;var h=a(n-e,i-e,r-t,s-t)/l;return!(h<0||h>1)}function u(e){return e<=1e-6&&e>=-0.000001}function a(e,t,n,r){return e*r-t*n}var f=n(264).contain,l=n(11),c={lineX:r(0),lineY:r(1),rect:{point:function(e,t,n){return n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return n.boundingRect.contain(e[0],e[1])&&f(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(r.length<=1)return!1;var i=e.x,o=e.y,u=e.width,a=e.height,c=r[0];return!!(f(r,i,o)||f(r,i+u,o)||f(r,i,o+a)||f(r,i+u,o+a)||l.create(e).contain(c[0],c[1])||s(i,o,i+u,o,r)||s(i,o,i,o+a,r)||s(i+u,o,i+u,o+a,r)||s(i,o+a,i+u,o+a,r))||void 0}}};e.exports=c},function(e,t,n){function r(e,t,n,r,s){if(s){var o=e.getZr();if(!o[b]){o[y]||(o[y]=i);var u=v.createOrUpdate(o,y,n,t);u(e,r)}}}function i(e,t){if(!e.isDisposed()){var n=e.getZr();n[b]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[b]=!1}}function s(e,t,n,r){for(var i=n.getItemLayout(r),s=0,o=t.length;s<o;s++){var u=t[s];if(e[u.brushType](i,u.selectors,u))return!0}}function o(e){var t=e.brushSelector;if(h.isString(t)){var n=[];return h.each(d,function(e,r){n[r]=e[t]}),n}if(h.isFunction(t)){var r={};return h.each(d,function(e,n){r[n]=t}),r}return t}function u(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(h.isArray(n)?h.indexOf(n,t)<0:t!==n)}function a(e){var t=e.selectors={};return h.each(d[e.brushType],function(n,r){t[r]=function(r){return n(r,t,e)}}),e}function f(e){return new p(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var l=n(2),c=n(188),h=n(1),p=n(11),d=n(361),v=n(39),m=n(186),g=["inBrush","outOfBrush"],y="__ecBrushSelect",b="__ecInBrushSelectEvent",w=l.PRIORITY.VISUAL.BRUSH;l.registerLayout(w,function(e,t,n){e.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1});var r=t.brushTargetManager=new m(t.option,e);r.setInputRanges(t.areas,e)})}),l.registerVisual(w,function(e,t,n){var i,f,l=[];e.eachComponent({mainType:"brush"},function(t,n){function r(e){return"all"===b||w[e]}function p(e){return!!e.length}function d(e,t){var n=e.coordinateSystem;T|=n.hasAxisbrushed(),r(t)&&n.eachActiveState(e.getData(),function(e,t){"active"===e&&(S[t]=1)})}function v(n,i,a){var f=o(n);if(f&&!u(t,i)&&(h.each(N,function(r){f[r.brushType]&&t.brushTargetManager.controlSeries(r,n,e)&&a.push(r),T|=p(a)}),r(i)&&p(a))){var l=n.getData();l.each(function(e){s(f,a,l,e)&&(S[e]=1)})}}var m={brushId:t.id,brushIndex:n,brushName:t.name,areas:h.clone(t.areas),selected:[]};l.push(m);var y=t.option,b=y.brushLink,w=[],S=[],x=[],T=0;n||(i=y.throttleType,f=y.throttleDelay);var N=h.map(t.areas,function(e){return a(h.defaults({boundingRect:E[e.brushType](e)},e))}),C=c.createVisualMappings(t.option,g,function(e){e.mappingMethod="fixed"});h.isArray(b)&&h.each(b,function(e){w[e]=1}),e.eachSeries(function(e,t){var n=x[t]=[];"parallel"===e.subType?d(e,t,n):v(e,t,n)}),e.eachSeries(function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};m.selected.push(n);var i=o(e),u=x[t],a=e.getData(),f=r(t)?function(e){return S[e]?(n.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return s(i,u,a,e)?(n.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(r(t)?T:p(u))&&c.applyVisual(g,C,a,f)})}),r(t,i,f,l,n)});var E={lineX:h.noop,lineY:h.noop,rect:function(e){return f(e.range)},polygon:function(e){for(var t,n=e.range,r=0,i=n.length;r<i;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var s=n[r];s[0]<t[0][0]&&(t[0][0]=s[0]),s[0]>t[0][1]&&(t[0][1]=s[0]),s[1]<t[1][0]&&(t[1][0]=s[1]),s[1]>t[1][1]&&(t[1][1]=s[1])}return t&&f(t)}}},function(e,t,n){n(389),n(390),n(364)},function(e,t,n){var r=n(1),i=n(3),s=n(7),o=n(4),u={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["‰∏ÄÊúà","‰∫åÊúà","‰∏âÊúà","ÂõõÊúà","‰∫îÊúà","ÂÖ≠Êúà","‰∏ÉÊúà","ÂÖ´Êúà","‰πùÊúà","ÂçÅÊúà","ÂçÅ‰∏ÄÊúà","ÂçÅ‰∫åÊúà"]},a={EN:["S","M","T","W","T","F","S"],CN:["Êó•","‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠"]};e.exports=n(2).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var r=this.group;r.removeAll();var i=e.coordinateSystem,s=i.getHandledRangeInfo(),o=i.getOrient();this._renderDayRect(e,s,r),this._renderLines(e,s,o,r),this._renderYearText(e,s,o,r),this._renderMonthText(e,o,r),this._renderWeekText(e,s,o,r)},_renderDayRect:function(e,t,n){for(var r=e.coordinateSystem,s=e.getModel("itemStyle.normal").getItemStyle(),o=r.getCellWidth(),u=r.getCellHeight(),a=t.start.time;a<=t.end.time;a=r.getNextNDay(a,1).time){var f=r.dataToRect([a],!0).tl,l=new i.Rect({shape:{x:f[0],y:f[1],width:o,height:u},style:s});n.add(l)}},_renderLines:function(e,t,n,r){function i(t){s._firstDayOfMonth.push(o.getDateInfo(t)),s._firstDayPoints.push(o.dataToRect([t],!0).tl);var i=s._getLinePointsOfOneWeek(e,t,n);s._tlpoints.push(i[0]),s._blpoints.push(i[i.length-1]),a&&s._drawSplitline(i,u,r)}var s=this,o=e.coordinateSystem,u=e.getModel("splitLine.lineStyle").getLineStyle(),a=e.get("splitLine.show"),f=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=t.start,c=0;l.time<=t.end.time;c++){i(l.formatedDate),0===c&&(l=o.getDateInfo(t.start.y+"-"+t.start.m));var h=l.date;h.setMonth(h.getMonth()+1),l=o.getDateInfo(h)}i(o.getNextNDay(t.end.time,1).formatedDate),a&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,f,n),u,r),a&&this._drawSplitline(s._getEdgesPoints(s._blpoints,f,n),u,r)},_getEdgesPoints:function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-t/2,r[1][i]=r[1][i]+t/2,r},_drawSplitline:function(e,t,n){var r=new i.Polyline({z2:20,shape:{points:e},style:t});n.add(r)},_getLinePointsOfOneWeek:function(e,t,n){var r=e.coordinateSystem;t=r.getDateInfo(t);for(var i=[],s=0;s<7;s++){var o=r.getNextNDay(t.time,s),u=r.dataToRect([o.time],!0);i[2*o.day]=u.tl,i[2*o.day+1]=u["horizontal"===n?"bl":"tr"]}return i},_formatterLabel:function(e,t){return"string"==typeof e&&e?s.formatTplSimple(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,r){e=e.slice();var i=["center","bottom"];"top"===n&&(e[1]-=r),"bottom"===n&&(e[1]+=r,i=["center","top"]),"left"===n&&(e[0]-=r),"right"===n&&(e[0]+=r,i=["center","top"]);var s=0;return"left"!==n&&"right"!==n||(s=Math.PI/2),{rotation:s,origin:e,style:{x:e[0],y:e[1],textAlign:i[0],textVerticalAlign:i[1]}}},_renderYearText:function(e,t,n,s){var o=e.getModel("yearLabel");if(o.get("show")){var u=e.getModel("yearLabel.textStyle"),a=o.get("margin"),f=o.get("position");f||(f="horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(l[0][0]+l[1][0])/2,h=(l[0][1]+l[1][1])/2,p="horizontal"===n?0:1,d={top:[c,l[p][1]],bottom:[c,l[1-p][1]],left:[l[1-p][0],h],right:[l[p][0],h]},v=t.start.y;+t.end.y>+t.start.y&&(v=v+"-"+t.end.y);var m=o.get("formatter"),g={start:t.start.y,end:t.end.y,nameMap:v},y=this._formatterLabel(m,g),b=new i.Text(r.merge({z2:30,style:{text:y,font:u.getFont(),fill:u.getTextColor()}},this._yearTextPositionControl(d[f],n,f,a)));s.add(b)}},_monthTextPositionControl:function(e,t,n,r,i){var s="left",o="top",u=e[0],a=e[1];return"horizontal"===n?(a+=i,t&&(s="center"),"start"===r&&(o="bottom")):(u+=i,t&&(o="middle"),"start"===r&&(s="right")),{x:u,y:a,textAlign:s,textVerticalAlign:o}},_renderMonthText:function(e,t,n){var s=e.getModel("monthLabel");if(s.get("show")){var o=e.getModel("monthLabel.textStyle"),a=s.get("nameMap"),f=s.get("margin"),l=s.get("position"),c=s.get("align"),h=[this._tlpoints,this._blpoints];r.isString(a)&&(a=u[a.toUpperCase()]||[]);var p="start"===l?0:1,d="horizontal"===t?0:1;f="start"===l?-f:f;for(var v="center"===c,m=0;m<h[p].length-1;m++){var g=h[p][m].slice(),y=this._firstDayOfMonth[m];if(v){var b=this._firstDayPoints[m];g[d]=(b[d]+h[0][m+1][d])/2}var w=s.get("formatter"),E=a[+y.m-1],S={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:E},x=this._formatterLabel(w,S),T=new i.Text({z2:30,style:r.extend({text:x,font:o.getFont(),fill:o.getTextColor()},this._monthTextPositionControl(g,v,t,l,f))});n.add(T)}}},_weekTextPositionControl:function(e,t,n,r,i){var s="center",o="middle",u=e[0],a=e[1],f="start"===n;return"horizontal"===t?(u=u+r+(f?1:-1)*i[0]/2,s=f?"right":"left"):(a=a+r+(f?1:-1)*i[1]/2,o=f?"bottom":"top"),{x:u,y:a,textAlign:s,textVerticalAlign:o}},_renderWeekText:function(e,t,n,s){var u=e.getModel("dayLabel");if(u.get("show")){var f=e.coordinateSystem,l=e.getModel("dayLabel.textStyle"),c=u.get("position"),h=u.get("nameMap"),p=u.get("margin"),d=f.getFirstDayOfWeek();r.isString(h)&&(h=a[h.toUpperCase()]||[]);var v=f.getNextNDay(t.end.time,7-t.lweek).time,m=[f.getCellWidth(),f.getCellHeight()];p=o.parsePercent(p,m["horizontal"===n?0:1]),"start"===c&&(v=f.getNextNDay(t.start.time,-(7+t.fweek)).time,p=-p);for(var g=0;g<7;g++){var y=f.getNextNDay(v,g),b=f.dataToRect([y.time],!0).center,w=g;w=Math.abs((g+d)%7);var E=new i.Text({z2:30,style:r.extend({text:h[w],font:l.getFont(),fill:l.getTextColor()},this._weekTextPositionControl(b,n,c,p,m))});s.add(E)}}}})},function(e,t,n){function r(e,t){t.update="updateView",i.registerAction(t,function(t,n){var r={};return n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var i=n.coordinateSystem;s.each(i.regions,function(e){r[e.name]=n.isSelected(e.name)||!1})}),{selected:r,name:t.name}})}n(392),n(187),n(366),n(237);var i=n(2),s=n(1);r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(e,t,n){var r=n(247);e.exports=n(2).extendComponentView({type:"geo",init:function(e,t){var n=new r(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var i=this._mapDraw;e.get("show")?i.draw(e,t,n,this,r):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(e,t,n){n(260),n(354),n(351)},function(e,t,n){n(233),n(349),n(371),n(45),n(2).extendComponentView({type:"polar"})},function(e,t,n){n(407),n(408),n(370)},function(e,t,n){var r=n(37),i=n(1),s=n(3),o=["axisLine","axisLabel","axisTick","axisName"];e.exports=n(2).extendComponentView({type:"radar",render:function(e,t,n){var r=this.group;r.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),s=i.map(n,function(e){var n=new r(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n});i.each(s,function(e){i.each(o,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(e,t,n){var r=n%t.length;return e[r]=e[r]||[],r}var n=e.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var o=e.get("shape"),u=e.getModel("splitLine"),a=e.getModel("splitArea"),f=u.getModel("lineStyle"),l=a.getModel("areaStyle"),c=u.get("show"),h=a.get("show"),p=f.get("color"),d=l.get("color");p=i.isArray(p)?p:[p],d=i.isArray(d)?d:[d];var v=[],m=[];if("circle"===o)for(var g=r[0].getTicksCoords(),y=n.cx,b=n.cy,w=0;w<g.length;w++){if(c){var E=t(v,p,w);v[E].push(new s.Circle({shape:{cx:y,cy:b,r:g[w]}}))}if(h&&w<g.length-1){var E=t(m,d,w);m[E].push(new s.Ring({shape:{cx:y,cy:b,r0:g[w],r:g[w+1]}}))}}else for(var S=-1,x=i.map(r,function(e,t){var r=e.getTicksCoords();return S=Math.max(r.length-1,S),i.map(r,function(e){return n.coordToPoint(e,t)})}),T=[],w=0;w<=S;w++){for(var N=[],C=0;C<r.length;C++)N.push(x[C][w]);if(N[0]&&N.push(N[0].slice()),c){var E=t(v,p,w);v[E].push(new s.Polyline({shape:{points:N}}))}if(h&&T){var E=t(m,d,w-1);m[E].push(new s.Polygon({shape:{points:N.concat(T)}}))}T=N.slice().reverse()}var k=f.getLineStyle(),L=l.getAreaStyle();i.each(m,function(e,t){this.group.add(s.mergePath(e,{style:i.defaults({stroke:"none",fill:d[t%d.length]},L),silent:!0}))},this),i.each(v,function(e,t){this.group.add(s.mergePath(e,{style:i.defaults({fill:"none",stroke:p[t%p.length]},k),silent:!0}))},this)}}})},function(e,t,n){n(233),n(352)},function(e,t,n){var r=n(2);r.registerPreprocessor(n(378)),n(380),n(379),n(373),n(374)},function(e,t,n){var r=n(376),i=n(1),s=n(5),o=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});i.mixin(o,s.dataFormatMixin),e.exports=o},function(e,t,n){function r(e,t){return f.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function i(e,t,n,r){var i=a.makePath(e.get(t).replace(/^path:\/\//,""),u.clone(r||{}),new d(n[0],n[1],n[2],n[3]),"center");return i}function s(e,t,n,r,i,s){var o=t.get("color");if(i)i.setColor(o),n.add(i),s&&s.onUpdate(i);else{var a=e.get("symbol");i=h.createSymbol(a,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),n.add(i),s&&s.onCreate(i)}var f=t.getItemStyle(["color","symbol","symbolSize"]);i.setStyle(f),r=u.merge({rectHover:!0,z2:100},r,!0);var l=e.get("symbolSize");l=l instanceof Array?l.slice():[+l,+l],l[0]/=2,l[1]/=2,r.scale=l;var c=e.get("symbolOffset");if(c){var p=r.position=r.position||[0,0];p[0]+=m.parsePercent(c[0],l[0]),p[1]+=m.parsePercent(c[1],l[1])}var d=e.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function o(e,t,n,r,i){if(!e.dragging){var s=r.getModel("checkpointStyle"),o=n.dataToCoord(r.getData().get(["value"],t));i||!s.get("animation",!0)?e.attr({position:[o,0]}):(e.stopAnimation(!0),e.animateTo({position:[o,0]},s.get("animationDuration",!0),s.get("animationEasing",!0)))}}var u=n(1),a=n(3),f=n(12),l=n(377),c=n(375),h=n(24),p=n(17),d=n(11),v=n(19),m=n(4),g=n(7),y=g.encodeHTML,b=u.bind,w=u.each,E=Math.PI;e.exports=l.extend({type:"timeline.slider",init:function(e,t){this.api=t,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,r){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,n),s=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),u=this._axis=this._createAxis(i,e);e.formatTooltip=function(e){return y(u.scale.getLabel(e))},w(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](i,s,u,e)},this),this._renderAxisLabel(i,o,u,e),this._position(i,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.normal.position"),i=e.get("orient"),s=r(e,t);null==n||"auto"===n?n="horizontal"===i?s.y+s.height/2<t.getHeight()/2?"-":"+":s.x+s.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var o={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},u={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},a={horizontal:0,vertical:E/2},f="vertical"===i?s.height:s.width,l=e.getModel("controlStyle"),c=l.get("show"),h=c?l.get("itemSize"):0,p=c?l.get("itemGap"):0,d=h+p,v=e.get("label.normal.rotate")||0;v=v*E/180;var m,g,y,b,w=l.get("position",!0),c=l.get("show",!0),S=c&&l.get("showPlayBtn",!0),x=c&&l.get("showPrevBtn",!0),T=c&&l.get("showNextBtn",!0),N=0,C=f;return"left"===w||"bottom"===w?(S&&(m=[0,0],N+=d),x&&(g=[N,0],N+=d),T&&(y=[C-h,0],C-=d)):(S&&(m=[C-h,0],C-=d),x&&(g=[0,0],N+=d),T&&(y=[C-h,0],C-=d)),b=[N,C],e.get("inverse")&&b.reverse(),{viewRect:s,mainLength:f,orient:i,rotation:a[i],labelRotation:v,labelPosOpt:n,labelAlign:o[i],labelBaseline:u[i],playPosition:m,prevBtnPosition:g,nextBtnPosition:y,axisExtent:b,controlSize:h,controlGap:p}},_position:function(e,t){function n(e){var t=e.position;e.origin=[c[0][0]-t[0],c[1][0]-t[1]]}function r(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function i(e,t,n,r,i){e[r]+=n[r][i]-t[r][i]}var s=this._mainGroup,o=this._labelGroup,u=e.viewRect;if("vertical"===e.orient){var a=v.create(),f=u.x,l=u.y+u.height;v.translate(a,a,[-f,-l]),v.rotate(a,a,-E/2),v.translate(a,a,[f,l]),u=u.clone(),u.applyTransform(a)}var c=r(u),h=r(s.getBoundingRect()),p=r(o.getBoundingRect()),d=s.position,m=o.position;m[0]=d[0]=c[0][0];var g=e.labelPosOpt;if(isNaN(g)){var y="+"===g?0:1;i(d,h,c,1,y),i(m,p,c,1,1-y)}else{var y=g>=0?0:1;i(d,h,c,1,y),m[1]=d[1]+g}s.attr("position",d),o.attr("position",m),s.rotation=o.rotation=e.rotation,n(s),n(o)},_createAxis:function(e,t){var n=t.getData(),r=t.get("axisType"),i=p.createScaleByModel(t,r),s=n.getDataExtent("value");i.setExtent(s[0],s[1]),this._customizeScale(i,n),i.niceTicks();var o=new c("value",i,e.axisExtent,r);return o.model=t,o},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray(["value"],function(e){return e})},e.getTicksLabels=function(){return u.map(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this["_"+e]=new a.Group;return this.group.add(t),t},_renderAxisLine:function(e,t,n,r){var i=n.getExtent();r.get("lineStyle.show")&&t.add(new a.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:u.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,r){var i=r.getData(),o=n.scale.getTicks();w(o,function(e,o){var u=n.dataToCoord(e),f=i.getItemModel(o),l=f.getModel("itemStyle.normal"),c=f.getModel("itemStyle.emphasis"),h={position:[u,0],onclick:b(this._changeTimeline,this,o)},p=s(f,l,t,h);a.setHoverStyle(p,c.getItemStyle()),f.get("tooltip")?(p.dataIndex=o,p.dataModel=r):p.dataIndex=p.dataModel=null},this)},_renderAxisLabel:function(e,t,n,r){var i=r.getModel("label.normal");if(i.get("show")){var s=r.getData(),o=n.scale.getTicks(),u=p.getFormattedLabels(n,i.get("formatter")),f=n.getLabelInterval();w(o,function(r,i){if(!n.isLabelIgnored(i,f)){var o=s.getItemModel(i),l=o.getModel("label.normal.textStyle"),c=o.getModel("label.emphasis.textStyle"),h=n.dataToCoord(r),p=new a.Text({style:{text:u[i],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline,textFont:l.getFont(),fill:l.getTextColor()},position:[h,0],rotation:e.labelRotation-e.rotation,onclick:b(this._changeTimeline,this,i),silent:!1});t.add(p),a.setHoverStyle(p,c.getItemStyle())}},this)}},_renderControl:function(e,t,n,r){function s(e,n,s,h){if(e){var p={position:e,origin:[o/2,0],rotation:h?-u:0,rectHover:!0,style:f,onclick:s},d=i(r,n,c,p);t.add(d),a.setHoverStyle(d,l)}}var o=e.controlSize,u=e.rotation,f=r.getModel("controlStyle.normal").getItemStyle(),l=r.getModel("controlStyle.emphasis").getItemStyle(),c=[0,-o/2,o,o],h=r.getPlayState(),p=r.get("inverse",!0);s(e.nextBtnPosition,"controlStyle.nextIcon",b(this._changeTimeline,this,p?"-":"+")),s(e.prevBtnPosition,"controlStyle.prevIcon",b(this._changeTimeline,this,p?"+":"-")),s(e.playPosition,"controlStyle."+(h?"stopIcon":"playIcon"),b(this._handlePlayClick,this,!h),!0)},_renderCurrentPointer:function(e,t,n,r){var i=r.getData(),u=r.getCurrentIndex(),a=i.getItemModel(u).getModel("checkpointStyle"),f=this,l={onCreate:function(e){e.draggable=!0,e.drift=b(f._handlePointerDrag,f),e.ondragend=b(f._handlePointerDragend,f),o(e,u,n,r,!0)},onUpdate:function(e){o(e,u,n,r)}};this._currentPointer=s(a,a,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],r=this._axis,i=m.asc(r.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var s=this._findNearestTick(n),o=this.model;(t||s!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(s)},_doPlayStop:function(){function e(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(b(e,this),this.model.get("playInterval")))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return a.applyTransform(e,t,!0)},_findNearestTick:function(e){var t,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],function(n,s){var o=i.dataToCoord(n),u=Math.abs(o-e);u<r&&(r=u,t=s)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}})},function(e,t,n){var r=n(1),i=n(33),s=n(17),o=function(e,t,n,r){i.call(this,e,t,n),this.type=r||"value",this._autoLabelInterval,this.model=null};o.prototype={constructor:o,getLabelInterval:function(){var e=this.model,t=e.getModel("label.normal"),n=t.get("interval");if(null!=n&&"auto"!=n)return n;var n=this._autoLabelInterval;return n||(n=this._autoLabelInterval=s.getAxisLabelInterval(r.map(this.scale.getTicks(),this.dataToCoord,this),s.getFormattedLabels(this,t.get("formatter")),t.getModel("textStyle").getFont(),"horizontal"===e.get("orient"))),n},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}}},r.inherits(o,i),e.exports=o},function(e,t,n){var r=n(13),i=n(14),s=n(1),o=n(5),u=r.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(e,t,n){this._data,this._names,this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){u.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,r=this._names=[];if("category"===n){var u=[];s.each(t,function(e,t){var n,i=o.getDataItemValue(e);s.isObject(e)?(n=s.clone(e),n.value=t):n=t,u.push(n),s.isString(i)||null!=i&&!isNaN(i)||(i=""),r.push(i+"")}),t=u}var a={category:"ordinal",time:"time"}[n]||"number",f=this._data=new i([{name:"value",type:a}],this);f.initData(t,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});e.exports=u},function(e,t,n){var r=n(64);e.exports=r.extend({type:"timeline"})},function(e,t,n){function r(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),i(e),s(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});s(r,"position")||(r.position=e.controlPosition),"none"!==r.position||s(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}o.each(e.data||[],function(e){o.isObject(e)&&!o.isArray(e)&&(!s(e,"value")&&s(e,"name")&&(e.value=e.name),i(e))})}function i(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},i=r.normal||(r.normal={}),u={normal:1,emphasis:1};o.each(r,function(e,t){u[t]||s(i,t)||(i[t]=e)}),n.label&&!s(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function s(e,t){return e.hasOwnProperty(t)}var o=n(1);e.exports=function(e){var t=e&&e.timeline;o.isArray(t)||(t=t?[t]:[]),o.each(t,function(e){e&&r(e)})}},function(e,t,n){var r=n(2),i=n(1);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),i.defaults({currentIndex:n.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)})},function(e,t,n){n(13).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(e,t,n){function r(e,t,n){this.model=e,this.ecModel=t,this.api=n,this._brushType,this._brushMode}var i=n(28),s=n(1);r.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"Áü©ÂΩ¢ÈÄâÊã©",polygon:"ÂúàÈÄâ",lineX:"Ê®™ÂêëÈÄâÊã©",lineY:"Á∫µÂêëÈÄâÊã©",keep:"‰øùÊåÅÈÄâÊã©",clear:"Ê∏ÖÈô§ÈÄâÊã©"}};var o=r.prototype;o.render=o.updateView=o.updateLayout=function(e,t,n){var r,i,o;t.eachComponent({mainType:"brush"},function(e){r=e.brushType,i=e.brushOption.brushMode||"single",o|=e.areas.length}),this._brushType=r,this._brushMode=i,s.each(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===i:"clear"===t?o:t===r)?"emphasis":"normal")})},o.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return s.each(e.get("type",!0),function(e){t[e]&&(n[e]=t[e])}),n},o.onclick=function(e,t,n){var t=this.api,r=this._brushType,i=this._brushMode;"clear"===n?t.dispatchAction({type:"brush",areas:[]}):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},i.register("brush",r),e.exports=r},function(e,t,n){n(387),n(388)},function(e,t,n){function r(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,s=n[0],o=[],u=0;u<=r&&s<n[1];u++)o.push(s),s+=i;return o.push(n[1]),o}var i=n(250),s=n(1),o=n(4),u=[20,140],a=i.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(e,t){a.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){a.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=u[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=u[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):s.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){i.prototype.completeVisualOption.apply(this,arguments),s.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=o.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:r})},this),t},getVisualMeta:function(e){function t(t,n){s.push({value:t,color:e(t,n)})}for(var n=r(this,"outOfRange",this.getExtent()),i=r(this,"inRange",this.option.range.slice()),s=[],o=0,u=0,a=i.length,f=n.length;u<f&&(!i.length||n[u]<=i[0]);u++)n[u]<i[o]&&t(n[u],"outOfRange");for(var l=1;o<a;o++,l=0)l&&s.length&&t(i[o],"outOfRange"),t(i[o],"inRange");for(var l=1;u<f;u++)(!i.length||i[i.length-1]<n[u])&&(l&&(s.length&&t(s[s.length-1].value,"outOfRange"),l=0),t(n[u],"outOfRange"));var c=s.length;return{stops:s,outerColors:[c?s[0].color:"transparent",c?s[c-1].color:"transparent"]}}});e.exports=a},function(e,t,n){function r(e,t,n,r){return new f.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){m.stop(e.event)},ondragend:r})}function i(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function s(e,t,n,r){return e?[[0,-b(t,w(n,0))],[S,0],[0,b(t,w(r-n,0))]]:[[0,0],[5,-5],[5,5]]}function o(e,t,n){var r=E/2,i=e.get("hoverLinkDataSize");return i&&(r=g(i,t,n,!0)/2),r}function u(e){return!e.get("realtime")&&e.get("hoverLinkOnHandle")}var a=n(251),f=n(3),l=n(1),c=n(4),h=n(95),p=n(101),d=n(252),v=n(5),m=n(20),g=c.linearMap,y=l.each,b=Math.min,w=Math.max,E=12,S=6,x=a.extend({type:"visualMap.continuous",init:function(){x.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var r=t[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,s=i.get("textGap"),o=i.itemSize,u=this._shapes.barGroup,a=this._applyTransform([o[0]/2,0===n?-s:o[1]+s],u),l=this._applyTransform(0===n?"bottom":"top",u),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new f.Text({style:{x:a[0],y:a[1],textVerticalAlign:"horizontal"===c?"middle":l,textAlign:"horizontal"===c?l:"center",text:r,textFont:h.getFont(),fill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,s=this._orient,o=this._useHandle,u=d.getItemAlign(t,this.api,i),a=n.barGroup=this._createBarGroup(u);a.add(n.outOfRange=r()),a.add(n.inRange=r(null,o?"move":null,l.bind(this._dragHandle,this,"all",!1),l.bind(this._dragHandle,this,"all",!0)));var f=t.textStyleModel.getTextRect("ÂõΩ"),c=w(f.width,f.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(a,0,i,c,s,u),this._createHandle(a,1,i,c,s,u)),this._createIndicator(a,i,c,s),e.add(a)},_createHandle:function(e,t,n,s,o){var u=l.bind(this._dragHandle,this,t,!1),a=l.bind(this._dragHandle,this,t,!0),c=r(i(t,s),"move",u,a);c.position[0]=n[0],e.add(c);var h=this.visualMapModel.textStyleModel,p=new f.Text({draggable:!0,drift:u,onmousemove:function(e){m.stop(e.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:h.getFont(),fill:h.getTextColor()}});this.group.add(p);var d=["horizontal"===o?s/2:1.5*s,"horizontal"===o?0===t?-(1.5*s):1.5*s:0===t?-s/2:s/2],v=this._shapes;v.handleThumbs[t]=c,v.handleLabelPoints[t]=d,v.handleLabels[t]=p},_createIndicator:function(e,t,n,i){var s=r([[0,0]],"move");s.position[0]=t[0],s.attr({invisible:!0,silent:!0}),e.add(s);var o=this.visualMapModel.textStyleModel,u=new f.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),fill:o.getTextColor()}});this.group.add(u);var a=["horizontal"===i?n/2:S+3,0],l=this._shapes;l.indicator=s,l.indicatorLabel=u,l.indicatorLabelPoint=a},_dragHandle:function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,r],this._shapes.barGroup,!0);this._updateInterval(e,i[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():u(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[g(t[0],n,r,!0),g(t[1],n,r,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,r=this._handleEnds;h(t,r,[0,n.itemSize[1]],"all"===e?"rigid":"push",e);var i=n.getExtent(),s=[0,n.itemSize[1]];this._dataInterval=[g(r[0],s,i,!0),g(r[1],s,i,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],s=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,s,"inRange"),u=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),r.outOfRange.setStyle({fill:u.barColor,opacity:u.opacity}).setShape("points",u.barPoints),this._updateHandle(s,o)},_createBarVisual:function(e,t,n,r){var i={forceState:r,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,i),o=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],u=this._createBarPoints(n,o);return{barColor:new p(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},_makeColorGradient:function(e,t){var n=100,r=[],i=(e[1]-e[0])/n;r.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var s=1;s<n;s++){var o=e[0]+i*s;if(o>e[1])break;r.push({color:this.getControllerVisual(o,"color",t),offset:s/n})}return r.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),r},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new f.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,s=n.handleLabels;y([0,1],function(o){var u=i[o];u.setStyle("fill",t.handlesColor[o]),u.position[1]=e[o];var a=f.applyTransform(n.handleLabelPoints[o],f.getTransform(u,this.group));s[o].setStyle({x:a[0],y:a[1],text:r.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,r){var i=this.visualMapModel,o=i.getExtent(),u=i.itemSize,a=[0,u[1]],l=g(e,o,a,!0),c=this._shapes,h=c.indicator;if(h){h.position[1]=l,h.attr("invisible",!1),h.setShape("points",s(!!n,r,l,u[1]));var p={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",p);h.setStyle("fill",d);var v=f.applyTransform(c.indicatorLabelPoint,f.getTransform(h,this.group)),m=c.indicatorLabel;m.attr("invisible",!1);var y=this._applyTransform("left",c.barGroup),b=this._orient;m.setStyle({text:(n?n:"")+i.formatValueText(t),textVerticalAlign:"horizontal"===b?y:"middle",textAlign:"horizontal"===b?"center":y,x:v[0],y:v[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);r[1]=b(w(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],s=n.getExtent();e=b(w(i[0],e),i[1]);var a=o(n,s,i),f=[e-a,e+a],l=g(e,i,s,!0),c=[g(f[0],i,s,!0),g(f[1],i,s,!0)];f[0]<i[0]&&(c[0]=-1/0),f[1]>i[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",a):c[1]===1/0?this._showIndicator(l,c[0],"> ",a):this._showIndicator(l,l,"‚âà ",a));var h=this._hoverLinkDataIndices,p=[];(t||u(n))&&(p=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var m=v.compressBatches(h,p);this._dispatchHighDown("downplay",d.convertDataIndex(m[0])),this._dispatchHighDown("highlight",d.convertDataIndex(m[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var r=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(r)){var i=r.getData(t.dataType),s=i.getDimension(n.getDataDimension(i)),o=i.get(s,t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",d.convertDataIndex(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,r){var i=f.getTransform(t,r?null:this.group);return f[l.isArray(e)?"applyTransform":"transformDirection"](e,i,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});e.exports=x},function(e,t,n){function r(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var i=n(250),s=n(1),o=n(82),u=n(263),a=n(4).reformIntervals,f=i.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){f.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var n=this._mode=this._determineMode();l[this._mode].call(this),this._resetSelected(e,t);var r=this.option.categories;this.resetVisual(function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=s.clone(r)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=s.map(this._pieceList,function(e){var e=s.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){function e(e,t,n){return e&&e[t]&&(s.isObject(e[t])?e[t].hasOwnProperty(n):e[t]===n)}var t=this.option,n={},r=o.listVisualTypes(),a=this.isCategory();s.each(t.pieces,function(e){s.each(r,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),s.each(n,function(n,r){var i=0;s.each(this.stateList,function(n){i|=e(t,n,r)||e(t.target,n,r)},this),!i&&s.each(this.stateList,function(e){(t[e]||(t[e]={}))[r]=u.get(r,"inRange"===e?"active":"inactive",a)})},this),i.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,r=this._pieceList,i=(t?n:e).selected||{};if(n.selected=i,s.each(r,function(e,t){var n=this.getSelectedMapKey(e);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var o=!1;s.each(r,function(e,t){var n=this.getSelectedMapKey(e);i[n]&&(o?i[n]=!1:o=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=s.clone(e)},getValueState:function(e){var t=o.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(t,n){var i=o.findPieceIndex(t,this._pieceList);i===e&&r.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:r})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(t,s){var o=i.getRepresentValue({interval:t});s||(s=i.getValueState(o));var u=e(o,s);t[0]===-1/0?r[0]=u:t[1]===1/0?r[1]=u:n.push({value:t[0],color:u},{value:t[1],color:u})}if(!this.isCategory()){var n=[],r=[],i=this,o=this._pieceList.slice();if(o.length){var u=o[0].interval[0];u!==-1/0&&o.unshift({interval:[-1/0,u]}),u=o[o.length-1].interval[1],u!==1/0&&o.push({interval:[u,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return s.each(o,function(e){var n=e.interval;n&&(n[0]>a&&t([a,n[0]],"outOfRange"),t(n.slice()),a=n[1])},this),{stops:n,outerColors:r}}}}),l={splitNumber:function(){var e=this.option,t=this._pieceList,n=e.precision,r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n);var u=0;e.minOpen&&t.push({index:u++,interval:[-1/0,r[0]],close:[0,0]});for(var f=r[0],l=u+i;u<l;f+=o){var c=u===i-1?r[1]:f+o;t.push({index:u++,interval:[f,c],close:[1,1]})}e.maxOpen&&t.push({index:u++,interval:[r[1],1/0],close:[0,0]}),a(t),s.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;s.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),r(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;s.each(e.pieces,function(e,n){s.isObject(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var i=r.value=e.value;r.interval=[i,i],r.close=[1,1]}else{for(var u=r.interval=[],a=r.close=[0,0],f=[1,0,1],l=[-1/0,1/0],c=[],h=0;h<2;h++){for(var p=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&null==u[h];d++)u[h]=e[p[d]],a[h]=f[d],c[h]=2===d;null==u[h]&&(u[h]=l[h])}c[0]&&u[1]===1/0&&(a[0]=0),c[1]&&u[0]===-1/0&&(a[1]=0),u[0]===u[1]&&a[0]&&a[1]&&(r.value=u[0])}r.visual=o.retrieveVisuals(e),t.push(r)},this),r(e,t),a(t),s.each(t,function(e){var t=e.close,n=[["<","‚â§"][t[1]],[">","‚â•"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)},this)}};e.exports=f},function(e,t,n){var r=n(251),i=n(1),s=n(3),o=n(24),u=n(12),a=n(252),f=r.extend({type:"visualMap.piecewise",doRender:function(){function e(e){var o=e.piece,u=new s.Group;u.onclick=i.bind(this._onItemClick,this,o),this._enableHoverLink(u,e.indexInModelPieceList);var h=n.getRepresentValue(o);if(this._createItemSymbol(u,h,[0,0,c[0],c[1]]),d){var p=this.visualMapModel.getValueState(h);u.add(new s.Text({style:{x:"right"===l?-r:c[0]+r,y:c[1]/2,text:o.text,textVerticalAlign:"middle",textAlign:l,textFont:a,fill:f,opacity:"outOfRange"===p?.5:1}}))}t.add(u)}var t=this.group;t.removeAll();var n=this.visualMapModel,r=n.get("textGap"),o=n.textStyleModel,a=o.getFont(),f=o.getTextColor(),l=this._getItemAlign(),c=n.itemSize,h=this._getViewData(),p=h.endsText,d=i.retrieve(n.get("showLabel",!0),!p);p&&this._renderEndsText(t,p[0],c,d,l),i.each(h.viewPieceList,e,this),p&&this._renderEndsText(t,p[1],c,d,l),u.box(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:a.convertDataIndex(n.findTargetDataIndices(t))})}e.on("mouseover",i.bind(n,this,"highlight")).on("mouseout",i.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return a.getItemAlign(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,r,i){if(t){var o=new s.Group,u=this.visualMapModel.textStyleModel;o.add(new s.Text({style:{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:r?i:"center",text:t,textFont:u.getFont(),fill:u.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=i.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get("text"),r=e.get("orient"),s=e.get("inverse");return("horizontal"===r?s:!s)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(o.createSymbol(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,r=i.clone(n.selected),s=t.getSelectedMapKey(e);"single"===n.selectedMode?(r[s]=!0,i.each(r,function(e,t){r[t]=t===s})):r[s]=!r[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}});e.exports=f},function(e,t,n){n(2).registerPreprocessor(n(253)),n(254),n(255),n(383),n(384),n(256)},function(e,t,n){n(2).registerPreprocessor(n(253)),n(254),n(255),n(385),n(386),n(256)},function(e,t,n){function r(e,t,n){this._model=e}function i(e,t,n,r){var i=n.calendarModel,s=n.seriesModel,o=i?i.coordinateSystem:s?s.coordinateSystem:null;return o===this?o[e](r):null}var s=n(12),o=n(4),u=n(1),a=864e5;r.prototype={constructor:r,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getHandledRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){e=o.parseDate(e);var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var r=e.getDate();r=r<10?"0"+r:r;var i=e.getDay();return i=Math.abs((i+7-this.getFirstDayOfWeek())%7),{y:t,m:n,d:r,day:i,time:e.getTime(),formatedDate:t+"-"+n+"-"+r,date:e}},getNextNDay:function(e,t){if(t=t||0,0===t)return this.getDateInfo(e);var n=this.getDateInfo(e).time;return this.getDateInfo(n+a*t)},update:function(e,t){function n(e,t){return null!=e[t]&&"auto"!==e[t]}this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),f="horizontal"===this._orient?[r,7]:[7,r];u.each([0,1],function(e){n(o,e)&&(a[i[e]]=o[e]*f[e])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=s.getLayoutRect(a,l);u.each([0,1],function(e){n(o,e)||(o[e]=c[i[e]]/f[e])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){var n=this.getDateInfo(e[0]),r=this._rangeInfo,i=n.formatedDate;if(!(t||n.time>=r.start.time&&n.time<=r.end.time))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([r.start.time,i]).weeks;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+(o-1)*this._sh+this._sh/2]:[this._rect.x+(o-1)*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},convertToPixel:u.curry(i,"dataToPoint"),convertFromPixel:u.curry(i,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(u.isArray(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),r=n.date;r.setMonth(r.getMonth()+1);var i=this.getNextNDay(r,-1);e=[n.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t=this.getDateInfo(e[0]),n=this.getDateInfo(e[1]),r=Math.floor(n.time/a)-Math.floor(t.time/a)+1,i=Math.floor((r+t.day+6)/7);return{range:[t.formatedDate,n.formatedDate],start:t,end:n,allDay:r,weeks:i,fweek:t.day,lweek:n.day}},_getDateByWeeksAndDay:function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return!1;var i=7*(e-1)-r.fweek+t,s=r.start.time+i*a;return this.getDateInfo(s)}},r.dimensions=r.prototype.dimensions,r.getDimensionsInfo=r.prototype.getDimensionsInfo,r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var s=new r(i,e,t);n.push(s),i.coordinateSystem=s}),e.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("calendarIndex")||0])}),n},n(26).register("calendar",r),e.exports=r},function(e,t,n){function r(e,t){var n=e.cellSize;s.isArray(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var r=s.map([0,1],function(e){return o.sizeCalculable(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]});o.mergeLayoutParam(e,t,{type:"box",ignoreSize:r})}var i=n(13),s=n(1),o=n(12),u=i.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",textStyle:{color:"#000"}},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,textStyle:{color:"#000"}},yearLabel:{show:!0,position:null,margin:30,formatter:null,textStyle:{color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}}},init:function(e,t,n,i){var s=o.getLayoutParams(e);u.superApply(this,"init",arguments),r(e,s)},mergeOption:function(e,t){u.superApply(this,"mergeOption",arguments),r(this.option,e)}});e.exports=u},function(e,t,n){function r(e,t,n,r,i){a.call(this,e),this.map=t,this._nameCoordMap={},this.loadGeoJson(n,r,i)}function i(e,t,n,r){var i=n.geoModel,s=n.seriesModel,o=i?i.coordinateSystem:s?s.coordinateSystem||(s.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return o===this?o[e](r):null}var s=n(259),o=n(1),u=n(11),a=n(257),f=[n(394),n(395),n(393)];r.prototype={constructor:r,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?s(e):[]}catch(r){throw"Invalid geoJson format\n"+r.message}t=t||{},n=n||{};for(var i=this.regions,u={},a=0;a<i.length;a++){var l=i[a].name;l=n[l]||l,i[a].name=l,u[l]=i[a],this.addGeoCoord(l,i[a].center);var c=t[l];c&&i[a].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=u,this._rect=null,o.each(f,function(e){e(this)},this)},transformTo:function(e,t,n,r){var i=this.getBoundingRect();i=i.clone(),i.y=-i.y-i.height;var s=this._viewTransform;s.transform=i.calculateTransform(new u(e,t,n,r)),s.decomposeTransform();var o=s.scale;o[1]=-o[1],s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getGeoCoord:function(e){return this._nameCoordMap[e]},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return this._rect=e||new u(0,0,0,0)},dataToPoints:function(e){var t=[];return e.mapArray(["lng","lat"],function(e,n){return t[0]=e,t[1]=n,this.dataToPoint(t)},this)},dataToPoint:function(e){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return a.prototype.dataToPoint.call(this,e)},convertToPixel:o.curry(i,"dataToPoint"),convertFromPixel:o.curry(i,"pointToData")},o.mixin(r,a),e.exports=r},function(e,t,n){var r=n(5),i=n(13),s=n(10),o=n(1),u=n(78),a=n(187),f=i.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){i.prototype.init.apply(this,arguments),r.defaultEmphasis(e.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var e=this.option,t=this;e.regions=a.getFilledRegions(e.regions,e.map),this._optionModelMap=o.reduce(e.regions||[],function(e,n){return n.name&&(e[n.name]=new s(n,t)),e},{}),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap[e]||new s(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e),r=n.get("label."+t+".formatter"),i={name:e};if("function"==typeof r)return i.status=t,r(i);if("string"==typeof r){var s=i.seriesName;return r.replace("{a}",null!=s?s:"")}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});o.mixin(f,u),e.exports=f},function(e,t,n){var r=n(1),i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=function(e){r.each(e.regions,function(e){var t=i[e.name];if(t){var n=e.center;n[0]=t[0],n[1]=t[1]}})}},function(e,t,n){for(var r=n(258),i=n(1),s=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],u=0;u<o.length;u++)for(var a=0;a<o[u].length;a++)o[u][a][0]/=10.5,o[u][a][1]/=-14,o[u][a][0]+=s[0],o[u][a][1]+=s[1];e.exports=function(e){"china"===e.map&&e.regions.push(new r("ÂçóÊµ∑ËØ∏Â≤õ",i.map(o,function(e){return{type:"polygon",exterior:e}}),s))}},function(e,t,n){var r=n(1),i={"ÂçóÊµ∑ËØ∏Â≤õ":[32,80],"Âπø‰∏ú":[0,-10],"È¶ôÊ∏Ø":[10,5],"Êæ≥Èó®":[-10,10],"Â§©Ê¥•":[5,5]};e.exports=function(e){r.each(e.regions,function(e){var t=i[e.name];if(t){var n=e.center;n[0]+=t[0]/10.5,n[1]+=-t[1]/14}})}},function(e,t,n){function r(e,t){return t.type||(t.data?"category":"value")}var i=n(13),s=n(1),o=n(31),u=n(59),a=n(4),f=i.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return o([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=s.clone(e);if(t)for(var n=t.length-1;n>=0;n--)a.asc(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e)return"inactive";for(var n=0,r=t.length;n<r;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}}),l={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};s.merge(f.prototype,n(42)),u("parallel",f,r,l),e.exports=f},function(e,t,n){function r(e,t,n){this._axesMap={},this._axesLayout={},this.dimensions=e.dimensions,this._rect,this._model=e,this._init(e,t,n)}var i=n(12),s=n(17),o=n(1),u=n(398),a=n(3),f=n(19),l=o.each,c=Math.PI;r.prototype={type:"parallel",constructor:r,_init:function(e,t,n){var r=e.dimensions,i=e.parallelAxisIndex;l(r,function(e,n){var r=i[n],o=t.getComponent("parallelAxis",r),a=this._axesMap[e]=new u(e,s.createScaleByModel(o),[0,0],o.get("type"),r),f="category"===a.type;a.onBand=f&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var r=n.getData();l(this.dimensions,function(e){var t=this._axesMap[e];t.scale.unionExtentFromData(r,e),s.niceScaleExtent(t.scale,t.model)},this)}},this)},resize:function(e,t){this._rect=i.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes(e)},getRect:function(){return this._rect},_layoutAxes:function(e){var t=this._rect,n=e.get("layout"),r=this._axesMap,i=this.dimensions,s=[t.width,t.height],o="horizontal"===n?0:1,u=s[o],a=s[1-o],h=[0,a];l(r,function(e){var t=e.inverse?1:0;e.setExtent(h[t],h[1-t])});var p,d=e.get("axisExpandable"),v=e.get("axisExpandWidth"),m=e.get("axisExpandCenter"),g=e.get("axisExpandCount")||0;if(null!=m){var y=Math.max(0,Math.floor(m-(g-1)/2)),b=y+g-1;b>=i.length&&(b=i.length-1,y=Math.max(0,Math.floor(b-g+1))),p=[y,b]}var w=d&&p&&v?function(e,t,n){var r,i=p[1]-p[0],s=(t-v*i)/(n-1-i);return r=e<p[0]?(e-1)*s:e<=p[1]?p[0]*s+(e-p[0])*v:e===n-1?t:p[0]*s+i*v+(e-p[1])*s,{position:r,axisNameAvailableWidth:p[0]<e&&e<p[1]?v:s}}:function(e,t,n){var r=t/(n-1);return{position:r*e,axisNameAvailableWidth:r}};l(i,function(e,r){var s=w(r,u,i.length),o={horizontal:{x:s.position,y:a},vertical:{x:0,y:s.position}},l={horizontal:c/2,vertical:0},h=[o[n].x+t.x,o[n].y+t.y],d=l[n],v=f.create();f.rotate(v,v,d),f.translate(v,v,h),this._axesLayout[e]={position:h,rotation:d,transform:v,axisNameAvailableWidth:s.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:p}},this)},getAxis:function(e){return this._axesMap[e]},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap[t].dataToCoord(e),t)},eachActiveState:function(e,t,n){for(var r=this.dimensions,i=this._axesMap,s=this.hasAxisbrushed(),o=0,u=e.count();o<u;o++){var a,f=e.getValues(r,o);if(s){a="active";for(var l=0,c=r.length;l<c;l++){var h=r[l],p=i[h].model.getActiveState(f[l],l);if("inactive"===p){a="inactive";break}}}else a="normal";t.call(n,a,o)}},hasAxisbrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,i=e.length;r<i;r++)"normal"!==t[e[r]].model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){var n=this._axesLayout[t];return a.applyTransform([e,0],n.transform)},getAxisLayout:function(e){return o.clone(this._axesLayout[e])},findClosestAxisDim:function(e){var t,n=1/0;return o.each(this._axesLayout,function(r,i){var s=a.applyTransform(e,r.transform,!0),o=this._axesMap[i].getExtent();if(!(s[0]<o[0]||s[0]>o[1])){var u=Math.abs(s[1]);u<n&&(n=u,t=i)}},this),t}},e.exports=r},function(e,t,n){var r=n(1),i=n(33),s=function(e,t,n,r,s){i.call(this,e,t,n),this.type=r||"value",this.axisIndex=s};s.prototype={constructor:s,model:null},r.inherits(s,i),e.exports=s},function(e,t,n){var r=n(1),i=n(13);n(396),i.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var t=this.option;e&&r.merge(t,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){r.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],n=r.filter(this.dependentModels.parallelAxis,function(e){return e.get("parallelIndex")===this.componentIndex});r.each(n,function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}})},function(e,t,n){function r(e){if(!e.parallel){var t=!1;s.each(e.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}}function i(e){var t=o.normalizeToArray(e.parallelAxis);s.each(t,function(t){if(s.isObject(t)){var n=t.parallelIndex||0,r=o.normalizeToArray(e.parallel)[n];r&&r.parallelAxisDefault&&s.merge(t,r.parallelAxisDefault,!1)}})}var s=n(1),o=n(5);e.exports=function(e){r(e),i(e)}},function(e,t,n){function r(e,t){t=t||[0,360],s.call(this,"angle",e,t),this.type="category"}var i=n(1),s=n(33);r.prototype={constructor:r,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:s.prototype.dataToCoord,angleToData:s.prototype.coordToData},i.inherits(r,s),e.exports=r},function(e,t,n){function r(e,t){return t.type||(t.data?"category":"value")}var i=n(1),s=n(13),o=n(59),u=s.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});i.merge(u.prototype,n(42));var a={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};o("angle",u,r,a.angle),o("radius",u,r,a.radius)},function(e,t,n){var r=n(405),i=n(401),s=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new r,this._angleAxis=new i,this._radiusAxis.polar=this._angleAxis.polar=this};s.prototype={type:"polar",axisPointerEnabled:!0,constructor:s,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoints:function(e){return e.mapArray(this.dimensions,function(e,t){return this.dataToPoint([e,t])},this)},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),s=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]);r.inverse?s=o-360:o=s+360;var u=Math.sqrt(t*t+n*n);t/=u,n/=u;for(var a=Math.atan2(-n,t)/Math.PI*180,f=a<s?1:-1;a<s||a>o;)a+=360*f;return[u,a]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI,r=Math.cos(n)*t+this.cx,i=-Math.sin(n)*t+this.cy;return[r,i]}},e.exports=s},function(e,t,n){n(402),n(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t,n=this.ecModel;return n.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(e,t,n){function r(e,t){s.call(this,"radius",e,t),this.type="category"}var i=n(1),s=n(33);r.prototype={constructor:r,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:s.prototype.dataToCoord,radiusToData:s.prototype.coordToData},i.inherits(r,s),e.exports=r},function(e,t,n){function r(e,t,n){s.call(this,e,t,n),this.type="value",this.angle=0,this.name="",this.model}var i=n(1),s=n(33);i.inherits(r,s),e.exports=r},function(e,t,n){function r(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=i.map(e.getIndicatorModels(),function(e,t){var n="indicator_"+t,r=new s(n,new o);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(n),r},this),this.resize(e,n),this.cx,this.cy,this.r,this.startAngle}var i=n(1),s=n(406),o=n(43),u=n(4),a=n(17);r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],r=n.angle,i=this.cx+e*Math.cos(r),s=this.cy-e*Math.sin(r);return[i,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var i,s=Math.atan2(-n,t),o=1/0,u=-1,a=0;a<this._indicatorAxes.length;a++){var f=this._indicatorAxes[a],l=Math.abs(s-f.angle);l<o&&(i=f,u=a,o=l)}return[u,+(i&&i.coodToData(r))]},r.prototype.resize=function(e,t){var n=e.get("center"),r=t.getWidth(),s=t.getHeight(),o=Math.min(r,s)/2;this.cx=u.parsePercent(n[0],r),this.cy=u.parsePercent(n[1],s),this.startAngle=e.get("startAngle")*Math.PI/180,this.r=u.parsePercent(e.get("radius"),o),i.each(this._indicatorAxes,function(e,t){e.setExtent(0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n},this)},r.prototype.update=function(e,t){function n(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}var r=this._indicatorAxes,s=this._model;i.each(r,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===s){var o=t.getData();i.each(r,function(e){e.scale.unionExtentFromData(o,e.dim)})}},this);var o=s.get("splitNumber");i.each(r,function(e,t){var r=a.getScaleExtent(e.scale,e.model);a.niceScaleExtent(e.scale,e.model);var i=e.model,s=e.scale,f=i.getMin(),l=i.getMax(),c=s.getInterval();if(null!=f&&null!=l)s.setInterval((l-f)/o);else if(null!=f){var h;do h=f+c*o,s.setExtent(+f,h),s.setInterval(c),c=n(c);while(h<r[1]&&isFinite(h)&&isFinite(r[1]))}else if(null!=l){var p;do p=l-c*o,s.setExtent(p,+l),s.setInterval(c),c=n(c);while(p>r[0]&&isFinite(p)&&isFinite(r[0]))}else{var d=s.getTicks().length-1;d>o&&(c=n(c));var v=Math.round((r[0]+r[1])/2/c)*c,m=Math.round(o/2);s.setExtent(u.round(v-m*c),u.round(v+(o-m)*c)),s.setInterval(c)}})},r.dimensions=[],r.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var s=new r(i,e,t);n.push(s),i.coordinateSystem=s}),e.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])}),n},n(26).register("radar",r),e.exports=r},function(e,t,n){function r(e,t){return u.defaults({show:t},e)}var i=n(96),s=i.valueAxis,o=n(10),u=n(1),a=n(42),f=n(2).extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),s=this.get("axisLabel"),f=this.get("name.textStyle"),l=this.get("name.show"),c=this.get("name.formatter"),h=this.get("nameGap"),p=this.get("triggerEvent"),d=u.map(this.get("indicator")||[],function(d){if(null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0),d=u.merge(u.clone(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:r,axisTick:i,axisLabel:s,name:d.text,nameLocation:"end",nameGap:h,nameTextStyle:f,triggerEvent:p},!1),l||(d.name=""),"string"==typeof c){var v=d.name;d.name=c.replace("{value}",null!=v?v:"")}else"function"==typeof c&&(d.name=c(d.name,d));var m=u.extend(new o(d,null,this.ecModel),a);return m.mainType="radar",m.componentIndex=this.componentIndex,m},this);this.getIndicatorModels=function(){return d}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:u.merge({lineStyle:{color:"#bbb"}},s.axisLine),axisLabel:r(s.axisLabel,!1),axisTick:r(s.axisTick,!1),splitLine:r(s.splitLine,!0),splitArea:r(s.splitArea,!0),indicator:[]}});e.exports=f},function(e,t,n){function r(e,t){return t.type||(t.data?"category":"value")}var i=n(13),s=n(59),o=n(1),u=i.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),a={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};o.merge(u.prototype,n(42)),s("single",u,r,a),e.exports=u},function(e,t,n){function r(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(e,t,n),this.model=e}var i=n(411),s=n(17),o=n(12);r.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:r,_init:function(e,t,n){var r=this.dimension,o=new i(r,s.createScaleByModel(e),[0,0],e.get("type"),e.get("position")),u="category"===o.type;o.onBand=u&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},update:function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData(),n=this.dimension;this._axis.scale.unionExtentFromData(t,e.coordDimToDataDim(n)),s.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=o.getLayoutRect({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],i=t.reverse?1:0;t.setExtent(r[i],r[1-i]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),r=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return r-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis(),r=n.orient;return"horizontal"===r?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[i]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r}},e.exports=r},function(e,t,n){var r=n(1),i=n(33),s=n(17),o=function(e,t,n,r,s){i.call(this,e,t,n),this.type=r||"value",this.position=s||"bottom",this.orient=null,this._labelInterval=null};o.prototype={constructor:o,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel("axisLabel"),i=n.get("interval");if("category"!==this.type||"auto"!==i)return e=this._labelInterval="auto"===i?0:i;e=this._labelInterval=s.getAxisLabelInterval(r.map(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getModel("textStyle").getFont(),this.isHorizontal())}return e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},r.inherits(o,i),e.exports=o},function(e,t,n){function r(e,t){var n=[];return e.eachComponent("singleAxis",function(r,s){var o=new i(r,e,t);o.name="single_"+s,o.resize(r,t),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=n&&n.coordinateSystem}}),n}var i=n(410);n(26).register("single",{create:r,dimensions:i.prototype.dimensions})},function(e,t,n){function r(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function i(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}var s=n(1),o=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},u=o.prototype;u.type="graph",u.isDirected=function(){return this._directed},u.addNode=function(e,t){e=e||""+t;var n=this._nodesMap;if(!n[e]){var i=new r(e,t);return i.hostGraph=this,this.nodes.push(i),n[e]=i,i}},u.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},u.getNodeById=function(e){return this._nodesMap[e]},u.addEdge=function(e,t,n){var s=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),e instanceof r||(e=s[e]),t instanceof r||(t=s[t]),e&&t){var u=e.id+"-"+t.id;if(!o[u]){var a=new i(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),o[u]=a,a}}},u.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},u.getEdge=function(e,t){e instanceof r&&(e=e.id),t instanceof r&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},u.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},u.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},u.breadthFirstTraverse=function(e,t,n,i){if(t instanceof r||(t=this._nodesMap[t]),t){for(var s="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var u=[t];u.length;)for(var a=u.shift(),f=a[s],o=0;o<f.length;o++){var l=f[o],c=l.node1===a?l.node2:l.node1;if(!c.__visited){if(e.call(c,c,a))return;u.push(c),c.__visited=!0}}}},u.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,s=n.length;i<s;i++)n[i].dataIndex=-1;for(var i=0,s=e.count();i<s;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf(function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(var i=0,s=r.length;i<s;i++)r[i].dataIndex=-1;for(var i=0,s=t.count();i<s;i++)r[t.getRawIndex(i)].dataIndex=i},u.clone=function(){for(var e=new o(this._directed),t=this.nodes,n=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(var r=0;r<n.length;r++){var i=n[r];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},r.prototype={constructor:r,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}}},i.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}};var a=function(e,t){return{getValue:function(n){var r=this[e][t];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[e][t].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};s.mixin(r,a("hostGraph","data")),s.mixin(i,a("hostGraph","edgeData")),o.Node=r,o.Edge=i,e.exports=o},function(e,t,n){function r(e,t){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=s.map(t||[],function(t){return new o(t,e,e.ecModel)})}function i(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}var s=n(1),o=n(10),u=n(14),a=n(261),f=n(25),l=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};l.prototype={constructor:l,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),e=e||{},s.isString(e)&&(e={order:e});var r,i=e.order||"preorder",o=this[e.attr||"children"];"preorder"===i&&(r=t.call(n,this));for(var u=0;!r&&u<o.length;u++)o[u].eachNode(e,t,n);"postorder"===i&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].getNodeById(e);if(i)return i}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].contains(e);if(i)return i}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex),r=this.getLevelModel();return n.getModel(e,(r||t.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},r.prototype={constructor:r,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(var n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},r.createTree=function(e,t,n){function o(e,t){var n=e.value;p=Math.max(p,s.isArray(n)?n.length:1),h.push(e);var r=new l(e.name,c);t?i(r,t):c.root=r,c._nodes.push(r);var u=e.children;if(u)for(var a=0;a<u.length;a++)o(u[a],r)}var c=new r(t,n),h=[],p=1;o(e),c.root.updateDepthAndHeight(0);var d=f([{name:"value"}],h,{dimCount:p}),v=new u(d,t);return v.initData(h),a({mainData:v,struct:c,structAttr:"tree"}),c.update(),c},e.exports=r},function(e,t,n){function r(){var e,t=[],n={};return{add:function(e,r,s,o,u){return i.isString(o)&&(u=o,o=0),!n[e.id]&&(n[e.id]=1,t.push({el:e,target:r,time:s,delay:o,easing:u}),!0)},done:function(t){return e=t,this},start:function(){function r(){i--,i||(t.length=0,n={},e&&e())}for(var i=t.length,s=0,o=t.length;s<o;s++){var u=t[s];u.el.animateTo(u.target,u.time,u.delay,u.easing,r)}return this}}}var i=n(1);e.exports={createWrap:r}}])}),define("func/portInfo",["leaflet","echarts","func/base","data/ajax","control/panel","plugins/mcscroll"],function(e,t){e.ICT.PortInfo=e.Class.extend({initialize:function(t){this.config=Project_ParamConfig.PortConfig,this.ajax=new e.ICT.Ajax,this.ictmap=t,this.portLayerGroup=e.featureGroup([]),this.ictmap.map.addLayer(this.portLayerGroup),this.getPortList()},chartToGoogle:function(){this.portLayerGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat+r,n.lng+i);t.setLatLng(s)},this)},googleToChart:function(){this.portLayerGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat-r,n.lng-i);t.setLatLng(s)},this)},getPortList:function(){var e=this.config.listUrl;this.ajax.get(e,null,!0,this,function(e){if(e.state!==1)console.error(e.msg.error);else{var t=e.msg.portsList;for(var n=0,r=t.length;n<r;n++){var i=this.convertPortObj(t[n]),s=this.createPortMarker(i,!0);this.ictmap.map.getZoom()<this.config.showLevel&&(s.setOpacity(0),s.off("click",this.portClickEvt,this)),this.portLayerGroup.addLayer(s)}}},function(e){console.error("Ëé∑ÂèñÊ∏ØÂè£‰ø°ÊÅØÂàóË°®Âá∫ÈîôÔºÅ")})},convertPortObj:function(e){var t={};return t.id=e.id,t.cc=e.cc,t.lon=e.lo/6e5,t.lat=e.la/6e5,t.name=e.pn,t},createPortMarker:function(t,n){var n=n===undefined?!0:n,r=e.latLng(t.lat,t.lon),i=t.name,s=e.icon({iconUrl:"themes/images/shipIcons/port.png",iconSize:[20,20],iconAnchor:[10,10]}),o={icon:s,title:i,data:t},u=e.marker(r,o);return n&&u.on("click",this.portClickEvt,this),u},portClickEvt:function(e){var t=e.target,n={},r=this.config.infoUrl;n.id=t.options.data.id,this.ajax.post(r,n,!0,this,function(e){if(e.state!=1)console.error(e.msg.error);else{var n=this.convertPortInfoObj(e.msg.portObject),r={maxWidth:300,minWidth:300,className:"ict_portInfo_popupContainer"};t.on("popupopen",function(){this._initInfoPopEvts()},this),t.bindPopup(this.getPopupContent(n),r).openPopup()}},function(e){console.error("Ëé∑ÂèñÊ∏ØÂè£‰ø°ÊÅØÂá∫ÈîôÔºÅ")})},locateByPortId:function(e){var t=this.getPortById(e);t&&(t.options.opacity===0&&(t.setOpacity(1),t.on("click",this.portClickEvt,this)),t.fire("click"),this.ictmap.map.setView(t.getLatLng(),this.config.showLevel))},portStastic:function(t){var n=this.config.portStaticUrl;this.ajax.post(n,t,!0,this,function(t){t.state!==1?(console.error(t.msg.error),e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("port_info_stastic_error"))):this.showStasticRes(t)},function(t){e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("port_info_stastic_error"))})},showStasticRes:function(t){var n={title:$.i18n.prop("port_static_title"),width:800,height:600};n.contentHTML=this.getStasticHtml(t);var r=this._stasticPanel=new e.ICT.PopPanel(n);r.show(),this._initStasticEvts(),this.initecharts(t)},getStasticHtml:function(e){var t=$.i18n.prop("port_static_chart"),n=$.i18n.prop("port_static_table"),r=[];return r.push('<div class="port_stastic_container">'),r.push('<div class="titleDiv">'),r.push('<ul class="nav nav_titleNav">'),r.push('<li class="active" data-info="chart"><a href="#" >'+t+"</a></li>"),r.push('<li data-info="table"><a href="#">'+n+"</a></li>"),r.push("</ul>"),r.push("</div>"),r.push('<div class="contentDiv">'),r.push(this.getstasticChartHtml(e)),r.push(this.getstasticTableHtml(e)),r.push("</div>"),r.push("</div>"),r.join("")},getstasticChartHtml:function(e){var t=$.i18n.prop("port_static_qysr"),n=$.i18n.prop("port_static_qysl"),r=[];return r.push('<div class="stasticChartDiv" style="display:block;">'),r.push("<p>"+t+"</p>"),r.push('<div class="stastic_chart_enter"></div>'),r.push("<p>"+n+"</p>"),r.push('<div class="stastic_chart_out"></div>'),r.push("</div>"),r.join("")},getstasticTableHtml:function(e){var t=e.msg.shipDst,n=e.msg.shipSrc,r=e.msg.dstSum,i=e.msg.srcSum,s=$.i18n.prop("port_static_qysrcount",r),o=$.i18n.prop("port_static_qyslcount",i),u=$.i18n.prop("common_ship_country2"),a=$.i18n.prop("func_filter_shiptype_1"),f=$.i18n.prop("func_filter_shiptype_3"),l=$.i18n.prop("func_filter_shiptype_6"),c=$.i18n.prop("func_filter_shiptype_5"),h=$.i18n.prop("func_filter_shiptype_7"),p=$.i18n.prop("func_filter_shiptype_4"),d=$.i18n.prop("func_filter_shiptype_100"),v=[];v.push('<div class="stasticTableDiv" style="display:none;">'),v.push("<p>"+s+"</p>"),v.push('<div class="stastic_table_enter">'),v.push("<table>"),v.push("<thead><tr><th>"+u+"</th><th>"+a+"</th><th>"+f+"</th><th>"+l+"</th><th>"+c+"</th><th>"+h+"</th><th>"+p+"</th><th>"+d+"</th></tr></thead>"),v.push("<tbody>");for(var m=0,g=t.length;m<g;m++){var y=t[m],b=this.ictmap.realtarget.convertNameToKey(y.countryCn.trim(),"shipflag"),w=window.localStorage.getItem("language")==="en"?y.countryEn:y.countryCn;v.push("<tr>"),v.push('<td><img src="themes/images/filterdisplay/country_'+b+'.png">'+w+"</td>"),v.push("<td>"+y.shiphuo+"</td>"),v.push("<td>"+y.shipyou+"</td>"),v.push("<td>"+y.shiptuo+"</td>"),v.push("<td>"+y.shipyu+"</td>"),v.push("<td>"+y.shipke+"</td>"),v.push("<td>"+y.shiptl+"</td>"),v.push("<td>"+y.shipother+"</td>"),v.push("</tr>"),m<g-1&&v.push('<tr class="splitTr"><td colspan="8">&nbsp</td></tr>')}v.push("</tbody>"),v.push("</table>"),v.push("</div>"),v.push("<p>"+o+"</p>"),v.push('<div class="stastic_table_out">'),v.push("<table>"),v.push("<thead><tr><th>"+u+"</th><th>"+a+"</th><th>"+f+"</th><th>"+l+"</th><th>"+c+"</th><th>"+h+"</th><th>"+p+"</th><th>"+d+"</th></tr></thead>"),v.push("<tbody>");for(var m=0,g=n.length;m<g;m++){var E=n[m],b=this.ictmap.realtarget.convertNameToKey(E.countryCn.trim(),"shipflag"),w=window.localStorage.getItem("language")==="en"?E.countryEn:E.countryCn;v.push("<tr>"),v.push('<td><img src="themes/images/filterdisplay/country_'+b+'.png">'+w+"</td>"),v.push("<td>"+E.shiphuo+"</td>"),v.push("<td>"+E.shipyou+"</td>"),v.push("<td>"+E.shiptuo+"</td>"),v.push("<td>"+E.shipyu+"</td>"),v.push("<td>"+E.shipke+"</td>"),v.push("<td>"+E.shiptl+"</td>"),v.push("<td>"+E.shipother+"</td>"),v.push("</tr>"),m<g-1&&v.push('<tr class="splitTr"><td colspan="8">&nbsp</td></tr>')}return v.push("</tbody>"),v.push("</table>"),v.push("</div>"),v.push("</div>"),v.join("")},initecharts:function(e){var n=this._stasticPanel.getContainer(),r={},i={};for(var s=0,o=e.msg.shipDst.length;s<o;s++){var u=e.msg.shipDst[s];r[u.countryCn]=[],r[u.countryCn].push(u.shiphuo),r[u.countryCn].push(u.shipyou),r[u.countryCn].push(u.shiptuo),r[u.countryCn].push(u.shipyu),r[u.countryCn].push(u.shipke),r[u.countryCn].push(u.shiptl),r[u.countryCn].push(u.shipother)}for(var s=0,o=e.msg.shipSrc.length;s<o;s++){var a=e.msg.shipSrc[s];i[a.countryCn]=[],i[a.countryCn].push(a.shiphuo),i[a.countryCn].push(a.shipyou),i[a.countryCn].push(a.shiptuo),i[a.countryCn].push(a.shipyu),i[a.countryCn].push(a.shipke),i[a.countryCn].push(a.shiptl),i[a.countryCn].push(a.shipother)}this.echart_enter=t.init(n.find(".stastic_chart_enter").get(0)),this.echart_out=t.init(n.find(".stastic_chart_out").get(0));var f=this.getChartOption(r),l=this.getChartOption(i);this.echart_enter.setOption(f,!0),this.echart_out.setOption(l,!0)},_initStasticEvts:function(){var e=this,t=this._stasticPanel.getContainer();t.find(".nav_titleNav>li").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var e=$(this).data("info");e==="chart"?(t.find(".stasticChartDiv").css("display","block"),t.find(".stasticTableDiv").css("display","none")):(t.find(".stasticChartDiv").css("display","none"),t.find(".stasticTableDiv").css("display","block"))}),t.find(".stastic_table_enter").mCustomScrollbar({theme:"minimal-dark"}),t.find(".stastic_table_out").mCustomScrollbar({theme:"minimal-dark"})},getChartOption:function(e){var t=$.i18n.prop("func_filter_shipflag_1"),n=$.i18n.prop("func_filter_shipflag_5"),r=$.i18n.prop("func_filter_shipflag_2"),i=$.i18n.prop("func_filter_shipflag_3"),s=$.i18n.prop("func_filter_shipflag_4"),o=$.i18n.prop("func_filter_shipflag_100"),u=$.i18n.prop("func_filter_shiptype_1"),a=$.i18n.prop("func_filter_shiptype_3"),f=$.i18n.prop("func_filter_shiptype_6"),l=$.i18n.prop("func_filter_shiptype_5"),c=$.i18n.prop("func_filter_shiptype_7"),h=$.i18n.prop("func_filter_shiptype_4"),p=$.i18n.prop("func_filter_shiptype_100"),d={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[t,n,r,i,s,o]},xAxis:[{type:"category",data:[u,a,f,l,c,h,p]}],yAxis:[{type:"value"}],color:["#065F89","#0A7CB0","#0FA0E3","#3AD3FF","#6DDEFE","#BDF1FF"],series:[{name:t,type:"bar",barWidth:10,stack:"stastic",data:e["‰∏≠ÂõΩ"]},{name:n,type:"bar",stack:"stastic",data:e["‰øÑÁΩóÊñØ"]},{name:r,type:"bar",stack:"stastic",data:e["Ëã±ÂõΩ"]},{name:i,type:"bar",stack:"stastic",data:e["Ê≥ïÂõΩ"]},{name:s,type:"bar",stack:"stastic",data:e["ÁæéÂõΩ"]},{name:o,type:"bar",stack:"stastic",data:e["ÂÖ∂‰ªñ"]}]};return d},_initInfoPopEvts:function(){var t=this,n=$(".ict_portInfo_popupContainer"),r=n.find(".msg"),i=e.ict.app.util.dateTime;n.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,minDate:"2013-01-10 0:0:0",maxDate:"2016-5-1 0:0:0",lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn"};WdatePicker(e)}),n.find(".Wdate.startTime").val("2013-01-10 00"),n.find(".Wdate.endTime").val("2016-05-01 00"),$(".ict_portInfo_popupContainer .btnDiv button").on("click",function(){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}var s=$(this).data("id"),o=n.find(".startTime").val(),u=n.find(".endTime").val(),a=i.checkStrartEndTime(o+":00:00",u+":00:00");if(!a.result){r.text(a.msg);return}o=i.getCusUnixTime(o+":00:00"),u=i.getCusUnixTime(u+":00:00");var f={portid:s,startTime:o,endTime:u};t.portStastic(f)})},convertPortInfoObj:function(e){var t={};return t.id=e.id,t.areaname=e.area_Name,t.name=e.port_Name,t.countryen=e.country,t.countryzh=e.country_Chinese,t.countrycode=e.country_Code,t.portsize=e.harbor_Size,t.porttype=e.harbor_Type,t.lat=e.latitude/6e5,t.lon=e.longitude/6e5,t},getPopupContent:function(t){var n=e.ict.app.util.tool.latlngTodfmStr(t.lat,"lat"),r=e.ict.app.util.tool.latlngTodfmStr(t.lon,"lng"),i=$.i18n.prop("port_info_title"),s=$.i18n.prop("port_info_id"),o=$.i18n.prop("port_info_areaenname"),u=$.i18n.prop("port_info_enname"),a=$.i18n.prop("port_info_coenname"),f=$.i18n.prop("port_info_cozhname"),l=$.i18n.prop("port_info_size"),c=$.i18n.prop("port_info_type"),h=$.i18n.prop("common_ship_lng"),p=$.i18n.prop("common_ship_lat"),d=$.i18n.prop("port_info_conum"),v=$.i18n.prop("port_static_jltj"),m=$.i18n.prop("common_time_info2"),g=$.i18n.prop("common_btn_ok"),y=[];return y.push('<div class="portInfo_Div">'),y.push('<div class="portInfo_title">'+i+"</div>"),y.push('<div class="portInfo_table_div">'),y.push("<table>"),y.push("<tr><td>"+s+"</td><td>"+t.id+"</td></tr>"),y.push("<tr><td>"+o+"</td><td>"+t.areaname+"</td></tr>"),y.push("<tr><td>"+u+"</td><td>"+t.name+"</td></tr>"),y.push("<tr><td>"+a+"</td><td>"+t.countryen+"</td></tr>"),y.push("<tr><td>"+f+"</td><td>"+t.countryzh+"</td></tr>"),y.push("<tr><td>"+l+"</td><td>"+t.portsize+"</td></tr>"),y.push("<tr><td>"+c+"</td><td>"+t.porttype+"</td></tr>"),y.push("<tr><td>"+h+"</td><td>"+r+"</td></tr>"),y.push("<tr><td>"+p+"</td><td>"+n+"</td></tr>"),y.push("<tr><td>"+d+"</td><td>"+t.countrycode+"</td></tr>"),y.push("</table>"),y.push("</div>"),y.push('<div class="port_stastic">'),y.push("<p>"+v+"</p>"),y.push('<input type="text" class="Wdate startTime">&nbsp<label>'+m+'</label>&nbsp<input type="text" readonly  class="Wdate endTime">'),y.push("</div>"),y.push('<p class="msg"></p>'),y.push('<div class="btnDiv">'),y.push('<button type="button" data-id="'+t.id+'">'+g+"</button>"),y.push("</div>"),y.push("</div>"),y.join("")},showOrHidePortLayer:function(){this.ictmap.getCurZoom()<this.config.showLevel?this.hidePortLayer():this.showPortLayer()},showPortLayer:function(){this.portLayerGroup?this.portLayerGroup.eachLayer(function(e){e.setOpacity(1),e.on("click",this.portClickEvt,this)},this):this.getPortList()},hidePortLayer:function(){if(!this.portLayerGroup)return;this.portLayerGroup.eachLayer(function(e){e.setOpacity(0),e.off("click",this.portClickEvt,this)},this)},removePortLayer:function(){this.ictmap.map.hasLayer(this.portLayerGroup)&&this.portLayerGroup.clearLayers()},reloadPortLayer:function(){this.removePortLayer(),this.getPortList()},getPortById:function(e){var t=null;return this.portLayerGroup&&this.portLayerGroup.eachLayer(function(n){var r=n.options.data;r.id===e&&(t=n)},this),t}})}),define("library/requirejs/css!themes/css/func.heatmap",[],function(){}),define("func/heatmap",["leaflet","esri/leaflet","func/base","func/userLogin"],function(e){e.ICT.Func.add("HeatMap",{Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.menuid="ict_menu_main_rlt",this.ictmap=e.ict.app.ictmap,this.OverlayConfig=Project_ParamConfig.LayersConfig.OverlayDensity,this.ShipConfig=Project_ParamConfig.LayersConfig.ShipDensity,this.TrafficConfig=Project_ParamConfig.LayersConfig.TrafficDensity,this._layer=null},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}this.ictmap.OperateState.heatmap=!0,this.ictmap.realtarget.hideRealTargetLayer(),this.menu.submenu.has(this.menuid)&&this.menu.submenu.destory(this.menuid),this.menu.submenu.add(this.menuid,this.getSubMenuHTML()),this.menu.submenu.show(this.menuid),this._initSubMenuEvts()},stop:function(){this.menu.submenu.destory(this.menuid),this.menu.mainmenu.deactiveMenu(this.menuid),this.removeLayer(),this.ictmap.OperateState.heatmap=!1,this.ictmap.realtarget.addRealTargetLayer()},getSubMenuHTML:function(){var e=[];e.push('<ul class="submenu_heatmap">'),e.push('<li class="submenu_heatmap_li">'),e.push('<img src="themes/images/frame/menu_glxs_cblx.png">&nbsp&nbsp<label class="func_heatmap_overlay">Ë¶ÜÁõñÂØÜÂ∫¶</label>'),e.push('<ul class="time_ul" style="display:none;">'),e.push("<li>"),e.push('<label class="func_heatmap_timeselect">Êó∂Èó¥ÈÄâÊã©:</label>'),e.push('<select name="heatmap_overlay_time">');for(var t=0,n=this.OverlayConfig.length;t<n;t++){var r=this.OverlayConfig[t];e.push('<option value="'+t+'">'+r.time+"</option>")}e.push("</select>"),e.push("</li>"),e.push("</ul>"),e.push("</li>"),e.push('<li class="submenu_heatmap_li">'),e.push('<img src="themes/images/frame/menu_glxs_cblx.png">&nbsp&nbsp<label class="func_heatmap_ship">ËàπËà∂ÂØÜÂ∫¶</label>'),e.push('<ul class="time_ul" style="display:none;">'),e.push("<li>"),e.push('<label class="func_heatmap_timeselect">Êó∂Èó¥ÈÄâÊã©:</label>'),e.push('<select name="heatmap_ship_time">');for(var t=0,n=this.ShipConfig.length;t<n;t++){var r=this.ShipConfig[t];e.push('<option value="'+t+'">'+r.time+"</option>")}e.push("</select>"),e.push("</li>"),e.push("</ul>"),e.push("</li>"),e.push('<li class="submenu_heatmap_li">'),e.push('<img src="themes/images/frame/menu_glxs_cblx.png">&nbsp&nbsp<label class="func_heatmap_traffic">‰∫§ÈÄöÂØÜÂ∫¶</label>'),e.push('<ul class="time_ul" style="display:none;">'),e.push("<li>"),e.push('<label class="func_heatmap_timeselect">Êó∂Èó¥ÈÄâÊã©:</label>'),e.push('<select name="heatmap_traffic_time">');for(var t=0,n=this.TrafficConfig.length;t<n;t++){var r=this.TrafficConfig[t];e.push('<option value="'+t+'">'+r.time+"</option>")}return e.push("</select>"),e.push("</li>"),e.push("</ul>"),e.push("</li>"),e.push("</ul>"),e.join("")},_initSubMenuEvts:function(){var e=this.menu.getContainer(),t=this;e.find(".func_heatmap_timeselect").html($.i18n.prop("func_heatmap_timeselect")),e.find(".func_heatmap_overlay").html($.i18n.prop("func_heatmap_overlay")),e.find(".func_heatmap_ship").html($.i18n.prop("func_heatmap_ship")),e.find(".func_heatmap_traffic").html($.i18n.prop("func_heatmap_traffic")),e.find(".submenu_heatmap > .submenu_heatmap_li").on("click",function(){var e=$(this);e.hasClass("active")?(e.find(".time_ul").css("display","none"),e.removeClass("active"),t.removeLayer()):(e.find(".time_ul").css("display","block"),e.addClass("active").siblings().removeClass("active"),e.siblings().find(".time_ul").css("display","none"),e.find("select").change())}),e.find(".submenu_heatmap > .submenu_heatmap_li > ul").on("click",function(e){e.stopPropagation()}),e.find(".submenu_heatmap > .submenu_heatmap_li >ul >li >select").on("change",function(){var e=$(this),n=e.attr("name"),r=parseInt(e.val()),i=null;n==="heatmap_overlay_time"?i=t.OverlayConfig[r].url:n==="heatmap_ship_time"?i=t.ShipConfig[r].url:i=t.TrafficConfig[r].url,t.updateLayer(i)})},createLayer:function(t){return e.esri.dynamicMapLayer({url:t})},updateLayer:function(e){this.removeLayer(),this._layer=this.createLayer(e),this._layer.addTo(this.ictmap.map)},removeLayer:function(){this._layer&&(this._layer.remove(),this._layer=null)}})})}),define("library/requirejs/css!themes/css/func.areaflow",[],function(){}),define("func/areaflow",["leaflet","echarts","func/base","control/draw","control/loading","data/ajax","plugins/mcscroll","control/panel"],function(e,t){e.ICT.Func.add("AreaFlow",{Class:e.Class.extend({_data:{historyChk:!1,realtimeChk:!1,startTime:null,endTime:null},initialize:function(){this.ajax=new e.ICT.Ajax,this.ajax.setTimeout(6e5),this.ictmap=e.ict.app.ictmap,this.dateUtil=e.ict.app.util.dateTime,this.menu=e.ict.app.menu,this.menuid="ict_menu_main_qyll",this.config=Project_ParamConfig.StasticConfig,this._container=null,this._popPanel=null,this._drawPopPanel=null,this._resultPopPanel=null,this._layer=null,this._layerType=null},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid),this.menu.mainmenu.disableMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}if(this._container||this._popPanel)return;this._initUi(),this._initEvts(),this._container.find("input[type=radio]").eq(0).click()},stop:function(){this.menu.mainmenu.enableMenu(),this.menu.mainmenu.deactiveMenu(this.menuid),this.ictmap.deactivate(),this._popPanel&&this._popPanel.remove(!1),this._layer&&this._layer.remove(),this._drawPopPanel&&this._drawPopPanel.remove(),this._resultPopPanel&&this._resultPopPanel.remove(!1),this._container=null,this._popPanel=null,this._drawPopPanel=null,this._resultPopPanel=null,this._layer=null,this._layerType=null},getContentHTML:function(){var e=[];return e.push('<div class="areaflowAnalysisContainer">'),e.push('<p class="common_draw_title">ÁªòÂà∂Âå∫ÂüüÔºö</p>'),e.push('<div class="drawDiv">'),e.push('<input type="radio" name="drawRadio" value="circle"><img src="themes/images/frame/ico_circle.png">&nbsp<label class="draw_circle_txt common_draw_circle">ÂúÜÂΩ¢</label>&nbsp&nbsp'),e.push('<input type="radio" name="drawRadio" value="rect"><img src="themes/images/frame/ico_rect.png">&nbsp<label class="draw_rect_txt common_draw_rect">Áü©ÂΩ¢</label>'),e.push("</div>"),e.push('<div class="timeDiv">'),e.push('<label class="common_time_info1">Êó∂Èó¥:</label> <input type="text" class="Wdate startTime">'),e.push('&nbsp<label class="common_time_info2">Ëá≥</label>&nbsp<input type="text" class="Wdate endTime">'),e.push("</div>"),e.push('<p class="msg"></p>'),e.push('<div class="btnDiv">'),e.push('<button type="button" class="okBtn func_qyll_okbtn">Êü•ËØ¢</button>'),e.push("</div>"),e.push("</div>"),e.join("")},_initUi:function(){var t={title:$.i18n.prop("func_qyll_title"),width:400,height:270,left:100,top:200},n=this._container=$(this.getContentHTML());t.contentHTML=n;var r=this._popPanel=new e.ICT.PopPanel(t);r.on("popPanelRemove",function(){this._popPanel=this._container=null,this.stop()},this),r.show()},_initEvts:function(){var t=this;t._container.find(".func_qyll_okbtn").html($.i18n.prop("func_qyll_okbtn")),t._container.find(".common_draw_title").html($.i18n.prop("common_draw_title")),t._container.find(".common_draw_circle").html($.i18n.prop("common_draw_circle")),t._container.find(".common_draw_rect").html($.i18n.prop("common_draw_rect")),t._container.find(".common_time_info1").html($.i18n.prop("common_time_info1")),t._container.find(".common_time_info2").html($.i18n.prop("common_time_info2")),t._container.find("input[type=radio]").on("click",function(){t._layer&&t._layer.remove(),t.__drawPopPanel&&t._drawPopPanel.remove();var n=$(this).val();n=="circle"?t.ictmap.activate(e.ICT.MapMouseState.CIRCLE,t._drawCallback,null,t):n=="rect"&&t.ictmap.activate(e.ICT.MapMouseState.RECTANGLE,t._drawCallback,null,t)}),t._container.find(".Wdate").on("focus",function(){var e={readOnly:!0,dateFmt:"yyyy-MM-dd HH",isShowClear:!1,startDate:"%y-%M-01 00:00:00",alwaysUseStartDate:!0,maxDate:"%y-%M-%d %H:%m:%s",lang:window.localStorage.getItem("language")==="en"?"en":"zh-cn"};WdatePicker(e)});var n=t.dateUtil.getNewDateTimeBeforHour(24);n=t.dateUtil.formatDateH(n);var r=t.dateUtil.formatDateH(new Date);t._container.find(".Wdate.startTime").val(n),t._container.find(".Wdate.endTime").val(r),t._container.find(".okBtn").on("click",function(){var n=t._container.find(".msg"),r=t._container.find(".startTime").val(),i=t._container.find(".endTime").val();n.html("");if(!t.ictmap.map.hasLayer(t._layer)){n.html($.i18n.prop("common_draw_error1"));return}var s=t.dateUtil.checkStrartEndTime(r+":00:00",i+":00:00",t.config.timerange);if(!s.result){n.html(s.msg);return}r=e.ict.app.util.dateTime.getCusUnixTime(r+":00:00"),i=e.ict.app.util.dateTime.getCusUnixTime(i+":00:00"),t._popPanel.close();var o={},u=t._layer.getBounds();o.ldlon=u.getSouthWest().lng,o.ldlat=u.getSouthWest().lat,o.rulon=u.getNorthEast().lng,o.rulat=u.getNorthEast().lat,o.startTime=r,o.endTime=i,t.analysis(o)}),t._container.find(".cancelBtn").on("click",function(){t.stop()})},_drawCallback:function(t){var n=this._layer=t.layer,r=this._layerType=t.layerType;this._drawPopPanel&&this._drawPopPanel.remove(),this._drawPopPanel=new e.ICT.DrawPopPanel(n,r),this._drawPopPanel.on("popPanelRemove",function(){this._drawPopPanel=null},this),this._drawPopPanel.on("CancelDraw",function(e){this._layer=null},this),this._drawPopPanel.show(),this.ictmap.map.addLayer(n),n.editing&&(n.editing.enable(),n.on("edit",function(){this._drawPopPanel.updateContent()},this))},analysis:function(t){var n={title:$.i18n.prop("func_qyll_title"),width:800,height:600,contentHTML:this.getResultHTML()},r=this._resultPopPanel=new e.ICT.PopPanel(n);r.on("popPanelRemove",function(){this._resultPopPanel=null,this.stop()},this),r.show(),this.sendAjax(t)},_initResEvts:function(){var e=this._resultPopPanel.getContainer().find(".areaflow_stastic_container"),t=this;e.find(".nav_titleNav>li").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).data("info");t==="chart"?(e.find(".stasticChartDiv").css("display","block"),e.find(".stasticTableDiv").css("display","none")):(e.find(".stasticChartDiv").css("display","none"),e.find(".stasticTableDiv").css("display","block"))}),e.find(".stastic_table_enter").mCustomScrollbar({theme:"minimal-dark"}),e.find(".stastic_table_out").mCustomScrollbar({theme:"minimal-dark"})},sendAjax:function(t){this._loading=(new e.ICT.Control.Loading).addTo(this._resultPopPanel.getContainer().find(".container-content")),this._loading.show();var n=this.config.areaflowUrl;this.ajax.post(n,t,!0,this,function(t){this._loading.hide(),t.state!==1?(console.error(t.msg.error),e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_qyll_error1"))):(this.showStasticRes(t),this._initResEvts())},function(t){this._loading.hide(),e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_qyll_error1"))})},showStasticRes:function(e){var t=this._resultPopPanel.getContainer().find(".stasticChartDiv"),n=this._resultPopPanel.getContainer().find(".stasticTableDiv");t.html(this.getstasticChartHtml(e)),n.html(this.getstasticTableHtml(e)),this.initecharts(e)},getstasticChartHtml:function(e){var t=$.i18n.prop("func_qyll_qysr"),n=$.i18n.prop("func_qyll_qysl"),r=[];return r.push('<div class="stasticChartDiv" style="display:block;">'),r.push("<p>"+t+"</p>"),r.push('<div class="stastic_chart_enter"></div>'),r.push("<p>"+n+"</p>"),r.push('<div class="stastic_chart_out"></div>'),r.push("</div>"),r.join("")},getstasticTableHtml:function(e){var t=e.msg.shipList[0].areacountlist,n=e.msg.shipList[1].areacountlist,r=e.msg.shipList[0].enterareacount,i=e.msg.shipList[1].leaveareacount,s=$.i18n.prop("func_qyll_qysrcount",r),o=$.i18n.prop("func_qyll_qyslcount",i),u=$.i18n.prop("common_ship_country2"),a=$.i18n.prop("func_filter_shiptype_1"),f=$.i18n.prop("func_filter_shiptype_3"),l=$.i18n.prop("func_filter_shiptype_6"),c=$.i18n.prop("func_filter_shiptype_5"),h=$.i18n.prop("func_filter_shiptype_7"),p=$.i18n.prop("func_filter_shiptype_4"),d=$.i18n.prop("func_filter_shiptype_100"),v=[];v.push('<div class="stasticTableDiv" style="display:none;">'),v.push("<p>"+s+"</p>"),v.push('<div class="stastic_table_enter">'),v.push("<table>"),v.push("<thead><tr><th>"+u+"</th><th>"+a+"</th><th>"+f+"</th><th>"+l+"</th><th>"+c+"</th><th>"+h+"</th><th>"+p+"</th><th>"+d+"</th></tr></thead>"),v.push("<tbody>");for(var m=0,g=t.length;m<g;m++){var y=t[m],b=this.ictmap.realtarget.convertNameToKey(y.co.trim(),"shipflag"),w=window.localStorage.getItem("language")==="en"?y.co_English:y.co;v.push("<tr>"),v.push('<td><img src="themes/images/filterdisplay/country_'+b+'.png">'+w+"</td>"),v.push("<td>"+y.tc1+"</td>"),v.push("<td>"+y.tc3+"</td>"),v.push("<td>"+y.tc6+"</td>"),v.push("<td>"+y.tc5+"</td>"),v.push("<td>"+y.tc7+"</td>"),v.push("<td>"+y.tc4+"</td>"),v.push("<td>"+y.tc100+"</td>"),v.push("</tr>"),m<g-1&&v.push('<tr class="splitTr"><td colspan="8">&nbsp</td></tr>')}v.push("</tbody>"),v.push("</table>"),v.push("</div>"),v.push("<p>"+o+"</p>"),v.push('<div class="stastic_table_out">'),v.push("<table>"),v.push("<thead><tr><th>"+u+"</th><th>"+a+"</th><th>"+f+"</th><th>"+l+"</th><th>"+c+"</th><th>"+h+"</th><th>"+p+"</th><th>"+d+"</th></tr></thead>"),v.push("<tbody>");for(var m=0,g=n.length;m<g;m++){var E=n[m],b=this.ictmap.realtarget.convertNameToKey(E.co.trim(),"shipflag"),w=window.localStorage.getItem("language")==="en"?E.co_English:E.co;v.push("<tr>"),v.push('<td><img src="themes/images/filterdisplay/country_'+b+'.png">'+w+"</td>"),v.push("<td>"+E.tc1+"</td>"),v.push("<td>"+E.tc3+"</td>"),v.push("<td>"+E.tc6+"</td>"),v.push("<td>"+E.tc5+"</td>"),v.push("<td>"+E.tc7+"</td>"),v.push("<td>"+E.tc4+"</td>"),v.push("<td>"+E.tc100+"</td>"),v.push("</tr>"),m<g-1&&v.push('<tr class="splitTr"><td colspan="8">&nbsp</td></tr>')}return v.push("</tbody>"),v.push("</table>"),v.push("</div>"),v.push("</div>"),v.join("")},initecharts:function(e){var n=this._resultPopPanel.getContainer(),r={},i={},s=e.msg.shipList[0].areacountlist,o=e.msg.shipList[1].areacountlist;for(var u=0,a=s.length;u<a;u++){var f=s[u];r[f.co]=[],r[f.co].push(f.tc1),r[f.co].push(f.tc3),r[f.co].push(f.tc6),r[f.co].push(f.tc5),r[f.co].push(f.tc7),r[f.co].push(f.tc4),r[f.co].push(f.tc100)}for(var u=0,a=o.length;u<a;u++){var l=o[u];i[l.co]=[],i[l.co].push(l.tc1),i[l.co].push(l.tc3),i[l.co].push(l.tc6),i[l.co].push(l.tc5),i[l.co].push(l.tc7),i[l.co].push(l.tc4),i[l.co].push(l.tc100)}this.echart_enter=t.init(n.find(".stastic_chart_enter").get(0)),this.echart_out=t.init(n.find(".stastic_chart_out").get(0));var c=this.getChartOption(r),h=this.getChartOption(i);this.echart_enter.setOption(c,!0),this.echart_out.setOption(h,!0)},getChartOption:function(e){var t=$.i18n.prop("func_filter_shipflag_1"),n=$.i18n.prop("func_filter_shipflag_5"),r=$.i18n.prop("func_filter_shipflag_2"),i=$.i18n.prop("func_filter_shipflag_3"),s=$.i18n.prop("func_filter_shipflag_4"),o=$.i18n.prop("func_filter_shipflag_100"),u=$.i18n.prop("func_filter_shiptype_1"),a=$.i18n.prop("func_filter_shiptype_3"),f=$.i18n.prop("func_filter_shiptype_6"),l=$.i18n.prop("func_filter_shiptype_5"),c=$.i18n.prop("func_filter_shiptype_7"),h=$.i18n.prop("func_filter_shiptype_4"),p=$.i18n.prop("func_filter_shiptype_100"),d={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[t,n,r,i,s,o]},xAxis:[{type:"category",data:[u,a,f,l,c,h,p]}],yAxis:[{type:"value"}],color:["#065F89","#0A7CB0","#0FA0E3","#3AD3FF","#6DDEFE","#BDF1FF"],series:[{name:t,type:"bar",barWidth:10,stack:"stastic",data:e["‰∏≠ÂõΩ"]},{name:n,type:"bar",stack:"stastic",data:e["‰øÑÁΩóÊñØ"]},{name:r,type:"bar",stack:"stastic",data:e["Ëã±ÂõΩ"]},{name:i,type:"bar",stack:"stastic",data:e["Ê≥ïÂõΩ"]},{name:s,type:"bar",stack:"stastic",data:e["ÁæéÂõΩ"]},{name:o,type:"bar",stack:"stastic",data:e["ÂÖ∂‰ªñ"]}]};return d},getResultHTML:function(){var e=$.i18n.prop("port_static_chart"),t=$.i18n.prop("port_static_table"),n=[];return n.push('<div class="areaflow_stastic_container">'),n.push('<div class="titleDiv">'),n.push('<ul class="nav nav_titleNav">'),n.push('<li class="active" data-info="chart"><a href="#" >'+e+"</a></li>"),n.push('<li data-info="table"><a href="#">'+t+"</a></li>"),n.push("</ul>"),n.push("</div>"),n.push('<div class="contentDiv">'),n.push('<div class="stasticChartDiv" style="display:block;"></div>'),n.push('<div class="stasticTableDiv" style="display:none;"></div>'),n.push("</div>"),n.push("</div>"),n.join("")}})})}),define("library/requirejs/css!themes/css/func.portquery",[],function(){}),define("func/portquery",["leaflet","func/base","func/userLogin"],function(e){e.ICT.Func.add("PortQuery",{Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.menuid="ict_menu_main_gkcx"},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid),this.menu.submenu.has(this.menuid)||this.menu.submenu.add(this.menuid,this.getSubMenuHTML()),this.menu.submenu.show(this.menuid),this._initSubMenuEvts()},stop:function(){this.menu.submenu.destory(this.menuid),this.menu.mainmenu.deactiveMenu(this.menuid)},getSubMenuHTML:function(){var e=[];return e.push('<ul class="submenu_portquery">'),e.push('<li class="menu_item odfx"><img src="themes/images/frame/menu_tshf_zdqy.png">&nbsp<label class="port_query_odanalysis">ODÂàÜÊûê</label></li>'),e.push('<li class="menu_item gxys"><img src="themes/images/frame/menu_tshf_zdmb.png">&nbsp<label class="port_query_gxys">ÂÖ≥Á≥ªÊºîÁ§∫</label></li>'),e.push("</ul>"),e.join("")},_initSubMenuEvts:function(){var t=this,n=this.menu.getContainer();n.find(".port_query_odanalysis").html($.i18n.prop("port_query_odanalysis")),n.find(".port_query_gxys").html($.i18n.prop("port_query_gxys")),n.find(".submenu_portquery .menu_item").on("click",function(n){n.stopPropagation();var r=$(this);if(r.hasClass("odfx")){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),t.menu.mainmenu.deactiveMenu(t.menuid);return}window.open("resultpages/headod.html")}else if(r.hasClass("gxys")){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),t.menu.mainmenu.deactiveMenu(t.menuid);return}window.open("resultpages/gxgl.html")}})}})})}),define("library/requirejs/css!themes/css/func.cdgl",[],function(){}),define("library/requirejs/css!plugins/zTree/ztree",[],function(){}),define("plugins/ztree",["jquery"],function(){(function(e){function kb(t,n){n.unbind(ka),n.bind(ka,function(e,n,r){typeof t.callback.click=="function"&&t.callback.click(e,n,r)}),n.unbind(la),n.bind(la,function(e,n,r){typeof t.callback.change=="function"&&t.callback.change(e,n,r)}),n.unbind(ma),n.bind(ma,function(e,n,r){typeof t.callback.rename=="function"&&t.callback.rename(e,n,r)}),n.unbind(na),n.bind(na,function(e,n,r){typeof t.callback.remove=="function"&&t.callback.remove(e,n,r)}),n.unbind(oa),n.bind(oa,function(e,n,r){typeof t.callback.drag=="function"&&t.callback.drag(e,n,r)}),n.unbind(Z),n.bind(Z,function(e,n,r,i,s){typeof t.callback.drop=="function"&&t.callback.drop(e,n,r,i,s)}),n.unbind(pa),n.bind(pa,function(e,n,r){typeof t.callback.expand=="function"&&t.callback.expand(e,n,r)}),n.unbind(qa),n.bind(qa,function(e,n,r){typeof t.callback.collapse=="function"&&t.callback.collapse(e,n,r)}),n.unbind(ra),n.bind(ra,function(e,n,r,i){typeof t.callback.asyncSuccess=="function"&&t.callback.asyncSuccess(e,n,r,i)}),n.unbind(sa),n.bind(sa,function(e,n,r,i,s,o){typeof t.callback.asyncError=="function"&&t.callback.asyncError(e,n,r,i,s,o)}),e("#"+t.treeObjId).bind("contextmenu",function(n){var r=e(n.target);r=ta(t,r);var i=!0;return typeof t.callback.beforeRightClick=="function"&&(i=t.callback.beforeRightClick(t.treeObjId,r)),i&&typeof t.callback.rightClick=="function"?(t.callback.rightClick(n,t.treeObjId,r),!1):typeof t.callback.rightClick!="function"}),e("#"+t.treeObjId).bind("mouseup",function(n){var r=e(n.target);r=ta(t,r);var i=!0;return typeof t.callback.beforeMouseUp=="function"&&(i=t.callback.beforeMouseUp(t.treeObjId,r)),i&&typeof t.callback.mouseUp=="function"&&t.callback.mouseUp(n,t.treeObjId,r),!0}),e("#"+t.treeObjId).bind("mousedown",function(n){var r=e(n.target);r=ta(t,r);var i=!0;return typeof t.callback.beforeMouseDown=="function"&&(i=t.callback.beforeMouseDown(t.treeObjId,r)),i&&typeof t.callback.mouseDown=="function"&&t.callback.mouseDown(n,t.treeObjId,r),!0})}function ta(t,n){var r;r=e(n);if(r.attr("id")==t.treeObjId)r=null;else{for(;!r.is("li")&&r.attr("id")!=t.treeObjId;)r=r.parent();r=r.attr("id"),r=$(t,r)}return r}function S(e,t,n,r){if(n)for(var i=0;i<n.length;i++){var s=n[i];s.level=t,s.tId=e.treeObjId+"_"+ ++ua,s.parentNode=r,s[e.checkedCol]=s[e.checkedCol]==1,s.checkedOld=s[e.checkedCol],s.check_Focus=!1,s.check_True_Full=!0,s.check_False_Full=!0,s.editNameStatus=!1,s.isFirstNode=(r?r:e.root)[e.nodesCol].length==n.length&&i==0,s.isLastNode=i==n.length-1,s[e.nodesCol]&&s[e.nodesCol].length>0?(s.open=s.open?!0:!1,s.isParent=!0,Qa(e,s),S(e,t+1,s[e.nodesCol],s)):(s.isParent=s.isParent?!0:!1,Qa(e,s),e.checkable&&i==n.length-1&&aa(e,s))}}function Qa(t,n){var i=n.parentNode;i=i?e("#"+n.parentNode.tId+u):e("#"+t.treeObjId),i.append("<li id='"+n.tId+"' class='tree-node'><button type=\"button\" id='"+n.tId+w+"' title='' onfocus='this.blur();'></button><a id='"+n.tId+o+"' onclick=\""+(n.click||"")+'" ><button type="button" id=\''+n.tId+r+"' title='' onfocus='this.blur();'></button><span id='"+n.tId+K+"'></span></a><ul id='"+n.tId+u+"'></ul></li>"),i=e("#"+n.tId+w);var s=e("#"+n.tId+o);e("#"+n.tId+K);var a=e("#"+n.tId+u),f=e("#"+n.tId+r);Ra(t,n),H(t,n),a.css({display:n.open?"block":"none"}),n.isParent&&(i.bind("click",{treeObjId:t.treeObjId,treeNode:n},ba),s.bind("dblclick",{treeObjId:t.treeObjId,treeNode:n},ba)),s.bind("click",function(){var r=!0;typeof t.callback.beforeClick=="function"&&(r=t.callback.beforeClick(t.treeObjId,n)),r!=0&&(window.getSelection?window.getSelection().removeAllRanges():document.selection.empty(),O(t,n),e("#"+t.treeObjId).trigger(ka,[t.treeObjId,n]))}),f.bind("mousedown",function(){n.editNameStatus=!1});if(t.checkable){i.after("<BUTTON type='BUTTON' ID='"+n.tId+I+"' onfocus='this.blur();' ></BUTTON>");var l=e("#"+n.tId+I);t.checkStyle==P&&t.checkRadioType==va&&n[t.checkedCol]&&(t.checkRadioCheckedList=t.checkRadioCheckedList.concat([n])),A(t,l,n),l.bind("click",function(){var r=!0;typeof t.callback.beforeChange=="function"&&(r=t.callback.beforeChange(t.treeObjId,n)),r!=0&&(n[t.checkedCol]=!n[t.checkedCol],Sa(t,n),A(t,l,n),T(t,n),e("#"+t.treeObjId).trigger(la,[t.treeObjId,n]))}),l.bind("mouseover",function(){n.checkboxFocus=!0,A(t,l,n)}),l.bind("mouseout",function(){n.checkboxFocus=!1,A(t,l,n)})}Ta(n),Ua(t,n),s.hover(function(){Va(t,n)},function(){t.curTreeNode!=n&&ca(t,n)}),s.bind("mousedown",function(i){if(i.button!=2&&!!t.editable){var s=document,a,f,l,c=!1,h=t,p=null,d=null,v=null,m=x,g=i.clientX,y=i.clientY,b=(new Date).getTime();e(s).mousemove(function(r){if(n.editNameStatus)return!0;window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();if(t.dragStatus==0&&Math.abs(g-r.clientX)<Xa&&Math.abs(y-r.clientY)<Xa)return!0;e("body").css("cursor","pointer"),e("#"+n.tId+w),t.dragStatus==0&&n.isParent&&n.open&&(B(t,n,!n.open),t.dragNodeShowBefore=!0);if(t.dragStatus==0){t.dragStatus=-1;var i=!0;typeof t.callback.beforeDrag=="function"&&(i=t.callback.beforeDrag(t.treeObjId,n));if(i==0)return;t.dragStatus=1,Ya(!0),O(t,n),ca(t,n),i=e("#"+n.tId).clone(),i.attr("id",n.tId+"_tmp"),i.css("padding","0"),i.children("#"+n.tId+o).removeClass(wa),i.children("#"+n.tId+u).css("display","none"),a=e("<ul class='zTreeDragUL'></ul>").append(i),a.attr("id",n.tId+u+"_tmp"),a.addClass(e("#"+t.treeObjId).attr("class")),a.appendTo("body"),f=e("<button class='tmpzTreeMove_arrow'></button>"),f.attr("id","zTreeMove_arrow_tmp"),f.appendTo("body"),e("#"+t.treeObjId).trigger(oa,[t.treeObjId,n])}if(t.dragStatus==1&&f.attr("id")!=r.target.id){l&&(l.removeClass(xa),v&&e("#"+v+o,l).removeClass(ya)),v=l=null,c=!1,h=t;for(var S in G)G[S].editable&&G[S].treeObjId!=t.treeObjId&&(r.target.id==G[S].treeObjId||e(r.target).parents("#"+G[S].treeObjId).length>0)&&(c=!0,h=G[S]);S=e(s).scrollTop(),i=e(s).scrollLeft();var T=h.treeObj.offset(),N=h.treeObj.get(0).scrollHeight,C=h.treeObj.get(0).scrollWidth,k=r.clientY+S-T.top,L=h.treeObj.height()+T.top-r.clientY-S,A=r.clientX+i-T.left;T=h.treeObj.width()+T.left-r.clientX-i,k=k<10&&k>-5,L=L<10&&L>-5,A=A<10&&A>-5,T=T<10&&T>-5;var M=k&&h.treeObj.scrollTop()<=0;N=L&&h.treeObj.scrollTop()+h.treeObj.height()+10>=N;var _=A&&h.treeObj.scrollLeft()<=0;C=T&&h.treeObj.scrollLeft()+h.treeObj.width()+10>=C;if(r.target.id&&h.treeObj.find("#"+r.target.id).length>0){for(var D=e("#"+r.target.id);!D.is("li")&&D.attr("id")!=h.treeObjId;)D=D.parent();var P=!1;n.parentNode&&D.attr("id")!=n.tId&&e("#"+n.tId).find("#"+D.attr("id")).length==0?P=!0:n.parentNode==null&&D.attr("id")!=n.tId&&e("#"+n.tId).find("#"+D.attr("id")).length==0&&(P=!0),P&&r.target.id&&(r.target.id==D.attr("id")+o||e(r.target).parents("#"+D.attr("id")+o).length>0)&&(l=D,v=D.attr("id"),e("#"+v+o,l).addClass(ya))}if(r.target.id==h.treeObjId||e(r.target).parents("#"+h.treeObjId).length>0)!l&&(M||N||_||C)&&(c||!c&&n.parentNode!=null)&&(l=h.treeObj,l.addClass(xa)),k?h.treeObj.scrollTop(h.treeObj.scrollTop()-10):L&&h.treeObj.scrollTop(h.treeObj.scrollTop()+10),A?h.treeObj.scrollLeft(h.treeObj.scrollLeft()-10):T&&h.treeObj.scrollLeft(h.treeObj.scrollLeft()+10),l&&l!=h.treeObj&&l.offset().left<h.treeObj.offset().left&&h.treeObj.scrollLeft(h.treeObj.scrollLeft()+l.offset().left-h.treeObj.offset().left);a.css({top:r.clientY+S+3+"px",left:r.clientX+i+3+"px"}),C=k=0;if(l&&l.attr("id")!=h.treeObjId){k=e("#"+n.tId).prev().attr("id")==l.attr("id"),C=e("#"+n.tId).next().attr("id")==l.attr("id"),i=e("#"+v+o,l),r=(r.clientY+S-i.offset().top)/i.height(),r<.25&&r>=-0.2&&!C?(k=1-f.width(),C=0-f.height()/2,m=W):r>.75&&r<=1.2&&!k?(k=1-f.width(),C=i.height()-f.height()/2,m=da):(k=5-f.width(),C=0,m=x),f.css({display:"block",top:i.offset().top+C+"px",left:i.offset().left+k+"px"});if(p!=v||d!=m)b=(new Date).getTime();m==x&&(window.moveTimer=setTimeout(function(){if(m==x){var e=$(h,v);e&&e.isParent&&!e.open&&(new Date).getTime()-b>500&&Ba(h,e)}},600))}else m=x,f.css({display:"none"}),window.moveTimer&&clearTimeout(window.moveTimer);p=v,d=m}return!1}),e(s).mouseup(function(){this.moveTimer&&clearTimeout(this.moveTimer),d=p=null,e(s).unbind("mousemove"),e(s).unbind("mouseup"),e("body").css("cursor","auto"),l&&(l.removeClass(xa),v&&e("#"+v+o,l).removeClass(ya)),Ya(!1);if(t.dragStatus!=0){t.dragStatus=0,n.isParent&&t.dragNodeShowBefore&&!n.open&&(B(t,n,!n.open),t.dragNodeShowBefore=!1),a&&a.remove(),f&&f.remove(),l&&v&&n.parentNode&&v==n.parentNode.tId&&m==x&&(l=null);if(l){var i=v==null?null:$(h,v),u=!0;typeof h.callback.beforeDrop=="function"&&(u=h.callback.beforeDrop(h.treeObjId,n,i,m)),u!=0&&(c?(Ca(t,n),fa(h,null,[n],!1),Da(h,i,n,m),O(h,n)):Da(h,i,n,m),e("#"+n.tId+r).focus().blur(),e("#"+t.treeObjId).trigger(Z,[h.treeObjId,n,i,m]))}else e("#"+t.treeObjId).trigger(Z,[t.treeObjId,null,null,null])}}),i.preventDefault&&i.preventDefault()}}),typeof t.addDiyDom=="function"&&t.addDiyDom(t.treeObjId,n)}function pb(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function Ya(t){for(;ga.length>0;)ga[0].remove(),ga.shift();if(t){t=e("iframe");for(var n=0;n<t.length;n++){var r=t.get(n),i;i=Array(2),oRect=r.getBoundingClientRect(),i[0]=oRect.left,i[1]=oRect.top,i=i,r=e("<div id='zTreeMask_"+n+"' class='zTreeMask' style='top:"+i[1]+"px; left:"+i[0]+"px; width:"+r.offsetWidth+"px; height:"+r.offsetHeight+"px;'></div>"),r.appendTo("body"),ga.push(r)}}}function Ra(t,n){e("#"+n.tId+K).text(n[t.nameCol])}function Ta(t){e("#"+t.tId+o).attr("target",t.target||"_blank")}function Ua(t,n){var r=e("#"+n.tId+o);n.url&&!t.editable?r.attr("href",n.url):r.removeAttr("href")}function H(t,n){if(n){var i=e("#"+n.tId+w);e("#"+n.tId+o);var s=e("#"+n.tId+u),a=e("#"+n.tId+r);i.attr("class","switch"),t.showLine?(n.level==0&&n.isFirstNode&&n.isLastNode?i.attr("class","switch_"+Ea):n.level==0&&n.isFirstNode?i.attr("class","switch_"+Fa):n.isLastNode?i.attr("class","switch_"+ha):i.attr("class","switch_"+Za),n.isLastNode?s.removeClass(Ga):s.addClass(Ga)):i.attr("class","switch_"+$a),a.attr("class",n.iconSkin?n.iconSkin:""),n.isParent?(s=n.open?"_"+M:"_"+N,i.attr("class",i.attr("class")+s),a.addClass("ico"+s)):(i.attr("class",i.attr("class")+"_"+J),a.addClass("ico_"+J)),n.icon?a.attr("style","background:url("+n.icon+") 0 0 no-repeat;"):a.attr("style","")}}function F(e,t){if(e){var n=e.attr("class");if(n!=undefined){n=n.split("_");switch(t){case Ea:case Fa:case Za:case ha:case $a:n[1]=t;break;case M:case N:case J:n[2]=t}e.attr("class",n.join("_"))}}}function R(e,t){if(e){var n=e.attr("class");if(n!=undefined){n=n.split("_");switch(t){case M:case N:case J:n[1]=t}e.attr("class",n.join("_"))}}}function Va(e,t){e.dragStatus==0&&(t.isHover=!0,e.editable&&(qb(e,t),rb(e,t)),typeof e.addHoverDom=="function"&&e.addHoverDom(e.treeObjId,t))}function ca(t,n){n.isHover=!1,e("#"+n.tId+ia).unbind().remove(),e("#"+n.tId+X).unbind().remove(),typeof t.removeHoverDom=="function"&&t.removeHoverDom(t.treeObjId,n)}function qb(t,n){if(!(n.editNameStatus||e("#"+n.tId+ia).length>0)){var r=t.edit_renameBtn;typeof t.edit_renameBtn=="function"&&(r=t.edit_renameBtn(n)),r&&(e("#"+n.tId+o),e("#"+n.tId+K).after("<button type='button' class='edit' id='"+n.tId+ia+"' title='' onfocus='this.blur();' style='display:none;'></button>"),e("#"+n.tId+ia).bind("click",function(){var e=!0;typeof t.callback.beforeRename=="function"&&(e=t.callback.beforeRename(t.treeObjId,n));if(e!=0)return ca(t,n),n.editNameStatus=!0,O(t,n),!1}).bind("mousedown",function(){return!0}).show())}}function rb(t,n){if(!(!t.edit_removeBtn||e("#"+n.tId+X).length>0)){var r=t.edit_removeBtn;typeof t.edit_removeBtn=="function"&&(r=t.edit_removeBtn(n)),r&&(e("#"+n.tId+o).append("<button type='button' class='remove' id='"+n.tId+X+"' title='' onfocus='this.blur();' style='display:none;'></button>"),e("#"+n.tId+X),e("#"+n.tId+X).bind("click",function(){var r=!0;typeof t.callback.beforeRemove=="function"&&(r=t.callback.beforeRemove(t.treeObjId,n));if(r!=0)return Ca(t,n),e("#"+t.treeObjId).trigger(na,[t.treeObjId,n]),!1}).bind("mousedown",function(){return!0}).show())}}function Sa(t,n){if(t.checkStyle==P){if(n[t.checkedCol])if(t.checkRadioType==va){for(var r=t.checkRadioCheckedList.length-1;r>=0;r--){var i=t.checkRadioCheckedList[r];i[t.checkedCol]=!1,t.checkRadioCheckedList.splice(r,1),A(t,e("#"+i.tId+I),i),i.parentNode!=n.parentNode&&T(t,i)}t.checkRadioCheckedList=t.checkRadioCheckedList.concat([n])}else{r=n.parentNode?n.parentNode:t.root;for(var s=0;s<r[t.nodesCol].length;s++)i=r[t.nodesCol][s],i[t.checkedCol]&&i!=n&&(i[t.checkedCol]=!1,A(t,e("#"+i.tId+I),i))}else if(t.checkRadioType==va)for(r=0;r<t.checkRadioCheckedList.length;r++)if(n==t.checkRadioCheckedList[r]){t.checkRadioCheckedList.splice(r,1);break}}else n[t.checkedCol]&&t.checkType.Y.indexOf("s")>-1&&(ja(t,n,!0),Ha(t,n)),n[t.checkedCol]&&t.checkType.Y.indexOf("p")>-1&&Ia(t,n,!0),!n[t.checkedCol]&&t.checkType.N.indexOf("s")>-1&&(ja(t,n,!1),Ha(t,n)),!n[t.checkedCol]&&t.checkType.N.indexOf("p")>-1&&Ia(t,n,!1)}function A(e,t,n){t&&(t.removeClass(),e=e.checkStyle+"_"+(n[e.checkedCol]?sb:tb)+"_"+(n[e.checkedCol]||e.checkStyle==P?n.check_True_Full?ab:bb:n.check_False_Full?ab:bb),e=n.checkboxFocus?e+"_"+ub:e,t.addClass(vb),t.addClass(e))}function aa(e,t){t&&t.parentNode&&(Ja(e,t.parentNode),aa(e,t.parentNode))}function T(e,t){t[e.nodesCol]&&t[e.nodesCol].length>0?aa(e,t[e.nodesCol][0]):aa(e,t)}function Ha(e,t){if(t&&t[e.nodesCol]){for(var n=0;n<t[e.nodesCol].length;n++)t[e.nodesCol][n][e.nodesCol]&&Ha(e,t[e.nodesCol][n]);Ja(e,t)}}function Ja(t,n){if(n){var r=!0,i=!0;if(n[t.nodesCol])for(var s=0;s<n[t.nodesCol].length;s++){t.checkStyle==P&&(n[t.nodesCol][s][t.checkedCol]||!n[t.nodesCol][s].check_True_Full)?r=!1:t.checkStyle!=P&&n[t.checkedCol]&&(!n[t.nodesCol][s][t.checkedCol]||!n[t.nodesCol][s].check_True_Full)?r=!1:t.checkStyle!=P&&!n[t.checkedCol]&&(n[t.nodesCol][s][t.checkedCol]||!n[t.nodesCol][s].check_False_Full)&&(i=!1);if(!r||!i)break}n.check_True_Full=r,n.check_False_Full=i,r=e("#"+n.tId+I),A(t,r,n)}}function ba(e){var t=G[e.data.treeObjId];e=e.data.treeNode,t.expandTriggerFlag=!0;if(e.open){var n=!0;typeof t.callback.beforeCollapse=="function"&&(n=t.callback.beforeCollapse(t.treeObjId,e));if(n==0){t.expandTriggerFlag=!1;return}}else{n=!0,typeof t.callback.beforeExpand=="function"&&(n=t.callback.beforeExpand(t.treeObjId,e));if(n==0){t.expandTriggerFlag=!1;return}}Ba(t,e)}function Ba(e,t){t.open||t&&t[e.nodesCol]&&t[e.nodesCol].length>0?B(e,t,!t.open):e.async&&!e.editable?Ka(e,t):t&&B(e,t,!t.open)}function Ka(a,b){if(!b||!b.isAjaxing&&!!b.isParent){b&&(b.isAjaxing=!0,e("#"+b.tId+r).attr("class","ico_loading"));for(var c="",d=0;b&&d<a.asyncParam.length;d++)c+=(c.length>0?"&":"")+a.asyncParam[d]+"="+b[a.asyncParam[d]];for(d=0;d<a.asyncParamOther.length;d+=2)c+=(c.length>0?"&":"")+a.asyncParamOther[d]+"="+a.asyncParamOther[d+1];d=a.asyncUrl,typeof a.asyncUrl=="function"&&(d=a.asyncUrl(b)),e.ajax({type:"POST",url:d,data:c,success:function(f){if(!!f&&f.length!=0){var g="";try{g=typeof f=="string"?eval("("+f+")"):f}catch(i){}H(a,b),g&&g!=""?fa(a,b,g,!1):fa(a,b,[],!1),b&&(b.isAjaxing=undefined),e("#"+a.treeObjId).trigger(ra,[a.treeObjId,b,f])}},error:function(t,n,r){a.expandTriggerFlag=!1,H(a,b),b&&(b.isAjaxing=undefined),e("#"+a.treeObjId).trigger(sa,[a.treeObjId,b,t,n,r])}})}}function B(t,n,i,s,o){if(!n||n.open==i)typeof o=="function"&&o();else{t.expandTriggerFlag&&(o=function(){n.open?e("#"+t.treeObjId).trigger(pa,[t.treeObjId,n]):e("#"+t.treeObjId).trigger(qa,[t.treeObjId,n])},t.expandTriggerFlag=!1),i=e("#"+n.tId+w);var a=e("#"+n.tId+r),f=e("#"+n.tId+u);n.isParent?n.open?(F(i,N),R(a,N),n.open=!1,s==0?(f.hide(),typeof o=="function"&&o()):f.hide(t.expandSpeed,o)):(F(i,M),R(a,M),n.open=!0,s==0?(f.show(),typeof o=="function"&&o()):n[t.nodesCol]&&n[t.nodesCol].length>0?f.show(t.expandSpeed,o):typeof o=="function"&&o()):typeof o=="function"&&o()}}function La(e,t,n,r,i){var s=t?t[e.nodesCol]:e.root[e.nodesCol],o=t?!1:r;if(s)for(var u=0;u<s.length;u++)s[u]&&La(e,s[u],n,o);B(e,t,n,r,i)}function Y(e,t,n,r,i){t&&(t.parentNode?(B(e,t,n,r),t.parentNode&&Y(e,t.parentNode,n,r,i)):B(e,t,n,r,i))}function Ia(t,n,r){var i=e("#"+n.tId+I);n[t.checkedCol]=r,A(t,i,n);if(n.parentNode){i=!0;if(!r)for(var s=0;s<n.parentNode[t.nodesCol].length;s++)if(n.parentNode[t.nodesCol][s][t.checkedCol]){i=!1;break}i&&Ia(t,n.parentNode,r)}}function ja(t,n,r){if(n){var i=e("#"+n.tId+I);n!=t.root&&(n[t.checkedCol]=r,A(t,i,n));if(n[t.nodesCol])for(i=0;i<n[t.nodesCol].length;i++)n[t.nodesCol][i]&&ja(t,n[t.nodesCol][i],r)}}function cb(e,t,n){if(n){n.level=t?t.level+1:0;if(n[e.nodesCol])for(t=0;t<n[e.nodesCol].length;t++)n[e.nodesCol][t]&&cb(e,n,n[e.nodesCol][t])}}function fa(t,n,i,s){t.isSimpleData&&(i=Ma(t,i)),n?e("#"+t.treeObjId).find("#"+n.tId).length!=0&&(target_switchObj=e("#"+n.tId+w),target_icoObj=e("#"+n.tId+r),target_aObj=e("#"+n.tId+o),target_ulObj=e("#"+n.tId+u),n.open||(F(target_switchObj,N),R(target_icoObj,N),n.open=!1,target_ulObj.css({display:"none"})),n.isParent||(target_switchObj.unbind("click"),target_switchObj.bind("click",function(){B(t,n,!n.open)}),target_aObj.unbind("dblclick"),target_aObj.bind("dblclick",{treeObjId:t.treeObjId,treeNode:n},ba)),db(t,n,i),S(t,n.level+1,i,n),s||Y(t,n,!0)):(db(t,t.root,i),S(t,0,i,null))}function db(e,t,n){t[e.nodesCol]||(t[e.nodesCol]=[]),t[e.nodesCol].length>0&&(t[e.nodesCol][t[e.nodesCol].length-1].isLastNode=!1,H(e,t[e.nodesCol][t[e.nodesCol].length-1])),t.isParent=!0,t[e.nodesCol]=t[e.nodesCol].concat(n)}function Da(t,n,i,s,a){if(n!=i){var f=i.parentNode==null?t.root:i.parentNode,l=n===null||n==t.root;l&&n===null&&(n=t.root),l&&(s=x);var c=n.parentNode?n.parentNode:t.root;s!=W&&s!=da&&(s=x);var h=-1,p=0,d=null,v=null;if(i.isFirstNode)h=0,f[t.nodesCol].length>1&&(d=f[t.nodesCol][1],d.isFirstNode=!0);else if(i.isLastNode)h=f[t.nodesCol].length-1,d=f[t.nodesCol][h-1],d.isLastNode=!0;else for(var m=0;m<f[t.nodesCol].length;m++)f[t.nodesCol][m].tId==i.tId&&(h=m);h>=0&&f[t.nodesCol].splice(h,1);if(s!=x)for(m=0;m<c[t.nodesCol].length;m++)c[t.nodesCol][m].tId==n.tId&&(p=m);h=!1,s==x?(l?i.parentNode=null:(h=!n.isParent,n.isParent=!0,i.parentNode=n),n[t.nodesCol]||(n[t.nodesCol]=[]),n[t.nodesCol].length>0&&(v=n[t.nodesCol][n[t.nodesCol].length-1],v.isLastNode=!1),n[t.nodesCol].splice(n[t.nodesCol].length,0,i),i.isLastNode=!0,i.isFirstNode=n[t.nodesCol].length==1):n.isFirstNode&&s==W?(c[t.nodesCol].splice(p,0,i),v=n,v.isFirstNode=!1,i.parentNode=n.parentNode,i.isFirstNode=!0,i.isLastNode=!1):n.isLastNode&&s==da?(c[t.nodesCol].splice(p+1,0,i),v=n,v.isLastNode=!1,i.parentNode=n.parentNode,i.isFirstNode=!1,i.isLastNode=!0):(s==W?c[t.nodesCol].splice(p,0,i):c[t.nodesCol].splice(p+1,0,i),i.parentNode=n.parentNode,i.isFirstNode=!1,i.isLastNode=!1),cb(t,i.parentNode,i),e("#"+i.tId+w),e("#"+i.tId+u);var g,y,b;l?p=c=e("#"+t.treeObjId):(c=e("#"+n.tId),g=e("#"+n.tId+w),y=e("#"+n.tId+r),b=e("#"+n.tId+o),p=e("#"+n.tId+u)),s==x?(F(g,M),R(y,M),n.open=!0,p.css({display:"block"}),h&&!l&&(g.unbind("click"),g.bind("click",function(){B(t,n,!n.open)}),b.unbind("dblclick"),b.bind("dblclick",{treeObjId:t.treeObjId,treeNode:n},ba)),p.append(e("#"+i.tId).detach())):s==W?c.before(e("#"+i.tId).detach()):s==da&&c.after(e("#"+i.tId).detach()),H(t,i),f[t.nodesCol].length<1?(f.isParent=!1,s=e("#"+f.tId+u),l=e("#"+f.tId+w),d=e("#"+f.tId+r),F(l,J),R(d,J),s.css("display","none")):d&&H(t,d),v&&H(t,v),t.checkable&&(Ja(t,f),T(t,f),f!=i.parent&&T(t,i)),Y(t,i.parentNode,!0,a)}}function Ca(t,n){var i=n.parentNode==null?t.root:n.parentNode;t.curTreeNode===n&&(t.curTreeNode=null),t.curEditTreeNode===n&&(t.curEditTreeNode=null),e("#"+n.tId).remove();for(var s=-1,o=0;o<i[t.nodesCol].length;o++)i[t.nodesCol][o].tId==n.tId&&(s=o);s>=0&&i[t.nodesCol].splice(s,1),i[t.nodesCol].length<1?(i.isParent=!1,i.open=!1,s=e("#"+i.tId+u),o=e("#"+i.tId+w),i=e("#"+i.tId+r),F(o,J),R(i,J),s.css("display","none")):t.showLine&&(i[t.nodesCol][i[t.nodesCol].length-1].isLastNode=!0,i[t.nodesCol][i[t.nodesCol].length-1].isFirstNode=i[t.nodesCol].length==1,s=e("#"+i[t.nodesCol][i[t.nodesCol].length-1].tId+u),o=e("#"+i[t.nodesCol][i[t.nodesCol].length-1].tId+w),e("#"+i[t.nodesCol][i[t.nodesCol].length-1].tId+r),i==t.root?i[t.nodesCol].length==1?F(o,Ea):(i=e("#"+i[t.nodesCol][0].tId+w),F(i,Fa),F(o,ha)):F(o,ha),s.removeClass(Ga))}function $(e,t){return Na(e,e.root[e.nodesCol],"tId",t)}function Na(e,t,n,r){if(!t||!n)return null;for(var i=0;i<t.length;i++){if(t[i][n]==r)return t[i];var s=Na(e,t[i][e.nodesCol],n,r);if(s)return s}return null}function eb(e,t,n,r){if(!t||!n)return[];for(var i=[],s=0;s<t.length;s++)t[s][n]==r&&i.push(t[s]),i=i.concat(eb(e,t[s][e.nodesCol],n,r));return i}function fb(t){t.curTreeNode&&(e("#"+t.curTreeNode.tId+o).removeClass(wa),e("#"+t.curTreeNode.tId+K).text(t.curTreeNode[t.nameCol]),ca(t,t.curTreeNode),t.curTreeNode=null)}function wb(t){t.curEditTreeNode&&(e("#"+t.curEditTreeNode.tId+o).removeClass(gb),e("#"+t.curEditTreeNode.tId+Oa).unbind(),e("#"+t.curEditTreeNode.tId+K).text(t.curEditTreeNode[t.nameCol]),t.curEditTreeNode.editNameStatus=!1,t.curEditTreeNode=null)}function O(t,n){if(t.curTreeNode!=n||!!n.editNameStatus){fb(t),wb(t);if(t.editable&&n.editNameStatus){e("#"+n.tId+K).html("<input type=text class='rename' id='"+n.tId+Oa+"'>");var r=e("#"+n.tId+Oa);r.attr("value",n[t.nameCol]),r.focus(),pb(r.get(0),n[t.nameCol].length),r.bind("blur",function(){hb(this.value,t,n)}).bind("keypress",function(e){e.keyCode=="13"&&hb(this.value,t,n)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),e("#"+n.tId+o).addClass(gb),t.curEditTreeNode=n}else e("#"+n.tId+o).addClass(wa);Va(t,n),t.curTreeNode=n}}function hb(t,n,r){r[n.nameCol]=t,e("#"+n.treeObjId).trigger(ma,[n.treeObjId,r]),O(n,r)}function ib(e,t,n){if(!t)return[];for(var r=[],i=0;i<t.length;i++){t[i][e.checkedCol]==n&&(r=r.concat([t[i]]));var s=ib(e,t[i][e.nodesCol],n);s.length>0&&(r=r.concat(s))}return r}function jb(e,t){if(!t)return[];for(var n=[],r=0;r<t.length;r++){t[r][e.checkedCol]!=t[r].checkedOld&&(n=n.concat([t[r]]));var i=jb(e,t[r][e.nodesCol]);i.length>0&&(n=n.concat(i))}return n}function Ma(e,t){var n=e.treeNodeKey,r=e.treeNodeParentKey;if(!n||n==""||!t)return[];if(Object.prototype.toString.apply(t)==="[object Array]"){for(var i=[],s=[],o=0;o<t.length;o++)s[t[o][n]]=t[o];for(o=0;o<t.length;o++)t[o][r]&&s[t[o][r]]?(s[t[o][r]][e.nodesCol]||(s[t[o][r]][e.nodesCol]=[]),s[t[o][r]][e.nodesCol].push(t[o])):i.push(t[o]);return i}return[t]}function Pa(e,t){if(!t)return[];var n=[];if(Object.prototype.toString.apply(t)==="[object Array]")for(var r=0;r<t.length;r++)n.push(t[r]),t[r][e.nodesCol]&&(n=n.concat(Pa(e,t[r][e.nodesCol])));else n.push(t),t[e.nodesCol]&&(n=n.concat(Pa(e,t[e.nodesCol])));return n}function xb(){return{container:null,setting:null,init:function(e){return this.container=e,this.setting=G[e.attr("id")],this},refresh:function(){e("#"+this.setting.treeObjId).empty(),this.setting.curTreeNode=null,this.setting.curEditTreeNode=null,this.setting.dragStatus=0,this.setting.dragNodeShowBefore=!1,this.setting.checkRadioCheckedList=[],ua=0,S(this.setting,0,this.setting.root[this.setting.nodesCol])},setEditable:function(e){return this.setting.editable=e,this.refresh()},transformTozTreeNodes:function(e){return Ma(this.setting,e)},transformToArray:function(e){return Pa(this.setting,e)},getNodes:function(){return this.setting.root[this.setting.nodesCol]},getSelectedNode:function(){return this.setting.curTreeNode},getCheckedNodes:function(e){return e=e!=0,ib(this.setting,this.setting.root[this.setting.nodesCol],e)},getChangeCheckedNodes:function(){return jb(this.setting,this.setting.root[this.setting.nodesCol])},getNodeByTId:function(e){if(e)return $(this.setting,e)},getNodeByParam:function(e,t){if(e)return Na(this.setting,this.setting.root[this.setting.nodesCol],e,t)},getNodesByParam:function(e,t){if(e)return eb(this.setting,this.setting.root[this.setting.nodesCol],e,t)},getNodeIndex:function(e){if(e){for(var t=e.parentNode==null?this.setting.root:e.parentNode,n=0;n<t[this.setting.nodesCol].length;n++)if(t[this.setting.nodesCol][n]==e)return n;return-1}},getSetting:function(){var t=this.setting,n={checkType:{},callback:{}},r=t.checkType;t.checkType=undefined;var i=t.callback;t.callback=undefined;var s=t.root;return t.root=undefined,e.extend(n,t),t.checkType=r,t.callback=i,t.root=s,e.extend(!0,n.checkType,r),e.extend(n.callback,i),n},updateSetting:function(t){if(t){var n=this.setting,r=n.treeObjId,i=t.checkType;t.checkType=undefined;var s=t.callback;t.callback=undefined;var o=t.root;t.root=undefined,e.extend(n,t),t.checkType=i,t.callback=s,t.root=o,e.extend(!0,n.checkType,i),e.extend(n.callback,s),n.treeObjId=r,n.treeObj=this.container}},expandAll:function(e){La(this.setting,null,e,!0)},expandNode:function(t,n,i){t&&(n&&(t.parentNode&&Y(this.setting,t.parentNode,n,!1),B(this.setting,t,n,!0)),i?La(this.setting,t,n,!1,function(){e("#"+t.tId+r).focus().blur()}):t.open!=n&&(Ba(this.setting,t),e("#"+t.tId+r).focus().blur()))},selectNode:function(t){t&&(O(this.setting,t),t.parentNode?Y(this.setting,t.parentNode,!0,!1,function(){e("#"+t.tId+r).focus().blur()}):e("#"+t.tId+r).focus().blur())},cancleSelectedNode:function(){this.cancelSelectedNode()},cancelSelectedNode:function(){fb(this.setting)},checkAllNodes:function(e){this.setting.checkable&&ja(this.setting,this.setting.root,e==1)},reAsyncChildNodes:function(t,n){if(this.setting.async){var r=!t;r&&(t=this.setting.root),n=="refresh"&&(t[this.setting.nodesCol]=[],r?this.setting.treeObj.empty():e("#"+t.tId+u).empty()),Ka(this.setting,r?null:t)}},addNodes:function(e,t,n){t&&(e||(e=null),fa(this.setting,e,t,n==1))},updateNode:function(t,n){if(t){var r=e("#"+t.tId+I);this.setting.checkable&&(n==1&&Sa(this.setting,t),A(this.setting,r,t),T(this.setting,t)),Ra(this.setting,t),Ta(t),Ua(this.setting,t),H(this.setting,t)}},moveNode:function(t,n,r){n&&(!t||!(n.parentNode==t&&r==x||e("#"+n.tId).find("#"+t.tId).length>0))&&(t||(t=null),Da(this.setting,t,n,r,!1))},removeNode:function(e){e&&Ca(this.setting,e)}}}var ka="ZTREE_CLICK",la="ZTREE_CHANGE",ma="ZTREE_RENAME",na="ZTREE_REMOVE",oa="ZTREE_DRAG",Z="ZTREE_DROP",pa="ZTREE_EXPAND",qa="ZTREE_COLLAPSE",ra="ZTREE_ASYNC_SUCCESS",sa="ZTREE_ASYNC_ERROR",w="_switch",r="_ico",K="_span",Oa="_input",I="_check",ia="_edit",X="_remove",u="_ul",o="_a",Ea="root",Fa="roots",Za="center",ha="bottom",$a="noLine",Ga="line",M="open",N="close",J="docu",wa="curSelectedNode",gb="curSelectedNode_Edit",xa="tmpTargetTree",ya="tmpTargetNode",P="radio",vb="chk",tb="false",sb="true",ab="full",bb="part",ub="focus",va="all",x="inner",W="before",da="after",Xa="5",G=[],ua=0;e.fn.zTree=function(t,n){var r={treeObjId:"",checkable:!1,editable:!1,edit_renameBtn:!0,edit_removeBtn:!0,showLine:!0,curTreeNode:null,curEditTreeNode:null,dragStatus:0,dragNodeShowBefore:!1,checkStyle:"checkbox",checkType:{Y:"ps",N:"ps"},checkRadioType:"level",checkRadioCheckedList:[],async:!1,asyncUrl:"",asyncParam:[],asyncParamOther:[],isSimpleData:!1,treeNodeKey:"",treeNodeParentKey:"",nameCol:"name",nodesCol:"nodes",checkedCol:"checked",expandSpeed:"fast",expandTriggerFlag:!1,addHoverDom:null,removeHoverDom:null,addDiyDom:null,root:{isRoot:!0,nodes:[]},callback:{beforeClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeChange:null,beforeDrag:null,beforeDrop:null,beforeRename:null,beforeRemove:null,beforeExpand:null,beforeCollapse:null,click:null,rightClick:null,mouseDown:null,mouseUp:null,change:null,drag:null,drop:null,rename:null,remove:null,expand:null,collapse:null,asyncSuccess:null,asyncError:null}};if(t){var i=t.checkType;t.checkType=undefined;var s=t.callback;t.callback=undefined;var o=t.root;t.root=undefined,e.extend(r,t),t.checkType=i,e.extend(!0,r.checkType,i),t.callback=s,e.extend(r.callback,s),t.root=o,e.extend(r.root,o)}return r.treeObjId=this.attr("id"),r.treeObj=this,r.root.tId=-1,r.root.name="ZTREE ROOT",r.root.isRoot=!0,r.checkRadioCheckedList=[],r.curTreeNode=null,r.curEditTreeNode=null,r.dragNodeShowBefore=!1,r.dragStatus=0,r.expandTriggerFlag=!1,r.root[r.nodesCol]||(r.root[r.nodesCol]=[]),ua=0,n&&(r.root[r.nodesCol]=n),r.isSimpleData&&(r.root[r.nodesCol]=Ma(r,r.root[r.nodesCol])),G[r.treeObjId]=r,e("#"+r.treeObjId).empty(),kb(r,this),r.root[r.nodesCol]&&r.root[r.nodesCol].length>0?S(r,0,r.root[r.nodesCol]):r.async&&r.asyncUrl&&r.asyncUrl.length>0&&Ka(r),(new xb).init(this)};var ga=[]})(jQuery)}),define("func/cdgl",["leaflet","func/base","control/panel","plugins/mcscroll","plugins/ztree","data/ajax","layout/menu"],function(e){e.ICT.Func.add("cdgl",{id:"cdgl",Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.util=e.ict.app.util,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.cdglConfig;if(e.ict.app.sessionStorage.getItem("userInfo")!=null){var t=e.ict.app.sessionStorage.getItem("userInfo");this.loginUserId=t.userId}else this.loginUserId="";this.menuid="ict_menu_main_cdgl",this._popPanel=null,this._delType="",this._editDelId="",this._AddEditType="",this._editShipObj={},this._popPanelShipFleetAddEdit=null,this._popPanelShipAddEdit=null,this._popPanelDel=null,this.zTreeData=[],this.zTree1=null,this.zTreeClickNodeID="",this.zTreeClickNodeType="",this._pageInfoInit()},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}if(this._popPanel)return;this._initUI(),this._initEvts(),this._initTree()},stop:function(){this._popPanel&&this._popPanel.remove()},_initUI:function(){var t=window.localStorage.getItem("language"),n=$.i18n.prop("func_cdgl_titlename"),r={title:n,width:990,height:515,top:100,left:200,contentHTML:this._getContentHTML()},i=this._popPanel=new e.ICT.PopPanel(r);i.show(),$("#cdgl_input_sj_end").val(this.formatDateH(new Date));var s=this.getNewDateTimeBeforHour(24);$("#cdgl_input_sj_start").val(this.formatDateH(s))},formatDateH:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=t+"-"+n+"-"+r+" "+i;return s},getNewDateTimeBeforHour:function(e){var t=new Date;return t=t.valueOf(),t-=e*60*60*1e3,t=new Date(t),t},_initEvts:function(){self=this,this._popPanel.on("popPanelRemove",function(){this._popPanel=null,this.menu.mainmenu.deactiveMenu(this.menuid)},this)},_getContentHTML:function(){var e=$.i18n.prop("func_cdgl_lb_cdlb"),t=$.i18n.prop("func_cdgl_lb_sjll"),n=$.i18n.prop("func_cdgl_where_lb_qzss"),r=$.i18n.prop("func_cdgl_where_lb_z"),i=$.i18n.prop("func_cdgl_lb_add"),s=$.i18n.prop("common_btn_ok"),o=[];return o.push('<TABLE border=0 style="width:970px;height:445px;">'),o.push("	<TR>"),o.push('		<TD width=260px height="100%";align=center valign=top>'),o.push('			<TABLE border=0 style="width:100%;height:100%;">'),o.push('				<TR style="width:100%;height:25px;">'),o.push('					<TD style="width:80px;height:25px;" align=left valign=top>'),o.push('						<label id="cdgl_lb_cdlb" class="cdgl_labelfont">'+e+"</label>"),o.push("					</TD>"),o.push('					<TD style="width:100px;height:25px;" align=right valign=top>'),o.push('						<div id="cdgl_btn_add" class="cdgl_img_btn_add" onclick="self._shipFleet_Add();">'+i+"</div>"),o.push("					</TD>"),o.push("				</TR>"),o.push('				<TR style="width:100%;height:5px;">'),o.push("				</TR>"),o.push('				<TR style="width:100%;height:420px;">'),o.push('					<TD style="width:100%;height:420px;border:1px solid #b5b5b5;" align=left valign=top colspan="2">'),o.push('						<div style="width:100%;height:100%;">'),o.push('							<ul id="treeDiv" class="tree"></ul>'),o.push("						</div>"),o.push("					</TD>"),o.push("				</TR>"),o.push("			</TABLE>"),o.push("		</TD>"),o.push('		<TD width=10px width="100%" height="100%";align=center valign=top>'),o.push("		</TD>"),o.push('		<TD width=700px height="100%";align=center valign=top>'),o.push('			<TABLE border=0 style="width:100%;height:100%;">'),o.push('				<TR style="width:100%;height:25px;">'),o.push('					<TD style="width:100%;height:25px;" align=left valign=top>'),o.push('						<label id="cdgl_lb_sjll" class="cdgl_labelfont">'+t+"</label>"),o.push("					</TD>"),o.push("				</TR>"),o.push('				<TR style="width:100%;height:5px;">'),o.push("				</TR>"),o.push('				<TR style="width:100%;height:425px;">'),o.push('					<TD style="width:100%;height:420px;border:1px solid #b5b5b5;padding-left:20px;">'),o.push('						<table style="width:100%;height:100%;">'),o.push('							<tr style="width100%;height:50px;padding-top:20px;">'),o.push('								<td style="width:70px;"><label id="cdgl_where_lb_qzss" class="cdgl_labelfont">'+n+"</label></td>"),o.push('								<td style="width:130px;"><input class="Wdate up_po_custom_in" type="text" id="cdgl_input_sj_start" style="height:25px;line-height:25px;width:126px;border:1px solid #b5b5b5;" onFocus="WdatePicker({readOnly:true,dateFmt:\'yyyy-MM-dd HH\',isShowClear:false,startDate:\'%y-%M-01 00:00:00\',alwaysUseStartDate:true,maxDate:\'%y-%M-%d %H:%m:%s\'})"/></td>'),o.push('								<td style="width:30px;"><label id="cdgl_where_lb_z" class="cdgl_labelfont">'+r+"</label></td>"),o.push('								<td style="width:130px;"><input class="Wdate up_po_custom_in" type="text" id="cdgl_input_sj_end" style="height:25px;line-height:25px;width:126px;border:1px solid #b5b5b5;" onFocus="WdatePicker({readOnly:true,dateFmt:\'yyyy-MM-dd HH\',isShowClear:false,startDate:\'%y-%M-01 00:00:00\',alwaysUseStartDate:true,maxDate:\'%y-%M-%d %H:%m:%s\'})"/></td>'),o.push('								<td style="width:60px;"><div id="cdgl_btn_search" class="cdgl_img_btn_ok" onclick="self._eventSearch(true);">'+s+"</div></td>"),o.push('								<td style="width:300px;"></td>'),o.push("							</tr>"),o.push('							<tr style="width:100%;height:5px;"><td colspan="6"></td></tr>'),o.push('							<tr style="width:100%;height:350px;">'),o.push('								<td colspan="6">'),o.push('									<div id="cdgl_dialog_event_list" style="width:100%;height:340px;padding-left:10px;padding-right:10px;"></div>'),o.push('									<div id="cdgl_div_page" style="width:100%;height:30px;text-align:right;padding-right:20px;"></div>'),o.push("								</td>"),o.push("							</tr>"),o.push("						</table>"),o.push("					</TD>"),o.push("				</TR>"),o.push("			</TABLE>"),o.push("		</TD>"),o.push("	</TR>"),o.push("</TABLE>"),o.join("")},_initTree:function(){this.zTreeClickNodeID="",this.zTreeClickNodeType="";var e=self.config.getTreeUrl,t={},n=new Date;t.timespane=n.getTime().toString(),t.user_id=this.loginUserId,self.ajax.post(e,t,!0,this,function(e){this._initTreeSucess(e)},function(e){this._initTreeError(e)})},_initTreeSucess:function(e){if(e.state!=1){var t=$.i18n.prop("func_cdgl_error_msg_getFleetInfo");this._showErrorMsg(t)}else{var n=[],r=e.msg;for(var i=0;i<r.length;i++){var s={};s.id=r[i].id,r[i].name_cn!=null&&r[i].name_cn!=""?s.name=r[i].name_cn:s.name=r[i].name_en,s.remark=r[i].remark,s.open=!0,s.type="1";var o=r[i].shiplist;for(var u=0;u<o.length;u++)o[u].id=o[u].id,o[u].shipfleetid=o[u].shipfleetid,o[u].shipid=o[u].shipid,o[u].name=o[u].shipname,o[u].mmsi=o[u].mmsi,o[u].type="2";s.nodes=o,n.push(s)}this.zTreeData=n,this.zTree1=$("#treeDiv").zTree(this._getZtreeSetting(),this._clone(n,""))}},_getZtreeSetting:function(){var e={addDiyDom:this._addDiyDom};return e},_addDiyDom:function(e,t){$("#"+t.tId+"_span").css("background-color","#ffffff"),$("#"+t.tId+"_span").css("display",":-moz-inline-box"),$("#"+t.tId+"_span").css("display","inline-block");var n=$("#"+t.tId+"_a"),r=t.id+"|"+t.type;t.type=="2"&&(r=t.mmsi+"|"+t.type);var i=$("#"+t.tId+"_span");i.bind("click",function(){self._zTreeNodeClick(r)});if(t.type=="1"){$("#"+t.tId+"_span").css("width","153px");var s="";s=s+"<button type='button' class='cdgl_tree_edit' id='img_shipfleet_edit"+t.id+"'></button>",s=s+"<button type='button' class='cdgl_tree_del' id='img_shipfleet_del"+t.id+"'></button>",n.append(s);var o=$("#img_shipfleet_del"+t.id);o&&o.bind("click",function(){self._shipFleet_Del(t.id)});var u=$("#img_shipfleet_edit"+t.id);u&&u.bind("click",function(){self._shipFleet_Edit(t.id)})}else if(t.type=="2"){$("#"+t.tId+"_span").css("width","135px");var s="";s=s+"<button type='button' class='cdgl_tree_edit' id='img_ship_edit"+t.id+"'></button>",s=s+"<button type='button' class='cdgl_tree_del' id='img_ship_del"+t.id+"'></button>",n.append(s);var o=$("#img_ship_del"+t.id);o&&o.bind("click",function(){self._ship_Del(t.id)});var u=$("#img_ship_edit"+t.id),a=t.id+"|"+t.shipfleetid+"|"+t.shipid+"|"+t.name+"|"+t.mmsi;u&&u.bind("click",function(){self._ship_Edit(a)})}},_clone:function(e,t){var n;if(e instanceof Array){n=[];var r=e.length;while(r--)n[r]=this._clone(e[r],t);return n}if(typeof e=="function")return e;if(e instanceof Object){n={};for(var i in e)n[i]=this._clone(e[i],t),i=="name"&&(n[i]+=t);return n}return e},_initTreeError:function(e){var t=$.i18n.prop("func_cdgl_error_msg_getFleetInfo");this._showErrorMsg(t)},_shipFleet_Edit:function(e){if(this._popPanelShipFleetAddEdit)return;var t=$.i18n.prop("func_cdgl_editfleet_titlename");self._dialogShipFleetAddEditOpen(t),this._AddEditType="edit",this._editDelId=e;for(var n=0;n<this.zTreeData.length;n++)if(this.zTreeData[n].id==e){$("#dialogShipFleetAddEditName").val(this.zTreeData[n].name),$("#dialogShipFleetAddEditRemark").val(this.zTreeData[n].remark);break}},_shipFleet_Add:function(){if(this._popPanelShipFleetAddEdit)return;var e=$.i18n.prop("func_cdgl_addfleet_titlename");self._dialogShipFleetAddEditOpen(e),this._AddEditType="add",$("#dialogShipFleetAddEditName").val("")},_dialogShipFleetAddEditOpen:function(t){var n={title:t,width:410,height:250,top:200,left:450,contentHTML:this._getContentHtmlDialogShipFleetAddEdit()},r=this._popPanelShipFleetAddEdit=new e.ICT.PopPanel(n);r.show(),$("#cdgl_addeditfleet_inputfleenametip").val(""),this._popPanelShipFleetAddEdit.on("popPanelRemove",function(){this._popPanelShipFleetAddEdit=null},this)},_getContentHtmlDialogShipFleetAddEdit:function(){var e=$.i18n.prop("func_cdgl_addeditfleet_name"),t=$.i18n.prop("func_cdgl_addeditfleet_remarks"),n=$.i18n.prop("common_btn_ok"),r=$.i18n.prop("common_btn_cancel"),i=[];return i.push('<TABLE border=0 style="width:390px;height:180px;">'),i.push("	<TR>"),i.push('		<TD style="width:95px;height:30px;text-align:left;vertical-align:middle;padding-left:30px;">'),i.push('			<label class="cdgl_labelfont">'+e+"</label>"),i.push("		</TD>"),i.push('		<TD style="width:295px;height:30px;text-align:left;vertical-align:middle;">'),i.push('			<input type="text" id="dialogShipFleetAddEditName" class="cdgl_labelfont" style="width:270px"/>'),i.push("		</TD>"),i.push("	</TR>"),i.push("	<TR>"),i.push('		<TD style="width:390px;height:20px;line-height:20px;text-align:left;vertical-align:middle;padding-left:30px;" colspan="2">'),i.push('			<input type="text" id="cdgl_addeditfleet_inputfleenametip" class="cdgl_font_error" readonly="true" style="width:100%;"/>'),i.push("		</TD>"),i.push("	</TR>"),i.push("	<TR>"),i.push('		<TD style="width:95px;height:30px;text-align:left;vertical-align:middle;padding-left:30px;">'),i.push('			<label class="cdgl_labelfont">'+t+"</label>"),i.push("		</TD>"),i.push('		<TD style="width:295px;height:30px;text-align:left;vertical-align:middle;">'),i.push('			<textarea id="dialogShipFleetAddEditRemark" style="width:270px;height:80px;"></textarea>'),i.push("		</TD>"),i.push("	</TR>"),i.push("	<TR>"),i.push('		<TD width=390px height="58px";align=center valign=center padding-left:60px; colspan="2">'),i.push('		    <table style="height:100%;width:100%">'),i.push('						<tr style="height:100%;width:100%">'),i.push('									<td style="height:100%;width:100%;padding-left:135px;">'),i.push('										<div id="dialogShipFleetAddEditBtnOk" class="cdgl_dialog_btn_ok_cancel" onclick="self._dialogShipFleetAddEditBtnClickOk();">'+n+"</div>"),i.push("									</td>"),i.push("						</tr>"),i.push("			</table>"),i.push("		</TD>"),i.push("	</TR>"),i.push("</TABLE>"),i.join("")},_dialogShipFleetAddEditBtnClickCancel:function(){this._popPanelShipFleetAddEdit&&this._popPanelShipFleetAddEdit.remove(),this._popPanelShipFleetAddEdit=null},_dialogShipFleetAddEditBtnClickOk:function(){$("#cdgl_addeditfleet_inputfleenametip").val("");var e=$("#dialogShipFleetAddEditName").val();if(e==""){var t=$.i18n.prop("func_cdgl_addeditfleet_inputfleenametip");$("#cdgl_addeditfleet_inputfleenametip").val(t);return}var n=self.config.saveShipFleetUrl,r={},i=new Date;r.timespane=i.getTime().toString(),r.addEditType=this._AddEditType,this._AddEditType=="add"?r.id="":r.id=this._editDelId,r.name_en=e,r.name_cn=e,r.remark=$("#dialogShipFleetAddEditRemark").val(),r.user_id=this.loginUserId,self.ajax.post(n,r,!0,this,function(e){if(e.state!=1){var t=$.i18n.prop("func_cdgl_msg_tip_save_failed");$("#cdgl_addeditfleet_inputfleenametip").val(t)}else this._dialogShipFleetAddEditBtnClickCancel(),this._initTree()},function(e){var t=$.i18n.prop("func_cdgl_msg_tip_save_failed");$("#cdgl_addeditfleet_inputfleenametip").val(t)})},_shipFleet_Del:function(e){if(this._popPanelDel)return;this._editDelId=e,this._delType="fleet";var t=$.i18n.prop("func_cdgl_delfleet_titlename");self._dialogShipFleetDelOpen(t,"1")},_dialogShipFleetDelOpen:function(t,n){var r={title:t,width:410,height:220,top:200,left:450,contentHTML:this._getContentHtmlDialogDel(n)},i=this._popPanelDel=new e.ICT.PopPanel(r);i.show(),this._popPanelDel.on("popPanelRemove",function(){this._popPanelDel=null},this)},_getContentHtmlDialogDel:function(e){var t="";e=="1"?t=$.i18n.prop("func_cdgl_msg_tip_del_fleet"):t=$.i18n.prop("func_cdgl_msg_tip_del_ship");var n=$.i18n.prop("common_btn_ok"),r=$.i18n.prop("common_btn_cancel"),i=[];return i.push('<TABLE border=0 style="width:390px;height:160px;">'),i.push("	<TR>"),i.push('		<TD width=390px height="80px" style="padding-left:78px;padding-top:10px;">'),i.push('			<img src="./themes/images/baoChuan/error.png" style="width:40px;height:40px;"><label class="cdgl_labelfont_del">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'+t+"</label>"),i.push("		</TD>"),i.push("	</TR>"),i.push("	<TR>"),i.push('		<TD width=390px height="58px";align=center valign=center padding-left:60px;>'),i.push('		    <table style="height:100%;width:100%">'),i.push('						<tr style="height:100%;width:100%">'),i.push('									<td style="height:100%;width:50%;padding-left:67px;">'),i.push('										<div id="dialogDelBtnOk" class="cdgl_dialog_btn_ok_cancel" onclick="self._dialogDelBtnClickOk();">'+n+"</div>"),i.push("									</td>"),i.push('									<td style="height:100%;width:50%;padding-left:20px;">'),i.push('										<div id="dialogDelBtnCancel" class="cdgl_dialog_btn_ok_cancel" onclick="self._dialogDelBtnClickCancel();">'+r+"</div>"),i.push("									</td>"),i.push("						</tr>"),i.push("			</table>"),i.push("		</TD>"),i.push("	</TR>"),i.push("</TABLE>"),i.join("")},_dialogDelBtnClickCancel:function(){this._popPanelDel&&this._popPanelDel.remove(),this._popPanelDel=null},_dialogDelBtnClickOk:function(){var e=$.i18n.prop("func_cdgl_msg_tip_del_failed"),t=$.i18n.prop("func_cdgl_msg_tip_del_sucess");if(this._delType=="fleet"){var n=self.config.delShipFleetUrl,r={},i=new Date;r.timespane=i.getTime().toString(),r.id=this._editDelId,self.ajax.post(n,r,!0,this,function(t){t.state!=1?this._showErrorMsg(e):(this._dialogDelBtnClickCancel(),this._initTree())},function(t){this._showErrorMsg(e)})}else{var n=self.config.delShipUrl,r={},i=new Date;r.timespane=i.getTime().toString(),r.id=this._editDelId,self.ajax.post(n,r,!0,this,function(t){t.state!=1?this._showErrorMsg(e):(this._dialogDelBtnClickCancel(),this._initTree())},function(t){this._showErrorMsg(e)})}},_ship_Del:function(e){if(this._popPanelDel)return;this._editDelId=e,this._delType="ship";var t=$.i18n.prop("func_cdgl_delship_titlename");self._dialogShipFleetDelOpen(t,"0")},_ship_Edit:function(e){if(this._popPanelShipAddEdit)return;this._editShipObj={};var t=e.split("|");this._editShipObj.id=t[0],this._editShipObj.shipfleetid=t[1],this._editShipObj.shipid=t[2],this._editShipObj.shipname=t[3],this._editShipObj.mmsi=t[4],self._dialogShipAddEditOpen()},_dialogShipAddEditOpen:function(){var t=$.i18n.prop("func_cdgl_editship_titlename"),n={title:t,width:410,height:150,top:200,left:450,contentHTML:this._getContentHtmlDialogShipAddEdit()},r=this._popPanelShipAddEdit=new e.ICT.PopPanel(n);r.show(),$("#dialogShipAddEditFleet").empty();for(var i=0;i<this.zTreeData.length;i++)$("#dialogShipAddEditFleet").append("<option value='"+this.zTreeData[i].id+"'>"+this.zTreeData[i].name+"</option>");this._popPanelShipAddEdit.on("popPanelRemove",function(){this._popPanelShipAddEdit=null},this)},_getContentHtmlDialogShipAddEdit:function(){var e=$.i18n.prop("func_cdgl_editship_fleetname"),t=$.i18n.prop("common_btn_ok"),n=$.i18n.prop("common_btn_cancel"),r=[];return r.push('<TABLE border=0 style="width:390px;height:70px;">'),r.push("	<TR>"),r.push('		<TD style="width:95px;height:30px;text-align:right;vertical-align:middle;">'),r.push('			<label class="cdgl_labelfont">'+e+"</label>"),r.push("		</TD>"),r.push('		<TD style="width:295px;height:30px;text-align:left;vertical-align:middle;">'),r.push('			<select id="dialogShipAddEditFleet" class="cdgl_labelfont" style="width:275px"></select>'),r.push("		</TD>"),r.push("	</TR>"),r.push("	<TR>"),r.push('		<TD width=390px height="58px";align=center valign=center padding-left:60px; colspan="2">'),r.push('		    <table style="height:100%;width:100%">'),r.push('						<tr style="height:100%;width:100%">'),r.push('									<td style="height:100%;width:100%;padding-left:135px;">'),r.push('										<div id="dialogShipAddEditBtnOk" class="cdgl_dialog_btn_ok_cancel" onclick="self._dialogShipAddEditBtnClickOk();">'+t+"</div>"),r.push("									</td>"),r.push("						</tr>"),r.push("			</table>"),r.push("		</TD>"),r.push("	</TR>"),r.push("</TABLE>"),r.join("")},_dialogShipAddEditBtnClickCancel:function(){this._popPanelShipAddEdit&&this._popPanelShipAddEdit.remove(),this._popPanelShipAddEdit=null},_dialogShipAddEditBtnClickOk:function(){var e=$.i18n.prop("func_cdgl_editship_tip_selectfleet"),t=$.i18n.prop("func_cdgl_msg_tip_edit_sucess"),n=$.i18n.prop("func_cdgl_msg_tip_edit_failed"),r=$("#dialogShipAddEditFleet option:selected").val();if(r==""){this._showErrorMsg(e);return}var i={},s=new Date;i.timespane=s.getTime().toString(),i.id=this._editShipObj.id,i.shipfleetid=r;var o=self.config.saveShipUrl;self.ajax.post(o,i,!0,this,function(e){e.state!=1?this._showErrorMsg(n):this._initTree()},function(e){this._showErrorMsg(n)}),this._popPanelShipAddEdit&&this._popPanelShipAddEdit.remove(),this._popPanelShipAddEdit=null},_getzTreeNodeShipIdList:function(){var e="";if(this.zTreeClickNodeType==null)return e;if(this.zTreeClickNodeType=="")return e;if(this.zTreeClickNodeType=="1"){var t=null;for(var n=0;n<this.zTreeData.length;n++)if(this.zTreeData[n].id==this.zTreeClickNodeID){t=this.zTreeData[n];break}if(t!=null){nodeslist=t.nodes;for(var r=0;r<nodeslist.length;r++)e!=""?e=e+","+nodeslist[r].mmsi:e=nodeslist[r].mmsi}}else e=this.zTreeClickNodeID;return e},_zTreeNodeClick:function(e){var t=e.split("|");this.zTreeClickNodeID=t[0],this.zTreeClickNodeType=t[1],this._eventSearch(!0)},_eventGetSearchWhere:function(){var e=this._getzTreeNodeShipIdList(),t=$("#cdgl_input_sj_start").val()+":00:00",n=$("#cdgl_input_sj_end").val()+":59:59",r={},i=new Date;return r.timespane=i.getTime().toString(),r.shipidstr=e,r.ischeckshipid="1",r.startsj=t,r.endsj=n,r.pagesize=this.pagesize,r.pagenum=this.pagenum,r},_eventSearch:function(e){e&&this._pageInfoInit();var t=$.i18n.prop("func_cdgl_error_msg_getEventInfo"),n=this._eventGetSearchWhere(),r=self.config.getEventListUrl;self.ajax.post(r,n,!0,this,function(e){e.state!=1?this._showErrorMsg(t):this._showEventListSucess(e)},function(e){this._showErrorMsg(t)})},_showEventListSucess:function(e){this._showDivEventList(e),this.reccount=e.reccount,this.pagecount=e.pagecount,this.pagesize=e.pagesize,this.pagenum=e.pagenum;var t=!0;for(var n=0;n<this.curShowPageLabelAry.length;n++)this.curShowPageLabelAry[n]==this.pagenum&&(t=!1);var r=e.rec;r!=null&&r.length>0&&(t&&this._showDivPageInfo(),this._DivPageNumLabelSetCur())},_showDivEventList:function(e){var t=$.i18n.prop("func_cdgl_datagrid_xh"),n=$.i18n.prop("func_cdgl_datagrid_shipName"),r=$.i18n.prop("func_cdgl_datagrid_time"),i=$.i18n.prop("func_cdgl_datagrid_state"),s=$.i18n.prop("func_cdgl_datagrid_portName"),o=e.rec,u="#e6effe",a='<table style="width:100%;font-family:Microsoft Yahei;font-size:12px;" border="0" cellspacing="0">';if(o!=null&&o.length>0){a=a+'<tr style="background-color:'+u+';width:100%;height:30px;line-height:30px;text-align:left;">',a+='<td style="width:50px;height:100%;text-align:center;vertical-align:middle;">',a+=t,a+="</td>",a+='<td style="width:150px;height:100%;text-align:left;vertical-align:middle;">',a+=n,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+="MMSI",a+="</td>",a+='<td style="width:160px;height:100%;text-align:left;vertical-align:middle;">',a+=r,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+=i,a+="</td>",a+='<td style="width:180px;height:100%;text-align:left;vertical-align:middle;">',a+=s,a+="</td>",a+="</tr>";for(var f=0;f<o.length;f++){u=="#e6effe"?u="#ffffff":u="#e6effe",a=a+'<tr style="background-color:'+u+';width:100%;height:30px;line-height:30px;text-align:left;">',a+='<td style="width:50px;height:100%;text-align:center;vertical-align:middle;">',a+=(f+1).toString(),a+="</td>",a+='<td style="width:150px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].ship_name,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].mmsi,a+="</td>",a+='<td style="width:160px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].sj_str,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">';var l=window.localStorage.getItem("language"),c=o[f].state_name,h="";c=="ËøõÊ∏Ø"?h=$.i18n.prop("func_cdgl_datagrid_state_jg"):c=="Âá∫Ê∏Ø"&&(h=$.i18n.prop("func_cdgl_datagrid_state_cg")),a+=h,a+="</td>",a+='<td style="width:180px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].port_name,a+="</td>",a+="</tr>"}}else{var p=$.i18n.prop("func_cdgl_msg_tip_event_noseachresult");a+='<tr style="width:100%;height:330px;line-height:330px;text-align:center;">',a+='<td style="width:100%;height:100%;line-height:330px;text-align:center;vertical-align:middle;">',a=a+"<label>"+p+"</label>",a+="</td>",a+="</tr>"}a+="</table>",$("#cdgl_dialog_event_list").html(a)},_pageInfoInit:function(){this.showpagelabelcount=5,this.curShowPageLabelAry=[],this.pagesize=10,this.pagenum=1,this.reccount=0,this.pagecount=0},_showDivPageInfo:function(){this.curShowPageLabelAry=[];var e=this.pagecount-this.pagenum,t=parseInt(this.showpagelabelcount.toString())-parseInt("1");if(e>=t){this.curShowPageLabelAry.push(this.pagenum);for(var n=1;n<this.showpagelabelcount;n++){var r=parseInt(this.pagenum.toString())+parseInt(n.toString());r<=this.pagecount&&this.curShowPageLabelAry.push(r)}}else{var i=parseInt(this.pagecount.toString()),s=parseInt(this.pagecount.toString())-parseInt(this.showpagelabelcount.toString())+parseInt("1");s<=0&&(s=1);for(var o=s;o<=i;o++)this.curShowPageLabelAry.push(o)}var u=$.i18n.prop("func_cdgl_page_first"),a=$.i18n.prop("func_cdgl_page_last"),f=$.i18n.prop("func_cdgl_page_previous"),l=$.i18n.prop("func_cdgl_page_next"),c='<label id="divPageFirst" class="cdgl_page_first"  onclick="self._divPageClickFirst();">'+u+"</label>";c+="<label>&nbsp</label>";for(var h=0;h<this.curShowPageLabelAry.length;h++)c=c+'<label class="cdgl_page_numlabel_noselect" id="divPageNumLabel_'+this.curShowPageLabelAry[h]+'" onclick="self._divPageClickNum('+this.curShowPageLabelAry[h]+');">'+this.curShowPageLabelAry[h]+"</label>";c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="cdgl_page_last"  onclick="self._divPageClickLast();">'+a+"</label>",c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="cdgl_page_pre"  onclick="self._divPageClickPre();">'+f+"</label>",c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="cdgl_page_next" onclick="self._divPageClickNext();">'+l+"</label>",$("#cdgl_div_page").html(c)},_DivPageNumLabelSetCur:function(){for(var e=0;e<this.curShowPageLabelAry.length;e++)this.curShowPageLabelAry[e]==this.pagenum?$("#divPageNumLabel_"+this.curShowPageLabelAry[e]).attr("class","cdgl_page_numlabel_select"):$("#divPageNumLabel_"+this.curShowPageLabelAry[e]).attr("class","cdgl_page_numlabel_noselect")},_divPageClickFirst:function(){if(this.pagenum<=1)return;this.pagenum=1,this._eventSearch(!1)},_divPageClickPre:function(){if(this.pagenum<=1)return;this.pagenum=parseInt(this.pagenum.toString())-parseInt("1"),this._eventSearch(!1)},_divPageClickNum:function(e){this.pagenum=e,this._eventSearch(!1)},_divPageClickNext:function(){if(this.pagenum>=this.pagecount)return;this.pagenum=parseInt(this.pagenum.toString())+parseInt("1"),this._eventSearch(!1)},_divPageClickLast:function(){if(this.pagenum>=this.pagecount)return;this.pagenum=this.pagecount,this._eventSearch(!1)},_showMsg:function(t){e.ict.app.util.dialog.warn($.i18n.prop("dialog_alert_title"),t)},_showErrorMsg:function(t){e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),t)}})})}),define("library/requirejs/css!themes/css/func.weather",[],function(){}),define("leaflet/weatherLayer",["leaflet"],function(e){e.TileLayer.WeatherLayer=e.TileLayer.extend({initialize:function(t,n){n=e.setOptions(this,n),n.errorTileUrl="http://www.shipdt.com/bg_tm.png",this.url="http://awt.myships.com/"+n.type+"?REQUEST=GetTile"+"&X={x}&Y={y}&Z={z}",e.TileLayer.prototype.initialize.call(this,this.url,n)}}),e.TileLayer.WeatherLayer.prototype.getTileUrl=function(t){return e.Util.template(this._url,e.extend({s:function(){var n=t.z,r=t.y,i=levDir=rowDir="";return n<2?levDir="LN"+n.toString():n<12?levDir="L0"+(n-2).toString():levDir="L"+(n-2).toString(),rowDir="R"+e.tileLayer.getHexString(r),i=levDir+"/"+rowDir,i},z:t.z,x:t.x,y:t.y}))},e.tileLayer.getHexString=function(e){var t=e.toString(16);switch(t.length){case 1:t="0000000"+t;break;case 2:return t="000000"+t;case 3:t="00000"+t;break;case 4:t="0000"+t;break;case 5:t="000"+t;break;case 6:t="00"+t;break;case 7:t="0"+t;break;default:}return t},e.tileLayer.WeatherLayer=function(t,n){return new e.TileLayer.WeatherLayer(t,n)}}),define("func/weather",["leaflet","leaflet/weatherLayer","func/base","control/panel","plugins/mcscroll","data/ajax","layout/menu"],function(e){e.ICT.Func.add("weather",{id:"weather",Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.util=e.ict.app.util,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.cdglConfig,this.mapConfig=Project_ParamConfig.MapOptions,this.mymap=e.ict.app.ictmap.map,this.menuid="ict_menu_main_weather",this._popPanel=null,this.w_press="Pressure_",this.w_500mb="500MB_",this.w_wind="Wind_",this.w_wave="WaveHeight_",this.w_surge="Swell_",this.w_current="Current_",this.w_temp="SeaTemp_",this.w_visi="Visibility_",this.arrDate=[],this.layerIds=[],this.a_press=[],this.a_500mb=[],this.a_wind=[],this.a_wave=[],this.a_surge=[],this.a_current=[],this.a_temp=[],this.w_visi="Visibility_",this.layerArr=new Object,this.curType=null,this.weatherLayers=new e.layerGroup},start:function(){this.menu.mainmenu.deactiveMenuExceptOne(this.menuid);if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog(),this.menu.mainmenu.deactiveMenu(this.menuid);return}if(this._popPanel)return;this.mymap=e.ict.app.ictmap.map,this._initUI(),this._initEvts(),this.getWeatherData()},stop:function(){this._popPanel&&this._popPanel.remove(),this.weatherLayers.clearLayers()},_initUI:function(){var t=$.i18n.prop("func_weather_titlename"),n=window.localStorage.getItem("language"),r=125;n=="en"&&(r=245);var i={title:t,width:r,height:300,top:100,left:200,contentHTML:this._getContentHTML()},s=this._popPanel=new e.ICT.PopPanel(i);s.show()},_initEvts:function(){self=this,this._popPanel.on("popPanelRemove",function(){this._popPanel=null,this.menu.mainmenu.deactiveMenu(this.menuid)},this)},_getContentHTML:function(){var e=$.i18n.prop("func_weather_lb_selectweather"),t=$.i18n.prop("func_weather_lb_qy"),n=$.i18n.prop("func_weather_lb_f"),r=$.i18n.prop("func_weather_lb_l"),i=$.i18n.prop("func_weather_lb_y"),s=$.i18n.prop("func_weather_lb_yl"),o=$.i18n.prop("func_weather_lb_hw"),u=$.i18n.prop("func_weather_lb_njd"),a=[];return a.push('   <div class="weather_nav_box_weather"  box-type="display_hide_change" box-display="dishide">'),a.push('           <div class="weather_tyhoon">'),a.push("              <p>"+e+"</p>"),a.push('              <p> <input type="checkbox" name="weather" value="w1"  id="weather1" class="weather_radioclass" style="margin:0px;padding:0px;" /><span class="weatherlab" for="weather1">'+t+"</span></p>"),a.push('              <p> <input type="checkbox" name="weather" value="w2"  id="weather2" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather2">500mb</span></p>'),a.push('              <p> <input type="checkbox" name="weather" value="w3"  id="weather3" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather3">'+n+"</span></p>"),a.push('              <p> <input type="checkbox" name="weather" value="w4"  id="weather4" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather4">'+r+"</span></p>"),a.push('              <p> <input type="checkbox" name="weather" value="w5"  id="weather5" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather5">'+i+"</span></p>"),a.push('              <p> <input type="checkbox" name="weather" value="w6"  id="weather6" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather6">'+s+"</span></p>"),a.push('              <p  style="display:none"> <input type="checkbox" name="weather" value="w7"  id="weather7" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab"  for="weather7">'+o+"</span></p>"),a.push('              <p> <input type="checkbox" name="weather" value="w8"  id="weather8" class="weather_radioclass" style="margin:0px;padding:0px;"/><span class="weatherlab" for="weather8">'+u+"</span></p>"),a.push("          </div><label>"),a.push("  </div> "),a.join("")},initCheckEvent:function(){$("input[name='weather']").bind("click",function(){var e=$(this).val(),t=$(this).is(":checked");e=="w1"?(self.curWeather=self.w_press,self.changeWeather(self.w_press,self.mymap,t)):e=="w2"?(self.curWeather=self.w_500mb,self.changeWeather(self.w_500mb,self.mymap,t)):e=="w3"?(self.curWeather=self.w_wind,self.changeWeather(self.w_wind,self.mymap,t)):e=="w4"?(self.curWeather=self.w_wave,self.changeWeather(self.w_wave,self.mymap,t)):e=="w5"?(self.curWeather=self.w_surge,self.changeWeather(self.w_surge,self.mymap,t)):e=="w6"?(self.curWeather=self.w_current,self.changeWeather(self.w_current,self.mymap,t)):e=="w7"?(self.curWeather=self.w_temp,self.changeWeather(self.w_temp,self.mymap,t)):e=="w8"&&(self.curWeather=self.w_visi,self.changeWeather(self.w_visi,self.mymap,t))})},getWeatherData:function(){var e=$.i18n.prop("func_weather_error_tip"),t=new Date,n={};n.timespane=t.getTime().toString();var r=self.config.getWeatherInfoUrl;self.ajax.post(r,n,!0,this,function(t){t.state!=1?this._showErrorMsg(e):(this._getWeatherDataSucess(t),this.initCheckEvent())},function(t){this._showErrorMsg(e)})},_getWeatherDataSucess:function(e){e.w_press!=null?this.a_press=e.w_press:$("input[id='weather1']").attr("disabled","disabled"),e.w_500mb!=null?this.a_500mb=e.w_500mb:$("input[id='weather2']").attr("disabled","disabled"),e.w_wind!=null?this.a_wind=e.w_wind:$("input[id='weather3']").attr("disabled","disabled"),e.w_wave!=null?this.a_wave=e.w_wave:$("input[id='weather4']").attr("disabled","disabled"),e.w_surge!=null?this.a_surge=e.w_surge:$("input[id='weather5']").attr("disabled","disabled"),e.w_current!=null?this.a_current=e.w_current:$("input[id='weather6']").attr("disabled","disabled"),e.w_visi!=null?this.a_visi=e.w_visi:$("input[id='weather8']").attr("disabled","disabled")},_getWeatherValue:function(e){var t;e==this.w_press?t=this.a_press:e==this.w_500mb?t=this.a_500mb:e==this.w_wind?t=this.a_wind:e==this.w_wave?t=this.a_wave:e==this.w_surge?t=this.a_surge:e==this.w_current?t=this.a_current:e==this.w_temp?t=[]:e==this.w_visi&&(t=this.a_visi);var n=[];return t!=null&&t.length>0&&n.push(t[0].themetimevalue),n},dateFormat:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)(new RegExp("("+r+")")).test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},changeWeather:function(t,n,r){if(!r){var i=this.layerArr[t];for(var s=0;s<i.length;s++)this.weatherLayers.removeLayer(i[s]);return}this.curType=t,this.arrDate=[],this.arrDate=this._getWeatherValue(t);var o=[];for(var s=0;s<this.arrDate.length;s++){var u;s==0?u={type:this.arrDate[s],maxZoom:this.mapConfig.maxZoom,minZoom:this.mapConfig.minZoom,opacity:.7,continuousWorld:!0,id:this.arrDate[s]}:u={type:this.arrDate[s],maxZoom:this.mapConfig.maxZoom,minZoom:this.mapConfig.minZoom,opacity:.7,continuousWorld:!0,id:this.arrDate[s]};var a=e.tileLayer.WeatherLayer("",u);a.id=this.arrDate[s],this.weatherLayers.addLayer(a),a.setOpacity(.7),o.push(a)}for(var s=0;s<this.weatherLayers.getLayers().length;s++)this.layerIds.push(this.weatherLayers.getLayers()[s]._leaflet_id);this.layerArr[t]=o,this.weatherLayers.addTo(n)},_showMsg:function(t){e.ict.app.util.dialog.warn($.i18n.prop("dialog_alert_title"),t)},_showErrorMsg:function(t){e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),t)}})})}),define("layout/menu",["leaflet","layout/base","core/namespace","func/tshf","func/oceanWeather","func/filterDisplay","func/portInfo","func/heatmap","func/areaflow","func/portquery","func/cdgl","func/weather"],function(e){e.ICT.Menu=e.Class.extend({mainmenu:null,submenu:null,initialize:function(){this._container=$("#menupanel"),this.mainmenu=new e.ICT.Layout.MainMenu,this.submenu=new e.ICT.Layout.SubMenu,this._container.addClass("disableSelect")},show:function(){this._container.css("display","block")},hide:function(){this._container.css("display","none")},refresh:function(){},clear:function(){},getContainer:function(){return this._container}}),e.ICT.Layout.MainMenu=e.ICT.Layout.extend({_data:[{id:"ict_menu_main_glxs","class":"menu_item",name:"ËøáÊª§ÊòæÁ§∫",name_en:"Filters",imgUrl:"themes/images/frame/menu_mbsx.png",Handler:"",hasSub:!0,available:!0},{id:"ict_menu_main_gkcx","class":"menu_item",name:"Ê∏ØÂè£Êü•ËØ¢",name_en:"Ports",imgUrl:"themes/images/frame/menu_gkcx.png",Handler:"",hasSub:!0,available:!0},{id:"ict_menu_main_weather","class":"menu_item",name:"Ê∞¥Êñá„ÄÅÊ∞îË±°‰ø°ÊÅØ",name_en:"Hydrological & meteorological information",imgUrl:"themes/images/frame/menu-swqxxx.png",Handler:"",hasSub:!1,available:!0},{id:"ict_menu_main_cdgl","class":"menu_item",name:"ËàπÈòüÁÆ°ÁêÜ",name_en:"Fleets",imgUrl:"themes/images/frame/menu_cdgl.png",Handler:"",hasSub:!1,available:!0},{id:"ict_menu_main_qyll","class":"menu_item",name:"Âå∫ÂüüÊµÅÈáèÂàÜÊûê",name_en:"Arrivals & Departures of Area",imgUrl:"themes/images/frame/menu_xwfx.png",Handler:"",hasSub:!1,available:!0},{id:"ict_menu_main_tshf","class":"menu_item",name:"ÊÄÅÂäøÂõûÊîæ",name_en:"Track",imgUrl:"themes/images/frame/menu_tshf.png",Handler:"",hasSub:!0,available:!0},{id:"ict_menu_main_rlt","class":"menu_item",name:"ÁÉ≠ÂäõÂõæ",name_en:"Density Maps",imgUrl:"themes/images/frame/menu_rlt.png",Handler:"",hasSub:!1,available:!0},{id:"ict_menu_main_hjcx","class":"menu_item",name:"ÂéÜÂè≤ËΩ®ËøπÊü•ËØ¢",name_en:"History tracks",imgUrl:"themes/images/frame/menu_qyllfx.png",Handler:"",hasSub:!0,available:!0}],_menuSubs:[],initialize:function(){e.ICT.Layout.prototype.initialize.call(this),this._container=$(".menu_main_panel"),this._init()},_getMainMenuHTML:function(){var e=[],t=this._data;e.push('<ul class="menu_main">');for(i=0,len=t.length;i<len;i++){if(Project_ParamConfig.lang==="zh")var n=t[i].name;else var n=t[i].name_en;e.push('<li id="'+t[i].id+'" class="'+t[i].class+'" title="'+n+'" data-available="'+t[i].available+'" data-sub="'+t[i].hasSub+'">'),e.push('<img alt src="'+t[i].imgUrl+'">'),e.push("</li>")}return e.push("</ul>"),e.join("")},_init:function(){var e=this._getMainMenuHTML();this._container.html(e);var t=this._data;for(var n=0,r=t.length;n<r;n++)t[n].available?this.enableMenu(t[n].id):this.disableMenu(t[n].id)},_menuItemClickHandler:function(e){e.stopPropagation();var t=e.data.context;$this=$(e.currentTarget),menuid=$this.attr("id"),menuitem=t.getMenuItemById(menuid),isactive=$this.hasClass("active"),$this.toggleClass("active"),t.menuHandler(menuid,!isactive)},menuHandler:function(t,n){switch(t){case"ict_menu_main_glxs":n?e.ICT.Func.FilterDisplay.run():e.ICT.Func.FilterDisplay.close();break;case"ict_menu_main_gkcx":n?e.ICT.Func.PortQuery.run():e.ICT.Func.PortQuery.close();break;case"ict_menu_main_weather":n?e.ICT.Func.weather.run():e.ICT.Func.weather.close();break;case"ict_menu_main_cdgl":n?e.ICT.Func.cdgl.run():e.ICT.Func.cdgl.close();break;case"ict_menu_main_qyll":n?e.ICT.Func.AreaFlow.run():e.ICT.Func.AreaFlow.close();break;case"ict_menu_main_tshf":n?e.ICT.Func.TSHF.run():e.ICT.Func.TSHF.close();break;case"ict_menu_main_rlt":n?e.ICT.Func.HeatMap.run():e.ICT.Func.HeatMap.close();break;case"ict_menu_main_hjcx":n?e.ICT.Func.HJCXMoreShip.run():e.ICT.Func.HJCXMoreShip.close()}},activeMenu:function(e){this._container.find("#"+e).hasClass("active")||(this._container.find("#"+e).addClass("active"),this.menuHandler(e,!0))},deactiveMenu:function(e){this._container.find("#"+e).hasClass("active")&&(this._container.find("#"+e).removeClass("active"),this.menuHandler(e,!1))},deactiveMenuExceptOne:function(e){var t=this._data;for(var n=0,r=t.length;n<r;n++){var i=t[n].id;i!==e&&this._container.find("#"+i).hasClass("active")&&(this._container.find("#"+i).removeClass("active"),this.menuHandler(i,!1))}},disableMenu:function(e){$.type(e)==="undefined"?this._container.find(".menu_item").off("click"):this._container.find("#"+e).off("click")},disableMenuExceptOne:function(e){$.type(e)==="undefined"?this._container.find(".menu_item").off("click"):this._container.find(".menu_item:not(#"+e+")").off("click")},enableMenu:function(e){$.type(e)==="undefined"?(this._container.find(".menu_item").off("click"),this._container.find(".menu_item").on("click",{context:this},this._menuItemClickHandler)):(this._container.find("#"+e).off("click"),this._container.find("#"+e).on("click",{context:this},this._menuItemClickHandler))},getMenuItemById:function(e){var t=this._data;for(var n=0,r=t.length;n<r;n++)if(t[n].id===e)return t[n]},getMenuSub:function(t){var n=null;if(t==="ict_menu_main_tshf"){var r="";n=new e.ICT.Layout.SubMenu(r)}else t!=="ict_menu_main_xwwj"&&t!=="ict_menu_main_hyqx"&&t==="ict_menu_main_glxs";return n}}),e.ICT.Layout.SubMenu=e.ICT.Layout.extend({_data:{},initialize:function(t){e.ICT.Layout.prototype.initialize.call(this),this._container=$(".menu_sub_panel"),this._isShow=!1,this._data={}},_init:function(){this._container.html(this._html)},show:function(e){var t=this._data[e];this._container.html(t),this._container.css("display","block")},hide:function(){this._container.css("display","none")},add:function(e,t){var n=t;typeof t=="string"&&(n=$(t)),this._data[e]=n},has:function(e){return this._data.hasOwnProperty(e)?!0:!1},update:function(e,t){this._html=t,this._init(),this.show()},destory:function(e){this.hide(),delete this._data[e]}})}),define("func/cdgladdship",["leaflet","func/base","control/panel","plugins/mcscroll","data/ajax","layout/menu"],function(e){e.ICT.CdglAddShip=e.ICT.BaseObject.extend({initialize:function(){this.menu=e.ict.app.menu,this.util=e.ict.app.util,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.cdglConfig,this._popPanelNotShipFleetMsg=null,this._popPanelShipFleetSelect=null,this.shipid="",this.shipname="",this.mmsi="",this.fleetlist=[]},getLoginUserId:function(){if(e.ict.app.sessionStorage.getItem("userInfo")!=null){var t=e.ict.app.sessionStorage.getItem("userInfo");return t.userId}return""},convertStrToAry:function(e){var t=e.split("$"),n=[];for(var r=0;r<t.length;r++){var i=t[r],s=i.split("|"),o={};o.id=s[0],o.name=s[1],n.push(o)}return n},addShipToFleet:function(e,t,n,r,i){this.addShipSuccessCallback=i,this.shipid=t,this.shipname=n,this.mmsi=r;var s=this.config.getShipFleetUrl,o={};o.user_id=this.getLoginUserId(),this.ajax.post(s,o,!0,this,function(t){t.ret!=null&&t.ret!=""?(this.fleetlist=this.convertStrToAry(t.ret),this.fleetlist!=null&&this.fleetlist.length>0?this.dialogShowFleetList(e):this.dialogShowNoFleet(e)):this.dialogShowNoFleet(e)},function(e){var t=$.i18n.prop("func_cdgl_error_msg_getFleetInfo");this._showErrorMsg(t)})},dialogShowFleetList:function(t){var n=$.i18n.prop("func_cdgladdship_titlename_addship"),r={title:n,width:410,height:200,top:200,left:450,contentHTML:this._getContentHtmlDialogShowFleetList()},i=this._popPanelShipFleetSelect=new e.ICT.PopPanel(r);i.show(),$("#dialogShipFleetSelect").empty();for(var s=0;s<this.fleetlist.length;s++)$("#dialogShipFleetSelect").append("<option value='"+this.fleetlist[s].id+"'>"+this.fleetlist[s].name+"</option>");setTimeout(this._bindBtnClickForAddShip(t),1e3),this._popPanelShipFleetSelect.on("popPanelRemove",function(){this._popPanelShipFleetSelect=null},this)},_bindBtnClickForAddShip:function(e){var t=$("#dialogShipAddEditBtnOk");t.bind("click",function(){e._dialogShipFleetSelectBtnClickOk()});var n=$("#dialogShipAddEditBtnCancel");n.bind("click",function(){e._dialogShipFleetSelectBtnClickCancel()})},_getContentHtmlDialogShowFleetList:function(){var e=$.i18n.prop("func_cdgl_editship_fleetname"),t=$.i18n.prop("common_btn_ok"),n=$.i18n.prop("common_btn_cancel"),r=[];return r.push('<TABLE border=0 style="width:390px;height:110px;">'),r.push("	<TR>"),r.push('		<TD style="width:95px;height:20px;text-align:right;vertical-align:middle;colspan="2"">'),r.push("		</TD>"),r.push("	</TR>"),r.push("	<TR>"),r.push('		<TD style="width:95px;height:30px;text-align:right;vertical-align:middle;">'),r.push('			<label class="cdgl_labelfont">'+e+"</label>"),r.push("		</TD>"),r.push('		<TD style="width:295px;height:30px;text-align:left;vertical-align:middle;">'),r.push('			<select id="dialogShipFleetSelect" class="cdgl_labelfont" style="width:265px;height:25px;line-height:25px;border-color:#eef0f2;"></select>'),r.push("		</TD>"),r.push("	</TR>"),r.push("	<TR>"),r.push('		<TD style="width:95px;height:20px;text-align:right;vertical-align:middle;colspan="2"">'),r.push("		</TD>"),r.push("	</TR>"),r.push("	<TR>"),r.push('		<TD width=390px height="58px";align=center valign=center padding-left:60px; colspan="2">'),r.push('		    <table style="height:100%;width:100%">'),r.push('						<tr style="height:100%;width:100%">'),r.push('									<td style="height:100%;width:100%;padding-left:135px;">'),r.push('										<div id="dialogShipAddEditBtnOk" class="cdgl_dialog_btn_ok_cancel">'+t+"</div>"),r.push("									</td>"),r.push("						</tr>"),r.push("			</table>"),r.push("		</TD>"),r.push("	</TR>"),r.push("</TABLE>"),r.join("")},_dialogShipFleetSelectBtnClickCancel:function(){this._popPanelShipFleetSelect&&this._popPanelShipFleetSelect.remove(),this._popPanelShipFleetSelect=null},_dialogShipFleetSelectBtnClickOk:function(){var e=$("#dialogShipFleetSelect option:selected").val();if(e==""){var t=$.i18n.prop("func_cdgl_editship_tip_selectfleet");this._showErrorMsg(t);return}var n={};n.shipfleetid=e,n.shipid=this.shipid,n.shipname=this.shipname,n.mmsi=this.mmsi;var r=this.config.saveShipForAddUrl;this.ajax.post(r,n,!0,this,function(e){if(e.state!=1){var t=$.i18n.prop("func_cdgl_msg_tip_save_failed");this._showErrorMsg(t)}else{var n=$.i18n.prop("func_cdgl_msg_tip_save_sucess");this._dialogShipFleetSelectBtnClickCancel(),typeof this.addShipSuccessCallback=="function"?this.addShipSuccessCallback.call(this):null}},function(e){var t=$.i18n.prop("func_cdgl_msg_tip_save_failed");this._showErrorMsg(t)}),this._dialogShipFleetSelectBtnClickCancel()},dialogShowNoFleet:function(t){var n={title:"",width:410,height:150,top:200,left:450,contentHTML:this._getContentHtmlDialogNoFleet()},r=this._popPanelNotShipFleetMsg=new e.ICT.PopPanel(n);r.show(),setTimeout(this._bindBtnClickForNoFleet(t),1e3),this._popPanelNotShipFleetMsg.on("popPanelRemove",function(){this._popPanelNotShipFleetMsg=null},this)},_bindBtnClickForNoFleet:function(e){var t=$("#dialogNoFleetShowFleetManagerA");t.bind("click",function(){e._dialogNoFleetAClick()})},_getContentHtmlDialogNoFleet:function(){var e=$.i18n.prop("func_cdgladdship_nofleettip1"),t=$.i18n.prop("func_cdgladdship_nofleettip2"),n=$.i18n.prop("func_cdgladdship_nofleettip3"),r=[];return r.push('<TABLE border=0 style="width:390px;height:70px;">'),r.push("	<TR>"),r.push('		<TD style="width:64px;height:58px;text-align:left;vertical-align:middle;"></TD>'),r.push('		<TD style="width:58px;height:58px;text-align:left;vertical-align:middle;">'),r.push('			<div class="cdgladdship_addfleet_a">'),r.push("		</TD>"),r.push('		<TD style="width:25px;height:58px;text-align:left;vertical-align:middle;"></TD>'),r.push('		<TD style="width:234px;height:30px;text-align:left;vertical-align:middle;">'),r.push("			"+e+"</br>"+t+'&nbsp<a href="javascript:void(0);" id="dialogNoFleetShowFleetManagerA">'+n+"</a>"),r.push("		</TD>"),r.push('		<TD style="width:9px;height:58px;text-align:left;vertical-align:middle;"></TD>'),r.push("	</TR>"),r.push("</TABLE>"),r.join("")},_dialogNoFleetAClick:function(){this._popPanelNotShipFleetMsg&&this._popPanelNotShipFleetMsg.remove(),this._popPanelNotShipFleetMsg=null,this.menu.mainmenu.menuHandler("ict_menu_main_cdgl",!0)},_showMsg:function(t){e.ict.app.util.dialog.warn($.i18n.prop("dialog_alert_title"),t)},_showErrorMsg:function(t){e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),t)}})}),define("func/realTarget",["leaflet","core/namespace","leaflet/shipDistLayer","leaflet/rotateMarker","plugins/contextmenu","data/ajax","func/base","func/hjcx","func/tshf","func/cdgladdship"],function(e,t){e.ICT.RealTarget=e.Class.extend({initialize:function(t){this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.RealTargetConfig,this.ictmap=t,this.realtargetFeatureGroup=e.featureGroup([]),this.currentTarget=null,this._greendisLayer=null,this._shipSelectMarker=null,this._curDistType="1",this.lang=window.localStorage.getItem("language")||"zh",this.ictmap.map.addLayer(this.realtargetFeatureGroup),this.shipTypeList=Project_ParamConfig.FilterDisplayConfig.shipTypeList,this.shipFlagList=Project_ParamConfig.FilterDisplayConfig.shipFlagList,this.shipStateList=Project_ParamConfig.FilterDisplayConfig.shipStateList,this.shipSourceList=Project_ParamConfig.FilterDisplayConfig.shipSourceList,this.config.isZoomEndRequest&&this.getRealTarget()},chartToGoogle:function(){this.realtargetFeatureGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat+r,n.lng+i);t.setLatLng(s)},this)},googleToChart:function(){this.realtargetFeatureGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat-r,n.lng-i);t.setLatLng(s)},this)},reloadTargets:function(){this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.realtargetFeatureGroup.clearLayers(),this.getRealTarget(),this.ictmap.map.hasLayer(this._shipSelectMarker)&&this.currentTarget&&this._shipSelectMarker.setLatLng(this.currentTarget.getLatLng())},updateFilterLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){var t=!0,n=e.options.data;this.checkFilter(n)&&(t=!1),t?(e.setOpacity(0),this.removeTargetEvt(e)):(e.setOpacity(1),this.addTargetEvt(e))},this)},convertNameToKey:function(e,t){e=e.toString();var n=null;if(t!=="shiptype")if(t==="shipflag")switch(e){case"‰∏≠ÂõΩ":n="1";break;case"Ëã±ÂõΩ":n="2";break;case"Ê≥ïÂõΩ":n="3";break;case"ÁæéÂõΩ":n="4";break;case"‰øÑÁΩóÊñØ":n="5";break;default:n="100"}else t!=="shipstate"&&t==="shipsrc";return n},getTargetIcon:function(t){var t=t.toString(),n=null;switch(t){case"1":n=e.ICT.ShipIcon.ship1;break;case"2":n=e.ICT.ShipIcon.ship2;break;case"3":n=e.ICT.ShipIcon.ship3;break;case"4":n=e.ICT.ShipIcon.ship4;break;case"5":n=e.ICT.ShipIcon.ship5;break;case"6":n=e.ICT.ShipIcon.ship6;break;case"7":n=e.ICT.ShipIcon.ship7;break;case"8":n=e.ICT.ShipIcon.ship8;break;default:n=e.ICT.ShipIcon.ship100}return n},locateShip:function(t){var n=$.i18n.prop("dialog_alert_title"),r=$.i18n.prop("func_realtarget_infoerror");this.clearLocatLyr();var i=this.getShipById(t.shipid);if(i)this.locateLayer(i);else{var s=this.config.shipInfoUrl;this.ajax.post(s,t,!0,this,function(t){if(t.state!==1)e.ict.app.util.dialog.error(n,r);else{var i=this.convertshipInfoObj(t.msg),s=this.convertTargetObj(t.msg);this._locateShiplyr=this.createMarker(s,!0),this.ictmap.map.addLayer(this._locateShiplyr),this.locateLayer(this._locateShiplyr)}},function(e){})}},locateLayer:function(e){this.isRealTargetShow()?(this.ictmap.map.panTo(e.getLatLng()),e.fire("click")):(this.ictmap.map.setView(e.getLatLng(),this.config.showLevel),e.setOpacity(1),e.fire("click"))},clearLocatLyr:function(){this._locateShiplyr&&(this._locateShiplyr.options.hasSelectState&&this.removeShipInfoPopPanel(),this.ictmap.map.removeLayer(this._locateShiplyr),this._locateShiplyr=null)},showLocateLayer:function(){this._locateShiplyr&&this._locateShiplyr.setOpacity(1)},hideLocateLayer:function(){this._locateShiplyr&&this._locateShiplyr.setOpacity(0)},getShipById:function(e){var t=null,n=this.realtargetFeatureGroup.getLayers();for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.options.data;if(e===o.id){t=s;break}}return t},isRealTargetShow:function(){var e=!1;return this.realtargetFeatureGroup&&this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.ictmap.map.getZoom()>=this.config.showLevel&&(e=!0),e},changeShipDistLayer:function(e){this._curDistType=e,e==="1"?(this.hideRasterLayer(),this.ictmap.map.getZoom()<this.config.showLevel&&this.showGreenDistLayer()):(this.hideGreenDistLayer(),this.ictmap.map.getZoom()<this.config.showLevel&&this.showRasterLayer())},showShipDistLayer:function(){this._curDistType==="1"?this.showGreenDistLayer():this.showRasterLayer()},hideShipDistLayer:function(){this._curDistType==="1"?this.hideGreenDistLayer():this.hideRasterLayer()},addGreenDistLayer:function(){this.removeGreenDistLayer(),this._greendisLayer=new e.TileLayer.ShipDistLayer(this.config.shipDistLayerUrl),this.ictmap.map.addLayer(this._greendisLayer)},removeGreenDistLayer:function(){this._greendisLayer&&(this.ictmap.map.removeLayer(this._greendisLayer),this._greendisLayer=null)},showGreenDistLayer:function(){this._greendisLayer?this._greendisLayer.setOpacity(1):this.addGreenDistLayer()},hideGreenDistLayer:function(){this._greendisLayer&&this._greendisLayer.setOpacity(0)},addRasterLayer:function(){this.removeRasterLayer();var t=this.config.rasterUrl;this.ajax.post(t,{timeout:this.config.timeout},!0,this,function(t){t.state!==1?console.error(t.msg.error):(this._rasterLayer=e.featureGroup([]),this.ictmap.map.addLayer(this._rasterLayer),this._rasterLayer.bringToFront(),this.makeGrid(t.msg.data),(this._curDistType!=="2"||this.ictmap.map.getZoom()>=this.config.showLevel)&&this.hideRasterLayer())},function(e){console.error(e)})},makeGrid:function(t){for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.lat,o=i.lon;s>89&&(s=89),o>179&&(o=179);var u=e.latLng(s,o),a=e.latLng(s+1,o+1),f=e.latLngBounds(u,a),l=e.rectangle(f,{stroke:!1,text:i.v,fillColor:this.getBgColor(i.v),fillOpacity:.6});this._rasterLayer.addLayer(l)}},getBgColor:function(e){if(e<=10)return"#91E201";if(e>10&&e<=50)return"#009E01";if(e>50&&e<=100)return"#FFFF01";if(e>100&&e<=500)return"#FCCF00";if(e>500&&e<=1e3)return"#FD910B";if(e>1e3&&e<=5e3)return"#FA5E11";if(e>5e3)return"#F11415"},removeRasterLayer:function(){this._rasterLayer&&(this.ictmap.map.removeLayer(this._rasterLayer),this._rasterLayer=null)},showRasterLayer:function(){this._rasterLayer?this._rasterLayer.eachLayer(function(e){e.setStyle({fillOpacity:.6})},this):this.addRasterLayer()},hideRasterLayer:function(){this._rasterLayer&&this._rasterLayer.eachLayer(function(e){e.setStyle({fillOpacity:0})},this)},showRealTargetLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){this.checkFilter(e.options.data)&&e.setOpacity(1)},this),this.showLocateLayer(),this.showShipInfoPopPanel()},hideRealTargetLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){e.setOpacity(0)},this),this.hideLocateLayer(),this.hideShipInfoPopPanel()},removeRealTargetLayer:function(){this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.realtargetFeatureGroup.clearLayers(),this.removeShipInfoPopPanel()},addRealTargetLayer:function(){this.ictmap.getCurZoom()<this.config.showLevel?(this.showShipDistLayer(),this.hideRealTargetLayer()):(this.hideShipDistLayer(),this.showRealTargetLayer())},getRealTarget:function(){var t=this.config.shipRealUrl,n={};n.limit=this.config.limit,n.timeout=this.config.timeout,n=e.extend(n,this.getCurRectExtend()),this.ajax.post(t,n,!0,this,this._getRectTargetSuccessCallback,this._getRectTargetFailCallback),this.stopInterval(),this._interval=window.setInterval(function(){this.ajax.post(t,n,!0,this,this._getRectTargetSuccessCallback,this._getRectTargetFailCallback)}.bind(this),this.config.updatetime*1e3)},_getRectTargetSuccessCallback:function(e){if(e.state!==1||!e.msg.shipList||!e.msg.shipList.length)return;this.updateLayer(e)},_getRectTargetFailCallback:function(e){},stopInterval:function(){this._interval&&(window.clearInterval(this._interval),this._interval=null)},updateLayer:function(e){var t=this.convertShipList(e);this.updateAllTarget(t),this.removeInvalidTarget(t)},convertShipList:function(e){var t=e.msg.shipList,n=[];for(var r=0,i=t.length;r<i;r++){var s=this.convertTargetObj(t[r]);n.push(s)}return n},convertTargetObj:function(e){var t={};return t.id=e.mi,t.time=e.re,t.lon=parseFloat(e.lo/6e5),t.lat=parseFloat(e.la/6e5),t.dir=(e.di/10).toFixed(1),t.heading=e.he,t.speed=(e.sp/10).toFixed(1),t.status=e.st,t.infosrc=e.os,t.mmsi=e.mi,t.shipname=e.sn.replace(/@/g,""),t.callsign=e.cs.replace(/@/g,""),t.imo=e.imn,t.country=this.getDetialConvertName(e.cn,"country"),t.shiptype=e.ast,t},updateAllTarget:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this.updateOneTarget(r)}},updateOneTarget:function(t){var n=!1,r=this.realtargetFeatureGroup.getLayers();for(var i=0,s=r.length;i<s;i++){var o=r[i],u=o.options.data;if(u.id===t.id){n=!0;if(this.isChange(u,t)){var a=e.latLng(t.lat,t.lon);o.setLatLng(a),o.setRotationAngle(t.dir),o.options.data=t}break}}if(!n&&r.length<this.config.limit){var f=this.createMarker(t,!0);this.isShowNewTarget(t)||f.setOpacity(0),this.realtargetFeatureGroup.addLayer(f)}},isShowNewTarget:function(e){return!this.ictmap.OperateState.tshf&&!this.ictmap.OperateState.hjcx&&!this.ictmap.OperateState.heatmap&&this.checkFilter(e)&&this.isRealTargetShow()},isChange:function(e,t){var n=!1;if(t.lat!==e.lat||t.lon!==e.lon)n=!0;return n},createMarker:function(t,n){var n=n?n:!1,r=e.latLng(t.lat,t.lon),i=t.shipname,s=this.getTargetIcon(t.shiptype),o={icon:s,opacity:1,rotationAngle:t.dir,rotationOrigin:"center center",title:i,data:t};o.icon.options.className="leaflet-marker-rightclick-icon";var u=e.marker(r,o);return n&&this.addTargetEvt(u),u},checkFilter:function(e){return!0;var t,n,r,i,s,s,s,s},removeInvalidTarget:function(e){var t=this.realtargetFeatureGroup.getLayers();for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.options.data;this.isContain(s,e)||this.realtargetFeatureGroup.removeLayer(i)}},isContain:function(e,t){var n=!1;for(var r=0,i=t.length;r<i;r++)if(t[r].id===e.id){n=!0;break}return n},addTargetEvt:function(e){e.on("contextmenu",this._markerRightClickEvt,this),e.on("click",this._markerClickEvt,this)},removeTargetEvt:function(e){e.off("contextmenu",this._markerRightClickEvt,this),e.off("click",this._markerClickEvt,this)},_markerRightClickEvt:function(t){e.DomEvent.stopPropagation(t);var n=this.ictmap.map.getContainer(),r=t.containerPoint.x+n.offsetLeft,i=t.containerPoint.y+n.offsetTop;this.currentTarget=t.target,$(".leaflet-marker-rightclick-icon").contextMenu({x:r,y:i})},initContextMenu:function(){var e=this,t=$.i18n.prop("contextmenu_tshf"),n=$.i18n.prop("contextmenu_addhf"),r=$.i18n.prop("contextmenu_hjcx"),i=$.i18n.prop("contextmenu_addhj");$.contextMenu({selector:".leaflet-marker-rightclick-icon",trigger:"none",callback:function(t,n){e._rightClickCallback(t,n)},items:{tshf:{name:t,icon:e.getContextMenuIcon("tshf")},addhf:{name:n,icon:e.getContextMenuIcon("add")},hjcx:{name:r,icon:e.getContextMenuIcon("hjcx")},addcx:{name:i,icon:e.getContextMenuIcon("add")}}}),$(".ict_contextmenu_item_li").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})},getContextMenuIcon:function(e){return function(t,n,r,i){var s="icon-contextmenu-"+e,o=[];return o.push('<span class="'+s+'"></span>'),o.push('<span class="nametxt">'+i.name+"</span>"),o=o.join(""),n.html(o),"ict_contextmenu_item_li"}},_rightClickCallback:function(t,n){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}var r=this.currentTarget.options.data;if(t==="tshf")e.ICT.Func.TSHFOneShip.run();else if(t==="addhf"){var i=e.ICT.Func.TSHF.getInstance();i.addTarget(r),i._targetPanel?i.updateList():e.ict.app.util.dialog.success($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_right_add"))}else if(t==="hjcx")e.ICT.Func.HJCXOneShip.run();else if(t==="addcx"){var s=e.ICT.Func.HJCXMoreShip.getInstance();s.addTarget(r),s._popPanel?s.updateList():e.ict.app.util.dialog.success($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_right_add"))}},_markerClickEvt:function(t){var n=t.target,r=this.config.shipInfoUrl,i=t.target.options.data.id,s={};s.shipid=i,this.currentTarget=t.target,this.removeSelectMarker(),this.createSelectMarker(t),this.ajax.post(r,s,!0,this,function(t){if(t.state!==1)e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_geterror")),this.removeShipInfoPopPanel();else{var n=this.convertshipInfoObj(t.msg),r=this.config.isIncdUrl,s=!1,o=this;this.ajax.post(r,{mmsi:i},!0,this,function(e){e.state===1&&(s=!0)}).always(function(){o.createShipInfoPopPanel(n,s),o._initPopEvt()})}},function(e){this.removeShipInfoPopPanel()})},createSelectMarker:function(t){var n=t.target.getLatLng(),r=e.divIcon({iconSize:[24,24],iconAnchor:[12,12],className:"ict_markerselect_divicon"});this._shipSelectMarker=e.marker(n,{icon:r}),this._shipSelectMarker.on("contextmenu",function(e){var n={};n.containerPoint=e.containerPoint,n.layerPoint=e.layerPoint,n.latlng=t.target.getLatLng(),t.target.fire("contextmenu",n)},this),this._shipSelectMarker.on("click",function(e){var n={};n.containerPoint=e.containerPoint,n.layerPoint=e.layerPoint,n.latlng=t.target.getLatLng(),t.target.fire("click",n)},this),this._shipSelectMarker.addTo(this.ictmap.map),$(".ict_markerselect_divicon").css("border","dotted 2px #f00"),t.target.options.hasSelectState=!0,t.target.on("move",function(e){this._shipSelectMarker&&t.target.options.hasSelectState&&this._shipSelectMarker.setLatLng(e.target.getLatLng())},this)},removeSelectMarker:function(){this._shipSelectMarker&&(this._shipSelectMarker.remove(),this._shipSelectMarker=null,this.clearSelectState())},showSelectMarker:function(){this._shipSelectMarker&&this._shipSelectMarker.setOpacity(1)},hideSelectMarker:function(){this._shipSelectMarker&&this._shipSelectMarker.setOpacity(0)},clearSelectState:function(){var e=this.realtargetFeatureGroup.getLayers();for(var t=0,n=e.length;t<n;t++){var r=e[t];r.options.hasSelectState&&(r.options.hasSelectState=!1)}},createShipInfoPopPanel:function(t,n){if(this._shipinfoPopPanel){this.showShipInfoPopPanel(),this._shipinfoPopPanel.setContent(this.getPopupContent(t,n));return}var r=$.i18n.prop("func_realtarget_info_title"),i={title:r,width:460,height:330,right:40,top:100,disableSelect:!1,className:"ict_realTarget_popupContainer",contentHTML:this.getPopupContent(t,n)};this._shipinfoPopPanel=new e.ICT.PopPanel(i),this._shipinfoPopPanel.on("popPanelRemove",function(){this._shipinfoPopPanel=null,this.removeSelectMarker()},this),this._shipinfoPopPanel.show()},removeShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.remove(),this._shipinfoPopPanel=null)},showShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.show(),this.showSelectMarker())},hideShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.close(),this.hideSelectMarker())},convertshipInfoObj:function(e){var t=$.i18n.prop("common_default_val"),n=$.i18n.prop("common_unit_mile"),r=$.i18n.prop("func_filter_shipflag_100"),i={};i.id=e.mi,i.time=e.re,i.lon=parseFloat(e.lo/6e5),i.lat=parseFloat(e.la/6e5),i.dir=(e.di/10).toFixed(1),i.heading=e.he,i.speed=e.sp/10,i.status=this.getDetialConvertName(e.st,"status"),i.infosrc=e.os,i.mmsi=e.mi,i.shipname=e.sn.replace(/@/g,"")||t,i.callsign=e.cs.replace(/@/g,"")||t,i.imo=e.imn;var s=this.lang==="en"?e.cne.replace(/@/g,""):e.cn.replace(/@/g,"");return i.country=s||r,i.shiptype=this.getDetialConvertName(e.ast,"ship_type"),i.shiplength=e.sl+" "+n,i.shipwidth=e.sb+" "+n,i.rotsensor=e.ro,i.destination=e.de.replace(/@/g,"")||t,i.reachtime=e.et,i},getPopupContent:function(t,n){var r=$.i18n.prop("common_ship_shipname"),i=$.i18n.prop("common_ship_country"),s=$.i18n.prop("common_ship_callsign"),o=$.i18n.prop("common_ship_len"),u=$.i18n.prop("common_ship_type"),a=$.i18n.prop("common_ship_width"),f=$.i18n.prop("common_ship_lng"),l=$.i18n.prop("common_ship_lat"),c=$.i18n.prop("common_ship_dir"),h=$.i18n.prop("common_ship_heading"),p=$.i18n.prop("common_ship_rot"),d=$.i18n.prop("common_ship_des"),v=$.i18n.prop("common_ship_arrivetime"),m=$.i18n.prop("common_ship_updatetime"),g=$.i18n.prop("common_ship_record"),y=$.i18n.prop("common_ship_addcd"),b=$.i18n.prop("func_cdgl_editfleet_titlename"),w=$.i18n.prop("common_ship_speed"),E=$.i18n.prop("common_ship_speed_unit"),S=$.i18n.prop("common_ship_status"),x=e.ict.app.util.tool.latlngTodfmStr(t.lat,"lat"),T=e.ict.app.util.tool.latlngTodfmStr(t.lon,"lng"),N=e.ict.app.util.dateTime.getTimeStrFromUnix(t.time),C=[];return C.push('<div class="shipInfo_Div">'),C.push('<div class="shipInfo_table_div">'),C.push('<table data-id="'+t.id+'">'),C.push('<tr><td width="20%">'+r+"</td><td>"+t.shipname+'</td><td width="20%">'+i+"</td><td>"+t.country+"</td></tr>"),C.push("<tr><td>"+s+"</td><td>"+t.callsign+"</td><td>MMSI:</td><td>"+t.mmsi+"</td></tr>"),C.push("<tr><td>IMO:</td><td>"+t.imo+"</td><td>"+o+"</td><td>"+t.shiplength+"</td></tr>"),C.push("<tr><td>"+u+"</td><td>"+t.shiptype+"</td><td>"+a+"</td><td>"+t.shipwidth+"</td></tr>"),C.push("<tr><td>"+f+"</td><td>"+T+"</td><td>"+l+"</td><td>"+x+"</td></tr>"),C.push("<tr><td>"+c+"</td><td>"+t.dir+"¬∞</td><td>"+h+"</td><td>"+t.heading+"¬∞</td></tr>"),C.push("<tr><td>"+w+"</td><td>"+t.speed+" "+E+"</td><td>"+S+"</td><td>"+t.status+"</td></tr>"),C.push("<tr><td>"+p+"</td><td>"+t.rotsensor+"¬∞/min"+"</td><td>"+d+"</td><td>"+t.destination+"</td></tr>"),C.push("<tr><td>"+v+"</td><td>"+t.reachtime+"</td><td>"+m+"</td><td>"+N+"</td></tr>"),C.push("</table>"),C.push("</div>"),C.push('<div class="btnDiv">'),C.push('<button type="button" class="btn daxx">'+g+"</button>"),n?C.push('<button type="button" class="btn editcd">'+b+"</button>"):C.push('<button type="button" class="btn addcd">'+y+"</button>"),C.push("</div>"),C.push("</div>"),C.join("")},_initPopEvt:function(){var t=this;$(".ict_realTarget_popupContainer .btnDiv>button").on("click",function(n){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}var r=t.currentTarget.options.data.id,i=t.currentTarget.options.data.shipname,s=t.currentTarget.options.data.mmsi;if(!$(this).hasClass("daxx"))if($(this).hasClass("addcd")){var o=new e.ICT.CdglAddShip;o.addShipToFleet(o,r,i,s,function(){if(t.currentTarget.options.data.id===r&&t._shipinfoPopPanel){var e=$.i18n.prop("func_cdgl_editfleet_titlename"),n='<button type="button" class="btn editcd">'+e+"</button>";t._shipinfoPopPanel.getContainer().find("button.addcd").replaceWith(n),t._initPopEvt()}})}else $(this).hasClass("editcd")&&e.ict.app.menu.mainmenu.activeMenu("ict_menu_main_cdgl")})},getDetialConvertName:function(e,t){var n="";e=e.toString();if(t=="ship_type")switch(e){case"1":n=$.i18n.prop("func_filter_shiptype_1");break;case"2":n=$.i18n.prop("func_filter_shiptype_2");break;case"3":n=$.i18n.prop("func_filter_shiptype_3");break;case"4":n=$.i18n.prop("func_filter_shiptype_4");break;case"5":n=$.i18n.prop("func_filter_shiptype_5");break;case"6":n=$.i18n.prop("func_filter_shiptype_6");break;case"7":n=$.i18n.prop("func_filter_shiptype_7");break;default:n=$.i18n.prop("func_filter_shiptype_100")}else if(t=="country")switch(e){case"‰∏≠ÂõΩ":n="‰∏≠ÂõΩ";break;case"Ëã±ÂõΩ":n="Ëã±ÂõΩ";break;case"Ê≥ïÂõΩ":n="Ê≥ïÂõΩ";break;case"ÁæéÂõΩ":n="ÁæéÂõΩ";break;default:n="ÂÖ∂‰ªñ"}else if(t=="hwlx")n=e;else if(t=="status")switch(e){case"0":n=$.i18n.prop("func_filter_shipsta_0");break;case"1":n=$.i18n.prop("func_filter_shipsta_1");break;case"2":n=$.i18n.prop("func_filter_shipsta_2");break;case"3":n=$.i18n.prop("func_filter_shipsta_3");break;case"4":n=$.i18n.prop("func_filter_shipsta_4");break;case"5":n=$.i18n.prop("func_filter_shipsta_5");break;case"6":n=$.i18n.prop("func_filter_shipsta_6");break;case"7":n=$.i18n.prop("func_filter_shipsta_7");break;case"8":n=$.i18n.prop("func_filter_shipsta_8");break;default:n=$.i18n.prop("common_default_val")}else if(t=="fixing_device")switch(e){case"-1":res1="ÈùûÊ≥ï";break;case"0":n="ÈªòËÆ§";break;case"1":n="GPS";break;case"2":n="GLONASS";break;case"3":n="GPS/GLONASSÁªÑÂêà";break;case"4":n="Loran-C";break;case"5":n="Chayka";break;case"6":n="ÁªºÂêàÂØºËà™Á≥ªÁªü";break;case"7":n="ËßÇÊµã";break;case"8":n="ÂåóÊñó";break;case"9":case"10":case"11":case"12":case"13":case"14":n="Êú™‰ΩøÁî®";break;case"15":n="ÂÜÖÈÉ®GNSS";break;default:n=e}else if(t=="commun_state")switch(e){case"0":n="Êú™Áü•";break;case"1":n="SOTDMA";break;case"2":n="ITDMA";break;default:n=e}else if(t=="pos_accuracy")switch(e){case"0":n="Êú™Áü•";break;case"1":n="ÂÆö‰ΩçËØØÂ∑ÆÂ§ß‰∫é10Á±≥";break;case"2":n="ÂÆö‰ΩçËØØÂ∑ÆÂ∞è‰∫éÁ≠â‰∫é10Á±≥";break;default:n=e}else if(t=="orig_info_source")switch(e){case"1":n="ÂÜú‰∏öÈÉ®";break;case"2":n="Êµ∑‰∫ãÂ±Ä";break;case"3":n="Êµ∑Áõë";break;default:n=e}else if(t=="orig_info_type")switch(e){case"1":n="ArgosÂèäÊµ∑‰∫ãÂç´Êòü";break;case"2":n="ÂåóÊñó";break;case"3":n="AISÈùôÊÄÅ";break;case"4":n="AISÂä®ÊÄÅ";break;case"5":n="LRIT";break;case"7":n="Êµ∑Áõë";break;case"15":n="ÁªºÂêà‰ø°ÊÅØ";break;default:n=e}return n},getDetialConvertName_lang:function(e,t){var n="";if(t==="shiptype"){var r=e.ast.trim();switch(r){case"1":n=$.i18n.prop("func_filter_shiptype_1");break;case"2":n=$.i18n.prop("func_filter_shiptype_2");break;case"3":n=$.i18n.prop("func_filter_shiptype_3");break;case"4":n=$.i18n.prop("func_filter_shiptype_4");break;case"5":n=$.i18n.prop("func_filter_shiptype_5");break;case"6":n=$.i18n.prop("func_filter_shiptype_6");break;case"7":n=$.i18n.prop("func_filter_shiptype_7");break;default:n=$.i18n.prop("func_filter_shiptype_100")}}else if(t=="country"){var r=this.lang==="en"?e.cn.replace(/@/g,""):e.cne.replace(/@/g,"");switch(r){case"‰∏≠ÂõΩ":n="‰∏≠ÂõΩ";break;case"Ëã±ÂõΩ":n="Ëã±ÂõΩ";break;case"Ê≥ïÂõΩ":n="Ê≥ïÂõΩ";break;case"ÁæéÂõΩ":n="ÁæéÂõΩ";break;default:n="ÂÖ∂‰ªñ"}}else if(t=="hwlx")n=code;else if(t=="status")switch(code){case"0":n="Êú∫Âä®ËàπÂú®Ëà™";break;case"1":n="ÈîöÊ≥ä";break;case"2":n="ËàπËà∂Â§±Êéß";break;case"3":n="ËàπËà∂Êìç‰ΩúÂèóÈôê";break;default:n=code}else if(t=="fixing_device")switch(code){case"-1":res1="ÈùûÊ≥ï";break;case"0":n="ÈªòËÆ§";break;case"1":n="GPS";break;case"2":n="GLONASS";break;case"3":n="GPS/GLONASSÁªÑÂêà";break;case"4":n="Loran-C";break;case"5":n="Chayka";break;case"6":n="ÁªºÂêàÂØºËà™Á≥ªÁªü";break;case"7":n="ËßÇÊµã";break;case"8":n="ÂåóÊñó";break;case"9":case"10":case"11":case"12":case"13":case"14":n="Êú™‰ΩøÁî®";break;case"15":n="ÂÜÖÈÉ®GNSS";break;default:n=code}else if(t=="commun_state")switch(code){case"0":n="Êú™Áü•";break;case"1":n="SOTDMA";break;case"2":n="ITDMA";break;default:n=code}else if(t=="pos_accuracy")switch(code){case"0":n="Êú™Áü•";break;case"1":n="ÂÆö‰ΩçËØØÂ∑ÆÂ§ß‰∫é10Á±≥";break;case"2":n="ÂÆö‰ΩçËØØÂ∑ÆÂ∞è‰∫éÁ≠â‰∫é10Á±≥";break;default:n=code}else if(t=="orig_info_source")switch(code){case"1":n="ÂÜú‰∏öÈÉ®";break;case"2":n="Êµ∑‰∫ãÂ±Ä";break;case"3":n="Êµ∑Áõë";break;default:n=code}else if(t=="orig_info_type")switch(code){case"1":n="ArgosÂèäÊµ∑‰∫ãÂç´Êòü";break;case"2":n="ÂåóÊñó";break;case"3":n="AISÈùôÊÄÅ";break;case"4":n="AISÂä®ÊÄÅ";break;case"5":n="LRIT";break;case"7":n="Êµ∑Áõë";break;case"15":n="ÁªºÂêà‰ø°ÊÅØ";break;default:n=code}return n},getCurRect:function(){var e={},t=this.ictmap.getBounds(),n=t.getSouthWest(),r=t.getNorthEast();return e.ldlon=parseFloat(n.lng.toFixed(6)),e.ldlat=parseFloat(n.lat.toFixed(6)),e.rulon=parseFloat(r.lng.toFixed(6)),e.rulat=parseFloat(r.lat.toFixed(6)),e},getCurRectExtend:function(){var e={},t=this.ictmap.getBounds().pad(this.config.bufferRatio),n=t.getSouthWest(),r=t.getNorthEast();return e.ldlon=parseFloat(n.lng.toFixed(6)),e.ldlat=parseFloat(n.lat.toFixed(6)),e.rulon=parseFloat(r.lng.toFixed(6)),e.rulat=parseFloat(r.lat.toFixed(6)),e}})}),define("core/map",["leaflet","core/baseobject","leaflet/chartLayer","leaflet/googleLayer","esri/leaflet","data/ajax","control/draw","control/layerswitch","func/realTarget","func/portInfo"],function(e){e.ICT.Map=e.ICT.BaseObject.extend({map:null,_baseLayer:null,_drawTool:null,realtarget:null,portlayer:null,OperateState:{tshf:!1,hjcx:!1,heatmap:!1},initialize:function(t){e.setOptions(this,t),this.ajax=new e.ICT.Ajax;var n=t.MapOptions.center,r=t.MapOptions.zoom,i=t.MapOptions.minZoom,s=t.MapOptions.maxZoom,o=e.CRS.EPSG3857;this.options.changeLayers.forEach(function(t,n,r){n.id==="baseLayer-ocean"&&n.active&&(o=e.CRS.EPSG3395)});var u=e.map("mappanel",{center:e.latLng(n),zoom:r,minZoom:i,maxZoom:s,crs:o,zoomControl:!1,attributionControl:!1,closePopupOnClick:!1,doubleClickZoom:!1,continuousWorld:!0,maxBounds:e.latLngBounds(e.latLng(-90,-180),e.latLng(90,180)),renderer:new e.VectorLabelCanvas});for(var a=0;a<this.options.changeLayers.length;a++){var f=this.options.changeLayers[a];switch(f.id){case"baseLayer-ocean":f.layer=e.tileLayer.ChartLayer(null,{id:f.id,opacity:0});break;case"baseLayer-googleRoadMap":f.layer=e.tileLayer.GoogleLayer(null,{id:f.id,lyrs:"m",opacity:0});break;case"baseLayer-gooleSatellite":f.layer=e.tileLayer.GoogleLayer(null,{id:f.id,lyrs:"y",opacity:0});break;default:}u.addLayer(f.layer),f.active&&(this._baseLayer=f.layer)}this._baseLayer&&this._baseLayer.setOpacity(1),this.map=u,(new e.ICT.Control.LayerSwitch).addTo(this.map).on("baseLayerChangeEvent",function(t){var n=t.curBaseLayer,r=this.getBaseLayer();this.setBaseLayer(t.curBaseLayer);if(n.options.id==="baseLayer-ocean"){var i=this.map.getCenter();this.map.options.crs=e.CRS.EPSG3395,this.map.panTo(i),this.realtarget.reloadTargets(),this.portlayer.reloadPortLayer()}else if(r.options.id==="baseLayer-ocean"){var i=this.map.getCenter();this.map.options.crs=e.CRS.EPSG3857,this.map.panTo(i),this.realtarget.reloadTargets(),this.portlayer.reloadPortLayer()}},this),e.control.zoom({position:"topright"}).addTo(this.map),e.control.scale({position:"bottomleft"}).addTo(this.map),this._attrcontrol=e.control.attribution({position:"bottomright",prefix:!1}).addTo(this.map),this.map.on("movestart",this._movestartEvt,this).on("click",this._mapClickEvt,this).on("mousemove",this._mousemoveEvt,this).on("moveend",this._moveendEvt,this),this.portlayer=new e.ICT.PortInfo(this),this.realtarget=new e.ICT.RealTarget(this),this.realtarget.addRealTargetLayer(),this.realtarget.initContextMenu()},pointChinge:function(e){Proj4js.defs["EPSG:4326"]="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",Proj4js.defs["EPSG:41001"]="+title=simple mercator EPSG:41001 +proj=merc +lat_ts=0 +lon_0=0 +k=1.000000 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m";var t=new Proj4js.Proj("WGS84"),n=new Proj4js.Proj("EPSG:41001");return Proj4js.transform(n,t,e),e},_movestartEvt:function(e){this._moverstartBounds=e.target.getBounds(),this._startzoom=e.target.getZoom(),this._startcenter=e.target.getCenter()},_mousemoveEvt:function(t){var n=t.latlng,r=e.ict.app.util.tool.latlngTodfmStr(n.lat,"lat"),i=e.ict.app.util.tool.latlngTodfmStr(n.lng,"lng"),s=$.i18n.prop("common_ship_lat"),o=$.i18n.prop("common_ship_lng"),u=[];Project_ParamConfig.lang==="en"?u.push('<table style="width:280px;">'):u.push('<table style="width:230px;">'),u.push("<tr>"),u.push('<td style="width:16%;">'+o+"</td>"),u.push('<td style="width:34%;">'+i+"</td>"),u.push('<td style="width:16%;">'+s+"</td>"),u.push('<td style="width:34%;">'+r+"</td>"),u.push("</tr>"),u.push("</table>"),u=u.join("");if(this._attrcontrol){var a=this._attrcontrol.getContainer();$(a).html(u)}},_moveendEvt:function(e){if(this.hasPoppanel())return;if(!this.realtarget)return;if(this.OperateState.tshf)return;if(this.OperateState.hjcx)return;if(this.OperateState.heatmap)return;this._moveendBounds=e.target.getBounds(),this._endzoom=e.target.getZoom(),this._endcenter=e.target.getCenter(),this._moverstartBoundsExtend=this._moverstartBounds.pad(this.realtarget.config.bufferRatio),this._moveendBoundsExtend=this._moveendBounds.pad(this.realtarget.config.bufferRatio),this.portlayer.showOrHidePortLayer();if(this._endzoom!==this._startzoom||!this._startcenter.equals(this._endcenter))if(this._endzoom===this._startzoom&&!this._startcenter.equals(this._endcenter))this._endzoom>=this.realtarget.config.showLevel&&(this._moveendBoundsExtend.intersects(this._moverstartBoundsExtend)?this.realtarget.getRealTarget():this.realtarget.getRealTarget());else{if(this._startzoom<this.realtarget.config.showLevel&&this._endzoom<this.realtarget.config.showLevel)return;this._startzoom>=this.realtarget.config.showLevel&&this._endzoom>=this.realtarget.config.showLevel?(this._endzoom>this._startzoom&&this.realtarget.getRealTarget(),this._endzoom<this._startzoom&&this.realtarget.getRealTarget()):this._startzoom<this.realtarget.config.showLevel&&this._endzoom>=this.realtarget.config.showLevel?(this.realtarget.hideShipDistLayer(),this.realtarget.showRealTargetLayer()):this._startzoom>=this.realtarget.config.showLevel&&this._endzoom<this.realtarget.config.showLevel&&(this.realtarget.hideRealTargetLayer(),this.realtarget.showShipDistLayer())}},_mapClickEvt:function(e){},activate:function(t,n,r,i){this.deactivate(),this.setCursor(t);switch(t){case e.ICT.MapMouseState.PAN:break;case e.ICT.MapMouseState.ZOOM_IN:this.map.zoomIn();break;case e.ICT.MapMouseState.ZOOM_OUT:this.map.zoomOut();break;case e.ICT.MapMouseState.POINT:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.point(n,i);break;case e.ICT.MapMouseState.POLYLINE:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.polyline(n,i);break;case e.ICT.MapMouseState.PATH:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.path(n,i);break;case e.ICT.MapMouseState.CIRCLE:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.circle(n,i);break;case e.ICT.MapMouseState.RECTANGLE:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.rectangle(n,i);break;case e.ICT.MapMouseState.POLYGON:this._drawTool==null&&(this._drawTool=new e.ICT.Draw(this.map)),this._drawTool.polygon(n,i);break;case e.ICT.MapMouseState.MEASURELEN:break;case e.ICT.MapMouseState.MEASUREAREA:break;default:}r!=null&&r(),this.status=t},deactivate:function(){this._drawTool&&this._drawTool.disable(),this.setCursor(e.ICT.MapMouseState.PAN)},setCursor:function(t){t==e.ICT.MapMouseState.PAN?this.map.getContainer().style.cursor="":this.map.getContainer().style.cursor="default"},setCursorImg:function(e){e!=undefined?this.map.getContainer().style.cursor="url(themes/images/cursor/"+e+"),auto":this.map.getContainer().style.cursor=""},getBaseLayer:function(){return this._baseLayer},setBaseLayer:function(e){this._baseLayer=e},getMap:function(){return this.map},getCurZoom:function(){return this.map.getZoom()},getMinZoom:function(){return this.map.getMinZoom()},getMaxZoom:function(){return this.map.getMaxZoom()},getBounds:function(){return this.map.getBounds()},getBoundsExtend:function(){return this.map.getBounds().pad(Project_ParamConfig.RealTargetConfig.bufferRatio)},hasPoppanel:function(){return this.map.getPane("popupPane").innerHTML==""?!1:!0}}),e.ICT.MapMouseState={PAN:"pan",ZOOM_IN:"zoom_in",ZOOM_OUT:"zoom_out",POINT:"point",PATH:"path",POLYLINE:"polyline",CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",MEASURELEN:"measurelen",MEASUREAREA:"meausrearea"},e.ICT.ShipIcon={ship1:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_1.png",iconSize:[10,22],iconAnchor:[5,11]}),ship2:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_100.png",iconSize:[10,22],iconAnchor:[5,11]}),ship3:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_3.png",iconSize:[10,22],iconAnchor:[5,11]}),ship4:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_4.png",iconSize:[10,22],iconAnchor:[5,11]}),ship5:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_5.png",iconSize:[10,22],iconAnchor:[5,11]}),ship6:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_6.png",iconSize:[10,22],iconAnchor:[5,11]}),ship7:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_7.png",iconSize:[10,22],iconAnchor:[5,11]}),ship8:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_8.png",iconSize:[10,22],iconAnchor:[5,11]}),ship100:e.icon({iconUrl:"themes/images/filterdisplay/shipTypeList_100.png",iconSize:[10,22],iconAnchor:[5,11]}),close:e.icon({iconUrl:"images/dialog/hjxs_close.png",iconSize:[18,18],iconAnchor:[28,14]})}}),define("core/pool",["leaflet","core/baseobject","core/namespace"],function(e){e.ICT.Pool=e.ICT.BaseObject.extend({pool:[],initialize:function(){},add:function(e,t){t==undefined&&(t=e.id);if(t==null)return null;if(this.has(t))return null;this.pool.push({obj:e,key:t})},remove:function(e){for(var t=0;t<this.pool.length;t++)if(this.pool[t].key==e){this.pool.splice(t,1);break}},get:function(e){for(var t=0;t<this.pool.length;t++)if(this.pool[t].key==e)return this.pool[t].obj;return null},has:function(e){for(i=0;i<this.pool.length;i++)if(this.pool[i].key==e)return!0;return!1}})}),define("data/localStorage",["leaflet","core/namespace"],function(e){e.ICT.LocalStorage=e.Class.extend({initialize:function(){window.localStorage||(window.localStorage={getItem:function(e){return!e||!this.hasOwnProperty(e)?null:unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){if(!e)return;document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length},length:0,removeItem:function(e){if(!e||!this.hasOwnProperty(e))return;document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--},hasOwnProperty:function(e){return(new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}},window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length)},getItem:function(e){var t=window.localStorage.getItem(e);if(t!==null)try{t=JSON.parse(t)}catch(n){return t}return t},setItem:function(e,t){return typeof t=="object"&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},removeItem:function(e){return window.localStorage.removeItem(e)},getLength:function(){return window.localStorage.length},clear:function(){return window.localStorage.clear()}})}),define("data/sessionStorage",["leaflet","core/namespace"],function(e){e.ICT.SessionStorage=e.Class.extend({initialize:function(){window.sessionStorage||(window.sessionStorage={getItem:function(e){return!e||!this.hasOwnProperty(e)?null:unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){if(!e)return;document.cookie=escape(e)+"="+escape(t)+"; path=/",this.length=document.cookie.match(/\=/g).length},length:0,removeItem:function(e){if(!e||!this.hasOwnProperty(e))return;document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--},hasOwnProperty:function(e){return(new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}},window.sessionStorage.length=(document.cookie.match(/\=/g)||window.sessionStorage).length)},getItem:function(e){var t=window.sessionStorage.getItem(e);if(t!==null)try{t=JSON.parse(t)}catch(n){return t}return t},setItem:function(e,t){return typeof t=="object"&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)},removeItem:function(e){return window.sessionStorage.removeItem(e)},getLength:function(){return window.sessionStorage.length},clear:function(){return window.sessionStorage.clear()}})}),define("library/requirejs/css!themes/css/func.keysearch",[],function(){}),define("library/requirejs/css!themes/css/control.paging",[],function(){}),define("control/paging",["leaflet","core/namespace","core/baseobject"],function(e){e.ICT.Control.Paging=e.ICT.BaseObject.extend({id:"L.ICT.Control.Paging",options:{total:0,count:5,present:1,pageChange:null},initialize:function(t){e.setOptions(this,t)},addTo:function(e){this._initUi(),this._parentContainer=e,this._parentContainer.appendChild(this._container)},getBody:function(){return this._initUi(),this._container},remove:function(){this._parentContainer!=null&&this._container.remove()},setTotal:function(e){this.options.total=e,this._container!=null&&this._changePresentElement(this.options.present)},setCount:function(e){this.options.count=e,this._container!=null&&this._changePresentElement(this.options.present)},setPresent:function(e){this.options.present=e,this._container!=null&&this._changePresentElement(this.options.present)},getTotal:function(){return this.options.total},getCount:function(){return this.options.count},getPresent:function(){return this.options.present},_initUi:function(){var e=this._container=$('<p class="paging container"></p>')[0];this.options.present>this.options.total&&(this.options.present=this.options.total),this.options.present<1&&(this.options.present=1),this._repaintUi(this.options.present)},_repaintUi:function(t){var n="",r=Math.ceil(parseFloat(t)/parseFloat(this.options.count));this._presentGroup=r;var i=(r-1)*this.options.count+1,s=r*this.options.count;s>this.options.total&&(s=this.options.total),i<1&&(i=1),n='<span class="paging button icon-previous-page"></span>';for(var o=i;o<=s;o++)o==t?n=n+'<span class="paging number present">'+o+"</span>":n=n+'<span class="paging number">'+o+"</span>";n+='<span class="paging button icon-next-page"></span>',$(this._container).html(n);var u=$(this._container).find(".number"),a=$(this._container).find(".icon-previous-page")[0],f=$(this._container).find(".icon-next-page")[0];e.DomEvent.on(f,"click",this._nextClick,this),e.DomEvent.on(a,"click",this._previousClick,this);if(u!=null&&u.length>0)for(var l=0;l<u.length;l++)e.DomEvent.on(u[l],"click",this._numClick,this)},_changePresentElement:function(e){var t=Math.ceil(parseFloat(e)/parseFloat(this.options.count));this._repaintUi(e);var n=$(this._container).find(".paging.number");for(var r=0;r<n.length;r++){var i=n[r];i.innerHTML==this.options.present?$(i).hasClass(".present")||$(i).addClass("present"):$(i).removeClass("present")}},_callPageChange:function(){this.options.pageChange!=null&&this.options.pageChange(this.options.present)},_numClick:function(e){var t=parseInt(e.target.innerHTML);this.options.present!=t&&(this.options.present=t,this._changePresentElement(this.options.present),this._callPageChange()),e.stopPropagation()},_nextClick:function(e){this.options.present<this.options.total&&(this.options.present=this.options.present+1,this._changePresentElement(this.options.present),this._callPageChange()),e.stopPropagation()},_previousClick:function(e){this.options.present>1&&(this.options.present=this.options.present-1,this._changePresentElement(this.options.present),this._callPageChange()),e.stopPropagation()}})}),define("func/keysearch",["leaflet","func/base","data/ajax","plugins/mcscroll","control/paging","control/panel","func/userLogin"],function(e){e.ICT.Func.add("KeySearch",{Class:e.Class.extend({initialize:function(){this.dialog=e.ict.app.util.dialog,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.SearchConfig,this.ictmap=e.ict.app.ictmap,this.perPageCount=9,this._respopPanel=null,this._container=null},start:function(t){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}this.stop(),this.param=t;if(this.param.searchText==""){this.param.searchType==="1"?this.dialog.warn($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_keysearch_ship_error1")):this.param.searchType==="2"&&this.dialog.warn($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_keysearch_port_error1"));return}var n=this.param.searchType;if(n==="1"){var r=4;this.shipSearch(r)}else n==="2"&&this.portSearch()},stop:function(){this._respopPanel&&this._respopPanel.remove(!1),this._respopPanel=this._container=null,this.ictmap.realtarget.clearLocatLyr()},shipSearch:function(e){this.curPage=1,this.ajaxCount=0,this.data={type:e,num:this.param.searchText,pageid:this.curPage,pagecount:this.perPageCount},this.searchAjax(this.data)},searchAjax:function(e){var t=this.config.shipSearchUrl;this.ajax.post(t,e,!0,this,function(e){this.ajaxCount++,e.state!==1?(console.error(e.msg.error),this.dialog.warn($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_keysearch_ship_error2"))):this.showSearchResult(e)},function(e){this.ajaxCount++})},showSearchResult:function(e){var t=this,n=this.getTableHtml(e);this.ajaxCount==1?(this._initRespopPanel(e),this._initResEvts(e)):(this._container.find(".searchTableContainer").html(n),this._container.find(".searchTableContainer").find(".mscrollbar").mCustomScrollbar({theme:"minimal-dark",axis:"yx"}),this._container.find(".searchTableContainer").find("table tr").on("click",function(e){t._clickRowEvt(e)}))},_initRespopPanel:function(t){var n={title:$.i18n.prop("func_keysearch_res_title",t.msg.total),width:290,height:280,left:345,top:60,isDrag:!1};n.contentHTML=this._container=$(this.getResContentHtml(t)),this._respopPanel=(new e.ICT.PopPanel(n)).show(),this._respopPanel.on("popPanelRemove",function(){this._container=null,this._respopPanel=null,this.stop()},this)},_initResEvts:function(t){var n=this,r={total:t.msg.max_page,count:5,present:this.curPage};r.pageChange=function(e){n.curPage=e,n.data.pageid=n.curPage,n.searchAjax(n.data)};var i=new e.ICT.Control.Paging(r);i.addTo(this._container.find(".pageContainer")[0]),this._container.find("table tr").on("click",function(e){n._clickRowEvt(e)}),this._container.find(".mscrollbar").mCustomScrollbar({theme:"minimal-dark",axis:"yx"})},getTableHtml:function(e){var t=[],n=e.msg.shipList;t.push('<div class="mscrollbar"><table>');for(var r=0,i=n.length;r<i;r++){var s=this.convertOneTargetFromObj(n[r]),o=s.id,u=$.i18n.prop("common_ship_shipname");t.push('<tr data-id="'+o+'">'),t.push("<td>MMSI:"+s.mmsi+"</td>"),t.push("<td>"+u+s.sn+"</td>"),t.push("<td>IMO:"+s.imo+"</td>"),t.push("</tr>")}return t.push("</table></div>"),t.join("")},getResContentHtml:function(e){var t=[],n=e.msg.shipList;return t.push('<div class="searchResContainer">'),t.push('<div class="searchTableContainer" >'),t.push(this.getTableHtml(e)),t.push("</div>"),t.push('<div class="pageContainer"></div>'),t.push("</div>"),t.join("")},convertOneTargetFromObj:function(e){var t={};return t.mmsi=e.mmsi,t.imo=e.imo,t.sn=e.sn.replace(/@/g,""),t.id=e.mmsi,t.mode=e.mode,t},_clickRowEvt:function(e){$(e.currentTarget).addClass("active").siblings().removeClass("active");var t=$(e.currentTarget).data("id"),n={};n.shipid=t,this.ictmap.realtarget.locateShip(n)},portSearch:function(){var e=this.config.portSearchUrl,t={portname:this.param.searchText};this.ajax.post(e,t,!0,this,function(e){e.state!==1?(console.error(e.msg),this.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_keysearch_port_error2"))):this.showPortSearchRes(e)},function(e){})},showPortSearchRes:function(t){var n={title:$.i18n.prop("func_keysearch_res_title",t.msg.limit),width:290,height:280,left:345,top:60,isDrag:!1};n.contentHTML=this._container=$(this.getPortResContentHtml(t)),this._respopPanel=(new e.ICT.PopPanel(n)).show(),this._respopPanel.on("popPanelRemove",function(){this._container=null,this._respopPanel=null},this);var r=this;this._container.find(".mscrollbar").mCustomScrollbar({theme:"minimal-dark"}),this._container.find("table tr").on("click",function(e){$(e.currentTarget).addClass("active").siblings().removeClass("active");var t=$(e.currentTarget).data("id");r.ictmap.portlayer.locateByPortId(t)})},getPortResContentHtml:function(e){var t=[],n=e.msg.portNames;t.push('<div class="searchResContainer">'),t.push('<div class="searchTableContainer" >'),t.push('<div class="mscrollbar"><table>');for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.id,u=s.pn,a=$.i18n.prop("port_info_name"),f=a+u;t.push('<tr data-id="'+o+'"><td>'+f+"</td></tr>")}return t.push("</table></div>"),t.push("</div>"),t.push("</div>"),t.join("")}})})}),define("plugins/jqueryi18n",["jquery"],function(){(function($){function callbackIfComplete(e){e.async&&(e.filesLoaded+=1,e.filesLoaded===e.totalFiles&&e.callback&&e.callback())}function loadAndParseFile(e,t){$.ajax({url:e,async:t.async,cache:t.cache,dataType:"text",success:function(e,n){parseData(e,t.mode),callbackIfComplete(t)},error:function(n,r,i){console.log("Failed to download or parse "+e),callbackIfComplete(t)}})}function parseData(data,mode){var parsed="",parameters=data.split(/\n/),regPlaceHolder=/(\{\d+})/g,regRepPlaceHolder=/\{(\d+)}/g,unicodeRE=/(\\u.{4})/ig;for(var i=0;i<parameters.length;i++){parameters[i]=parameters[i].replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(parameters[i].length>0&&parameters[i].match("^#")!="#"){var pair=parameters[i].split("=");if(pair.length>0){var name=decodeURI(pair[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),value=pair.length==1?"":pair[1];while(value.match(/\\$/)=="\\")value=value.substring(0,value.length-1),value+=parameters[++i].replace(/\s\s*$/,"");for(var s=2;s<pair.length;s++)value+="="+pair[s];value=value.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(mode=="map"||mode=="both"){var unicodeMatches=value.match(unicodeRE);if(unicodeMatches)for(var u=0;u<unicodeMatches.length;u++)value=value.replace(unicodeMatches[u],unescapeUnicode(unicodeMatches[u]));$.i18n.map[name]=value}if(mode=="vars"||mode=="both"){value=value.replace(/"/g,'\\"'),checkKeyNamespace(name);if(regPlaceHolder.test(value)){var parts=value.split(regPlaceHolder),first=!0,fnArgs="",usedArgs=[];for(var p=0;p<parts.length;p++)regPlaceHolder.test(parts[p])&&(usedArgs.length==0||usedArgs.indexOf(parts[p])==-1)&&(first||(fnArgs+=","),fnArgs+=parts[p].replace(regRepPlaceHolder,"v$1"),usedArgs.push(parts[p]),first=!1);parsed+=name+"=function("+fnArgs+"){";var fnExpr='"'+value.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+fnExpr+";"+"};"}else parsed+=name+'="'+value+'";'}}}}eval(parsed)}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key)){var fullname="",names=key.split(/\./);for(var i=0;i<names.length;i++)i>0&&(fullname+="."),fullname+=names[i],eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")}}function getFiles(e){return e&&e.constructor==Array?e:[e]}function unescapeUnicode(e){var t=[],n=parseInt(e.substr(2),16);n>=0&&n<Math.pow(2,16)&&t.push(n);var r="";for(var i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return r}$.i18n={},$.i18n.map={},$.i18n.properties=function(e){var t={name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",async:!1,checkAvailableLanguages:!1,callback:null};e=$.extend(t,e),e.language=this.normaliseLanguageCode(e.language);var n=function(t){e.totalFiles=0,e.filesLoaded=0;var n=getFiles(e.name);if(e.async)for(var r=0,i=n.length;r<i;r++){e.totalFiles+=1;var s=e.language.substring(0,2);if(t.length==0||$.inArray(s,t)!=-1)e.totalFiles+=1;if(e.language.length>=5){var o=e.language.substring(0,5);if(t.length==0||$.inArray(o,t)!=-1)e.totalFiles+=1}}for(var u=0,a=n.length;u<a;u++){loadAndParseFile(e.path+n[u]+".properties",e);var s=e.language.substring(0,2);(t.length==0||$.inArray(s,t)!=-1)&&loadAndParseFile(e.path+n[u]+"_"+s+".properties",e);if(e.language.length>=5){var o=e.language.substring(0,5);(t.length==0||$.inArray(o,t)!=-1)&&loadAndParseFile(e.path+n[u]+"_"+o+".properties",e)}}e.callback&&!e.async&&e.callback()};e.checkAvailableLanguages?$.ajax({url:e.path+"languages.json",async:e.async,cache:!1,success:function(e,t,r){n(e.languages||[])}}):n([])},$.i18n.prop=function(e){var t=$.i18n.map[e];if(t==null)return"["+e+"]";var n;arguments.length==2&&$.isArray(arguments[1])&&(n=arguments[1]);var r;if(typeof t=="string"){r=0;while((r=t.indexOf("\\",r))!=-1)t.charAt(r+1)=="t"?t=t.substring(0,r)+"	"+t.substring(r++ +2):t.charAt(r+1)=="r"?t=t.substring(0,r)+"\r"+t.substring(r++ +2):t.charAt(r+1)=="n"?t=t.substring(0,r)+"\n"+t.substring(r++ +2):t.charAt(r+1)=="f"?t=t.substring(0,r)+"\f"+t.substring(r++ +2):t.charAt(r+1)=="\\"?t=t.substring(0,r)+"\\"+t.substring(r++ +2):t=t.substring(0,r)+t.substring(r+1);var i=[],s,o;r=0;while(r<t.length)if(t.charAt(r)=="'")if(r==t.length-1)t=t.substring(0,r);else if(t.charAt(r+1)=="'")t=t.substring(0,r)+t.substring(++r);else{s=r+2;while((s=t.indexOf("'",s))!=-1){if(s==t.length-1||t.charAt(s+1)!="'"){t=t.substring(0,r)+t.substring(r+1,s)+t.substring(s+1),r=s-1;break}t=t.substring(0,s)+t.substring(++s)}s==-1&&(t=t.substring(0,r)+t.substring(r+1))}else if(t.charAt(r)=="{"){s=t.indexOf("}",r+1);if(s==-1)r++;else{o=parseInt(t.substring(r+1,s));if(!isNaN(o)&&o>=0){var u=t.substring(0,r);u!=""&&i.push(u),i.push(o),r=0,t=t.substring(s+1)}else r=s+1}}else r++;t!=""&&i.push(t),t=i,$.i18n.map[e]=i}if(t.length==0)return"";if(t.length==1&&typeof t[0]=="string")return t[0];var a="";for(r=0;r<t.length;r++)typeof t[r]=="string"?a+=t[r]:n&&t[r]<n.length?a+=n[t[r]]:!n&&t[r]+1<arguments.length?a+=arguments[t[r]+1]:a+="{"+t[r]+"}";return a},$.i18n.normaliseLanguageCode=function(e){if(!e||e.length<2)e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"en";return e=e.toLowerCase(),e=e.replace(/-/,"_"),e.length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e};var cbSplit;cbSplit||(cbSplit=function(e,t,n){if(Object.prototype.toString.call(t)!=="[object RegExp]")return typeof cbSplit._nativeSplit=="undefined"?e.split(t,n):cbSplit._nativeSplit.call(e,t,n);var r=[],i=0,s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":""),t=new RegExp(t.source,s+"g"),o,u,a,f;e+="",cbSplit._compliantExecNpcg||(o=new RegExp("^"+t.source+"$(?!\\s)",s));if(n===undefined||+n<0)n=Infinity;else{n=Math.floor(+n);if(!n)return[]}while(u=t.exec(e)){a=u.index+u[0].length;if(a>i){r.push(e.slice(i,u.index)),!cbSplit._compliantExecNpcg&&u.length>1&&u[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===undefined&&(u[e]=undefined)}),u.length>1&&u.index<e.length&&Array.prototype.push.apply(r,u.slice(1)),f=u[0].length,i=a;if(r.length>=n)break}t.lastIndex===u.index&&t.lastIndex++}return i===e.length?(f||!t.test(""))&&r.push(""):r.push(e.slice(i)),r.length>n?r.slice(0,n):r},cbSplit._compliantExecNpcg=/()??/.exec("")[1]===undefined,cbSplit._nativeSplit=String.prototype.split),String.prototype.split=function(e,t){return cbSplit(this,e,t)}})(jQuery)}),define("func/languages",["leaflet","func/base","plugins/jqueryi18n"],function(){L.ICT.Func.add("Languages",{Class:L.Class.extend({initialize:function(){this._container=L.ict.app.toppanel.getContainer(),this.config=Project_ParamConfig.languages,this.localStorage=L.ict.app.localStorage,this.lang=this.localStorage.getItem("language")||"zh"},start:function(){this.initi18n(),this.initLang(),this.initEvts()},stop:function(){},initi18n:function(){var e=this,t=this.lang==="zh"?"":this.lang;$.i18n.properties({name:"strings",path:"languages/",mode:"both",language:t,cache:!0,checkAvailableLanguages:!0,async:!1,callback:function(){e.langLoadCallback()}})},initLang:function(){var e=[];for(var t=0,n=this.config.length;t<n;t++){var r=this.config[t];this.lang===r.key?this.lang==="zh"?e.push('<option selected value="'+r.key+'">'+r.value+"</option>"):e.push('<option selected value="'+r.key+'">'+r.value_en+"</option>"):this.lang==="zh"?e.push('<option value="'+r.key+'">'+r.value+"</option>"):e.push('<option value="'+r.key+'">'+r.value_en+"</option>")}e=e.join(""),this.localStorage.setItem("language",this.lang),this._container.find(".languageSetting").html(e)},initEvts:function(){var e=this;this._container.find(".languageSetting").on("change",function(t){var n=$(this).val();e.localStorage.setItem("language",n),window.location.reload()})},langLoadCallback:function(){this.loadMainPageLang(),this.loadFuncPageLang()},loadMainPageLang:function(){document.title=$.i18n.prop("systemname"),this._toppanel=L.ict.app.toppanel.getContainer(),this._toppanel.find(".toppanel_left_title").html($.i18n.prop("toppanel_left_title")),this._toppanel.find(".toppanel_keysearch_remind").attr("placeholder",$.i18n.prop("func_keysearch_ship_plh")),this._toppanel.find(".toppanel_keysearch_title").attr("title",$.i18n.prop("toppanel_keysearch_title")),this._toppanel.find(".toppanel_right_eventRemind").html($.i18n.prop("toppanel_right_eventRemind")),this._toppanel.find(".toppanel_right_layerSelect").html($.i18n.prop("toppanel_right_layerSelect")),this._toppanel.find(".toppanel_right_langSetting").html($.i18n.prop("toppanel_right_langSetting")),this._toppanel.find(".toppanel_right_login").html($.i18n.prop("toppanel_right_login")),this._toppanel.find(".toppanel_right_enroll").html($.i18n.prop("toppanel_right_enroll")),this._toppanel.find(".toppanel_right_signout").html($.i18n.prop("toppanel_right_signout")),this._toppanel.find(".toppanel_right_changepsw").html($.i18n.prop("toppanel_right_changepsw"))},loadFuncPageLang:function(){}})})}),define("library/requirejs/css!themes/css/func.jrtx",[],function(){}),define("func/jrtx",["leaflet","func/base","control/panel","plugins/mcscroll","data/ajax","layout/menu"],function(e){e.ICT.Func.add("jrtx",{id:"jrtx",Class:e.Class.extend({initialize:function(){this.menu=e.ict.app.menu,this.util=e.ict.app.util,this.dateUtil=e.ict.app.util.dateTime,this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.cdglConfig,this.menuid="ict_menu_main_jrtx",this._popPanel=null,this._pageInfoInit()},start:function(){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}if(this._popPanel)return;this._initUI(),this._initEvts(),this._eventSearch(!0)},stop:function(){this._popPanel&&this._popPanel.remove()},_initUI:function(){var t=$.i18n.prop("func_jrtx_titlename"),n={title:t,width:720,height:450,top:200,left:400,scroll:!0,contentHTML:this._getContentHTML()},r=this._popPanel=new e.ICT.PopPanel(n);r.show()},_initEvts:function(){self=this,this._popPanel.on("popPanelRemove",function(){this._popPanel=null,this.menu.mainmenu.deactiveMenu(this.menuid)},this)},_getContentHTML:function(){var e=$.i18n.prop("func_jrtx_lb_tx"),t=[];return t.push('<TABLE border=0 style="width:700px;height:380px;font-family:Microsoft Yahei;font-size:12px;" cellspacing="0">'),t.push("	<TR>"),t.push('		<TD style="width:100%;height:30px;line-height:30px;text-align:left;vertical-align:middle;padding-left:10px;">'),t.push('			<input type="text" id="jrtx_lb_tx" class="jrtx_input_lb" style="width:270px" value="'+e+'"/>'),t.push("		</TD>"),t.push("	</TR>"),t.push("	<TR>"),t.push('		<TD width=700px height="350px";align=center valign=top>'),t.push('			<div id="jrtx_dialog_event_list" style="width:100%;height:340px;padding-left:10px;padding-right:10px;"></div>'),t.push('			<div id="jrtx_div_page" style="width:100%;height:30px;text-align:right;padding-right:20px;"></div>'),t.push("		</TD>"),t.push("	</TR>"),t.push("</TABLE>"),t.join("")},formatDateNow:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=t+"-"+n+"-"+r;return i},getNewDateTimeBeforHour:function(e){var t=new Date;return t=t.valueOf(),t-=e*60*60*1e3,t=new Date(t),t},formatDateFULL:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),u=t+"-"+n+"-"+r+" "+i+":"+s+":"+o;return u},_eventGetSearchWhere:function(){var e=new Date,t=this.getNewDateTimeBeforHour(24),n=this.formatDateFULL(t),r=this.formatDateFULL(e),i={};return i.timespane=e.getTime().toString(),i.shipidstr="",i.ischeckshipid="0",i.startsj=n,i.endsj=r,i.pagesize=this.pagesize,i.pagenum=this.pagenum,i},_eventSearch:function(e){e&&this._pageInfoInit();var t=$.i18n.prop("func_cdgl_error_msg_getEventInfo"),n=this._eventGetSearchWhere(),r=self.config.getEventListUrl;self.ajax.post(r,n,!0,this,function(e){e.state!=1?this._showErrorMsg(t):this._showEventListSucess(e)},function(e){this._showErrorMsg(t)})},_showEventListSucess:function(e){if(e!=null&&e.rec!=null&&e.rec.length>0){var t=$.i18n.prop("func_jrtx_lb_tx");$("#jrtx_lb_tx").val(t)}else $("#jrtx_lb_tx").val("");this._showDivEventList(e),this.reccount=e.reccount,this.pagecount=e.pagecount,this.pagesize=e.pagesize,this.pagenum=e.pagenum;var n=!0;for(var r=0;r<this.curShowPageLabelAry.length;r++)this.curShowPageLabelAry[r]==this.pagenum&&(n=!1);var i=e.rec;i!=null&&i.length>0&&(n&&this._showDivPageInfo(),this._DivPageNumLabelSetCur())},_showDivEventList:function(e){var t=$.i18n.prop("func_cdgl_datagrid_xh"),n=$.i18n.prop("func_cdgl_datagrid_shipName"),r=$.i18n.prop("func_cdgl_datagrid_time"),i=$.i18n.prop("func_cdgl_datagrid_state"),s=$.i18n.prop("func_cdgl_datagrid_portName"),o=e.rec,u="#e6effe",a='<table style="width:100%;font-family:Microsoft Yahei;font-size:12px;" border="0" cellspacing="0">';if(o!=null&&o.length>0){a=a+'<tr style="background-color:'+u+';width:100%;height:30px;line-height:30px;text-align:left;">',a+='<td style="width:50px;height:100%;text-align:center;vertical-align:middle;">',a+=t,a+="</td>",a+='<td style="width:150px;height:100%;text-align:left;vertical-align:middle;">',a+=n,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+="MMSI",a+="</td>",a+='<td style="width:160px;height:100%;text-align:left;vertical-align:middle;">',a+=r,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+=i,a+="</td>",a+='<td style="width:180px;height:100%;text-align:left;vertical-align:middle;">',a+=s,a+="</td>",a+="</tr>";for(var f=0;f<o.length;f++){u=="#e6effe"?u="#ffffff":u="#e6effe",a=a+'<tr style="background-color:'+u+';width:100%;height:30px;line-height:30px;text-align:left;">',a+='<td style="width:50px;height:100%;text-align:center;vertical-align:middle;">',a+=(f+1).toString(),a+="</td>",a+='<td style="width:150px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].ship_name,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].mmsi,a+="</td>",a+='<td style="width:160px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].sj_str,a+="</td>",a+='<td style="width:80px;height:100%;text-align:left;vertical-align:middle;">';var l=window.localStorage.getItem("language"),c=o[f].state_name,h="";c=="ËøõÊ∏Ø"?h=$.i18n.prop("func_cdgl_datagrid_state_jg"):c=="Âá∫Ê∏Ø"&&(h=$.i18n.prop("func_cdgl_datagrid_state_cg")),a+=h,a+="</td>",a+='<td style="width:180px;height:100%;text-align:left;vertical-align:middle;">',a+=o[f].port_name,a+="</td>",a+="</tr>"}}else{var p=$.i18n.prop("func_cdgl_msg_tip_event_noseachresult");a+='<tr style="width:100%;height:330px;line-height:330px;text-align:center;">',a+='<td style="width:100%;height:100%;line-height:330px;text-align:center;vertical-align:middle;">',a=a+"<label>"+p+"</label>",a+="</td>",a+="</tr>"}a+="</table>",$("#jrtx_dialog_event_list").html(a)},_pageInfoInit:function(){this.showpagelabelcount=5,this.curShowPageLabelAry=[],this.pagesize=10,this.pagenum=1,this.reccount=0,this.pagecount=0},_showDivPageInfo:function(){this.curShowPageLabelAry=[];var e=this.pagecount-this.pagenum,t=parseInt(this.showpagelabelcount.toString())-parseInt("1");if(e>=t){this.curShowPageLabelAry.push(this.pagenum);for(var n=1;n<this.showpagelabelcount;n++){var r=parseInt(this.pagenum.toString())+parseInt(n.toString());r<=this.pagecount&&this.curShowPageLabelAry.push(r)}}else{var i=parseInt(this.pagecount.toString()),s=parseInt(this.pagecount.toString())-parseInt(this.showpagelabelcount.toString())+parseInt("1");s<=0&&(s=1);for(var o=s;o<=i;o++)this.curShowPageLabelAry.push(o)}var u=$.i18n.prop("func_cdgl_page_first"),a=$.i18n.prop("func_cdgl_page_last"),f=$.i18n.prop("func_cdgl_page_previous"),l=$.i18n.prop("func_cdgl_page_next"),c='<label id="divPageFirst" class="jrtx_page_first"  onclick="self._divPageClickFirst();">'+u+"</label>";c+="<label>&nbsp</label>";for(var h=0;h<this.curShowPageLabelAry.length;h++)c=c+'<label class="jrtx_page_numlabel_noselect" id="divPageNumLabel_'+this.curShowPageLabelAry[h]+'" onclick="self._divPageClickNum('+this.curShowPageLabelAry[h]+');">'+this.curShowPageLabelAry[h]+"</label>";c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="jrtx_page_last"  onclick="self._divPageClickLast();">'+a+"</label>",c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="jrtx_page_pre"  onclick="self._divPageClickPre();">'+f+"</label>",c+="<label>&nbsp</label>",c=c+'<label id="divPageLast" class="jrtx_page_next" onclick="self._divPageClickNext();">'+l+"</label>",$("#jrtx_div_page").html(c)},_DivPageNumLabelSetCur:function(){for(var e=0;e<this.curShowPageLabelAry.length;e++)this.curShowPageLabelAry[e]==this.pagenum?$("#divPageNumLabel_"+this.curShowPageLabelAry[e]).attr("class","jrtx_page_numlabel_select"):$("#divPageNumLabel_"+this.curShowPageLabelAry[e]).attr("class","jrtx_page_numlabel_noselect")},_divPageClickFirst:function(){if(this.pagenum<=1)return;this.pagenum=1,this._eventSearch(!1)},_divPageClickPre:function(){if(this.pagenum<=1)return;this.pagenum=parseInt(this.pagenum.toString())-parseInt("1"),this._eventSearch(!1)},_divPageClickNum:function(e){this.pagenum=e,this._eventSearch(!1)},_divPageClickNext:function(){if(this.pagenum>=this.pagecount)return;this.pagenum=parseInt(this.pagenum.toString())+parseInt("1"),this._eventSearch(!1)},_divPageClickLast:function(){if(this.pagenum>=this.pagecount)return;this.pagenum=this.pagecount,this._eventSearch(!1)},_showMsg:function(t){e.ict.app.util.dialog.warn($.i18n.prop("dialog_alert_title"),t)},_showErrorMsg:function(t){e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),t)}})})}),define("layout/toppanel",["leaflet","layout/base","core/namespace","func/userLogin","func/keysearch","func/languages","func/jrtx"],function(e){e.ICT.Layout.TopPanel=e.ICT.Layout.extend({tempHtml:'<nav  class="navbar navbar-default" role="navigation"><div class="container-fluid navbar-container"><div class="navbar-header"><img class="navbar-header-title" src="themes/images/frame/title_logo.png" alt=""/><label class="toppanel_left_title" style="font-size:18px;"></label></div><div class="collapse navbar-collapse"><form class="navbar-form navbar-left" role="search" onsubmit="return false;"><div class="form-group"><input type="text" class="form-control input-md toppanel_keysearch_remind" id="search_key" autocomplete="off"/><img src="themes/images/frame/title_search_btn.png" class="searchHander toppanel_keysearch_title"><select class="searchType"></select></div></form><ul class="nav navbar-nav navbar-right"><li class="eventRemind"><label class="toppanel_right_eventRemind"></label></li><li class="layerSelect"><label class="toppanel_right_layerSelect"></label>:&nbsp;&nbsp;<select class="layerSelectctr"></select></li><li class="languageSet"><label class="toppanel_right_langSetting"></label>:&nbsp;&nbsp;<select class="languageSetting"></select></li><li class="topmenubtn userlogin login_btn"><img src="themes/images/frame/title_exit.png">&nbsp;&nbsp;<label class="toppanel_right_login"></label></li><li class="topmenubtn userlogin enroll_btn"><img src="themes/images/frame/enroll.png">&nbsp;&nbsp;<a class="toppanel_right_enroll" href="userpages/enroll.html" target="_self"></a></li><li class="dropdown topmenubtn userlogin_after" style="display:none;">  <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="display:inline;">    <img src="themes/images/frame/title_exit.png">&nbsp;&nbsp;    <label class="userName_txt"></label>  </a>  <ul class="dropdown-menu" role="menu">    <li class="userlogin_after_exitlogin"><a class="toppanel_right_signout" href="#"></a></li>    <li class="userlogin_after_changepsw"><a class="toppanel_right_changepsw" href="#"></a></li>  </ul></li></ul></div></div></nav>',_fullscreen:!1,initialize:function(){e.ICT.Layout.prototype.initialize.call(this),this.id="topPanel",this._container=$("#toppanel"),this._container.html(this.tempHtml),this._initUi(),this._bindEvts()},_initUi:function(){var e=[];for(var t=0,n=Project_ParamConfig.SearchConfig.searchOptions.length;t<n;t++){var r=Project_ParamConfig.SearchConfig.searchOptions[t];Project_ParamConfig.lang==="zh"?e.push('<option value="'+r.key+'">'+r.value+"</option>"):e.push('<option value="'+r.key+'">'+r.value_en+"</option>")}e=e.join(""),this._container.find(".searchType").html(e);var i=[];for(var t=0,n=Project_ParamConfig.layerSelect.length;t<n;t++){var r=Project_ParamConfig.layerSelect[t];Project_ParamConfig.lang==="zh"?i.push('<option value="'+r.key+'">'+r.value+"</option>"):i.push('<option value="'+r.key+'">'+r.value_en+"</option>")}i=i.join(""),this._container.find(".layerSelectctr").html(i)},_bindEvts:function(){var t=this;t._container.find(".navbar-left .searchHander").on("click",function(e){t.search(e)}),$("#search_key").on("keydown",function(n){var n=n||window.event;e.DomEvent.stopPropagation(n),n.keyCode===13&&t.search(n)}),t._container.find(".login_btn").on("click",function(t){e.ICT.Func.UserLogin.run()}),t._container.find(".eventRemind").on("click",function(t){e.ICT.Func.jrtx.run()}),t._container.find(".searchType").on("change",function(e){var n=$(this).val();n==="1"?t._container.find(".toppanel_keysearch_remind").attr("placeholder",$.i18n.prop("func_keysearch_ship_plh")):t._container.find(".toppanel_keysearch_remind").attr("placeholder",$.i18n.prop("func_keysearch_port_plh"))}),t._container.find(".layerSelectctr").on("change",function(t){var n=$(this).val();e.ict.app.ictmap.realtarget.changeShipDistLayer(n)})},search:function(t){var n={};n.searchText=this._container.find("#search_key").val().trim(),n.searchType=this._container.find(".navbar-left .searchType").val();var r=e.ICT.Func.KeySearch.getInstance();r.start(n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)}})}),define("util/dialog",["leaflet","core/namespace"],function(e){e.ICT.Util.Dialog=e.Class.extend({_body:'<div class="modal fade" id="modal-dialog"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title" id="modal-title">Ê†áÈ¢ò</h5></div><div class="modal-body"><img class="infoImg" src="themes/images/dialog/error.png" style="width:30px;height:30px;"><p id="modal-text">ÂÜÖÂÆπ</p></div><div class="modal-footer"><button type="button" class="btn btn-primary common_btn_ok" id="modal-todo">Á°ÆËÆ§</button><button type="button" class="btn btn-primary common_btn_cancel" data-dismiss="modal" id="modal-close">ÂèñÊ∂à</button></div></div></div></div>',_container:null,initialize:function(){this._container=e.DomUtil.create("div","",document.body),this._container.innerHTML=this._body,this._setCss(),e.DomEvent.addListener(e.DomUtil.get("modal-close"),"click",function(){this._close()},this)},alert:function(e,t){this._setClose(!1),this._setDialog(e,t),this._setImg(null),this._show(),$("#modal-todo").unbind(),$("#modal-todo").bind("click",this,function(e){e.data._close()})},success:function(e,t){this._setClose(!1),this._setDialog(e,t),this._setImg("success"),this._show(),$("#modal-todo").unbind(),$("#modal-todo").bind("click",this,function(e){e.data._close()})},error:function(e,t){this._setClose(!1),this._setDialog(e,t),this._setImg("error"),this._show(),$("#modal-todo").unbind(),$("#modal-todo").bind("click",this,function(e){e.data._close()})},warn:function(e,t){this._setClose(!1),this._setDialog(e,t),this._setImg("warn"),this._show(),$("#modal-todo").unbind(),$("#modal-todo").bind("click",this,function(e){e.data._close()})},confirm:function(e,t,n){this._setClose(!0),this._setDialog(e,t),this._setImg(null),this._show(),$("#modal-todo").unbind(),$("#modal-todo").bind("click",this,function(e){e.data._close(),n()}),$("#modal-close").bind("click",this,function(e){e.data._close()})},_setImg:function(e){var t=$(this._container).find(".infoImg");e==="success"?t.attr("src","themes/images/dialog/success.png"):e==="error"?t.attr("src","themes/images/dialog/error.png"):e==="warn"?t.attr("src","themes/images/dialog/warn.png"):t.remove()},_setCss:function(){$(this._container).find(".modal-dialog").css({margin:"260px auto"}),$(this._container).find(".modal-header").css({padding:"5px","text-align":"center",color:"#fff","background-color":"#1c5da9"}),$(this._container).find(".modal-header button span").css({"font-size":"16px",color:"#fff","line-height":"20px"}),$(this._container).find(".modal-body").css({"text-align":"center"}),$(this._container).find(".modal-body p").css({"font-size":"16px","font-weight":"500",margin:"5px"}),$(this._container).find(".modal-footer").css({"text-align":"center",padding:"5px",border:"none"}),$(this._container).find(".modal-footer .btn").css({})},_close:function(){$("#modal-dialog").modal("hide")},_show:function(){$("#modal-dialog").find(".common_btn_ok").html($.i18n.prop("common_btn_ok")),$("#modal-dialog").find(".common_btn_cancel").html($.i18n.prop("common_btn_cancel")),$("#modal-dialog").modal("show")},_setDialog:function(t,n){e.DomUtil.get("modal-title").innerHTML=t,e.DomUtil.get("modal-text").innerHTML=n},_setClose:function(t){t==1?e.DomUtil.get("modal-close").style.display="":e.DomUtil.get("modal-close").style.display="none"}})}),define("util/dateTime",["leaflet","core/namespace"],function(e){e.ICT.Util.DateTime=e.Class.extend({initialize:function(){},getNewDateTimeBeforHour:function(e){var t=new Date;return t=t.valueOf(),t-=e*60*60*1e3,t=new Date(t),t},getCusUnixTime:function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":"),i=parseInt(n[0]),s=parseInt(n[1])>0?parseInt(n[1])-1:0,o=parseInt(n[2]),u=parseInt(r[0]),a=parseInt(r[1]),f=parseInt(r[2]),l=new Date(i,s,o,u,a,f);return l.valueOf()/1e3},getCurrentUnixTime:function(){var e=new Date;return parseInt(e.valueOf()/1e3)},getDateFromformatFull:function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":"),i=parseInt(n[0]),s=parseInt(n[1]),o=parseInt(n[2]),u=parseInt(r[0]),a=parseInt(r[1]),f=parseInt(r[2]),l=new Date(i,s,o,u,a,f);return l},formatDateFULL:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),u=t+"-"+n+"-"+r+" "+i+":"+s+":"+o;return u},formatDateH:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=t+"-"+n+"-"+r+" "+i;return s},formatDateHM:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=t+"-"+n+"-"+r+" "+i+":"+s;return o},getTimeStrFromUnix:function(e){e=parseInt(e);if(isNaN(e))return"";var t=new Date(e*1e3),n=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),u=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),a=n+"-"+r+"-"+i+" "+s+":"+o+":"+u;return a},getTimeString:function(){var e=new Date,t=e.getFullYear().toString(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1).toString():(e.getMonth()+1).toString(),r=e.getDate()<10?"0"+e.getDate().toString():e.getDate().toString(),i=e.getHours()<10?"0"+e.getHours().toString():e.getHours().toString(),s=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes().toString(),o=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds().toString();return t+n+r+i+s+o},getDate:function(e,t){var n=t?t:new Date,r=n.getFullYear().toString(),i=n.getMonth()+1<10?"0"+(n.getMonth()+1).toString():(n.getMonth()+1).toString(),s=(n.getMonth()+1).toString(),o=n.getDate()<10?"0"+n.getDate().toString():n.getDate().toString(),u=n.getDate().toString(),a=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),f=n.getHours().toString(),l=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString(),c=n.getMinutes().toString(),h=n.getSeconds()<10?"0"+n.getSeconds().toString():n.getSeconds().toString(),p=n.getSeconds().toString();switch(e){case"yyyyMMddhhmmss":return r+i+o+a+l+h;case"yyyyMMdd":return r+i+o;case"yyyy/MM/dd":return r+"/"+i+"/"+o;case"yyyy/M/d":return r+"/"+s+"/"+u;case"yyyy-MM-dd":return r+"-"+i+"-"+o;case"yyyy-M-d":return r+"-"+s+"-"+u;default:return{year:r,month:s,day:u,hour:f,minutes:c,seconds:p}}},checkStrartEndTime:function(e,t,n){var r=$.i18n.prop("common_time_error1"),i=$.i18n.prop("common_time_error2"),s=$.i18n.prop("common_time_error3",n),o=this.getDateFromformatFull(e),u=this.getDateFromformatFull(t);o=o.valueOf(),u=u.valueOf();if(o>u)return{result:!1,msg:r};if(n){var a=n*24*60*60*1e3,f=u-o;if(f>a){var l=n>=30?i:s;return{result:!1,msg:l}}}return{result:!0,msg:""}}})}),define("util/base",["leaflet","core/namespace","util/dialog","util/tool","util/dateTime"],function(e){return e.ICT.Util.Base=e.Class.extend({dialog:null,tool:null,dateTime:null,initialize:function(){this.dialog=new e.ICT.Util.Dialog,this.tool=new e.ICT.Util.Tool,this.dateTime=new e.ICT.Util.DateTime}}),e.ICT.Util.Base}),define("core/application",["leaflet","leaflet/fix","core/namespace","core/baseobject","core/map","core/pool","data/ajax","data/localStorage","data/sessionStorage","func/base","layout/base","layout/menu","layout/toppanel","util/base","func/userLogin"],function(e){e.ICT.Application=e.ICT.BaseObject.extend({pool:null,util:null,menu:null,ictmap:null,localStorage:null,sessionStorage:null,toppanel:null,options:{},initialize:function(t){try{this.options=t,this.pool=new e.ICT.Pool,this.util=new e.ICT.Util.Base,this.localStorage=new e.ICT.LocalStorage,this.sessionStorage=new e.ICT.SessionStorage,this.toppanel=new e.ICT.Layout.TopPanel,this.menu=new e.ICT.Menu}catch(n){console.error(n.message)}},init:function(){if(this.sessionStorage.getItem("userInfo")!==null){var t=e.ICT.Func.UserLogin.getInstance();t.afterLoginFunc()}e.ICT.Func.Languages.run(),this.ictmap=new e.ICT.Map(this.options)}})}),require(["jquery","leaflet","bootstrap","core/application"],function(){$(document).ready(function(){L.ICT.App=new L.ICT.Application(Project_ParamConfig),L.ict.app=L.ICT.App,L.ict.app.init()})}),define("project/main",[],function(){}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}('.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-map-pane svg,.leaflet-map-pane canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0;}.leaflet-container{overflow:hidden;}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast;}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0;}.leaflet-marker-icon,.leaflet-marker-shadow{display:block;}.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none !important;}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y;}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;}.leaflet-container.leaflet-touch-drag.leaflet-touch-drag{-ms-touch-action:none;touch-action:none;}.leaflet-tile{filter:inherit;visibility:hidden;}.leaflet-tile-loaded{visibility:inherit;}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800;}.leaflet-overlay-pane svg{-moz-user-select:none;}.leaflet-pane{z-index:400;}.leaflet-tile-pane{z-index:200;}.leaflet-overlay-pane{z-index:400;}.leaflet-shadow-pane{z-index:500;}.leaflet-marker-pane{z-index:600;}.leaflet-tooltip-pane{z-index:650;}.leaflet-popup-pane{z-index:700;}.leaflet-map-pane canvas{z-index:100;}.leaflet-map-pane svg{z-index:200;}.leaflet-vml-shape{width:1px;height:1px;}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute;}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto;}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none;}.leaflet-top{top:0;}.leaflet-right{right:0;}.leaflet-bottom{bottom:0;}.leaflet-left{left:0;}.leaflet-control{float:left;clear:both;}.leaflet-right .leaflet-control{float:right;}.leaflet-top .leaflet-control{margin-top:10px;}.leaflet-bottom .leaflet-control{margin-bottom:10px;}.leaflet-left .leaflet-control{margin-left:10px;}.leaflet-right .leaflet-control{margin-right:10px;}.leaflet-fade-anim .leaflet-tile{will-change:opacity;}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear;}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1;}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform 0.25s cubic-bezier(0,0,0.25,1);-moz-transition:-moz-transform 0.25s cubic-bezier(0,0,0.25,1);-o-transition:-o-transform 0.25s cubic-bezier(0,0,0.25,1);transition:transform 0.25s cubic-bezier(0,0,0.25,1);}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden;}.leaflet-interactive{cursor:pointer;}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair;}.leaflet-popup-pane,.leaflet-control{cursor:auto;}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane > svg path,.leaflet-tile-container{pointer-events:none;}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane > svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto;}.leaflet-container{background:#ddd;outline:0;}.leaflet-container a{color:#0078A8;}.leaflet-container a.leaflet-active{outline:2px solid orange;}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,0.5);}.leaflet-container{font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif;}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,0.65);border-radius:4px;}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:black;}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block;}.leaflet-bar a:hover{background-color:#f4f4f4;}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px;}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none;}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb;}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px;}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:bold 18px \'Lucida Console\',Monaco,monospace;text-indent:1px;}.leaflet-control-zoom-out{font-size:20px;}.leaflet-touch .leaflet-control-zoom-in{font-size:22px;}.leaflet-touch .leaflet-control-zoom-out{font-size:24px;}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,0.4);background:#fff;border-radius:5px;}.leaflet-control-layers-toggle{background-image:url(../../release/library/leaflet/leafletCore/images/layers.png);width:36px;height:36px;}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(../../release/library/leaflet/leafletCore/images/layers-2x.png);background-size:26px 26px;}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px;}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none;}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative;}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff;}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px;}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px;}.leaflet-control-layers label{display:block;}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px;}.leaflet-default-icon-path{background-image:url(../../release/library/leaflet/leafletCore/images);}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,0.7);margin:0;}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;}.leaflet-control-attribution a{text-decoration:none;}.leaflet-control-attribution a:hover{text-decoration:underline;}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px;}.leaflet-left .leaflet-control-scale{margin-left:5px;}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px;}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:rgba(255,255,255,0.5);}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px;}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777;}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none;}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,0.2);background-clip:padding-box;}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px;}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px;}.leaflet-popup-content{margin:13px 19px;line-height:1.4;}.leaflet-popup-content p{margin:18px 0;}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none;}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px rgba(0,0,0,0.4);}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:bold;background:transparent;}.leaflet-container a.leaflet-popup-close-button:hover{color:#999;}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd;}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1;}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678);}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px;}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999;}.leaflet-div-icon{background:#fff;border:1px solid #666;}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,0.4);}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto;}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:"";}.leaflet-tooltip-bottom{margin-top:6px;}.leaflet-tooltip-top{margin-top:-6px;}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px;}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff;}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff;}.leaflet-tooltip-left{margin-left:-6px;}.leaflet-tooltip-right{margin-left:6px;}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px;}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff;}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff;}/*! * Bootstrap v3.3.0 (http://getbootstrap.com) * Copyright 2011-2014 Twitter,Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) */ html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;}body{margin:0;}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block;}audio,canvas,progress,video{display:inline-block;vertical-align:baseline;}audio:not([controls]){display:none;height:0;}[hidden],template{display:none;}a{background-color:transparent;}a:active,a:hover{outline:0;}abbr[title]{border-bottom:1px dotted;}b,strong{font-weight:bold;}dfn{font-style:italic;}h1{margin:.67em 0;font-size:2em;}mark{color:#000;background:#ff0;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-.5em;}sub{bottom:-.25em;}img{border:0;}svg:not(:root){overflow:hidden;}figure{margin:1em 40px;}hr{height:0;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}pre{overflow:auto;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;font:inherit;color:inherit;}button{overflow:visible;}button,select{text-transform:none;}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input[type="checkbox"],input[type="radio"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0;}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto;}input[type="search"]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield;}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}fieldset{padding:.35em .625em .75em;margin:0 2px;border:1px solid #c0c0c0;}legend{padding:0;border:0;}textarea{overflow:auto;}optgroup{font-weight:bold;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}@media print{*,*:before,*:after{color:#000 !important;text-shadow:none !important;background:transparent !important;-webkit-box-shadow:none !important;box-shadow:none !important;}a,a:visited{text-decoration:underline;}a[href]:after{content:" (" attr(href) ")";}abbr[title]:after{content:" (" attr(title) ")";}a[href^="#"]:after,a[href^="javascript:"]:after{content:"";}pre,blockquote{border:1px solid #999;page-break-inside:avoid;}thead{display:table-header-group;}tr,img{page-break-inside:avoid;}img{max-width:100% !important;}p,h2,h3{orphans:3;widows:3;}h2,h3{page-break-after:avoid;}select{background:#fff !important;}.navbar{display:none;}.btn > .caret,.dropup > .btn > .caret{border-top-color:#000 !important;}.label{border:1px solid #000;}.table{border-collapse:collapse !important;}.table td,.table th{background-color:#fff !important;}.table-bordered th,.table-bordered td{border:1px solid #ddd !important;}}@font-face{font-family:\'Glyphicons Halflings\';src:url(\'../../release/library/bootstrap/fonts/glyphicons-halflings-regular.eot\');src:url(\'../../release/library/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix\') format(\'embedded-opentype\'),url(\'../../release/library/bootstrap/fonts/glyphicons-halflings-regular.woff\') format(\'woff\'),url(\'../../release/library/bootstrap/fonts/glyphicons-halflings-regular.ttf\') format(\'truetype\'),url(\'../../release/library/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular\') format(\'svg\');}.glyphicon{position:relative;top:1px;display:inline-block;font-family:\'Glyphicons Halflings\';font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.glyphicon-asterisk:before{content:"\\2a";}.glyphicon-plus:before{content:"\\2b";}.glyphicon-euro:before,.glyphicon-eur:before{content:"\\20ac";}.glyphicon-minus:before{content:"\\2212";}.glyphicon-cloud:before{content:"\\2601";}.glyphicon-envelope:before{content:"\\2709";}.glyphicon-pencil:before{content:"\\270f";}.glyphicon-glass:before{content:"\\e001";}.glyphicon-music:before{content:"\\e002";}.glyphicon-search:before{content:"\\e003";}.glyphicon-heart:before{content:"\\e005";}.glyphicon-star:before{content:"\\e006";}.glyphicon-star-empty:before{content:"\\e007";}.glyphicon-user:before{content:"\\e008";}.glyphicon-film:before{content:"\\e009";}.glyphicon-th-large:before{content:"\\e010";}.glyphicon-th:before{content:"\\e011";}.glyphicon-th-list:before{content:"\\e012";}.glyphicon-ok:before{content:"\\e013";}.glyphicon-remove:before{content:"\\e014";}.glyphicon-zoom-in:before{content:"\\e015";}.glyphicon-zoom-out:before{content:"\\e016";}.glyphicon-off:before{content:"\\e017";}.glyphicon-signal:before{content:"\\e018";}.glyphicon-cog:before{content:"\\e019";}.glyphicon-trash:before{content:"\\e020";}.glyphicon-home:before{content:"\\e021";}.glyphicon-file:before{content:"\\e022";}.glyphicon-time:before{content:"\\e023";}.glyphicon-road:before{content:"\\e024";}.glyphicon-download-alt:before{content:"\\e025";}.glyphicon-download:before{content:"\\e026";}.glyphicon-upload:before{content:"\\e027";}.glyphicon-inbox:before{content:"\\e028";}.glyphicon-play-circle:before{content:"\\e029";}.glyphicon-repeat:before{content:"\\e030";}.glyphicon-refresh:before{content:"\\e031";}.glyphicon-list-alt:before{content:"\\e032";}.glyphicon-lock:before{content:"\\e033";}.glyphicon-flag:before{content:"\\e034";}.glyphicon-headphones:before{content:"\\e035";}.glyphicon-volume-off:before{content:"\\e036";}.glyphicon-volume-down:before{content:"\\e037";}.glyphicon-volume-up:before{content:"\\e038";}.glyphicon-qrcode:before{content:"\\e039";}.glyphicon-barcode:before{content:"\\e040";}.glyphicon-tag:before{content:"\\e041";}.glyphicon-tags:before{content:"\\e042";}.glyphicon-book:before{content:"\\e043";}.glyphicon-bookmark:before{content:"\\e044";}.glyphicon-print:before{content:"\\e045";}.glyphicon-camera:before{content:"\\e046";}.glyphicon-font:before{content:"\\e047";}.glyphicon-bold:before{content:"\\e048";}.glyphicon-italic:before{content:"\\e049";}.glyphicon-text-height:before{content:"\\e050";}.glyphicon-text-width:before{content:"\\e051";}.glyphicon-align-left:before{content:"\\e052";}.glyphicon-align-center:before{content:"\\e053";}.glyphicon-align-right:before{content:"\\e054";}.glyphicon-align-justify:before{content:"\\e055";}.glyphicon-list:before{content:"\\e056";}.glyphicon-indent-left:before{content:"\\e057";}.glyphicon-indent-right:before{content:"\\e058";}.glyphicon-facetime-video:before{content:"\\e059";}.glyphicon-picture:before{content:"\\e060";}.glyphicon-map-marker:before{content:"\\e062";}.glyphicon-adjust:before{content:"\\e063";}.glyphicon-tint:before{content:"\\e064";}.glyphicon-edit:before{content:"\\e065";}.glyphicon-share:before{content:"\\e066";}.glyphicon-check:before{content:"\\e067";}.glyphicon-move:before{content:"\\e068";}.glyphicon-step-backward:before{content:"\\e069";}.glyphicon-fast-backward:before{content:"\\e070";}.glyphicon-backward:before{content:"\\e071";}.glyphicon-play:before{content:"\\e072";}.glyphicon-pause:before{content:"\\e073";}.glyphicon-stop:before{content:"\\e074";}.glyphicon-forward:before{content:"\\e075";}.glyphicon-fast-forward:before{content:"\\e076";}.glyphicon-step-forward:before{content:"\\e077";}.glyphicon-eject:before{content:"\\e078";}.glyphicon-chevron-left:before{content:"\\e079";}.glyphicon-chevron-right:before{content:"\\e080";}.glyphicon-plus-sign:before{content:"\\e081";}.glyphicon-minus-sign:before{content:"\\e082";}.glyphicon-remove-sign:before{content:"\\e083";}.glyphicon-ok-sign:before{content:"\\e084";}.glyphicon-question-sign:before{content:"\\e085";}.glyphicon-info-sign:before{content:"\\e086";}.glyphicon-screenshot:before{content:"\\e087";}.glyphicon-remove-circle:before{content:"\\e088";}.glyphicon-ok-circle:before{content:"\\e089";}.glyphicon-ban-circle:before{content:"\\e090";}.glyphicon-arrow-left:before{content:"\\e091";}.glyphicon-arrow-right:before{content:"\\e092";}.glyphicon-arrow-up:before{content:"\\e093";}.glyphicon-arrow-down:before{content:"\\e094";}.glyphicon-share-alt:before{content:"\\e095";}.glyphicon-resize-full:before{content:"\\e096";}.glyphicon-resize-small:before{content:"\\e097";}.glyphicon-exclamation-sign:before{content:"\\e101";}.glyphicon-gift:before{content:"\\e102";}.glyphicon-leaf:before{content:"\\e103";}.glyphicon-fire:before{content:"\\e104";}.glyphicon-eye-open:before{content:"\\e105";}.glyphicon-eye-close:before{content:"\\e106";}.glyphicon-warning-sign:before{content:"\\e107";}.glyphicon-plane:before{content:"\\e108";}.glyphicon-calendar:before{content:"\\e109";}.glyphicon-random:before{content:"\\e110";}.glyphicon-comment:before{content:"\\e111";}.glyphicon-magnet:before{content:"\\e112";}.glyphicon-chevron-up:before{content:"\\e113";}.glyphicon-chevron-down:before{content:"\\e114";}.glyphicon-retweet:before{content:"\\e115";}.glyphicon-shopping-cart:before{content:"\\e116";}.glyphicon-folder-close:before{content:"\\e117";}.glyphicon-folder-open:before{content:"\\e118";}.glyphicon-resize-vertical:before{content:"\\e119";}.glyphicon-resize-horizontal:before{content:"\\e120";}.glyphicon-hdd:before{content:"\\e121";}.glyphicon-bullhorn:before{content:"\\e122";}.glyphicon-bell:before{content:"\\e123";}.glyphicon-certificate:before{content:"\\e124";}.glyphicon-thumbs-up:before{content:"\\e125";}.glyphicon-thumbs-down:before{content:"\\e126";}.glyphicon-hand-right:before{content:"\\e127";}.glyphicon-hand-left:before{content:"\\e128";}.glyphicon-hand-up:before{content:"\\e129";}.glyphicon-hand-down:before{content:"\\e130";}.glyphicon-circle-arrow-right:before{content:"\\e131";}.glyphicon-circle-arrow-left:before{content:"\\e132";}.glyphicon-circle-arrow-up:before{content:"\\e133";}.glyphicon-circle-arrow-down:before{content:"\\e134";}.glyphicon-globe:before{content:"\\e135";}.glyphicon-wrench:before{content:"\\e136";}.glyphicon-tasks:before{content:"\\e137";}.glyphicon-filter:before{content:"\\e138";}.glyphicon-briefcase:before{content:"\\e139";}.glyphicon-fullscreen:before{content:"\\e140";}.glyphicon-dashboard:before{content:"\\e141";}.glyphicon-paperclip:before{content:"\\e142";}.glyphicon-heart-empty:before{content:"\\e143";}.glyphicon-link:before{content:"\\e144";}.glyphicon-phone:before{content:"\\e145";}.glyphicon-pushpin:before{content:"\\e146";}.glyphicon-usd:before{content:"\\e148";}.glyphicon-gbp:before{content:"\\e149";}.glyphicon-sort:before{content:"\\e150";}.glyphicon-sort-by-alphabet:before{content:"\\e151";}.glyphicon-sort-by-alphabet-alt:before{content:"\\e152";}.glyphicon-sort-by-order:before{content:"\\e153";}.glyphicon-sort-by-order-alt:before{content:"\\e154";}.glyphicon-sort-by-attributes:before{content:"\\e155";}.glyphicon-sort-by-attributes-alt:before{content:"\\e156";}.glyphicon-unchecked:before{content:"\\e157";}.glyphicon-expand:before{content:"\\e158";}.glyphicon-collapse-down:before{content:"\\e159";}.glyphicon-collapse-up:before{content:"\\e160";}.glyphicon-log-in:before{content:"\\e161";}.glyphicon-flash:before{content:"\\e162";}.glyphicon-log-out:before{content:"\\e163";}.glyphicon-new-window:before{content:"\\e164";}.glyphicon-record:before{content:"\\e165";}.glyphicon-save:before{content:"\\e166";}.glyphicon-open:before{content:"\\e167";}.glyphicon-saved:before{content:"\\e168";}.glyphicon-import:before{content:"\\e169";}.glyphicon-export:before{content:"\\e170";}.glyphicon-send:before{content:"\\e171";}.glyphicon-floppy-disk:before{content:"\\e172";}.glyphicon-floppy-saved:before{content:"\\e173";}.glyphicon-floppy-remove:before{content:"\\e174";}.glyphicon-floppy-save:before{content:"\\e175";}.glyphicon-floppy-open:before{content:"\\e176";}.glyphicon-credit-card:before{content:"\\e177";}.glyphicon-transfer:before{content:"\\e178";}.glyphicon-cutlery:before{content:"\\e179";}.glyphicon-header:before{content:"\\e180";}.glyphicon-compressed:before{content:"\\e181";}.glyphicon-earphone:before{content:"\\e182";}.glyphicon-phone-alt:before{content:"\\e183";}.glyphicon-tower:before{content:"\\e184";}.glyphicon-stats:before{content:"\\e185";}.glyphicon-sd-video:before{content:"\\e186";}.glyphicon-hd-video:before{content:"\\e187";}.glyphicon-subtitles:before{content:"\\e188";}.glyphicon-sound-stereo:before{content:"\\e189";}.glyphicon-sound-dolby:before{content:"\\e190";}.glyphicon-sound-5-1:before{content:"\\e191";}.glyphicon-sound-6-1:before{content:"\\e192";}.glyphicon-sound-7-1:before{content:"\\e193";}.glyphicon-copyright-mark:before{content:"\\e194";}.glyphicon-registration-mark:before{content:"\\e195";}.glyphicon-cloud-download:before{content:"\\e197";}.glyphicon-cloud-upload:before{content:"\\e198";}.glyphicon-tree-conifer:before{content:"\\e199";}.glyphicon-tree-deciduous:before{content:"\\e200";}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0);}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;}a{color:#428bca;text-decoration:none;}a:hover,a:focus{color:#2a6496;text-decoration:underline;}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;}figure{margin:0;}img{vertical-align:middle;}.img-responsive,.thumbnail > img,.thumbnail a > img,.carousel-inner > .item > img,.carousel-inner > .item > a > img{display:block;max-width:100%;height:auto;}.img-rounded{border-radius:6px;}.img-thumbnail{display:inline-block;max-width:100%;height:auto;padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;}.img-circle{border-radius:50%;}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee;}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto;}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit;}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.h1 small,.h2 small,.h3 small,.h4 small,.h5 small,.h6 small,h1 .small,h2 .small,h3 .small,h4 .small,h5 .small,h6 .small,.h1 .small,.h2 .small,.h3 .small,.h4 .small,.h5 .small,.h6 .small{font-weight:normal;line-height:1;color:#777;}h1,.h1,h2,.h2,h3,.h3{margin-top:20px;margin-bottom:10px;}h1 small,.h1 small,h2 small,.h2 small,h3 small,.h3 small,h1 .small,.h1 .small,h2 .small,.h2 .small,h3 .small,.h3 .small{font-size:65%;}h4,.h4,h5,.h5,h6,.h6{margin-top:10px;margin-bottom:10px;}h4 small,.h4 small,h5 small,.h5 small,h6 small,.h6 small,h4 .small,.h4 .small,h5 .small,.h5 .small,h6 .small,.h6 .small{font-size:75%;}h1,.h1{font-size:36px;}h2,.h2{font-size:30px;}h3,.h3{font-size:24px;}h4,.h4{font-size:18px;}h5,.h5{font-size:14px;}h6,.h6{font-size:12px;}p{margin:0 0 10px;}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4;}@media (min-width:768px){.lead{font-size:21px;}}small,.small{font-size:85%;}mark,.mark{padding:.2em;background-color:#fcf8e3;}.text-left{text-align:left;}.text-right{text-align:right;}.text-center{text-align:center;}.text-justify{text-align:justify;}.text-nowrap{white-space:nowrap;}.text-lowercase{text-transform:lowercase;}.text-uppercase{text-transform:uppercase;}.text-capitalize{text-transform:capitalize;}.text-muted{color:#777;}.text-primary{color:#428bca;}a.text-primary:hover{color:#3071a9;}.text-success{color:#3c763d;}a.text-success:hover{color:#2b542c;}.text-info{color:#31708f;}a.text-info:hover{color:#245269;}.text-warning{color:#8a6d3b;}a.text-warning:hover{color:#66512c;}.text-danger{color:#a94442;}a.text-danger:hover{color:#843534;}.bg-primary{color:#fff;background-color:#428bca;}a.bg-primary:hover{background-color:#3071a9;}.bg-success{background-color:#dff0d8;}a.bg-success:hover{background-color:#c1e2b3;}.bg-info{background-color:#d9edf7;}a.bg-info:hover{background-color:#afd9ee;}.bg-warning{background-color:#fcf8e3;}a.bg-warning:hover{background-color:#f7ecb5;}.bg-danger{background-color:#f2dede;}a.bg-danger:hover{background-color:#e4b9b9;}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee;}ul,ol{margin-top:0;margin-bottom:10px;}ul ul,ol ul,ul ol,ol ol{margin-bottom:0;}.list-unstyled{padding-left:0;list-style:none;}.list-inline{padding-left:0;margin-left:-5px;list-style:none;}.list-inline > li{display:inline-block;padding-right:5px;padding-left:5px;}dl{margin-top:0;margin-bottom:20px;}dt,dd{line-height:1.42857143;}dt{font-weight:bold;}dd{margin-left:0;}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap;}.dl-horizontal dd{margin-left:180px;}}abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #777;}.initialism{font-size:90%;text-transform:uppercase;}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee;}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0;}blockquote footer,blockquote small,blockquote .small{display:block;font-size:80%;line-height:1.42857143;color:#777;}blockquote footer:before,blockquote small:before,blockquote .small:before{content:\'\\2014 \\00A0\';}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0;}.blockquote-reverse footer:before,blockquote.pull-right footer:before,.blockquote-reverse small:before,blockquote.pull-right small:before,.blockquote-reverse .small:before,blockquote.pull-right .small:before{content:\'\';}.blockquote-reverse footer:after,blockquote.pull-right footer:after,.blockquote-reverse small:after,blockquote.pull-right small:after,.blockquote-reverse .small:after,blockquote.pull-right .small:after{content:\'\\00A0 \\2014\';}address{margin-bottom:20px;font-style:normal;line-height:1.42857143;}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;}code{padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;border-radius:4px;}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,.25);}kbd kbd{padding:0;font-size:100%;font-weight:bold;-webkit-box-shadow:none;box-shadow:none;}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;}.pre-scrollable{max-height:340px;overflow-y:scroll;}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;}@media (min-width:768px){.container{width:750px;}}@media (min-width:992px){.container{width:970px;}}@media (min-width:1200px){.container{width:1170px;}}.container-fluid{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;}.row{margin-right:-15px;margin-left:-15px;}.col-xs-1,.col-sm-1,.col-md-1,.col-lg-1,.col-xs-2,.col-sm-2,.col-md-2,.col-lg-2,.col-xs-3,.col-sm-3,.col-md-3,.col-lg-3,.col-xs-4,.col-sm-4,.col-md-4,.col-lg-4,.col-xs-5,.col-sm-5,.col-md-5,.col-lg-5,.col-xs-6,.col-sm-6,.col-md-6,.col-lg-6,.col-xs-7,.col-sm-7,.col-md-7,.col-lg-7,.col-xs-8,.col-sm-8,.col-md-8,.col-lg-8,.col-xs-9,.col-sm-9,.col-md-9,.col-lg-9,.col-xs-10,.col-sm-10,.col-md-10,.col-lg-10,.col-xs-11,.col-sm-11,.col-md-11,.col-lg-11,.col-xs-12,.col-sm-12,.col-md-12,.col-lg-12{position:relative;min-height:1px;padding-right:15px;padding-left:15px;}.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left;}.col-xs-12{width:100%;}.col-xs-11{width:91.66666667%;}.col-xs-10{width:83.33333333%;}.col-xs-9{width:75%;}.col-xs-8{width:66.66666667%;}.col-xs-7{width:58.33333333%;}.col-xs-6{width:50%;}.col-xs-5{width:41.66666667%;}.col-xs-4{width:33.33333333%;}.col-xs-3{width:25%;}.col-xs-2{width:16.66666667%;}.col-xs-1{width:8.33333333%;}.col-xs-pull-12{right:100%;}.col-xs-pull-11{right:91.66666667%;}.col-xs-pull-10{right:83.33333333%;}.col-xs-pull-9{right:75%;}.col-xs-pull-8{right:66.66666667%;}.col-xs-pull-7{right:58.33333333%;}.col-xs-pull-6{right:50%;}.col-xs-pull-5{right:41.66666667%;}.col-xs-pull-4{right:33.33333333%;}.col-xs-pull-3{right:25%;}.col-xs-pull-2{right:16.66666667%;}.col-xs-pull-1{right:8.33333333%;}.col-xs-pull-0{right:auto;}.col-xs-push-12{left:100%;}.col-xs-push-11{left:91.66666667%;}.col-xs-push-10{left:83.33333333%;}.col-xs-push-9{left:75%;}.col-xs-push-8{left:66.66666667%;}.col-xs-push-7{left:58.33333333%;}.col-xs-push-6{left:50%;}.col-xs-push-5{left:41.66666667%;}.col-xs-push-4{left:33.33333333%;}.col-xs-push-3{left:25%;}.col-xs-push-2{left:16.66666667%;}.col-xs-push-1{left:8.33333333%;}.col-xs-push-0{left:auto;}.col-xs-offset-12{margin-left:100%;}.col-xs-offset-11{margin-left:91.66666667%;}.col-xs-offset-10{margin-left:83.33333333%;}.col-xs-offset-9{margin-left:75%;}.col-xs-offset-8{margin-left:66.66666667%;}.col-xs-offset-7{margin-left:58.33333333%;}.col-xs-offset-6{margin-left:50%;}.col-xs-offset-5{margin-left:41.66666667%;}.col-xs-offset-4{margin-left:33.33333333%;}.col-xs-offset-3{margin-left:25%;}.col-xs-offset-2{margin-left:16.66666667%;}.col-xs-offset-1{margin-left:8.33333333%;}.col-xs-offset-0{margin-left:0;}@media (min-width:768px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left;}.col-sm-12{width:100%;}.col-sm-11{width:91.66666667%;}.col-sm-10{width:83.33333333%;}.col-sm-9{width:75%;}.col-sm-8{width:66.66666667%;}.col-sm-7{width:58.33333333%;}.col-sm-6{width:50%;}.col-sm-5{width:41.66666667%;}.col-sm-4{width:33.33333333%;}.col-sm-3{width:25%;}.col-sm-2{width:16.66666667%;}.col-sm-1{width:8.33333333%;}.col-sm-pull-12{right:100%;}.col-sm-pull-11{right:91.66666667%;}.col-sm-pull-10{right:83.33333333%;}.col-sm-pull-9{right:75%;}.col-sm-pull-8{right:66.66666667%;}.col-sm-pull-7{right:58.33333333%;}.col-sm-pull-6{right:50%;}.col-sm-pull-5{right:41.66666667%;}.col-sm-pull-4{right:33.33333333%;}.col-sm-pull-3{right:25%;}.col-sm-pull-2{right:16.66666667%;}.col-sm-pull-1{right:8.33333333%;}.col-sm-pull-0{right:auto;}.col-sm-push-12{left:100%;}.col-sm-push-11{left:91.66666667%;}.col-sm-push-10{left:83.33333333%;}.col-sm-push-9{left:75%;}.col-sm-push-8{left:66.66666667%;}.col-sm-push-7{left:58.33333333%;}.col-sm-push-6{left:50%;}.col-sm-push-5{left:41.66666667%;}.col-sm-push-4{left:33.33333333%;}.col-sm-push-3{left:25%;}.col-sm-push-2{left:16.66666667%;}.col-sm-push-1{left:8.33333333%;}.col-sm-push-0{left:auto;}.col-sm-offset-12{margin-left:100%;}.col-sm-offset-11{margin-left:91.66666667%;}.col-sm-offset-10{margin-left:83.33333333%;}.col-sm-offset-9{margin-left:75%;}.col-sm-offset-8{margin-left:66.66666667%;}.col-sm-offset-7{margin-left:58.33333333%;}.col-sm-offset-6{margin-left:50%;}.col-sm-offset-5{margin-left:41.66666667%;}.col-sm-offset-4{margin-left:33.33333333%;}.col-sm-offset-3{margin-left:25%;}.col-sm-offset-2{margin-left:16.66666667%;}.col-sm-offset-1{margin-left:8.33333333%;}.col-sm-offset-0{margin-left:0;}}@media (min-width:992px){.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left;}.col-md-12{width:100%;}.col-md-11{width:91.66666667%;}.col-md-10{width:83.33333333%;}.col-md-9{width:75%;}.col-md-8{width:66.66666667%;}.col-md-7{width:58.33333333%;}.col-md-6{width:50%;}.col-md-5{width:41.66666667%;}.col-md-4{width:33.33333333%;}.col-md-3{width:25%;}.col-md-2{width:16.66666667%;}.col-md-1{width:8.33333333%;}.col-md-pull-12{right:100%;}.col-md-pull-11{right:91.66666667%;}.col-md-pull-10{right:83.33333333%;}.col-md-pull-9{right:75%;}.col-md-pull-8{right:66.66666667%;}.col-md-pull-7{right:58.33333333%;}.col-md-pull-6{right:50%;}.col-md-pull-5{right:41.66666667%;}.col-md-pull-4{right:33.33333333%;}.col-md-pull-3{right:25%;}.col-md-pull-2{right:16.66666667%;}.col-md-pull-1{right:8.33333333%;}.col-md-pull-0{right:auto;}.col-md-push-12{left:100%;}.col-md-push-11{left:91.66666667%;}.col-md-push-10{left:83.33333333%;}.col-md-push-9{left:75%;}.col-md-push-8{left:66.66666667%;}.col-md-push-7{left:58.33333333%;}.col-md-push-6{left:50%;}.col-md-push-5{left:41.66666667%;}.col-md-push-4{left:33.33333333%;}.col-md-push-3{left:25%;}.col-md-push-2{left:16.66666667%;}.col-md-push-1{left:8.33333333%;}.col-md-push-0{left:auto;}.col-md-offset-12{margin-left:100%;}.col-md-offset-11{margin-left:91.66666667%;}.col-md-offset-10{margin-left:83.33333333%;}.col-md-offset-9{margin-left:75%;}.col-md-offset-8{margin-left:66.66666667%;}.col-md-offset-7{margin-left:58.33333333%;}.col-md-offset-6{margin-left:50%;}.col-md-offset-5{margin-left:41.66666667%;}.col-md-offset-4{margin-left:33.33333333%;}.col-md-offset-3{margin-left:25%;}.col-md-offset-2{margin-left:16.66666667%;}.col-md-offset-1{margin-left:8.33333333%;}.col-md-offset-0{margin-left:0;}}@media (min-width:1200px){.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left;}.col-lg-12{width:100%;}.col-lg-11{width:91.66666667%;}.col-lg-10{width:83.33333333%;}.col-lg-9{width:75%;}.col-lg-8{width:66.66666667%;}.col-lg-7{width:58.33333333%;}.col-lg-6{width:50%;}.col-lg-5{width:41.66666667%;}.col-lg-4{width:33.33333333%;}.col-lg-3{width:25%;}.col-lg-2{width:16.66666667%;}.col-lg-1{width:8.33333333%;}.col-lg-pull-12{right:100%;}.col-lg-pull-11{right:91.66666667%;}.col-lg-pull-10{right:83.33333333%;}.col-lg-pull-9{right:75%;}.col-lg-pull-8{right:66.66666667%;}.col-lg-pull-7{right:58.33333333%;}.col-lg-pull-6{right:50%;}.col-lg-pull-5{right:41.66666667%;}.col-lg-pull-4{right:33.33333333%;}.col-lg-pull-3{right:25%;}.col-lg-pull-2{right:16.66666667%;}.col-lg-pull-1{right:8.33333333%;}.col-lg-pull-0{right:auto;}.col-lg-push-12{left:100%;}.col-lg-push-11{left:91.66666667%;}.col-lg-push-10{left:83.33333333%;}.col-lg-push-9{left:75%;}.col-lg-push-8{left:66.66666667%;}.col-lg-push-7{left:58.33333333%;}.col-lg-push-6{left:50%;}.col-lg-push-5{left:41.66666667%;}.col-lg-push-4{left:33.33333333%;}.col-lg-push-3{left:25%;}.col-lg-push-2{left:16.66666667%;}.col-lg-push-1{left:8.33333333%;}.col-lg-push-0{left:auto;}.col-lg-offset-12{margin-left:100%;}.col-lg-offset-11{margin-left:91.66666667%;}.col-lg-offset-10{margin-left:83.33333333%;}.col-lg-offset-9{margin-left:75%;}.col-lg-offset-8{margin-left:66.66666667%;}.col-lg-offset-7{margin-left:58.33333333%;}.col-lg-offset-6{margin-left:50%;}.col-lg-offset-5{margin-left:41.66666667%;}.col-lg-offset-4{margin-left:33.33333333%;}.col-lg-offset-3{margin-left:25%;}.col-lg-offset-2{margin-left:16.66666667%;}.col-lg-offset-1{margin-left:8.33333333%;}.col-lg-offset-0{margin-left:0;}}table{background-color:transparent;}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left;}th{text-align:left;}.table{width:100%;max-width:100%;margin-bottom:20px;}.table > thead > tr > th,.table > tbody > tr > th,.table > tfoot > tr > th,.table > thead > tr > td,.table > tbody > tr > td,.table > tfoot > tr > td{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd;}.table > thead > tr > th{vertical-align:bottom;border-bottom:2px solid #ddd;}.table > caption + thead > tr:first-child > th,.table > colgroup + thead > tr:first-child > th,.table > thead:first-child > tr:first-child > th,.table > caption + thead > tr:first-child > td,.table > colgroup + thead > tr:first-child > td,.table > thead:first-child > tr:first-child > td{border-top:0;}.table > tbody + tbody{border-top:2px solid #ddd;}.table .table{background-color:#fff;}.table-condensed > thead > tr > th,.table-condensed > tbody > tr > th,.table-condensed > tfoot > tr > th,.table-condensed > thead > tr > td,.table-condensed > tbody > tr > td,.table-condensed > tfoot > tr > td{padding:5px;}.table-bordered{border:1px solid #ddd;}.table-bordered > thead > tr > th,.table-bordered > tbody > tr > th,.table-bordered > tfoot > tr > th,.table-bordered > thead > tr > td,.table-bordered > tbody > tr > td,.table-bordered > tfoot > tr > td{border:1px solid #ddd;}.table-bordered > thead > tr > th,.table-bordered > thead > tr > td{border-bottom-width:2px;}.table-striped > tbody > tr:nth-child(odd){background-color:#f9f9f9;}.table-hover > tbody > tr:hover{background-color:#f5f5f5;}table col[class*="col-"]{position:static;display:table-column;float:none;}table td[class*="col-"],table th[class*="col-"]{position:static;display:table-cell;float:none;}.table > thead > tr > td.active,.table > tbody > tr > td.active,.table > tfoot > tr > td.active,.table > thead > tr > th.active,.table > tbody > tr > th.active,.table > tfoot > tr > th.active,.table > thead > tr.active > td,.table > tbody > tr.active > td,.table > tfoot > tr.active > td,.table > thead > tr.active > th,.table > tbody > tr.active > th,.table > tfoot > tr.active > th{background-color:#f5f5f5;}.table-hover > tbody > tr > td.active:hover,.table-hover > tbody > tr > th.active:hover,.table-hover > tbody > tr.active:hover > td,.table-hover > tbody > tr:hover > .active,.table-hover > tbody > tr.active:hover > th{background-color:#e8e8e8;}.table > thead > tr > td.success,.table > tbody > tr > td.success,.table > tfoot > tr > td.success,.table > thead > tr > th.success,.table > tbody > tr > th.success,.table > tfoot > tr > th.success,.table > thead > tr.success > td,.table > tbody > tr.success > td,.table > tfoot > tr.success > td,.table > thead > tr.success > th,.table > tbody > tr.success > th,.table > tfoot > tr.success > th{background-color:#dff0d8;}.table-hover > tbody > tr > td.success:hover,.table-hover > tbody > tr > th.success:hover,.table-hover > tbody > tr.success:hover > td,.table-hover > tbody > tr:hover > .success,.table-hover > tbody > tr.success:hover > th{background-color:#d0e9c6;}.table > thead > tr > td.info,.table > tbody > tr > td.info,.table > tfoot > tr > td.info,.table > thead > tr > th.info,.table > tbody > tr > th.info,.table > tfoot > tr > th.info,.table > thead > tr.info > td,.table > tbody > tr.info > td,.table > tfoot > tr.info > td,.table > thead > tr.info > th,.table > tbody > tr.info > th,.table > tfoot > tr.info > th{background-color:#d9edf7;}.table-hover > tbody > tr > td.info:hover,.table-hover > tbody > tr > th.info:hover,.table-hover > tbody > tr.info:hover > td,.table-hover > tbody > tr:hover > .info,.table-hover > tbody > tr.info:hover > th{background-color:#c4e3f3;}.table > thead > tr > td.warning,.table > tbody > tr > td.warning,.table > tfoot > tr > td.warning,.table > thead > tr > th.warning,.table > tbody > tr > th.warning,.table > tfoot > tr > th.warning,.table > thead > tr.warning > td,.table > tbody > tr.warning > td,.table > tfoot > tr.warning > td,.table > thead > tr.warning > th,.table > tbody > tr.warning > th,.table > tfoot > tr.warning > th{background-color:#fcf8e3;}.table-hover > tbody > tr > td.warning:hover,.table-hover > tbody > tr > th.warning:hover,.table-hover > tbody > tr.warning:hover > td,.table-hover > tbody > tr:hover > .warning,.table-hover > tbody > tr.warning:hover > th{background-color:#faf2cc;}.table > thead > tr > td.danger,.table > tbody > tr > td.danger,.table > tfoot > tr > td.danger,.table > thead > tr > th.danger,.table > tbody > tr > th.danger,.table > tfoot > tr > th.danger,.table > thead > tr.danger > td,.table > tbody > tr.danger > td,.table > tfoot > tr.danger > td,.table > thead > tr.danger > th,.table > tbody > tr.danger > th,.table > tfoot > tr.danger > th{background-color:#f2dede;}.table-hover > tbody > tr > td.danger:hover,.table-hover > tbody > tr > th.danger:hover,.table-hover > tbody > tr.danger:hover > td,.table-hover > tbody > tr:hover > .danger,.table-hover > tbody > tr.danger:hover > th{background-color:#ebcccc;}.table-responsive{min-height:.01%;overflow-x:auto;}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd;}.table-responsive > .table{margin-bottom:0;}.table-responsive > .table > thead > tr > th,.table-responsive > .table > tbody > tr > th,.table-responsive > .table > tfoot > tr > th,.table-responsive > .table > thead > tr > td,.table-responsive > .table > tbody > tr > td,.table-responsive > .table > tfoot > tr > td{white-space:nowrap;}.table-responsive > .table-bordered{border:0;}.table-responsive > .table-bordered > thead > tr > th:first-child,.table-responsive > .table-bordered > tbody > tr > th:first-child,.table-responsive > .table-bordered > tfoot > tr > th:first-child,.table-responsive > .table-bordered > thead > tr > td:first-child,.table-responsive > .table-bordered > tbody > tr > td:first-child,.table-responsive > .table-bordered > tfoot > tr > td:first-child{border-left:0;}.table-responsive > .table-bordered > thead > tr > th:last-child,.table-responsive > .table-bordered > tbody > tr > th:last-child,.table-responsive > .table-bordered > tfoot > tr > th:last-child,.table-responsive > .table-bordered > thead > tr > td:last-child,.table-responsive > .table-bordered > tbody > tr > td:last-child,.table-responsive > .table-bordered > tfoot > tr > td:last-child{border-right:0;}.table-responsive > .table-bordered > tbody > tr:last-child > th,.table-responsive > .table-bordered > tfoot > tr:last-child > th,.table-responsive > .table-bordered > tbody > tr:last-child > td,.table-responsive > .table-bordered > tfoot > tr:last-child > td{border-bottom:0;}}fieldset{min-width:0;padding:0;margin:0;border:0;}legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5;}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:bold;}input[type="search"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \\9;line-height:normal;}input[type="file"]{display:block;}input[type="range"]{display:block;width:100%;}select[multiple],select[size]{height:auto;}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;}output{display:block;padding-top:7px;font-size:14px;line-height:1.42857143;color:#555;}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);}.form-control::-moz-placeholder{color:#999;opacity:1;}.form-control:-ms-input-placeholder{color:#999;}.form-control::-webkit-input-placeholder{color:#999;}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{cursor:not-allowed;background-color:#eee;opacity:1;}textarea.form-control{height:auto;}input[type="search"]{-webkit-appearance:none;}input[type="date"],input[type="time"],input[type="datetime-local"],input[type="month"]{line-height:34px;line-height:1.42857143 \\0;}input[type="date"].input-sm,input[type="time"].input-sm,input[type="datetime-local"].input-sm,input[type="month"].input-sm{line-height:30px;line-height:1.5 \\0;}input[type="date"].input-lg,input[type="time"].input-lg,input[type="datetime-local"].input-lg,input[type="month"].input-lg{line-height:46px;line-height:1.33 \\0;}_:-ms-fullscreen,:root input[type="date"],_:-ms-fullscreen,:root input[type="time"],_:-ms-fullscreen,:root input[type="datetime-local"],_:-ms-fullscreen,:root input[type="month"]{line-height:1.42857143;}_:-ms-fullscreen.input-sm,:root input[type="date"].input-sm,_:-ms-fullscreen.input-sm,:root input[type="time"].input-sm,_:-ms-fullscreen.input-sm,:root input[type="datetime-local"].input-sm,_:-ms-fullscreen.input-sm,:root input[type="month"].input-sm{line-height:1.5;}_:-ms-fullscreen.input-lg,:root input[type="date"].input-lg,_:-ms-fullscreen.input-lg,:root input[type="time"].input-lg,_:-ms-fullscreen.input-lg,:root input[type="datetime-local"].input-lg,_:-ms-fullscreen.input-lg,:root input[type="month"].input-lg{line-height:1.33;}.form-group{margin-bottom:15px;}.radio,.checkbox{position:relative;display:block;margin-top:10px;margin-bottom:10px;}.radio label,.checkbox label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:normal;cursor:pointer;}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-top:4px \\9;margin-left:-20px;}.radio + .radio,.checkbox + .checkbox{margin-top:-5px;}.radio-inline,.checkbox-inline{display:inline-block;padding-left:20px;margin-bottom:0;font-weight:normal;vertical-align:middle;cursor:pointer;}.radio-inline + .radio-inline,.checkbox-inline + .checkbox-inline{margin-top:0;margin-left:10px;}input[type="radio"][disabled],input[type="checkbox"][disabled],input[type="radio"].disabled,input[type="checkbox"].disabled,fieldset[disabled] input[type="radio"],fieldset[disabled] input[type="checkbox"]{cursor:not-allowed;}.radio-inline.disabled,.checkbox-inline.disabled,fieldset[disabled] .radio-inline,fieldset[disabled] .checkbox-inline{cursor:not-allowed;}.radio.disabled label,.checkbox.disabled label,fieldset[disabled] .radio label,fieldset[disabled] .checkbox label{cursor:not-allowed;}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0;}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0;}.input-sm,.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px;}select.input-sm,select.form-group-sm .form-control{height:30px;line-height:30px;}textarea.input-sm,textarea.form-group-sm .form-control,select[multiple].input-sm,select[multiple].form-group-sm .form-control{height:auto;}.input-lg,.form-group-lg .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px;}select.input-lg,select.form-group-lg .form-control{height:46px;line-height:46px;}textarea.input-lg,textarea.form-group-lg .form-control,select[multiple].input-lg,select[multiple].form-group-lg .form-control{height:auto;}.has-feedback{position:relative;}.has-feedback .form-control{padding-right:42.5px;}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none;}.input-lg + .form-control-feedback{width:46px;height:46px;line-height:46px;}.input-sm + .form-control-feedback{width:30px;height:30px;line-height:30px;}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline,.has-success.radio label,.has-success.checkbox label,.has-success.radio-inline label,.has-success.checkbox-inline label{color:#3c763d;}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d;}.has-success .form-control-feedback{color:#3c763d;}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline,.has-warning.radio label,.has-warning.checkbox label,.has-warning.radio-inline label,.has-warning.checkbox-inline label{color:#8a6d3b;}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b;}.has-warning .form-control-feedback{color:#8a6d3b;}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline,.has-error.radio label,.has-error.checkbox label,.has-error.radio-inline label,.has-error.checkbox-inline label{color:#a94442;}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442;}.has-error .form-control-feedback{color:#a94442;}.has-feedback label ~ .form-control-feedback{top:25px;}.has-feedback label.sr-only ~ .form-control-feedback{top:0;}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373;}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle;}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle;}.form-inline .form-control-static{display:inline-block;}.form-inline .input-group{display:inline-table;vertical-align:middle;}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto;}.form-inline .input-group > .form-control{width:100%;}.form-inline .control-label{margin-bottom:0;vertical-align:middle;}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle;}.form-inline .radio label,.form-inline .checkbox label{padding-left:0;}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0;}.form-inline .has-feedback .form-control-feedback{top:0;}}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{padding-top:7px;margin-top:0;margin-bottom:0;}.form-horizontal .radio,.form-horizontal .checkbox{min-height:27px;}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px;}@media (min-width:768px){.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right;}}.form-horizontal .has-feedback .form-control-feedback{right:15px;}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:14.3px;}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px;}}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:normal;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px;}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none;}.btn:active,.btn.active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125);}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{pointer-events:none;cursor:not-allowed;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none;opacity:.65;}.btn-default{color:#333;background-color:#fff;border-color:#ccc;}.btn-default:hover,.btn-default:focus,.btn-default.focus,.btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad;}.btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default{background-image:none;}.btn-default.disabled,.btn-default[disabled],fieldset[disabled] .btn-default,.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus,.btn-default.disabled:active,.btn-default[disabled]:active,fieldset[disabled] .btn-default:active,.btn-default.disabled.active,.btn-default[disabled].active,fieldset[disabled] .btn-default.active{background-color:#fff;border-color:#ccc;}.btn-default .badge{color:#fff;background-color:#333;}.btn-primary{color:#fff;background-color:#428bca;border-color:#357ebd;}.btn-primary:hover,.btn-primary:focus,.btn-primary.focus,.btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary{color:#fff;background-color:#3071a9;border-color:#285e8e;}.btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary{background-image:none;}.btn-primary.disabled,.btn-primary[disabled],fieldset[disabled] .btn-primary,.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus,.btn-primary.disabled:active,.btn-primary[disabled]:active,fieldset[disabled] .btn-primary:active,.btn-primary.disabled.active,.btn-primary[disabled].active,fieldset[disabled] .btn-primary.active{background-color:#428bca;border-color:#357ebd;}.btn-primary .badge{color:#428bca;background-color:#fff;}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c;}.btn-success:hover,.btn-success:focus,.btn-success.focus,.btn-success:active,.btn-success.active,.open > .dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439;}.btn-success:active,.btn-success.active,.open > .dropdown-toggle.btn-success{background-image:none;}.btn-success.disabled,.btn-success[disabled],fieldset[disabled] .btn-success,.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus,.btn-success.disabled:active,.btn-success[disabled]:active,fieldset[disabled] .btn-success:active,.btn-success.disabled.active,.btn-success[disabled].active,fieldset[disabled] .btn-success.active{background-color:#5cb85c;border-color:#4cae4c;}.btn-success .badge{color:#5cb85c;background-color:#fff;}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da;}.btn-info:hover,.btn-info:focus,.btn-info.focus,.btn-info:active,.btn-info.active,.open > .dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc;}.btn-info:active,.btn-info.active,.open > .dropdown-toggle.btn-info{background-image:none;}.btn-info.disabled,.btn-info[disabled],fieldset[disabled] .btn-info,.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus,.btn-info.disabled:active,.btn-info[disabled]:active,fieldset[disabled] .btn-info:active,.btn-info.disabled.active,.btn-info[disabled].active,fieldset[disabled] .btn-info.active{background-color:#5bc0de;border-color:#46b8da;}.btn-info .badge{color:#5bc0de;background-color:#fff;}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236;}.btn-warning:hover,.btn-warning:focus,.btn-warning.focus,.btn-warning:active,.btn-warning.active,.open > .dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512;}.btn-warning:active,.btn-warning.active,.open > .dropdown-toggle.btn-warning{background-image:none;}.btn-warning.disabled,.btn-warning[disabled],fieldset[disabled] .btn-warning,.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus,.btn-warning.disabled:active,.btn-warning[disabled]:active,fieldset[disabled] .btn-warning:active,.btn-warning.disabled.active,.btn-warning[disabled].active,fieldset[disabled] .btn-warning.active{background-color:#f0ad4e;border-color:#eea236;}.btn-warning .badge{color:#f0ad4e;background-color:#fff;}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a;}.btn-danger:hover,.btn-danger:focus,.btn-danger.focus,.btn-danger:active,.btn-danger.active,.open > .dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925;}.btn-danger:active,.btn-danger.active,.open > .dropdown-toggle.btn-danger{background-image:none;}.btn-danger.disabled,.btn-danger[disabled],fieldset[disabled] .btn-danger,.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus,.btn-danger.disabled:active,.btn-danger[disabled]:active,fieldset[disabled] .btn-danger:active,.btn-danger.disabled.active,.btn-danger[disabled].active,fieldset[disabled] .btn-danger.active{background-color:#d9534f;border-color:#d43f3a;}.btn-danger .badge{color:#d9534f;background-color:#fff;}.btn-link{font-weight:normal;color:#428bca;border-radius:0;}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none;}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent;}.btn-link:hover,.btn-link:focus{color:#2a6496;text-decoration:underline;background-color:transparent;}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none;}.btn-lg,.btn-group-lg > .btn{padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px;}.btn-sm,.btn-group-sm > .btn{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px;}.btn-xs,.btn-group-xs > .btn{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px;}.btn-block{display:block;width:100%;}.btn-block + .btn-block{margin-top:5px;}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%;}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear;}.fade.in{opacity:1;}.collapse{display:none;visibility:hidden;}.collapse.in{display:block;visibility:visible;}tr.collapse.in{display:table-row;}tbody.collapse.in{display:table-row-group;}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.35s;-o-transition-duration:.35s;transition-duration:.35s;-webkit-transition-property:height,visibility;-o-transition-property:height,visibility;transition-property:height,visibility;}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px solid;border-right:4px solid transparent;border-left:4px solid transparent;}.dropdown{position:relative;}.dropdown-toggle:focus{outline:0;}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);}.dropdown-menu.pull-right{right:0;left:auto;}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5;}.dropdown-menu > li > a{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.42857143;color:#333;white-space:nowrap;}.dropdown-menu > li > a:hover,.dropdown-menu > li > a:focus{color:#262626;text-decoration:none;background-color:#f5f5f5;}.dropdown-menu > .active > a,.dropdown-menu > .active > a:hover,.dropdown-menu > .active > a:focus{color:#fff;text-decoration:none;background-color:#428bca;outline:0;}.dropdown-menu > .disabled > a,.dropdown-menu > .disabled > a:hover,.dropdown-menu > .disabled > a:focus{color:#777;}.dropdown-menu > .disabled > a:hover,.dropdown-menu > .disabled > a:focus{text-decoration:none;cursor:not-allowed;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);}.open > .dropdown-menu{display:block;}.open > a{outline:0;}.dropdown-menu-right{right:0;left:auto;}.dropdown-menu-left{right:auto;left:0;}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap;}.dropdown-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990;}.pull-right > .dropdown-menu{right:0;left:auto;}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{content:"";border-top:0;border-bottom:4px solid;}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:1px;}@media (min-width:768px){.navbar-right .dropdown-menu{right:0;left:auto;}.navbar-right .dropdown-menu-left{right:auto;left:0;}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle;}.btn-group > .btn,.btn-group-vertical > .btn{position:relative;float:left;}.btn-group > .btn:hover,.btn-group-vertical > .btn:hover,.btn-group > .btn:focus,.btn-group-vertical > .btn:focus,.btn-group > .btn:active,.btn-group-vertical > .btn:active,.btn-group > .btn.active,.btn-group-vertical > .btn.active{z-index:2;}.btn-group > .btn:focus,.btn-group-vertical > .btn:focus{outline:0;}.btn-group .btn + .btn,.btn-group .btn + .btn-group,.btn-group .btn-group + .btn,.btn-group .btn-group + .btn-group{margin-left:-1px;}.btn-toolbar{margin-left:-5px;}.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left;}.btn-toolbar > .btn,.btn-toolbar > .btn-group,.btn-toolbar > .input-group{margin-left:5px;}.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0;}.btn-group > .btn:first-child{margin-left:0;}.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0;}.btn-group > .btn:last-child:not(:first-child),.btn-group > .dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0;}.btn-group > .btn-group{float:left;}.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn{border-radius:0;}.btn-group > .btn-group:first-child > .btn:last-child,.btn-group > .btn-group:first-child > .dropdown-toggle{border-top-right-radius:0;border-bottom-right-radius:0;}.btn-group > .btn-group:last-child > .btn:first-child{border-top-left-radius:0;border-bottom-left-radius:0;}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0;}.btn-group > .btn + .dropdown-toggle{padding-right:8px;padding-left:8px;}.btn-group > .btn-lg + .dropdown-toggle{padding-right:12px;padding-left:12px;}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125);}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none;}.btn .caret{margin-left:0;}.btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0;}.dropup .btn-lg .caret{border-width:0 5px 5px;}.btn-group-vertical > .btn,.btn-group-vertical > .btn-group,.btn-group-vertical > .btn-group > .btn{display:block;float:none;width:100%;max-width:100%;}.btn-group-vertical > .btn-group > .btn{float:none;}.btn-group-vertical > .btn + .btn,.btn-group-vertical > .btn + .btn-group,.btn-group-vertical > .btn-group + .btn,.btn-group-vertical > .btn-group + .btn-group{margin-top:-1px;margin-left:0;}.btn-group-vertical > .btn:not(:first-child):not(:last-child){border-radius:0;}.btn-group-vertical > .btn:first-child:not(:last-child){border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0;}.btn-group-vertical > .btn:last-child:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:4px;}.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn{border-radius:0;}.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0;}.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child{border-top-left-radius:0;border-top-right-radius:0;}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate;}.btn-group-justified > .btn,.btn-group-justified > .btn-group{display:table-cell;float:none;width:1%;}.btn-group-justified > .btn-group .btn{width:100%;}.btn-group-justified > .btn-group .dropdown-menu{left:auto;}[data-toggle="buttons"] > .btn input[type="radio"],[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],[data-toggle="buttons"] > .btn input[type="checkbox"],[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"]{position:absolute;clip:rect(0,0,0,0);pointer-events:none;}.input-group{position:relative;display:table;border-collapse:separate;}.input-group[class*="col-"]{float:none;padding-right:0;padding-left:0;}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0;}.input-group-lg > .form-control,.input-group-lg > .input-group-addon,.input-group-lg > .input-group-btn > .btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px;}select.input-group-lg > .form-control,select.input-group-lg > .input-group-addon,select.input-group-lg > .input-group-btn > .btn{height:46px;line-height:46px;}textarea.input-group-lg > .form-control,textarea.input-group-lg > .input-group-addon,textarea.input-group-lg > .input-group-btn > .btn,select[multiple].input-group-lg > .form-control,select[multiple].input-group-lg > .input-group-addon,select[multiple].input-group-lg > .input-group-btn > .btn{height:auto;}.input-group-sm > .form-control,.input-group-sm > .input-group-addon,.input-group-sm > .input-group-btn > .btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px;}select.input-group-sm > .form-control,select.input-group-sm > .input-group-addon,select.input-group-sm > .input-group-btn > .btn{height:30px;line-height:30px;}textarea.input-group-sm > .form-control,textarea.input-group-sm > .input-group-addon,textarea.input-group-sm > .input-group-btn > .btn,select[multiple].input-group-sm > .form-control,select[multiple].input-group-sm > .input-group-addon,select[multiple].input-group-sm > .input-group-btn > .btn{height:auto;}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell;}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0;}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle;}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:normal;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px;}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px;}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px;}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0;}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child > .btn,.input-group-btn:first-child > .btn-group > .btn,.input-group-btn:first-child > .dropdown-toggle,.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child > .btn-group:not(:last-child) > .btn{border-top-right-radius:0;border-bottom-right-radius:0;}.input-group-addon:first-child{border-right:0;}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child > .btn,.input-group-btn:last-child > .btn-group > .btn,.input-group-btn:last-child > .dropdown-toggle,.input-group-btn:first-child > .btn:not(:first-child),.input-group-btn:first-child > .btn-group:not(:first-child) > .btn{border-top-left-radius:0;border-bottom-left-radius:0;}.input-group-addon:last-child{border-left:0;}.input-group-btn{position:relative;font-size:0;white-space:nowrap;}.input-group-btn > .btn{position:relative;}.input-group-btn > .btn + .btn{margin-left:-1px;}.input-group-btn > .btn:hover,.input-group-btn > .btn:focus,.input-group-btn > .btn:active{z-index:2;}.input-group-btn:first-child > .btn,.input-group-btn:first-child > .btn-group{margin-right:-1px;}.input-group-btn:last-child > .btn,.input-group-btn:last-child > .btn-group{margin-left:-1px;}.nav{padding-left:0;margin-bottom:0;list-style:none;}.nav > li{position:relative;display:block;}.nav > li > a{position:relative;display:block;padding:10px 15px;}.nav > li > a:hover,.nav > li > a:focus{text-decoration:none;background-color:#eee;}.nav > li.disabled > a{color:#777;}.nav > li.disabled > a:hover,.nav > li.disabled > a:focus{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent;}.nav .open > a,.nav .open > a:hover,.nav .open > a:focus{background-color:#eee;border-color:#428bca;}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5;}.nav > li > a > img{max-width:none;}.nav-tabs{border-bottom:1px solid #ddd;}.nav-tabs > li{float:left;margin-bottom:-1px;}.nav-tabs > li > a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0;}.nav-tabs > li > a:hover{border-color:#eee #eee #ddd;}.nav-tabs > li.active > a,.nav-tabs > li.active > a:hover,.nav-tabs > li.active > a:focus{color:#555;cursor:default;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent;}.nav-tabs.nav-justified{width:100%;border-bottom:0;}.nav-tabs.nav-justified > li{float:none;}.nav-tabs.nav-justified > li > a{margin-bottom:5px;text-align:center;}.nav-tabs.nav-justified > .dropdown .dropdown-menu{top:auto;left:auto;}@media (min-width:768px){.nav-tabs.nav-justified > li{display:table-cell;width:1%;}.nav-tabs.nav-justified > li > a{margin-bottom:0;}}.nav-tabs.nav-justified > li > a{margin-right:0;border-radius:4px;}.nav-tabs.nav-justified > .active > a,.nav-tabs.nav-justified > .active > a:hover,.nav-tabs.nav-justified > .active > a:focus{border:1px solid #ddd;}@media (min-width:768px){.nav-tabs.nav-justified > li > a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0;}.nav-tabs.nav-justified > .active > a,.nav-tabs.nav-justified > .active > a:hover,.nav-tabs.nav-justified > .active > a:focus{border-bottom-color:#fff;}}.nav-pills > li{float:left;}.nav-pills > li > a{border-radius:4px;}.nav-pills > li + li{margin-left:2px;}.nav-pills > li.active > a,.nav-pills > li.active > a:hover,.nav-pills > li.active > a:focus{color:#fff;background-color:#428bca;}.nav-stacked > li{float:none;}.nav-stacked > li + li{margin-top:2px;margin-left:0;}.nav-justified{width:100%;}.nav-justified > li{float:none;}.nav-justified > li > a{margin-bottom:5px;text-align:center;}.nav-justified > .dropdown .dropdown-menu{top:auto;left:auto;}@media (min-width:768px){.nav-justified > li{display:table-cell;width:1%;}.nav-justified > li > a{margin-bottom:0;}}.nav-tabs-justified{border-bottom:0;}.nav-tabs-justified > li > a{margin-right:0;border-radius:4px;}.nav-tabs-justified > .active > a,.nav-tabs-justified > .active > a:hover,.nav-tabs-justified > .active > a:focus{border:1px solid #ddd;}@media (min-width:768px){.nav-tabs-justified > li > a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0;}.nav-tabs-justified > .active > a,.nav-tabs-justified > .active > a:hover,.nav-tabs-justified > .active > a:focus{border-bottom-color:#fff;}}.tab-content > .tab-pane{display:none;visibility:hidden;}.tab-content > .active{display:block;visibility:visible;}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0;}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent;}@media (min-width:768px){.navbar{border-radius:4px;}}@media (min-width:768px){.navbar-header{float:left;}}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;-webkit-overflow-scrolling:touch;border-top:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1);}.navbar-collapse.in{overflow-y:auto;}@media (min-width:768px){.navbar-collapse{width:auto;border-top:0;-webkit-box-shadow:none;box-shadow:none;}.navbar-collapse.collapse{display:block !important;height:auto !important;padding-bottom:0;overflow:visible !important;visibility:visible !important;}.navbar-collapse.in{overflow-y:visible;}.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{padding-right:0;padding-left:0;}}.navbar-fixed-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{max-height:340px;}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{max-height:200px;}}.container > .navbar-header,.container-fluid > .navbar-header,.container > .navbar-collapse,.container-fluid > .navbar-collapse{margin-right:-15px;margin-left:-15px;}@media (min-width:768px){.container > .navbar-header,.container-fluid > .navbar-header,.container > .navbar-collapse,.container-fluid > .navbar-collapse{margin-right:0;margin-left:0;}}.navbar-static-top{z-index:1000;border-width:0 0 1px;}@media (min-width:768px){.navbar-static-top{border-radius:0;}}.navbar-fixed-top,.navbar-fixed-bottom{position:fixed;right:0;left:0;z-index:1030;}@media (min-width:768px){.navbar-fixed-top,.navbar-fixed-bottom{border-radius:0;}}.navbar-fixed-top{top:0;border-width:0 0 1px;}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0;}.navbar-brand{float:left;height:50px;padding:15px 15px;font-size:18px;line-height:20px;}.navbar-brand:hover,.navbar-brand:focus{text-decoration:none;}.navbar-brand > img{display:block;}@media (min-width:768px){.navbar > .container .navbar-brand,.navbar > .container-fluid .navbar-brand{margin-left:-15px;}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-top:8px;margin-right:15px;margin-bottom:8px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px;}.navbar-toggle:focus{outline:0;}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px;}.navbar-toggle .icon-bar + .icon-bar{margin-top:4px;}@media (min-width:768px){.navbar-toggle{display:none;}}.navbar-nav{margin:7.5px -15px;}.navbar-nav > li > a{padding-top:10px;padding-bottom:10px;line-height:20px;}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none;}.navbar-nav .open .dropdown-menu > li > a,.navbar-nav .open .dropdown-menu .dropdown-header{padding:5px 15px 5px 25px;}.navbar-nav .open .dropdown-menu > li > a{line-height:20px;}.navbar-nav .open .dropdown-menu > li > a:hover,.navbar-nav .open .dropdown-menu > li > a:focus{background-image:none;}}@media (min-width:768px){.navbar-nav{float:left;margin:0;}.navbar-nav > li{float:left;}.navbar-nav > li > a{padding-top:15px;padding-bottom:15px;}}.navbar-form{padding:10px 15px;margin-top:8px;margin-right:-15px;margin-bottom:8px;margin-left:-15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle;}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle;}.navbar-form .form-control-static{display:inline-block;}.navbar-form .input-group{display:inline-table;vertical-align:middle;}.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn,.navbar-form .input-group .form-control{width:auto;}.navbar-form .input-group > .form-control{width:100%;}.navbar-form .control-label{margin-bottom:0;vertical-align:middle;}.navbar-form .radio,.navbar-form .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle;}.navbar-form .radio label,.navbar-form .checkbox label{padding-left:0;}.navbar-form .radio input[type="radio"],.navbar-form .checkbox input[type="checkbox"]{position:relative;margin-left:0;}.navbar-form .has-feedback .form-control-feedback{top:0;}}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px;}.navbar-form .form-group:last-child{margin-bottom:0;}}@media (min-width:768px){.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;-webkit-box-shadow:none;box-shadow:none;}}.navbar-nav > li > .dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0;}.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu{border-bottom-right-radius:0;border-bottom-left-radius:0;}.navbar-btn{margin-top:8px;margin-bottom:8px;}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px;}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px;}.navbar-text{margin-top:15px;margin-bottom:15px;}@media (min-width:768px){.navbar-text{float:left;margin-right:15px;margin-left:15px;}}@media (min-width:768px){.navbar-left{float:left !important;}.navbar-right{float:right !important;margin-right:-15px;}.navbar-right ~ .navbar-right{margin-right:0;}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7;}.navbar-default .navbar-brand{color:#777;}.navbar-default .navbar-brand:hover,.navbar-default .navbar-brand:focus{color:#5e5e5e;background-color:transparent;}.navbar-default .navbar-text{color:#777;}.navbar-default .navbar-nav > li > a{color:#777;}.navbar-default .navbar-nav > li > a:hover,.navbar-default .navbar-nav > li > a:focus{color:#333;background-color:transparent;}.navbar-default .navbar-nav > .active > a,.navbar-default .navbar-nav > .active > a:hover,.navbar-default .navbar-nav > .active > a:focus{color:#555;background-color:#e7e7e7;}.navbar-default .navbar-nav > .disabled > a,.navbar-default .navbar-nav > .disabled > a:hover,.navbar-default .navbar-nav > .disabled > a:focus{color:#ccc;background-color:transparent;}.navbar-default .navbar-toggle{border-color:#ddd;}.navbar-default .navbar-toggle:hover,.navbar-default .navbar-toggle:focus{background-color:#ddd;}.navbar-default .navbar-toggle .icon-bar{background-color:#888;}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7;}.navbar-default .navbar-nav > .open > a,.navbar-default .navbar-nav > .open > a:hover,.navbar-default .navbar-nav > .open > a:focus{color:#555;background-color:#e7e7e7;}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu > li > a{color:#777;}.navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > li > a:focus{color:#333;background-color:transparent;}.navbar-default .navbar-nav .open .dropdown-menu > .active > a,.navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus{color:#555;background-color:#e7e7e7;}.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,.navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus{color:#ccc;background-color:transparent;}}.navbar-default .navbar-link{color:#777;}.navbar-default .navbar-link:hover{color:#333;}.navbar-default .btn-link{color:#777;}.navbar-default .btn-link:hover,.navbar-default .btn-link:focus{color:#333;}.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:hover,.navbar-default .btn-link[disabled]:focus,fieldset[disabled] .navbar-default .btn-link:focus{color:#ccc;}.navbar-inverse{background-color:#222;border-color:#080808;}.navbar-inverse .navbar-brand{color:#9d9d9d;}.navbar-inverse .navbar-brand:hover,.navbar-inverse .navbar-brand:focus{color:#fff;background-color:transparent;}.navbar-inverse .navbar-text{color:#9d9d9d;}.navbar-inverse .navbar-nav > li > a{color:#9d9d9d;}.navbar-inverse .navbar-nav > li > a:hover,.navbar-inverse .navbar-nav > li > a:focus{color:#fff;background-color:transparent;}.navbar-inverse .navbar-nav > .active > a,.navbar-inverse .navbar-nav > .active > a:hover,.navbar-inverse .navbar-nav > .active > a:focus{color:#fff;background-color:#080808;}.navbar-inverse .navbar-nav > .disabled > a,.navbar-inverse .navbar-nav > .disabled > a:hover,.navbar-inverse .navbar-nav > .disabled > a:focus{color:#444;background-color:transparent;}.navbar-inverse .navbar-toggle{border-color:#333;}.navbar-inverse .navbar-toggle:hover,.navbar-inverse .navbar-toggle:focus{background-color:#333;}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff;}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010;}.navbar-inverse .navbar-nav > .open > a,.navbar-inverse .navbar-nav > .open > a:hover,.navbar-inverse .navbar-nav > .open > a:focus{color:#fff;background-color:#080808;}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header{border-color:#080808;}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808;}.navbar-inverse .navbar-nav .open .dropdown-menu > li > a{color:#9d9d9d;}.navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus{color:#fff;background-color:transparent;}.navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,.navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus{color:#fff;background-color:#080808;}.navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,.navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus{color:#444;background-color:transparent;}}.navbar-inverse .navbar-link{color:#9d9d9d;}.navbar-inverse .navbar-link:hover{color:#fff;}.navbar-inverse .btn-link{color:#9d9d9d;}.navbar-inverse .btn-link:hover,.navbar-inverse .btn-link:focus{color:#fff;}.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:hover,.navbar-inverse .btn-link[disabled]:focus,fieldset[disabled] .navbar-inverse .btn-link:focus{color:#444;}.breadcrumb{padding:8px 15px;margin-bottom:20px;list-style:none;background-color:#f5f5f5;border-radius:4px;}.breadcrumb > li{display:inline-block;}.breadcrumb > li + li:before{padding:0 5px;color:#ccc;content:"/\\00a0";}.breadcrumb > .active{color:#777;}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px;}.pagination > li{display:inline;}.pagination > li > a,.pagination > li > span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#428bca;text-decoration:none;background-color:#fff;border:1px solid #ddd;}.pagination > li:first-child > a,.pagination > li:first-child > span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px;}.pagination > li:last-child > a,.pagination > li:last-child > span{border-top-right-radius:4px;border-bottom-right-radius:4px;}.pagination > li > a:hover,.pagination > li > span:hover,.pagination > li > a:focus,.pagination > li > span:focus{color:#2a6496;background-color:#eee;border-color:#ddd;}.pagination > .active > a,.pagination > .active > span,.pagination > .active > a:hover,.pagination > .active > span:hover,.pagination > .active > a:focus,.pagination > .active > span:focus{z-index:2;color:#fff;cursor:default;background-color:#428bca;border-color:#428bca;}.pagination > .disabled > span,.pagination > .disabled > span:hover,.pagination > .disabled > span:focus,.pagination > .disabled > a,.pagination > .disabled > a:hover,.pagination > .disabled > a:focus{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd;}.pagination-lg > li > a,.pagination-lg > li > span{padding:10px 16px;font-size:18px;}.pagination-lg > li:first-child > a,.pagination-lg > li:first-child > span{border-top-left-radius:6px;border-bottom-left-radius:6px;}.pagination-lg > li:last-child > a,.pagination-lg > li:last-child > span{border-top-right-radius:6px;border-bottom-right-radius:6px;}.pagination-sm > li > a,.pagination-sm > li > span{padding:5px 10px;font-size:12px;}.pagination-sm > li:first-child > a,.pagination-sm > li:first-child > span{border-top-left-radius:3px;border-bottom-left-radius:3px;}.pagination-sm > li:last-child > a,.pagination-sm > li:last-child > span{border-top-right-radius:3px;border-bottom-right-radius:3px;}.pager{padding-left:0;margin:20px 0;text-align:center;list-style:none;}.pager li{display:inline;}.pager li > a,.pager li > span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px;}.pager li > a:hover,.pager li > a:focus{text-decoration:none;background-color:#eee;}.pager .next > a,.pager .next > span{float:right;}.pager .previous > a,.pager .previous > span{float:left;}.pager .disabled > a,.pager .disabled > a:hover,.pager .disabled > a:focus,.pager .disabled > span{color:#777;cursor:not-allowed;background-color:#fff;}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:bold;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;}a.label:hover,a.label:focus{color:#fff;text-decoration:none;cursor:pointer;}.label:empty{display:none;}.btn .label{position:relative;top:-1px;}.label-default{background-color:#777;}.label-default[href]:hover,.label-default[href]:focus{background-color:#5e5e5e;}.label-primary{background-color:#428bca;}.label-primary[href]:hover,.label-primary[href]:focus{background-color:#3071a9;}.label-success{background-color:#5cb85c;}.label-success[href]:hover,.label-success[href]:focus{background-color:#449d44;}.label-info{background-color:#5bc0de;}.label-info[href]:hover,.label-info[href]:focus{background-color:#31b0d5;}.label-warning{background-color:#f0ad4e;}.label-warning[href]:hover,.label-warning[href]:focus{background-color:#ec971f;}.label-danger{background-color:#d9534f;}.label-danger[href]:hover,.label-danger[href]:focus{background-color:#c9302c;}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:bold;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;background-color:#777;border-radius:10px;}.badge:empty{display:none;}.btn .badge{position:relative;top:-1px;}.btn-xs .badge{top:0;padding:1px 5px;}a.badge:hover,a.badge:focus{color:#fff;text-decoration:none;cursor:pointer;}a.list-group-item.active > .badge,.nav-pills > .active > a > .badge{color:#428bca;background-color:#fff;}.nav-pills > li > a > .badge{margin-left:3px;}.jumbotron{padding:30px 15px;margin-bottom:30px;color:inherit;background-color:#eee;}.jumbotron h1,.jumbotron .h1{color:inherit;}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200;}.jumbotron > hr{border-top-color:#d5d5d5;}.container .jumbotron,.container-fluid .jumbotron{border-radius:6px;}.jumbotron .container{max-width:100%;}@media screen and (min-width:768px){.jumbotron{padding:48px 0;}.container .jumbotron{padding-right:60px;padding-left:60px;}.jumbotron h1,.jumbotron .h1{font-size:63px;}}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out;}.thumbnail > img,.thumbnail a > img{margin-right:auto;margin-left:auto;}a.thumbnail:hover,a.thumbnail:focus,a.thumbnail.active{border-color:#428bca;}.thumbnail .caption{padding:9px;color:#333;}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px;}.alert h4{margin-top:0;color:inherit;}.alert .alert-link{font-weight:bold;}.alert > p,.alert > ul{margin-bottom:0;}.alert > p + p{margin-top:5px;}.alert-dismissable,.alert-dismissible{padding-right:35px;}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit;}.alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6;}.alert-success hr{border-top-color:#c9e2b3;}.alert-success .alert-link{color:#2b542c;}.alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1;}.alert-info hr{border-top-color:#a6e1ec;}.alert-info .alert-link{color:#245269;}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc;}.alert-warning hr{border-top-color:#f7e1b5;}.alert-warning .alert-link{color:#66512c;}.alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1;}.alert-danger hr{border-top-color:#e4b9c0;}.alert-danger .alert-link{color:#843534;}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0;}to{background-position:0 0;}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0;}to{background-position:0 0;}}@keyframes progress-bar-stripes{from{background-position:40px 0;}to{background-position:0 0;}}.progress{height:20px;margin-bottom:20px;overflow:hidden;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#428bca;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease;}.progress-striped .progress-bar,.progress-bar-striped{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);-webkit-background-size:40px 40px;background-size:40px 40px;}.progress.active .progress-bar,.progress-bar.active{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite;}.progress-bar-success{background-color:#5cb85c;}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);}.progress-bar-info{background-color:#5bc0de;}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);}.progress-bar-warning{background-color:#f0ad4e;}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);}.progress-bar-danger{background-color:#d9534f;}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);}.media{margin-top:15px;}.media:first-child{margin-top:0;}.media-right,.media > .pull-right{padding-left:10px;}.media-left,.media > .pull-left{padding-right:10px;}.media-left,.media-right,.media-body{display:table-cell;vertical-align:top;}.media-middle{vertical-align:middle;}.media-bottom{vertical-align:bottom;}.media-heading{margin-top:0;margin-bottom:5px;}.media-list{padding-left:0;list-style:none;}.list-group{padding-left:0;margin-bottom:20px;}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd;}.list-group-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px;}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px;}.list-group-item > .badge{float:right;}.list-group-item > .badge + .badge{margin-right:5px;}a.list-group-item{color:#555;}a.list-group-item .list-group-item-heading{color:#333;}a.list-group-item:hover,a.list-group-item:focus{color:#555;text-decoration:none;background-color:#f5f5f5;}.list-group-item.disabled,.list-group-item.disabled:hover,.list-group-item.disabled:focus{color:#777;cursor:not-allowed;background-color:#eee;}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading{color:inherit;}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text{color:#777;}.list-group-item.active,.list-group-item.active:hover,.list-group-item.active:focus{z-index:2;color:#fff;background-color:#428bca;border-color:#428bca;}.list-group-item.active .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active .list-group-item-heading > small,.list-group-item.active:hover .list-group-item-heading > small,.list-group-item.active:focus .list-group-item-heading > small,.list-group-item.active .list-group-item-heading > .small,.list-group-item.active:hover .list-group-item-heading > .small,.list-group-item.active:focus .list-group-item-heading > .small{color:inherit;}.list-group-item.active .list-group-item-text,.list-group-item.active:hover .list-group-item-text,.list-group-item.active:focus .list-group-item-text{color:#e1edf7;}.list-group-item-success{color:#3c763d;background-color:#dff0d8;}a.list-group-item-success{color:#3c763d;}a.list-group-item-success .list-group-item-heading{color:inherit;}a.list-group-item-success:hover,a.list-group-item-success:focus{color:#3c763d;background-color:#d0e9c6;}a.list-group-item-success.active,a.list-group-item-success.active:hover,a.list-group-item-success.active:focus{color:#fff;background-color:#3c763d;border-color:#3c763d;}.list-group-item-info{color:#31708f;background-color:#d9edf7;}a.list-group-item-info{color:#31708f;}a.list-group-item-info .list-group-item-heading{color:inherit;}a.list-group-item-info:hover,a.list-group-item-info:focus{color:#31708f;background-color:#c4e3f3;}a.list-group-item-info.active,a.list-group-item-info.active:hover,a.list-group-item-info.active:focus{color:#fff;background-color:#31708f;border-color:#31708f;}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3;}a.list-group-item-warning{color:#8a6d3b;}a.list-group-item-warning .list-group-item-heading{color:inherit;}a.list-group-item-warning:hover,a.list-group-item-warning:focus{color:#8a6d3b;background-color:#faf2cc;}a.list-group-item-warning.active,a.list-group-item-warning.active:hover,a.list-group-item-warning.active:focus{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b;}.list-group-item-danger{color:#a94442;background-color:#f2dede;}a.list-group-item-danger{color:#a94442;}a.list-group-item-danger .list-group-item-heading{color:inherit;}a.list-group-item-danger:hover,a.list-group-item-danger:focus{color:#a94442;background-color:#ebcccc;}a.list-group-item-danger.active,a.list-group-item-danger.active:hover,a.list-group-item-danger.active:focus{color:#fff;background-color:#a94442;border-color:#a94442;}.list-group-item-heading{margin-top:0;margin-bottom:5px;}.list-group-item-text{margin-bottom:0;line-height:1.3;}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05);}.panel-body{padding:15px;}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px;}.panel-heading > .dropdown .dropdown-toggle{color:inherit;}.panel-title{margin-top:0;margin-bottom:0;font-size:16px;color:inherit;}.panel-title > a{color:inherit;}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.panel > .list-group,.panel > .panel-collapse > .list-group{margin-bottom:0;}.panel > .list-group .list-group-item,.panel > .panel-collapse > .list-group .list-group-item{border-width:1px 0;border-radius:0;}.panel > .list-group:first-child .list-group-item:first-child,.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child{border-top:0;border-top-left-radius:3px;border-top-right-radius:3px;}.panel > .list-group:last-child .list-group-item:last-child,.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.panel-heading + .list-group .list-group-item:first-child{border-top-width:0;}.list-group + .panel-footer{border-top-width:0;}.panel > .table,.panel > .table-responsive > .table,.panel > .panel-collapse > .table{margin-bottom:0;}.panel > .table caption,.panel > .table-responsive > .table caption,.panel > .panel-collapse > .table caption{padding-right:15px;padding-left:15px;}.panel > .table:first-child,.panel > .table-responsive:first-child > .table:first-child{border-top-left-radius:3px;border-top-right-radius:3px;}.panel > .table:first-child > thead:first-child > tr:first-child,.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,.panel > .table:first-child > tbody:first-child > tr:first-child,.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px;}.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child{border-top-left-radius:3px;}.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child{border-top-right-radius:3px;}.panel > .table:last-child,.panel > .table-responsive:last-child > .table:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.panel > .table:last-child > tbody:last-child > tr:last-child,.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,.panel > .table:last-child > tfoot:last-child > tr:last-child,.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child{border-bottom-left-radius:3px;}.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child{border-bottom-right-radius:3px;}.panel > .panel-body + .table,.panel > .panel-body + .table-responsive,.panel > .table + .panel-body,.panel > .table-responsive + .panel-body{border-top:1px solid #ddd;}.panel > .table > tbody:first-child > tr:first-child th,.panel > .table > tbody:first-child > tr:first-child td{border-top:0;}.panel > .table-bordered,.panel > .table-responsive > .table-bordered{border:0;}.panel > .table-bordered > thead > tr > th:first-child,.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,.panel > .table-bordered > tbody > tr > th:first-child,.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,.panel > .table-bordered > tfoot > tr > th:first-child,.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,.panel > .table-bordered > thead > tr > td:first-child,.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,.panel > .table-bordered > tbody > tr > td:first-child,.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,.panel > .table-bordered > tfoot > tr > td:first-child,.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child{border-left:0;}.panel > .table-bordered > thead > tr > th:last-child,.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,.panel > .table-bordered > tbody > tr > th:last-child,.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,.panel > .table-bordered > tfoot > tr > th:last-child,.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,.panel > .table-bordered > thead > tr > td:last-child,.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,.panel > .table-bordered > tbody > tr > td:last-child,.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,.panel > .table-bordered > tfoot > tr > td:last-child,.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child{border-right:0;}.panel > .table-bordered > thead > tr:first-child > td,.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,.panel > .table-bordered > tbody > tr:first-child > td,.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,.panel > .table-bordered > thead > tr:first-child > th,.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,.panel > .table-bordered > tbody > tr:first-child > th,.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th{border-bottom:0;}.panel > .table-bordered > tbody > tr:last-child > td,.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,.panel > .table-bordered > tfoot > tr:last-child > td,.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,.panel > .table-bordered > tbody > tr:last-child > th,.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,.panel > .table-bordered > tfoot > tr:last-child > th,.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th{border-bottom:0;}.panel > .table-responsive{margin-bottom:0;border:0;}.panel-group{margin-bottom:20px;}.panel-group .panel{margin-bottom:0;border-radius:4px;}.panel-group .panel + .panel{margin-top:5px;}.panel-group .panel-heading{border-bottom:0;}.panel-group .panel-heading + .panel-collapse > .panel-body,.panel-group .panel-heading + .panel-collapse > .list-group{border-top:1px solid #ddd;}.panel-group .panel-footer{border-top:0;}.panel-group .panel-footer + .panel-collapse .panel-body{border-bottom:1px solid #ddd;}.panel-default{border-color:#ddd;}.panel-default > .panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd;}.panel-default > .panel-heading + .panel-collapse > .panel-body{border-top-color:#ddd;}.panel-default > .panel-heading .badge{color:#f5f5f5;background-color:#333;}.panel-default > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#ddd;}.panel-primary{border-color:#428bca;}.panel-primary > .panel-heading{color:#fff;background-color:#428bca;border-color:#428bca;}.panel-primary > .panel-heading + .panel-collapse > .panel-body{border-top-color:#428bca;}.panel-primary > .panel-heading .badge{color:#428bca;background-color:#fff;}.panel-primary > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#428bca;}.panel-success{border-color:#d6e9c6;}.panel-success > .panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6;}.panel-success > .panel-heading + .panel-collapse > .panel-body{border-top-color:#d6e9c6;}.panel-success > .panel-heading .badge{color:#dff0d8;background-color:#3c763d;}.panel-success > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#d6e9c6;}.panel-info{border-color:#bce8f1;}.panel-info > .panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1;}.panel-info > .panel-heading + .panel-collapse > .panel-body{border-top-color:#bce8f1;}.panel-info > .panel-heading .badge{color:#d9edf7;background-color:#31708f;}.panel-info > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#bce8f1;}.panel-warning{border-color:#faebcc;}.panel-warning > .panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc;}.panel-warning > .panel-heading + .panel-collapse > .panel-body{border-top-color:#faebcc;}.panel-warning > .panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b;}.panel-warning > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#faebcc;}.panel-danger{border-color:#ebccd1;}.panel-danger > .panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1;}.panel-danger > .panel-heading + .panel-collapse > .panel-body{border-top-color:#ebccd1;}.panel-danger > .panel-heading .badge{color:#f2dede;background-color:#a94442;}.panel-danger > .panel-footer + .panel-collapse > .panel-body{border-bottom-color:#ebccd1;}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden;}.embed-responsive .embed-responsive-item,.embed-responsive iframe,.embed-responsive embed,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0;}.embed-responsive.embed-responsive-16by9{padding-bottom:56.25%;}.embed-responsive.embed-responsive-4by3{padding-bottom:75%;}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05);}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15);}.well-lg{padding:24px;border-radius:6px;}.well-sm{padding:9px;border-radius:3px;}.close{float:right;font-size:21px;font-weight:bold;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2;}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5;}button.close{-webkit-appearance:none;padding:0;cursor:pointer;background:transparent;border:0;}.modal-open{overflow:hidden;}.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;display:none;overflow:hidden;-webkit-overflow-scrolling:touch;outline:0;}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out;-webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);-o-transform:translate(0,-25%);transform:translate(0,-25%);}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0);}.modal-open .modal{overflow-x:hidden;overflow-y:auto;}.modal-dialog{position:relative;width:auto;margin:10px;}.modal-content{position:relative;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;}.modal-backdrop.fade{filter:alpha(opacity=0);opacity:0;}.modal-backdrop.in{filter:alpha(opacity=50);opacity:.5;}.modal-header{min-height:16.42857143px;padding:15px;border-bottom:1px solid #e5e5e5;}.modal-header .close{margin-top:-2px;}.modal-title{margin:0;line-height:1.42857143;}.modal-body{position:relative;padding:15px;}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5;}.modal-footer .btn + .btn{margin-bottom:0;margin-left:5px;}.modal-footer .btn-group .btn + .btn{margin-left:-1px;}.modal-footer .btn-block + .btn-block{margin-left:0;}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll;}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto;}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5);}.modal-sm{width:300px;}}@media (min-width:992px){.modal-lg{width:900px;}}.tooltip{position:absolute;z-index:1070;display:block;font-size:12px;line-height:1.4;visibility:visible;filter:alpha(opacity=0);opacity:0;}.tooltip.in{filter:alpha(opacity=90);opacity:.9;}.tooltip.top{padding:5px 0;margin-top:-3px;}.tooltip.right{padding:0 5px;margin-left:3px;}.tooltip.bottom{padding:5px 0;margin-top:3px;}.tooltip.left{padding:0 5px;margin-left:-3px;}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;border-radius:4px;}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid;}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000;}.tooltip.top-left .tooltip-arrow{bottom:0;left:5px;border-width:5px 5px 0;border-top-color:#000;}.tooltip.top-right .tooltip-arrow{right:5px;bottom:0;border-width:5px 5px 0;border-top-color:#000;}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000;}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000;}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000;}.tooltip.bottom-left .tooltip-arrow{top:0;left:5px;border-width:0 5px 5px;border-bottom-color:#000;}.tooltip.bottom-right .tooltip-arrow{top:0;right:5px;border-width:0 5px 5px;border-bottom-color:#000;}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-size:14px;font-weight:normal;line-height:1.42857143;text-align:left;white-space:normal;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);}.popover.top{margin-top:-10px;}.popover.right{margin-left:10px;}.popover.bottom{margin-top:10px;}.popover.left{margin-left:-10px;}.popover-title{padding:8px 14px;margin:0;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0;}.popover-content{padding:9px 14px;}.popover > .arrow,.popover > .arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;}.popover > .arrow{border-width:11px;}.popover > .arrow:after{content:"";border-width:10px;}.popover.top > .arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0;}.popover.top > .arrow:after{bottom:1px;margin-left:-10px;content:" ";border-top-color:#fff;border-bottom-width:0;}.popover.right > .arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#999;border-right-color:rgba(0,0,0,.25);border-left-width:0;}.popover.right > .arrow:after{bottom:-10px;left:1px;content:" ";border-right-color:#fff;border-left-width:0;}.popover.bottom > .arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);}.popover.bottom > .arrow:after{top:1px;margin-left:-10px;content:" ";border-top-width:0;border-bottom-color:#fff;}.popover.left > .arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25);}.popover.left > .arrow:after{right:1px;bottom:-10px;content:" ";border-right-width:0;border-left-color:#fff;}.carousel{position:relative;}.carousel-inner{position:relative;width:100%;overflow:hidden;}.carousel-inner > .item{position:relative;display:none;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left;}.carousel-inner > .item > img,.carousel-inner > .item > a > img{line-height:1;}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner > .item{-webkit-transition:-webkit-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;perspective:1000;}.carousel-inner > .item.next,.carousel-inner > .item.active.right{left:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);}.carousel-inner > .item.prev,.carousel-inner > .item.active.left{left:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);}.carousel-inner > .item.next.left,.carousel-inner > .item.prev.right,.carousel-inner > .item.active{left:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);}}.carousel-inner > .active,.carousel-inner > .next,.carousel-inner > .prev{display:block;}.carousel-inner > .active{left:0;}.carousel-inner > .next,.carousel-inner > .prev{position:absolute;top:0;width:100%;}.carousel-inner > .next{left:100%;}.carousel-inner > .prev{left:-100%;}.carousel-inner > .next.left,.carousel-inner > .prev.right{left:0;}.carousel-inner > .active.left{left:-100%;}.carousel-inner > .active.right{left:100%;}.carousel-control{position:absolute;top:0;bottom:0;left:0;width:15%;font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);filter:alpha(opacity=50);opacity:.5;}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0%,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0%,rgba(0,0,0,.0001) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,.0001)));background-image:linear-gradient(to right,rgba(0,0,0,.5) 0%,rgba(0,0,0,.0001) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#80000000\',endColorstr=\'#00000000\',GradientType=1);background-repeat:repeat-x;}.carousel-control.right{right:0;left:auto;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0%,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0%,rgba(0,0,0,.5) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.0001)),to(rgba(0,0,0,.5)));background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0%,rgba(0,0,0,.5) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#00000000\',endColorstr=\'#80000000\',GradientType=1);background-repeat:repeat-x;}.carousel-control:hover,.carousel-control:focus{color:#fff;text-decoration:none;filter:alpha(opacity=90);outline:0;opacity:.9;}.carousel-control .icon-prev,.carousel-control .icon-next,.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right{position:absolute;top:50%;z-index:5;display:inline-block;}.carousel-control .icon-prev,.carousel-control .glyphicon-chevron-left{left:50%;margin-left:-10px;}.carousel-control .icon-next,.carousel-control .glyphicon-chevron-right{right:50%;margin-right:-10px;}.carousel-control .icon-prev,.carousel-control .icon-next{width:20px;height:20px;margin-top:-10px;font-family:serif;}.carousel-control .icon-prev:before{content:\'\\2039\';}.carousel-control .icon-next:before{content:\'\\203a\';}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;padding-left:0;margin-left:-30%;text-align:center;list-style:none;}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;cursor:pointer;background-color:#000 \\9;background-color:rgba(0,0,0,0);border:1px solid #fff;border-radius:10px;}.carousel-indicators .active{width:12px;height:12px;margin:0;background-color:#fff;}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);}.carousel-caption .btn{text-shadow:none;}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-prev,.carousel-control .icon-next{width:30px;height:30px;margin-top:-15px;font-size:30px;}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px;}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px;}.carousel-caption{right:20%;left:20%;padding-bottom:30px;}.carousel-indicators{bottom:20px;}}.clearfix:before,.clearfix:after,.dl-horizontal dd:before,.dl-horizontal dd:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after,.form-horizontal .form-group:before,.form-horizontal .form-group:after,.btn-toolbar:before,.btn-toolbar:after,.btn-group-vertical > .btn-group:before,.btn-group-vertical > .btn-group:after,.nav:before,.nav:after,.navbar:before,.navbar:after,.navbar-header:before,.navbar-header:after,.navbar-collapse:before,.navbar-collapse:after,.pager:before,.pager:after,.panel-body:before,.panel-body:after,.modal-footer:before,.modal-footer:after{display:table;content:" ";}.clearfix:after,.dl-horizontal dd:after,.container:after,.container-fluid:after,.row:after,.form-horizontal .form-group:after,.btn-toolbar:after,.btn-group-vertical > .btn-group:after,.nav:after,.navbar:after,.navbar-header:after,.navbar-collapse:after,.pager:after,.panel-body:after,.modal-footer:after{clear:both;}.center-block{display:block;margin-right:auto;margin-left:auto;}.pull-right{float:right !important;}.pull-left{float:left !important;}.hide{display:none !important;}.show{display:block !important;}.invisible{visibility:hidden;}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;}.hidden{display:none !important;visibility:hidden !important;}.affix{position:fixed;}@-ms-viewport{width:device-width;}.visible-xs,.visible-sm,.visible-md,.visible-lg{display:none !important;}.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block{display:none !important;}@media (max-width:767px){.visible-xs{display:block !important;}table.visible-xs{display:table;}tr.visible-xs{display:table-row !important;}th.visible-xs,td.visible-xs{display:table-cell !important;}}@media (max-width:767px){.visible-xs-block{display:block !important;}}@media (max-width:767px){.visible-xs-inline{display:inline !important;}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block !important;}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block !important;}table.visible-sm{display:table;}tr.visible-sm{display:table-row !important;}th.visible-sm,td.visible-sm{display:table-cell !important;}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block !important;}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline !important;}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block !important;}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block !important;}table.visible-md{display:table;}tr.visible-md{display:table-row !important;}th.visible-md,td.visible-md{display:table-cell !important;}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block !important;}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline !important;}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block !important;}}@media (min-width:1200px){.visible-lg{display:block !important;}table.visible-lg{display:table;}tr.visible-lg{display:table-row !important;}th.visible-lg,td.visible-lg{display:table-cell !important;}}@media (min-width:1200px){.visible-lg-block{display:block !important;}}@media (min-width:1200px){.visible-lg-inline{display:inline !important;}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block !important;}}@media (max-width:767px){.hidden-xs{display:none !important;}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none !important;}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none !important;}}@media (min-width:1200px){.hidden-lg{display:none !important;}}.visible-print{display:none !important;}@media print{.visible-print{display:block !important;}table.visible-print{display:table;}tr.visible-print{display:table-row !important;}th.visible-print,td.visible-print{display:table-cell !important;}}.visible-print-block{display:none !important;}@media print{.visible-print-block{display:block !important;}}.visible-print-inline{display:none !important;}@media print{.visible-print-inline{display:inline !important;}}.visible-print-inline-block{display:none !important;}@media print{.visible-print-inline-block{display:inline-block !important;}}@media print{.hidden-print{display:none !important;}}@font-face{font-family:\'icomoon\';src:url(../../release/themes/images/iconfont/icomoon.eot?j980pq);src:url(../../release/themes/images/iconfont/icomoon.eot?j980pq#iefix) format(\'embedded-opentype\'),url(../../release/themes/images/iconfont/icomoon.ttf?j980pq) format(\'truetype\'),url(../../release/themes/images/iconfont/icomoon.woff?j980pq) format(\'woff\'),url(../../release/themes/images/iconfont/icomoon.svg?j980pq#icomoon) format(\'svg\');font-weight:normal;font-style:normal;}[class^="icon-"],[class*=" icon-"]{font-family:\'icomoon\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.icon-tool:before{content:"\\e800";}.icon-measure-distance:before{content:"\\e801";}.icon-measure-acreage:before{content:"\\e802";}.icon-attribute-inquire:before{content:"\\e803";}.icon-clear:before{content:"\\e804";}.icon-split-screen:before{content:"\\e805";}.icon-one-screen:before{content:"\\e806";}.icon-two-screen:before{content:"\\e807";}.icon-three-screen:before{content:"\\e808";}.icon-four-screen:before{content:"\\e809";}.icon-plotting:before{content:"\\e80a";}.icon-plotting-dot:before{content:"\\e80b";}.icon-plotting-line:before{content:"\\e80c";}.icon-plotting-cover:before{content:"\\e80d";}.icon-more:before{content:"\\e80e";}.icon-item-information:before{content:"\\e80f";}.icon-add-CAD:before{content:"\\e810";}.icon-print:before{content:"\\e811";}.icon-full-screen:before{content:"\\e812";}.icon-exit-full-screen:before{content:"\\e813";}.icon-close1:before{content:"\\e814";}.icon-close2:before{content:"\\e815";}.icon-zoom-in:before{content:"\\e816";}.icon-zoom-out:before{content:"\\e817";}.icon-pitch-on:before{content:"\\e818";}.icon-plotting-circle:before{content:"\\e819";}.icon-plotting-rectangle:before{content:"\\e81a";}.icon-plotting-polygon:before{content:"\\e81b";}.icon-location:before{content:"\\e81c";}.icon-arrows:before{content:"\\e81d";}.icon-previous-page:before{content:"\\e81e";}.icon-next-page:before{content:"\\e81f";}.icon-add-SHP:before{content:"\\e820";}.icon-CADicon:before{content:"\\e821";}.icon-SHPicon:before{content:"\\e822";}.icon-edit:before{content:"\\e823";}.icon-Paint-bucket:before{content:"\\e824";}.icon-triangle-right:before{content:"\\e825";}.icon-triangle:before{content:"\\e826";}.icon-arrows-down:before{content:"\\e827";}.icon-arrows-right:before{content:"\\e828";}.icon-flag:before{content:"\\e829";}.icon-return:before{content:"\\e82a";}.icon-arrows-up:before{content:"\\e82b";}.icon-business-analysis:before{content:"\\e82c";}.icon-land-query:before{content:"\\e82d";}.icon-land-use-analysis:before{content:"\\e82e";}.icon-arrows-unfold:before{content:"\\e82f";}.icon-arrows-shrink:before{content:"\\e830";}.icon-home-icon:before{content:"\\e831";}.icon-user-icon:before{content:"\\e832";}.icon-password-icon:before{content:"\\e833";}.icon-exit:before{content:"\\e834";}.icon-prev-view:before{content:"\\e835";}.icon-next-view:before{content:"\\e836";}.icon-close-circle:before{content:"\\e837";}.icon-set:before{content:"\\e838";}.icon-Viewform:before{content:"\\e839";}.icon-exportform:before{content:"\\e83a";}.icon-full-figure:before{content:"\\e83b";}.icon-Annotation:before{content:"\\e83c";}.icon-loading:before{content:"\\e83d";}.icon-data-stack:before{content:"\\e83e";}.icon-revamped:before{content:"\\e83f";}.icon-pipesta-subside:before{content:"\\e903";}.icon-pipesta-material:before{content:"\\e904";}.icon-pipesta-dsize:before{content:"\\e905";}.icon-pipesta-date:before{content:"\\e907";}.icon-pipequery:before{content:"\\e909";}.icon-pipealy-vertical:before{content:"\\e90a";}.icon-pipealy:before{content:"\\e90b";}.icon-pipequery-subside:before{content:"\\e90c";}.icon-pipealy-deep:before{content:"\\e90d";}.icon-pipealy-horizontal:before{content:"\\e90e";}.icon-pipealy-intersection:before{content:"\\e90f";}.icon-uniE910:before{content:"\\e910";}.icon-uniE911:before{content:"\\e911";}.icon-pipealy-airelec:before{content:"\\e912";}.icon-pipealy-accident:before{content:"\\e913";}.icon-pipealy-horizontal-clearance:before{content:"\\e914";}.icon-pipesta:before{content:"\\e915";}.icon-pipealy--earchcalculate:before{content:"\\e916";}.icon-pipealy-hydrant:before{content:"\\e917";}.icon-pipesta-custom:before{content:"\\e919";}.icon-pipealy-vertical-section:before{content:"\\e91a";}.icon-contextmenu-hjcx:before{content:"\\e900";}.icon-contextmenu-add:before{content:"\\e901";}.icon-contextmenu-tshf:before{content:"\\e902";}html,body{width:100%;height:100%;min-width:1000px;overflow:hidden}html * ,body *{font-family:\'Microsoft YaHei\';text-shadow:none;outline:none;}html a:focus,body a:focus{outline:none !important}button{outline:none !important;border:none !important;}.ict_modal_backdrop{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#000;opacity:0.5;}.disableSelect{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.menupanel{position:absolute;left:15px;top:140px;z-index:1000;}.mappanel{position:absolute;top:60px;left:0;right:0;bottom:0;margin:0;padding:0;}.navbar{min-height:60px;margin-bottom:0;border:none;border-radius:0;font-size:12px;font-weight:normal;}.navbar{background:url(\'../../release/themes/images/frame/bg.jpg\');}.navbar-header{margin-top:3px;}.navbar-header label{color:#fff;}.navbar-left{margin-top:12px;position:absolute;left:330px;}.navbar-left input.form-control{width:290px;height:35px;}.navbar-left img{position:relative;left:-22px;cursor:pointer;}.navbar-left select.searchType{height:34px;border-radius:4px;padding:5px;}.navbar-right{height:60px;}.navbar-right label,.navbar-right a{color:#fff;cursor:pointer;}.navbar-right select{height:34px;border-radius:4px;padding:5px;}.navbar-right > li{margin-left:20px;line-height:60px;min-width:100px;height:60px;text-align:center;cursor:pointer;}.navbar-right > li.eventRemind:hover{background-color:rgba(15,104,225,0.5);}.navbar-right > li.topmenubtn:hover{background-color:rgba(15,104,225,0.5);}.navbar-right > li > a{display:inline !important;text-decoration:none !important;color:#fff !important;margin:0 !important;padding:0 !important;font-weight:bold;}.menupanel .menu_main_panel{background-color:#244474;border-radius:0 6px 6px 0;cursor:pointer;}.menupanel .menu_main_panel ul{list-style:none;padding:15px;}.menupanel .menu_main_panel ul>li{padding:10px;margin-bottom:10px;background-color:#23538c;}.menupanel .menu_main_panel .menu_item.active{background-color:#2276c2;}.menupanel .menu_main_panel .menu_item:hover{background-color:#2276c2;}.menupanel .menu_sub_panel{position:absolute;top:0;left:78px;width:180px;max-width:400px;border-radius:0 6px 6px 0;background-color:#244474;cursor:pointer;}.menupanel .menu_sub_panel ul{list-style:none;padding:15px;color:white;}.menupanel .menu_sub_panel >ul >li > label{cursor:pointer;}.menupanel .menu_sub_panel ul>li{margin-bottom:10px;}.menupanel .menu_sub_panel .menu_item.active{background-color:#2276c2;}.menupanel .menu_sub_panel .menu_item:hover{background-color:#2276c2;}.dropdown-menu{z-index:1001 !important;}.navbar-default .navbar-nav > .open > a{background-color:transparent !important;background-image:none !important;}.userlogin_after{width:159px;}.userlogin_after>ul>li>a:hover{background-color:#0F68E6;color:#fff;background-image:none !important;}.userlogin_after>ul>li>a{text-align:center;}.ict_contextmenu_item_li{width:180px;height:30px;line-height:30px;padding:0 10px !important;}.ict_contextmenu_item_li.hover{background-color:#0F69E4 !important;color:#fff !important;}.ict_contextmenu_item_li > span{vertical-align:middle !important;}.ict_contextmenu_item_li > span:first-child{color:#0F69E4;font-size:20px;}.ict_contextmenu_item_li.hover > span:first-child{color:#fff;}.ict_contextmenu_item_li span.nametxt{padding-left:8px;}.msg{height:20px;color:#2276c2;}.Wdate{height:30px !important;width:146px;}.btnDiv{text-align:center;}.btnDiv button{width:140px;height:30px;background-color:#2276c2;font-family:Microsoft Yahei;font-size:14px;color:#fff;padding:0;margin-right:10px;outline:none;border:none;}.btnDiv button:hover{background-color:#095596;}.leaflet-draw-section{position:relative}.leaflet-draw-toolbar{margin-top:12px}.leaflet-draw-toolbar-top{margin-top:0}.leaflet-draw-toolbar-notop a:first-child{border-top-right-radius:0}.leaflet-draw-toolbar-nobottom a:last-child{border-bottom-right-radius:0}.leaflet-draw-toolbar a{background-image:url(\'../../release/library/leaflet/leafletDraw/images/spritesheet.png\');background-image:linear-gradient(transparent,transparent),url(\'../../release/library/leaflet/leafletDraw/images/spritesheet.svg\');background-repeat:no-repeat;background-size:270px 30px;background-clip:padding-box}.leaflet-retina .leaflet-draw-toolbar a{background-image:url(\'../../release/library/leaflet/leafletDraw/images/spritesheet-2x.png\');background-image:linear-gradient(transparent,transparent),url(\'../../release/library/leaflet/leafletDraw/images/spritesheet.svg\')}.leaflet-draw a{display:block;text-align:center;text-decoration:none}.leaflet-draw a .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.leaflet-draw-actions{display:none;list-style:none;margin:0;padding:0;position:absolute;left:26px;top:0;white-space:nowrap}.leaflet-touch .leaflet-draw-actions{left:32px}.leaflet-right .leaflet-draw-actions{right:26px;left:auto}.leaflet-touch .leaflet-right .leaflet-draw-actions{right:32px;left:auto}.leaflet-draw-actions li{display:inline-block}.leaflet-draw-actions li:first-child a{border-left:0}.leaflet-draw-actions li:last-child a{-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.leaflet-right .leaflet-draw-actions li:last-child a{-webkit-border-radius:0;border-radius:0}.leaflet-right .leaflet-draw-actions li:first-child a{-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}.leaflet-draw-actions a{background-color:#919187;border-left:1px solid #AAA;color:#FFF;font:11px/19px "Helvetica Neue",Arial,Helvetica,sans-serif;line-height:28px;text-decoration:none;padding-left:10px;padding-right:10px;height:28px}.leaflet-touch .leaflet-draw-actions a{font-size:12px;line-height:30px;height:30px}.leaflet-draw-actions-bottom{margin-top:0}.leaflet-draw-actions-top{margin-top:1px}.leaflet-draw-actions-top a,.leaflet-draw-actions-bottom a{height:27px;line-height:27px}.leaflet-draw-actions a:hover{background-color:#a0a098}.leaflet-draw-actions-top.leaflet-draw-actions-bottom a{height:26px;line-height:26px}.leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:-2px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:0 -1px}.leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-31px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-29px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-62px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-60px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-92px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-90px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-122px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-120px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-152px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-150px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-182px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-180px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-212px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-210px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-242px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-240px -2px}.leaflet-mouse-marker{background-color:#fff;cursor:crosshair}.leaflet-draw-tooltip{background:#363636;background:rgba(0,0,0,0.5);border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;color:#fff;font:12px/18px "Helvetica Neue",Arial,Helvetica,sans-serif;margin-left:20px;margin-top:-21px;padding:4px 8px;position:absolute;visibility:hidden;white-space:nowrap;z-index:6}.leaflet-draw-tooltip:before{border-right:6px solid black;border-right-color:rgba(0,0,0,0.5);border-top:6px solid transparent;border-bottom:6px solid transparent;content:"";position:absolute;top:7px;left:-7px}.leaflet-error-draw-tooltip{background-color:#f2dede;border:1px solid #e6b6bd;color:#b94a48}.leaflet-error-draw-tooltip:before{border-right-color:#e6b6bd}.leaflet-draw-tooltip-single{margin-top:-12px}.leaflet-draw-tooltip-subtext{color:#f8d5e4}.leaflet-draw-guide-dash{font-size:1%;opacity:.6;position:absolute;width:5px;height:5px}.leaflet-edit-marker-selected{background-color:rgba(254,87,161,0.1);border:4px dashed rgba(254,87,161,0.6);-webkit-border-radius:4px;border-radius:4px;box-sizing:content-box}.leaflet-edit-move{cursor:move}.leaflet-edit-resize{cursor:pointer}.leaflet-oldie .leaflet-draw-toolbar{border:1px solid #999}.ict-leaflet-control-layers{position:relative;}.ict-leaflet-control-layers>ul{list-style:none;padding-left:0;margin-top:0;clear:both;border-radius:6px;}.ict-leaflet-control-layers>ul:before,.ict-leaflet-control-layers>ul:after{display:table;content:" ";clear:both;}.ict-leaflet-control-layers>ul>li{float:left;cursor:pointer;}.ict-leaflet-control-layers>ul>li>a{position:relative;display:block;text-decoration:none;padding:3px 18px;color:#637993;background-color:#D8E6F4;}.ict-leaflet-control-layers>ul>li:nth-child(2n)>a{border-left:solid 1px silver;border-right:solid 1px silver;}.ict-leaflet-control-layers>ul>.active>a{color:#E96037;background-color:#B0E9FD;}.ict_realTarget_popupContainer{}.ict_realTarget_popupContainer{width:100%;margin:0;}.ict_realTarget_popupContainer .shipInfo_Div{width:100%;}.ict_realTarget_popupContainer .shipInfo_Div .shipInfo_table_div{font-size:12px;}.ict_realTarget_popupContainer .shipInfo_Div .shipInfo_table_div table{width:100%;table-layout:fixed;}.ict_realTarget_popupContainer .shipInfo_Div .shipInfo_table_div table tr{height:25px;}.ict_realTarget_popupContainer .shipInfo_Div .shipInfo_table_div table tr:nth-child(odd)>td{background-color:rgb(229,239,253);}.ict_realTarget_popupContainer .shipInfo_Div .shipInfo_table_div table td{text-align:left;padding-left:4px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.ict_realTarget_popupContainer .shipInfo_Div .btnDiv{padding:10px;text-align:center;}.ict_realTarget_popupContainer .shipInfo_Div .btnDiv button{width:140px;height:30px;margin-right:10px;background-color:#2276c2;color:#fff;text-align:center;outline:none;}.ict_realTarget_popupContainer .shipInfo_Div .btnDiv button:hover{background-color:#095596;}@charset "UTF-8";/*! * jQuery contextMenu - Plugin for simple contextMenu handling * * Version:v2.4.3-dev * * Authors:Bj√∂rn Brala (SWIS.nl),Rodney Rehm,Addy Osmani (patches for FF) * Web:http://swisnl.github.io/jQuery-contextMenu/ * * Copyright (c) 2011-2017 SWIS BV and contributors * * Licensed under * MIT License http://www.opensource.org/licenses/mit-license * * Date:2017-01-21T11:53:09.375Z */ @-webkit-keyframes cm-spin{0%{-webkit-transform:translateY(-50%) rotate(0deg);transform:translateY(-50%) rotate(0deg);}100%{-webkit-transform:translateY(-50%) rotate(359deg);transform:translateY(-50%) rotate(359deg);}}@-o-keyframes cm-spin{0%{-webkit-transform:translateY(-50%) rotate(0deg);-o-transform:translateY(-50%) rotate(0deg);transform:translateY(-50%) rotate(0deg);}100%{-webkit-transform:translateY(-50%) rotate(359deg);-o-transform:translateY(-50%) rotate(359deg);transform:translateY(-50%) rotate(359deg);}}@keyframes cm-spin{0%{-webkit-transform:translateY(-50%) rotate(0deg);-o-transform:translateY(-50%) rotate(0deg);transform:translateY(-50%) rotate(0deg);}100%{-webkit-transform:translateY(-50%) rotate(359deg);-o-transform:translateY(-50%) rotate(359deg);transform:translateY(-50%) rotate(359deg);}}@font-face{font-family:"context-menu-icons";font-style:normal;font-weight:normal;src:url("../../release/plugins/jquery.contextmenu/font/context-menu-icons.eot?4rkwk");src:url("../../release/plugins/jquery.contextmenu/font/context-menu-icons.eot?4rkwk#iefix") format("embedded-opentype"),url("../../release/plugins/jquery.contextmenu/font/context-menu-icons.woff2?4rkwk") format("woff2"),url("../../release/plugins/jquery.contextmenu/font/context-menu-icons.woff?4rkwk") format("woff"),url("../../release/plugins/jquery.contextmenu/font/context-menu-icons.ttf?4rkwk") format("truetype");}.context-menu-icon-add:before{content:"\\EA01";}.context-menu-icon-copy:before{content:"\\EA02";}.context-menu-icon-cut:before{content:"\\EA03";}.context-menu-icon-delete:before{content:"\\EA04";}.context-menu-icon-edit:before{content:"\\EA05";}.context-menu-icon-loading:before{content:"\\EA06";}.context-menu-icon-paste:before{content:"\\EA07";}.context-menu-icon-quit:before{content:"\\EA08";}.context-menu-icon::before{position:absolute;top:50%;left:0;width:2em;font-family:"context-menu-icons";font-size:1em;font-style:normal;font-weight:normal;line-height:1;color:#2980b9;text-align:center;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.context-menu-icon.context-menu-hover:before{color:#fff;}.context-menu-icon.context-menu-disabled::before{color:#bbb;}.context-menu-icon.context-menu-icon-loading:before{-webkit-animation:cm-spin 2s infinite;-o-animation:cm-spin 2s infinite;animation:cm-spin 2s infinite;}.context-menu-icon.context-menu-icon--fa{display:list-item;font-family:inherit;}.context-menu-icon.context-menu-icon--fa::before{position:absolute;top:50%;left:0;width:2em;font-family:FontAwesome;font-size:1em;font-style:normal;font-weight:normal;line-height:1;color:#2980b9;text-align:center;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.context-menu-icon.context-menu-icon--fa.context-menu-hover:before{color:#fff;}.context-menu-icon.context-menu-icon--fa.context-menu-disabled::before{color:#bbb;}.context-menu-list{position:absolute;display:inline-block;min-width:13em;max-width:26em;padding:.25em 0;margin:.3em;font-family:inherit;font-size:inherit;list-style-type:none;background:#fff;border:1px solid #bebebe;border-radius:.2em;-webkit-box-shadow:0 2px 5px rgba(0,0,0,.5);box-shadow:0 2px 5px rgba(0,0,0,.5);}.context-menu-item{position:relative;padding:.2em 2em;color:#2f2f2f;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;}.context-menu-separator{padding:0;margin:.35em 0;border-bottom:1px solid #e6e6e6;}.context-menu-item > label > input,.context-menu-item > label > textarea{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;}.context-menu-item.context-menu-hover{color:#fff;cursor:pointer;background-color:#2980b9;}.context-menu-item.context-menu-disabled{color:#bbb;cursor:default;background-color:#fff;}.context-menu-input.context-menu-hover{color:#2f2f2f;cursor:default;}.context-menu-submenu:after{position:absolute;top:50%;right:.5em;z-index:1;width:0;height:0;content:\'\';border-color:transparent transparent transparent #2f2f2f;border-style:solid;border-width:.25em 0 .25em .25em;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);}.context-menu-item.context-menu-input{padding:.3em .6em;}.context-menu-input > label > *{vertical-align:top;}.context-menu-input > label > input[type="checkbox"],.context-menu-input > label > input[type="radio"]{position:relative;top:.12em;margin-right:.4em;}.context-menu-input > label{margin:0;}.context-menu-input > label,.context-menu-input > label > input[type="text"],.context-menu-input > label > textarea,.context-menu-input > label > select{display:block;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}.context-menu-input > label > textarea{height:7em;}.context-menu-item > .context-menu-list{top:.3em;right:-.3em;display:none;}.context-menu-item.context-menu-visible > .context-menu-list{display:block;}.context-menu-accesskey{text-decoration:underline;}.hjcx_more_Container .Wdate,.hjcx_oneship_container .Wdate{height:30px;}.hjcx_more_Container label,.hjcx_oneship_container label{font-weight:normal;}.hjcx_more_Container{margin-top:10px;}.hjcx_more_Container hr{margin-top:5px;margin-bottom:5px;}.hjcx_more_Container .msg{height:20px;color:#2276c2;margin:0;}.hjcx_more_Container .msg.msg1{margin-left:36px;}.hjcx_more_Container .cblb_txt{margin-bottom:10px;}.hjcx_more_Container button:not(.hjcxBtn){width:60px;outline:none;border:solid 1px silver;background:linear-gradient(to top,#E5F2FE,#FCFDFF);font-family:Microsoft Yahei;font-size:14px;}.hjcx_more_Container .cbphDiv > input{width:270px;height:32px;}.hjcx_more_Container .cbphDiv > img{margin-left:-22px;}.hjcx_more_Container .cbphDiv > button.addBtn{float:right;}.hjcx_more_Container .phlbDiv{height:34px;line-height:34px;margin-bottom:5px;}.hjcx_more_Container .phlbDiv button.deleteBtn{float:right;}.hjcx_more_Container .shiplist{height:170px;padding:5px;border:solid 1px silver;}.hjcx_more_Container .shiplist table{width:100%;}.hjcx_more_Container .shiplist table td{text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.hjcx_more_Container .shiplist >.listContent table td.mmsi{text-align:left;}.hjcx_more_Container .shiplist >.listContent>.mscroll{height:126px;}.hjcx_more_Container .shiplist >.listContent ul{list-style:none;padding:0;}.hjcx_more_Container .timeDiv{margin-bottom:20px;}.hjcx_more_Container .btnDiv{text-align:center;}.hjcx_more_Container .btnDiv .hjcxBtn{width:140px;height:30px;background-color:#2276c2;color:#fff;padding:0;border:none;}.hjcx_more_Container .btnDiv .hjcxBtn:hover{background-color:#095596;}.hjcx_oneship_container{}.hjcx_oneship_container .Wdate{width:140px;}.hjcx_oneship_container .msg{height:20px;margin-top:10px;color:#2276c2;}.hjcx_oneship_container .btnDiv{text-align:center;}.hjcx_oneship_container .btnDiv button{width:140px;height:30px;outline:none;border:none;background-color:#2276c2;color:#fff;padding:0;}.hjcx_oneship_container .btnDiv button:hover{background-color:#095596;}.hjcx_oneship_container .btnDiv .cancel{margin-left:10px;}.ictPanel-popPanel-container .drawPopPanel *{margin:0;padding:0;}.ictPanel-popPanel-container .drawPopPanel{position:relative;margin-top:10px;padding-left:18px;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable{display:inline-block;vertical-align:middle;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable input{border:none;outline:none;text-align:center;width:24px;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td{border-collapse:collapse;border:1px solid silver;padding:2px;text-align:center;max-width:24px;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.lat,.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.lng{padding:0;border-right:none;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.dfm{border-left:none;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.space{border-top:none;border-bottom:none;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.latNS,.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.lngWE{width:20px;cursor:pointer;background-color:#fff;}.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.latNS.active,.ictPanel-popPanel-container .drawPopPanel table.latlngsTable td.lngWE.active{background-color:#2e4061;color:#fff;}.ictPanel-popPanel-container .drawPopPanel .btnDiv{text-align:center;margin-top:30px;}.ictPanel-popPanel-container .drawPopPanel .btnDiv .btn{width:85px;height:30px;color:#fff;background-color:#2276c2;}.ictPanel-popPanel-container .drawPopPanel .btnDiv .btn:first-child{margin-right:20px;}.ictPanel-popPanel-container .drawPopPanel .btnDiv .btn:hover{background-color:#095596;}.ictPanel-popPanel-container .drawPopPanel ul{list-style:none;}.ictPanel-popPanel-container .drawPopPanel ul>li{margin-bottom:14px;}.ictPanel-popPanel-container .drawPopPanel ul>li>label:first-child{margin-right:8px;}.ictPanel-popPanel-container .circleContainer{}.ictPanel-popPanel-container .circleContainer .circleRadius{width:220px;}.ictPanel-popPanel-container .rectContainer{padding-left:0;}.ictPanel-popPanel-container .polygonContainer{}.ictPanel-popPanel-container .polygonContainer ul{height:160px;overflow-x:hidden;overflow-y:auto;}.mCustomScrollbar{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom;}.mCustomScrollbar.mCS_no_scrollbar,.mCustomScrollbar.mCS_touch_action{-ms-touch-action:auto;touch-action:auto;}.mCustomScrollBox{position:relative;overflow:hidden;height:100%;max-width:100%;outline:none;direction:ltr;}.mCSB_container{overflow:hidden;width:auto;height:auto;}.mCSB_inside > .mCSB_container{margin-right:30px;}.mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden{margin-right:0;}.mCS-dir-rtl > .mCSB_inside > .mCSB_container{margin-right:0;margin-left:30px;}.mCS-dir-rtl > .mCSB_inside > .mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden{margin-left:0;}.mCSB_scrollTools{position:absolute;width:8px;height:auto;left:auto;top:0;right:0;bottom:0;}.mCSB_outside + .mCSB_scrollTools{right:-26px;}.mCS-dir-rtl > .mCSB_inside > .mCSB_scrollTools,.mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools{right:auto;left:0;}.mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools{left:-26px;}.mCSB_scrollTools .mCSB_draggerContainer{position:absolute;top:0;left:0;bottom:0;right:0;height:auto;}.mCSB_scrollTools a + .mCSB_draggerContainer{margin:20px 0;}.mCSB_scrollTools .mCSB_draggerRail{width:2px;height:100%;margin:0 auto;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;}.mCSB_scrollTools .mCSB_dragger{cursor:pointer;width:100%;height:30px;z-index:1;}.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{position:relative;width:4px;height:100%;margin:0 auto;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;text-align:center;}.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar{width:12px;}.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{width:8px;}.mCSB_scrollTools .mCSB_buttonUp,.mCSB_scrollTools .mCSB_buttonDown{display:block;position:absolute;height:20px;width:100%;overflow:hidden;margin:0 auto;cursor:pointer;}.mCSB_scrollTools .mCSB_buttonDown{bottom:0;}.mCSB_horizontal.mCSB_inside > .mCSB_container{margin-right:0;margin-bottom:30px;}.mCSB_horizontal.mCSB_outside > .mCSB_container{min-height:100%;}.mCSB_horizontal > .mCSB_container.mCS_no_scrollbar_x.mCS_x_hidden{margin-bottom:0;}.mCSB_scrollTools.mCSB_scrollTools_horizontal{width:auto;height:16px;top:auto;right:0;bottom:0;left:0;}.mCustomScrollBox + .mCSB_scrollTools.mCSB_scrollTools_horizontal,.mCustomScrollBox + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal{bottom:-26px;}.mCSB_scrollTools.mCSB_scrollTools_horizontal a + .mCSB_draggerContainer{margin:0 20px;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;height:2px;margin:7px 0;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_dragger{width:30px;height:100%;left:0;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{width:100%;height:4px;margin:6px auto;}.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar{height:12px;margin:2px auto;}.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{height:8px;margin:4px 0;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_buttonLeft,.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_buttonRight{display:block;position:absolute;width:20px;height:100%;overflow:hidden;margin:0 auto;cursor:pointer;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_buttonLeft{left:0;}.mCSB_scrollTools.mCSB_scrollTools_horizontal .mCSB_buttonRight{right:0;}.mCSB_container_wrapper{position:absolute;height:auto;width:auto;overflow:hidden;top:0;left:0;right:0;bottom:0;margin-right:30px;margin-bottom:30px;}.mCSB_container_wrapper > .mCSB_container{padding-right:30px;padding-bottom:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}.mCSB_vertical_horizontal > .mCSB_scrollTools.mCSB_scrollTools_vertical{bottom:20px;}.mCSB_vertical_horizontal > .mCSB_scrollTools.mCSB_scrollTools_horizontal{right:20px;}.mCSB_container_wrapper.mCS_no_scrollbar_x.mCS_x_hidden + .mCSB_scrollTools.mCSB_scrollTools_vertical{bottom:0;}.mCSB_container_wrapper.mCS_no_scrollbar_y.mCS_y_hidden + .mCSB_scrollTools ~ .mCSB_scrollTools.mCSB_scrollTools_horizontal,.mCS-dir-rtl > .mCustomScrollBox.mCSB_vertical_horizontal.mCSB_inside > .mCSB_scrollTools.mCSB_scrollTools_horizontal{right:0;}.mCS-dir-rtl > .mCustomScrollBox.mCSB_vertical_horizontal.mCSB_inside > .mCSB_scrollTools.mCSB_scrollTools_horizontal{left:20px;}.mCS-dir-rtl > .mCustomScrollBox.mCSB_vertical_horizontal.mCSB_inside > .mCSB_container_wrapper.mCS_no_scrollbar_y.mCS_y_hidden + .mCSB_scrollTools ~ .mCSB_scrollTools.mCSB_scrollTools_horizontal{left:0;}.mCS-dir-rtl > .mCSB_inside > .mCSB_container_wrapper{margin-right:0;margin-left:30px;}.mCSB_container_wrapper.mCS_no_scrollbar_y.mCS_y_hidden > .mCSB_container{padding-right:0;}.mCSB_container_wrapper.mCS_no_scrollbar_x.mCS_x_hidden > .mCSB_container{padding-bottom:0;}.mCustomScrollBox.mCSB_vertical_horizontal.mCSB_inside > .mCSB_container_wrapper.mCS_no_scrollbar_y.mCS_y_hidden{margin-right:0;margin-left:0;}.mCustomScrollBox.mCSB_vertical_horizontal.mCSB_inside > .mCSB_container_wrapper.mCS_no_scrollbar_x.mCS_x_hidden{margin-bottom:0;}.mCSB_scrollTools,.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCSB_scrollTools .mCSB_buttonUp,.mCSB_scrollTools .mCSB_buttonDown,.mCSB_scrollTools .mCSB_buttonLeft,.mCSB_scrollTools .mCSB_buttonRight{-webkit-transition:opacity .2s ease-in-out,background-color .2s ease-in-out;-moz-transition:opacity .2s ease-in-out,background-color .2s ease-in-out;-o-transition:opacity .2s ease-in-out,background-color .2s ease-in-out;transition:opacity .2s ease-in-out,background-color .2s ease-in-out;}.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail,.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail{-webkit-transition:width .2s ease-out .2s,height .2s ease-out .2s,margin-left .2s ease-out .2s,margin-right .2s ease-out .2s,margin-top .2s ease-out .2s,margin-bottom .2s ease-out .2s,opacity .2s ease-in-out,background-color .2s ease-in-out;-moz-transition:width .2s ease-out .2s,height .2s ease-out .2s,margin-left .2s ease-out .2s,margin-right .2s ease-out .2s,margin-top .2s ease-out .2s,margin-bottom .2s ease-out .2s,opacity .2s ease-in-out,background-color .2s ease-in-out;-o-transition:width .2s ease-out .2s,height .2s ease-out .2s,margin-left .2s ease-out .2s,margin-right .2s ease-out .2s,margin-top .2s ease-out .2s,margin-bottom .2s ease-out .2s,opacity .2s ease-in-out,background-color .2s ease-in-out;transition:width .2s ease-out .2s,height .2s ease-out .2s,margin-left .2s ease-out .2s,margin-right .2s ease-out .2s,margin-top .2s ease-out .2s,margin-bottom .2s ease-out .2s,opacity .2s ease-in-out,background-color .2s ease-in-out;}.mCSB_scrollTools{opacity:0.75;filter:"alpha(opacity=75)";-ms-filter:"alpha(opacity=75)";}.mCS-autoHide > .mCustomScrollBox > .mCSB_scrollTools,.mCS-autoHide > .mCustomScrollBox ~ .mCSB_scrollTools{opacity:0;filter:"alpha(opacity=0)";-ms-filter:"alpha(opacity=0)";}.mCustomScrollbar > .mCustomScrollBox > .mCSB_scrollTools.mCSB_scrollTools_onDrag,.mCustomScrollbar > .mCustomScrollBox ~ .mCSB_scrollTools.mCSB_scrollTools_onDrag,.mCustomScrollBox:hover > .mCSB_scrollTools,.mCustomScrollBox:hover ~ .mCSB_scrollTools,.mCS-autoHide:hover > .mCustomScrollBox > .mCSB_scrollTools,.mCS-autoHide:hover > .mCustomScrollBox ~ .mCSB_scrollTools{opacity:1;filter:"alpha(opacity=100)";-ms-filter:"alpha(opacity=100)";}.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.4);filter:"alpha(opacity=40)";-ms-filter:"alpha(opacity=40)";}.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.75);filter:"alpha(opacity=75)";-ms-filter:"alpha(opacity=75)";}.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.85);filter:"alpha(opacity=85)";-ms-filter:"alpha(opacity=85)";}.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.9);filter:"alpha(opacity=90)";-ms-filter:"alpha(opacity=90)";}.mCSB_scrollTools .mCSB_buttonUp,.mCSB_scrollTools .mCSB_buttonDown,.mCSB_scrollTools .mCSB_buttonLeft,.mCSB_scrollTools .mCSB_buttonRight{background-image:url(../../release/plugins/jquery.customscrollbar/mCSB_buttons.png);background-repeat:no-repeat;opacity:0.4;filter:"alpha(opacity=40)";-ms-filter:"alpha(opacity=40)";}.mCSB_scrollTools .mCSB_buttonUp{background-position:0 0;}.mCSB_scrollTools .mCSB_buttonDown{background-position:0 -20px;}.mCSB_scrollTools .mCSB_buttonLeft{background-position:0 -40px;}.mCSB_scrollTools .mCSB_buttonRight{background-position:0 -56px;}.mCSB_scrollTools .mCSB_buttonUp:hover,.mCSB_scrollTools .mCSB_buttonDown:hover,.mCSB_scrollTools .mCSB_buttonLeft:hover,.mCSB_scrollTools .mCSB_buttonRight:hover{opacity:0.75;filter:"alpha(opacity=75)";-ms-filter:"alpha(opacity=75)";}.mCSB_scrollTools .mCSB_buttonUp:active,.mCSB_scrollTools .mCSB_buttonDown:active,.mCSB_scrollTools .mCSB_buttonLeft:active,.mCSB_scrollTools .mCSB_buttonRight:active{opacity:0.9;filter:"alpha(opacity=90)";-ms-filter:"alpha(opacity=90)";}.mCS-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.15);}.mCS-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:rgba(0,0,0,0.85);}.mCS-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:rgba(0,0,0,0.9);}.mCS-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-80px 0;}.mCS-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-80px -20px;}.mCS-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-80px -40px;}.mCS-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-80px -56px;}.mCS-light-2.mCSB_scrollTools .mCSB_draggerRail,.mCS-dark-2.mCSB_scrollTools .mCSB_draggerRail{width:4px;background-color:#fff;background-color:rgba(255,255,255,0.1);-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;}.mCS-light-2.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-2.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:4px;background-color:#fff;background-color:rgba(255,255,255,0.75);-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;}.mCS-light-2.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-dark-2.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-light-2.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-2.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{width:100%;height:4px;margin:6px auto;}.mCS-light-2.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.85);}.mCS-light-2.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-light-2.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.9);}.mCS-light-2.mCSB_scrollTools .mCSB_buttonUp{background-position:-32px 0;}.mCS-light-2.mCSB_scrollTools .mCSB_buttonDown{background-position:-32px -20px;}.mCS-light-2.mCSB_scrollTools .mCSB_buttonLeft{background-position:-40px -40px;}.mCS-light-2.mCSB_scrollTools .mCSB_buttonRight{background-position:-40px -56px;}.mCS-dark-2.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.1);-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;}.mCS-dark-2.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;}.mCS-dark-2.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-dark-2.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-dark-2.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-dark-2.mCSB_scrollTools .mCSB_buttonUp{background-position:-112px 0;}.mCS-dark-2.mCSB_scrollTools .mCSB_buttonDown{background-position:-112px -20px;}.mCS-dark-2.mCSB_scrollTools .mCSB_buttonLeft{background-position:-120px -40px;}.mCS-dark-2.mCSB_scrollTools .mCSB_buttonRight{background-position:-120px -56px;}.mCS-light-thick.mCSB_scrollTools .mCSB_draggerRail,.mCS-dark-thick.mCSB_scrollTools .mCSB_draggerRail{width:4px;background-color:#fff;background-color:rgba(255,255,255,0.1);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;}.mCS-light-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:6px;background-color:#fff;background-color:rgba(255,255,255,0.75);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;}.mCS-light-thick.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-dark-thick.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;height:4px;margin:6px 0;}.mCS-light-thick.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-thick.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{width:100%;height:6px;margin:5px auto;}.mCS-light-thick.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.85);}.mCS-light-thick.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-light-thick.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.9);}.mCS-light-thick.mCSB_scrollTools .mCSB_buttonUp{background-position:-16px 0;}.mCS-light-thick.mCSB_scrollTools .mCSB_buttonDown{background-position:-16px -20px;}.mCS-light-thick.mCSB_scrollTools .mCSB_buttonLeft{background-position:-20px -40px;}.mCS-light-thick.mCSB_scrollTools .mCSB_buttonRight{background-position:-20px -56px;}.mCS-dark-thick.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.1);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;}.mCS-dark-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;}.mCS-dark-thick.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-dark-thick.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-dark-thick.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-dark-thick.mCSB_scrollTools .mCSB_buttonUp{background-position:-96px 0;}.mCS-dark-thick.mCSB_scrollTools .mCSB_buttonDown{background-position:-96px -20px;}.mCS-dark-thick.mCSB_scrollTools .mCSB_buttonLeft{background-position:-100px -40px;}.mCS-dark-thick.mCSB_scrollTools .mCSB_buttonRight{background-position:-100px -56px;}.mCS-light-thin.mCSB_scrollTools .mCSB_draggerRail{background-color:#fff;background-color:rgba(255,255,255,0.1);}.mCS-light-thin.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-thin.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:2px;}.mCS-light-thin.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-dark-thin.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;}.mCS-light-thin.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-thin.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{width:100%;height:2px;margin:7px auto;}.mCS-dark-thin.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.15);}.mCS-dark-thin.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-dark-thin.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-dark-thin.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-dark-thin.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-dark-thin.mCSB_scrollTools .mCSB_buttonUp{background-position:-80px 0;}.mCS-dark-thin.mCSB_scrollTools .mCSB_buttonDown{background-position:-80px -20px;}.mCS-dark-thin.mCSB_scrollTools .mCSB_buttonLeft{background-position:-80px -40px;}.mCS-dark-thin.mCSB_scrollTools .mCSB_buttonRight{background-position:-80px -56px;}.mCS-rounded.mCSB_scrollTools .mCSB_draggerRail{background-color:#fff;background-color:rgba(255,255,255,0.15);}.mCS-rounded.mCSB_scrollTools .mCSB_dragger,.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger,.mCS-rounded-dots.mCSB_scrollTools .mCSB_dragger,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger{height:14px;}.mCS-rounded.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dots.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:14px;margin:0 1px;}.mCS-rounded.mCSB_scrollTools_horizontal .mCSB_dragger,.mCS-rounded-dark.mCSB_scrollTools_horizontal .mCSB_dragger,.mCS-rounded-dots.mCSB_scrollTools_horizontal .mCSB_dragger,.mCS-rounded-dots-dark.mCSB_scrollTools_horizontal .mCSB_dragger{width:14px;}.mCS-rounded.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dots.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{height:14px;margin:1px 0;}.mCS-rounded.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCS-rounded.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar{width:16px;height:16px;margin:-1px 0;}.mCS-rounded.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-rounded.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail,.mCS-rounded-dark.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-rounded-dark.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{width:4px;}.mCS-rounded.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCS-rounded.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar{height:16px;width:16px;margin:0 -1px;}.mCS-rounded.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-rounded.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail,.mCS-rounded-dark.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-rounded-dark.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{height:4px;margin:6px 0;}.mCS-rounded.mCSB_scrollTools .mCSB_buttonUp{background-position:0 -72px;}.mCS-rounded.mCSB_scrollTools .mCSB_buttonDown{background-position:0 -92px;}.mCS-rounded.mCSB_scrollTools .mCSB_buttonLeft{background-position:0 -112px;}.mCS-rounded.mCSB_scrollTools .mCSB_buttonRight{background-position:0 -128px;}.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-rounded-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.15);}.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-rounded-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-rounded-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-80px -72px;}.mCS-rounded-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-80px -92px;}.mCS-rounded-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-80px -112px;}.mCS-rounded-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-80px -128px;}.mCS-rounded-dots.mCSB_scrollTools_vertical .mCSB_draggerRail,.mCS-rounded-dots-dark.mCSB_scrollTools_vertical .mCSB_draggerRail{width:4px;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_draggerRail,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-rounded-dots.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-rounded-dots-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail{background-color:transparent;background-position:center;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_draggerRail,.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_draggerRail{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAANElEQVQYV2NkIAAYiVbw//9/Y6DiM1ANJoyMjGdBbLgJQAX/kU0DKgDLkaQAvxW4HEvQFwCRcxIJK1XznAAAAABJRU5ErkJggg==");background-repeat:repeat-y;opacity:0.3;filter:"alpha(opacity=30)";-ms-filter:"alpha(opacity=30)";}.mCS-rounded-dots.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-rounded-dots-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail{height:4px;margin:6px 0;background-repeat:repeat-x;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_buttonUp{background-position:-16px -72px;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_buttonDown{background-position:-16px -92px;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_buttonLeft{background-position:-20px -112px;}.mCS-rounded-dots.mCSB_scrollTools .mCSB_buttonRight{background-position:-20px -128px;}.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_draggerRail{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAALElEQVQYV2NkIAAYSVFgDFR8BqrBBEifBbGRTfiPZhpYjiQFBK3A6l6CvgAAE9kGCd1mvgEAAAAASUVORK5CYII=");}.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-96px -72px;}.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-96px -92px;}.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-100px -112px;}.mCS-rounded-dots-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-100px -128px;}.mCS-3d.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-repeat:repeat-y;background-image:-moz-linear-gradient(left,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-webkit-gradient(linear,left top,right top,color-stop(0%,rgba(255,255,255,0.5)),color-stop(100%,rgba(255,255,255,0)));background-image:-webkit-linear-gradient(left,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-o-linear-gradient(left,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-ms-linear-gradient(left,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:linear-gradient(to right,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);}.mCS-3d.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{background-repeat:repeat-x;background-image:-moz-linear-gradient(top,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.5)),color-stop(100%,rgba(255,255,255,0)));background-image:-webkit-linear-gradient(top,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-o-linear-gradient(top,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:-ms-linear-gradient(top,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);background-image:linear-gradient(to bottom,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0) 100%);}.mCS-3d.mCSB_scrollTools_vertical .mCSB_dragger,.mCS-3d-dark.mCSB_scrollTools_vertical .mCSB_dragger{height:70px;}.mCS-3d.mCSB_scrollTools_horizontal .mCSB_dragger,.mCS-3d-dark.mCSB_scrollTools_horizontal .mCSB_dragger{width:70px;}.mCS-3d.mCSB_scrollTools,.mCS-3d-dark.mCSB_scrollTools{opacity:1;filter:"alpha(opacity=30)";-ms-filter:"alpha(opacity=30)";}.mCS-3d.mCSB_scrollTools .mCSB_draggerRail,.mCS-3d.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;}.mCS-3d.mCSB_scrollTools .mCSB_draggerRail,.mCS-3d-dark.mCSB_scrollTools .mCSB_draggerRail{width:8px;background-color:#000;background-color:rgba(0,0,0,0.2);box-shadow:inset 1px 0 1px rgba(0,0,0,0.5),inset -1px 0 1px rgba(255,255,255,0.2);}.mCS-3d.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-3d.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-3d.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#555;}.mCS-3d.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:8px;}.mCS-3d.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-3d-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;height:8px;margin:4px 0;box-shadow:inset 0 1px 1px rgba(0,0,0,0.5),inset 0 -1px 1px rgba(255,255,255,0.2);}.mCS-3d.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{width:100%;height:8px;margin:4px auto;}.mCS-3d.mCSB_scrollTools .mCSB_buttonUp{background-position:-32px -72px;}.mCS-3d.mCSB_scrollTools .mCSB_buttonDown{background-position:-32px -92px;}.mCS-3d.mCSB_scrollTools .mCSB_buttonLeft{background-position:-40px -112px;}.mCS-3d.mCSB_scrollTools .mCSB_buttonRight{background-position:-40px -128px;}.mCS-3d-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.1);box-shadow:inset 1px 0 1px rgba(0,0,0,0.1);}.mCS-3d-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail{box-shadow:inset 0 1px 1px rgba(0,0,0,0.1);}.mCS-3d-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-112px -72px;}.mCS-3d-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-112px -92px;}.mCS-3d-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-120px -112px;}.mCS-3d-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-120px -128px;}.mCS-3d-thick.mCSB_scrollTools,.mCS-3d-thick-dark.mCSB_scrollTools{opacity:1;filter:"alpha(opacity=30)";-ms-filter:"alpha(opacity=30)";}.mCS-3d-thick.mCSB_scrollTools,.mCS-3d-thick-dark.mCSB_scrollTools,.mCS-3d-thick.mCSB_scrollTools .mCSB_draggerContainer,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_draggerContainer{-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;}.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;}.mCSB_inside + .mCS-3d-thick.mCSB_scrollTools_vertical,.mCSB_inside + .mCS-3d-thick-dark.mCSB_scrollTools_vertical{right:1px;}.mCS-3d-thick.mCSB_scrollTools_vertical,.mCS-3d-thick-dark.mCSB_scrollTools_vertical{box-shadow:inset 1px 0 1px rgba(0,0,0,0.1),inset 0 0 14px rgba(0,0,0,0.5);}.mCS-3d-thick.mCSB_scrollTools_horizontal,.mCS-3d-thick-dark.mCSB_scrollTools_horizontal{bottom:1px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.1),inset 0 0 14px rgba(0,0,0,0.5);}.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{box-shadow:inset 1px 0 0 rgba(255,255,255,0.4);width:12px;margin:2px;position:absolute;height:auto;top:0;bottom:0;left:0;right:0;}.mCS-3d-thick.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{box-shadow:inset 0 1px 0 rgba(255,255,255,0.4);}.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-3d-thick.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#555;}.mCS-3d-thick.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{height:12px;width:auto;}.mCS-3d-thick.mCSB_scrollTools .mCSB_draggerContainer{background-color:#000;background-color:rgba(0,0,0,0.05);box-shadow:inset 1px 1px 16px rgba(0,0,0,0.1);}.mCS-3d-thick.mCSB_scrollTools .mCSB_draggerRail{background-color:transparent;}.mCS-3d-thick.mCSB_scrollTools .mCSB_buttonUp{background-position:-32px -72px;}.mCS-3d-thick.mCSB_scrollTools .mCSB_buttonDown{background-position:-32px -92px;}.mCS-3d-thick.mCSB_scrollTools .mCSB_buttonLeft{background-position:-40px -112px;}.mCS-3d-thick.mCSB_scrollTools .mCSB_buttonRight{background-position:-40px -128px;}.mCS-3d-thick-dark.mCSB_scrollTools{box-shadow:inset 0 0 14px rgba(0,0,0,0.2);}.mCS-3d-thick-dark.mCSB_scrollTools_horizontal{box-shadow:inset 0 1px 1px rgba(0,0,0,0.1),inset 0 0 14px rgba(0,0,0,0.2);}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{box-shadow:inset 1px 0 0 rgba(255,255,255,0.4),inset -1px 0 0 rgba(0,0,0,0.2);}.mCS-3d-thick-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{box-shadow:inset 0 1px 0 rgba(255,255,255,0.4),inset 0 -1px 0 rgba(0,0,0,0.2);}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#777;}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_draggerContainer{background-color:#fff;background-color:rgba(0,0,0,0.05);box-shadow:inset 1px 1px 16px rgba(0,0,0,0.1);}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:transparent;}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-112px -72px;}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-112px -92px;}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-120px -112px;}.mCS-3d-thick-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-120px -128px;}.mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,.mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical{right:0;margin:12px 0;}.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools.mCSB_scrollTools_horizontal,.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal,.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools.mCSB_scrollTools_horizontal,.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal{bottom:0;margin:0 12px;}.mCS-dir-rtl > .mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,.mCS-dir-rtl > .mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical{left:0;right:auto;}.mCS-minimal.mCSB_scrollTools .mCSB_draggerRail,.mCS-minimal-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:transparent;}.mCS-minimal.mCSB_scrollTools_vertical .mCSB_dragger,.mCS-minimal-dark.mCSB_scrollTools_vertical .mCSB_dragger{height:50px;}.mCS-minimal.mCSB_scrollTools_horizontal .mCSB_dragger,.mCS-minimal-dark.mCSB_scrollTools_horizontal .mCSB_dragger{width:50px;}.mCS-minimal.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.2);filter:"alpha(opacity=20)";-ms-filter:"alpha(opacity=20)";}.mCS-minimal.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-minimal.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.5);filter:"alpha(opacity=50)";-ms-filter:"alpha(opacity=50)";}.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.2);filter:"alpha(opacity=20)";-ms-filter:"alpha(opacity=20)";}.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.5);filter:"alpha(opacity=50)";-ms-filter:"alpha(opacity=50)";}.mCS-light-3.mCSB_scrollTools .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools .mCSB_draggerRail{width:6px;background-color:#000;background-color:rgba(0,0,0,0.2);}.mCS-light-3.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-3.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:6px;}.mCS-light-3.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-dark-3.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-light-3.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;height:6px;margin:5px 0;}.mCS-light-3.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-light-3.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{width:12px;}.mCS-light-3.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-light-3.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,.mCS-dark-3.mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail{height:12px;margin:2px 0;}.mCS-light-3.mCSB_scrollTools .mCSB_buttonUp{background-position:-32px -72px;}.mCS-light-3.mCSB_scrollTools .mCSB_buttonDown{background-position:-32px -92px;}.mCS-light-3.mCSB_scrollTools .mCSB_buttonLeft{background-position:-40px -112px;}.mCS-light-3.mCSB_scrollTools .mCSB_buttonRight{background-position:-40px -128px;}.mCS-dark-3.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-dark-3.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-dark-3.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-dark-3.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-dark-3.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.1);}.mCS-dark-3.mCSB_scrollTools .mCSB_buttonUp{background-position:-112px -72px;}.mCS-dark-3.mCSB_scrollTools .mCSB_buttonDown{background-position:-112px -92px;}.mCS-dark-3.mCSB_scrollTools .mCSB_buttonLeft{background-position:-120px -112px;}.mCS-dark-3.mCSB_scrollTools .mCSB_buttonRight{background-position:-120px -128px;}.mCS-inset.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-2.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-3.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_draggerRail{width:12px;background-color:#000;background-color:rgba(0,0,0,0.2);}.mCS-inset.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-2.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-3.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{width:6px;margin:3px 5px;position:absolute;height:auto;top:0;bottom:0;left:0;right:0;}.mCS-inset.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-2.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-3.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools_horizontal .mCSB_dragger .mCSB_dragger_bar{height:6px;margin:5px 3px;position:absolute;width:auto;top:0;bottom:0;left:0;right:0;}.mCS-inset.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-inset-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-inset-2.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-inset-2-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-inset-3.mCSB_scrollTools_horizontal .mCSB_draggerRail,.mCS-inset-3-dark.mCSB_scrollTools_horizontal .mCSB_draggerRail{width:100%;height:12px;margin:2px 0;}.mCS-inset.mCSB_scrollTools .mCSB_buttonUp,.mCS-inset-2.mCSB_scrollTools .mCSB_buttonUp,.mCS-inset-3.mCSB_scrollTools .mCSB_buttonUp{background-position:-32px -72px;}.mCS-inset.mCSB_scrollTools .mCSB_buttonDown,.mCS-inset-2.mCSB_scrollTools .mCSB_buttonDown,.mCS-inset-3.mCSB_scrollTools .mCSB_buttonDown{background-position:-32px -92px;}.mCS-inset.mCSB_scrollTools .mCSB_buttonLeft,.mCS-inset-2.mCSB_scrollTools .mCSB_buttonLeft,.mCS-inset-3.mCSB_scrollTools .mCSB_buttonLeft{background-position:-40px -112px;}.mCS-inset.mCSB_scrollTools .mCSB_buttonRight,.mCS-inset-2.mCSB_scrollTools .mCSB_buttonRight,.mCS-inset-3.mCSB_scrollTools .mCSB_buttonRight{background-position:-40px -128px;}.mCS-inset-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-inset-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-inset-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-inset-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-inset-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.1);}.mCS-inset-dark.mCSB_scrollTools .mCSB_buttonUp,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_buttonUp,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_buttonUp{background-position:-112px -72px;}.mCS-inset-dark.mCSB_scrollTools .mCSB_buttonDown,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_buttonDown,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_buttonDown{background-position:-112px -92px;}.mCS-inset-dark.mCSB_scrollTools .mCSB_buttonLeft,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_buttonLeft,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_buttonLeft{background-position:-120px -112px;}.mCS-inset-dark.mCSB_scrollTools .mCSB_buttonRight,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_buttonRight,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_buttonRight{background-position:-120px -128px;}.mCS-inset-2.mCSB_scrollTools .mCSB_draggerRail,.mCS-inset-2-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:transparent;border-width:1px;border-style:solid;border-color:#fff;border-color:rgba(255,255,255,0.2);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;}.mCS-inset-2-dark.mCSB_scrollTools .mCSB_draggerRail{border-color:#000;border-color:rgba(0,0,0,0.2);}.mCS-inset-3.mCSB_scrollTools .mCSB_draggerRail{background-color:#fff;background-color:rgba(255,255,255,0.6);}.mCS-inset-3-dark.mCSB_scrollTools .mCSB_draggerRail{background-color:#000;background-color:rgba(0,0,0,0.6);}.mCS-inset-3.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.75);}.mCS-inset-3.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.85);}.mCS-inset-3.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-inset-3.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#000;background-color:rgba(0,0,0,0.9);}.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.75);}.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.85);}.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,.mCS-inset-3-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar{background-color:#fff;background-color:rgba(255,255,255,0.9);}.amendContainer{padding-top:20px;}.amend_confirm_btn,.amend_cancel_btn{width:180px;color:#fff;background-color:#024191 ;margin:0 20px}.amend_confirm_btn,.amend_confirm_btn:hover,.amend_cancel_btn:hover{color:#fff;background-color:#0f68e6 ;}.amend_confirm_btn:active,.amend_cancel_btn:active{color:#fff;background-color:#0f68e6 ;}.amend_input{margin:8px 0;}.amend_input input{width:340px;height:33px;}.amend_font{display:inline-block;width:80px;}.areaPlaybackContainer .Wdate,.playbackTargetContainer .Wdate,.tshf_oneship_container .Wdate{height:30px;}.areaPlaybackContainer label,.playbackTargetContainer label,.tshf_oneship_container label{font-weight:normal;}.areaPlaybackContainer{}.areaPlaybackContainer fieldset>legend{font-size:14px;border-bottom:none;}.areaPlaybackContainer .msg{height:20px;margin-top:10px;color:#2276c2;}.areaPlaybackContainer .drawDiv{margin-bottom:20px;}.areaPlaybackContainer .drawDiv .radio:first-child{margin-right:20px;}.areaPlaybackContainer .drawDiv img{margin-top:-4px;}.areaPlaybackContainer .timeDiv{margin-bottom:20px;}.areaPlaybackContainer .timeDiv label{font-weight:normal;}.areaPlaybackContainer .btnDiv{text-align:center;}.areaPlaybackContainer .btnDiv button{width:140px;height:30px;background-color:#2276c2;font-family:Microsoft Yahei;font-size:14px;color:#fff;padding:0;outline:none;}.areaPlaybackContainer .btnDiv button:hover{background-color:#095596;}.playbackTargetContainer{margin-top:10px;}.playbackTargetContainer hr{margin-top:5px;margin-bottom:5px;}.playbackTargetContainer .msg{height:20px;color:#2276c2;margin:0;}.playbackTargetContainer .msg.msg1{margin-left:36px;}.playbackTargetContainer .cblb_txt{margin-bottom:10px;}.playbackTargetContainer button:not(.playbackBtn){width:60px;outline:none;border:solid 1px silver;background:linear-gradient(to top,#E5F2FE,#FCFDFF);font-family:Microsoft Yahei;font-size:14px;}.playbackTargetContainer .cbphDiv > input{width:270px;height:32px;}.playbackTargetContainer .cbphDiv > img{margin-left:-22px;}.playbackTargetContainer .cbphDiv > button.addBtn{float:right;}.playbackTargetContainer .phlbDiv{height:34px;line-height:34px;margin-bottom:5px;}.playbackTargetContainer .phlbDiv button.deleteBtn{float:right;}.playbackTargetContainer .shiplist{height:170px;padding:5px;border:solid 1px silver;}.playbackTargetContainer .shiplist table{width:100%;}.playbackTargetContainer .shiplist table td{text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.playbackTargetContainer .shiplist >.listContent table td.mmsi{text-align:left;}.playbackTargetContainer .shiplist >.listContent>.mscroll{height:126px;}.playbackTargetContainer .shiplist >.listContent ul{list-style:none;padding:0;}.playbackTargetContainer .timeDiv{margin-bottom:20px;}.playbackTargetContainer .btnDiv{text-align:center;}.playbackTargetContainer .btnDiv .playbackBtn{width:140px;height:30px;background-color:#2276c2;color:#fff;padding:0;}.playbackTargetContainer .btnDiv .playbackBtn:hover{background-color:#095596;}.tshf_oneship_container{}.tshf_oneship_container .Wdate{width:140px;}.tshf_oneship_container .msg{height:20px;margin-top:10px;color:#2276c2;}.tshf_oneship_container .btnDiv{text-align:center;}.tshf_oneship_container .btnDiv button{width:140px;height:30px;outline:none;border:none;background-color:#2276c2;color:#fff;padding:0;}.tshf_oneship_container .btnDiv button:hover{background-color:#095596;}.tshf_oneship_container .btnDiv .cancel{margin-left:10px;}.ict-control-playback{position:absolute;top:100px;right:50px;width:312px;height:140px;padding:10px;border-radius:6px;background-color:#244474;z-index:1000;}.ict-control-playback{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.ict-control-playback .playback-operation{vertical-align:middle;cursor:pointer;padding-bottom:20px;}.ict-control-playback ul{list-style:none;margin:0;padding:0;clear:both;}.ict-control-playback ul:before,.ict-control-playback ul:after{display:table;content:" ";clear:both;}.ict-control-playback .playback-operation>ul>li{position:relative;width:28px;height:28px;display:block;float:left;text-align:center;margin-right:10px;}.ict-control-playback .playback-operation>ul>li.item-speed{background-color:#d8e7fb;border-radius:10px;font-family:"Microsoft YaHei";font-size:12px;color:#244474;font-weight:bold;width:auto;min-width:28px;max-width:128px;}.ict-control-playback .playback-operation>ul>li.item-speed>span{line-height:28px;}.ict-control-playback .playback-operation>ul>li.item-close{float:right;}.ict-control-playback .playback-operation>ul>li.item-close>img{margin-top:9px;}.ict-control-playback .playback-scrollbar{position:relative;width:100%;border-radius:4px;background-color:#23559c;}.ict-control-playback .playback-scrollbar>ul{padding:5px;}.ict-control-playback .playback-scrollbar>ul>li{font-family:"Microsoft YaHei";font-size:12px;font-weight:normal;color:#d8e7fb;}.ict-control-playback .playback-scrollbar>ul>li.item-time>.startTime{float:left;}.ict-control-playback .playback-scrollbar>ul>li.item-time>.endTime{float:right;}.ict-control-playback .playback-scrollbar>ul>li.item-scroll>.range{width:100%;cursor:pointer;}.ict-control-playback .playback-scrollbar>ul>li.item-curtime{text-align:center;}input[type=range]{-webkit-appearance:none;border-radius:10px;background:-webkit-linear-gradient(#059CFA,#059CFA) no-repeat;background-size:0% 100%;}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;}input[type=range]::-webkit-slider-runnable-track{height:8px;border-radius:6px;box-shadow:0 1px 1px #def3f8,inset 0 .125em .125em #0d1112;}input[type=range]:focus{outline:none;}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:16px;width:16px;margin-top:-4px;background:#059CFA;border-radius:50%;border:solid 0.125em rgba(205,224,230,0.5);box-shadow:0 .125em .125em #3b4547;}@keyframes animations{from{transform:rotate(0deg);-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);}to{transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);}}@-webkit-keyframes animations{from{transform:rotate(0deg);-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);}to{transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);}}.ict_control_loading > .icon-loading{transform:translateY(-50%);font-size:25px;animation:animations 1s;-webkit-animation:animations 1s;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-timing-function:linear;-webkit-animation-timing-function:linear;}.submenu_glxs{}.submenu_glxs label{cursor:pointer;}.submenu_glxs > .submenu_glxs_li{padding:5px;}.submenu_glxs > .submenu_glxs_li > .arrowImg{float:right;margin-top:5px;}.submenu_glxs > .submenu_glxs_li:not(.active):hover{background-color:#2276c2;}.submenu_glxs > .submenu_glxs_li.active{background-color:#02408B;border-radius:12px;}.submenu_glxs > .submenu_glxs_li >ul{padding-right:0;}.submenu_glxs > .submenu_glxs_li >ul>li>input{float:right;}.submenu_glxs .shipStateList label,.submenu_glxs .shipSourceList label{display:inline-block;width:100px;overflow:hidden;}.submenu_glxs .shipFlagList label,.submenu_glxs .shipTypeList label{display:inline;}.ict_portInfo_popupContainer{}.ict_portInfo_popupContainer > .leaflet-popup-close-button{top:4px !important;right:2px !important;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper{width:320px;height:440px;padding:0;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content{width:100% !important;margin:0;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div{}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_title{width:100%;height:35px;line-height:35px;text-align:center;border-top-left-radius:12px;border-top-right-radius:12px;background-color:#244474;color:#fff;font-size:16px;font-family:"Microsoft YaHei";}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_table_div{padding:10px;border:solid 1px #eae9e9;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_table_div table{table-layout:fixed;width:100%;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_table_div table tr{height:25px;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_table_div table tr:nth-child(odd)>td{background-color:rgb(229,239,253);}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .portInfo_table_div table td{text-align:left;padding-left:4px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .port_stastic{padding:10px;padding-top:0;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .port_stastic > p{margin:10px 0;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .port_stastic > input.Wdate{width:130px;height:26px;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .msg{height:16px;margin:5px 0;color:#2276c2;margin-top:0;padding-left:10px;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .btnDiv{text-align:center;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .btnDiv > button{width:112px;height:26px;background-color:#2276c2;color:#fff;text-align:center;outline:none;}.ict_portInfo_popupContainer > .leaflet-popup-content-wrapper > .leaflet-popup-content > .portInfo_Div > .btnDiv > button:hover{background-color:#095596;}.port_stastic_container{position:relative;}.port_stastic_container > .titleDiv{position:relative;}.port_stastic_container > .titleDiv > .nav{width:240px;text-align:center;margin-left:auto;margin-right:auto;list-style:none;clear:both;border:1px solid #244474;}.port_stastic_container > .titleDiv > .nav > li{width:50%;position:relative;display:block;float:left;}.port_stastic_container > .titleDiv > .nav > li > a{position:relative;display:block;text-decoration:none;padding:5px 10px;color:#244474;background-color:#fff;}.port_stastic_container > .titleDiv > .nav >li.active > a{color:#fff;background-color:#244474;}.port_stastic_container .stasticChartDiv{}.port_stastic_container .stasticChartDiv > .stastic_chart_enter{width:100%;;height:200px;margin-bottom:10px;border:solid 1px silver;}.port_stastic_container .stasticChartDiv > .stastic_chart_out{width:100%;height:200px;border:solid 1px silver;}.port_stastic_container .stasticTableDiv{}.port_stastic_container .stasticTableDiv > .stastic_table_enter{width:100%;height:200px;margin-bottom:10px;}.port_stastic_container .stasticTableDiv > .stastic_table_out{width:100%;height:220px;}.port_stastic_container .stasticTableDiv table{table-layout:auto;border-collapse:collapse;width:100%;}.port_stastic_container .stasticTableDiv table tr img{padding-right:5px;}.port_stastic_container .stasticTableDiv table th,.port_stastic_container .stasticTableDiv table td{border-top:1px solid silver ;border-bottom:1px solid silver ;text-align:center;}.port_stastic_container .stasticTableDiv table>thead>tr>th{padding:10px 0;}.port_stastic_container .stasticTableDiv table>tbody>tr>td{padding:15px 0;}.port_stastic_container .stasticTableDiv table>thead>tr>th:first-child,.port_stastic_container .stasticTableDiv table>tbody>tr>td:first-child{border-left:1px solid silver;}.port_stastic_container .stasticTableDiv table>thead>tr>th:last-child,.port_stastic_container .stasticTableDiv table>tbody>tr>td:last-child{border-right:1px solid silver;}.port_stastic_container .stasticTableDiv table tr:not(.splitTr){background-color:#F5F6FA;}.port_stastic_container .stasticTableDiv table tr.splitTr>td{border:none !important;padding:0 !important;line-height:10px;}.submenu_heatmap{}.submenu_heatmap > .submenu_heatmap_li{padding:5px;cursor:pointer;}.submenu_heatmap > .submenu_heatmap_li >label{cursor:pointer;}.submenu_heatmap > .submenu_heatmap_li:not(.active):hover{background-color:#2276c2;}.submenu_heatmap > .submenu_heatmap_li.active{background-color:#02408B;border-radius:12px;}.submenu_heatmap > .submenu_heatmap_li select{color:initial;margin-left:5px;border-radius:6px;}.submenu_heatmap > .submenu_heatmap_li > .time_ul label{font-size:normal;margin-bottom:5px;}.areaflowAnalysisContainer{}.areaflowAnalysisContainer label{font-weight:normal;}.areaflowAnalysisContainer > p{margin-bottom:20px;}.areaflowAnalysisContainer > .drawDiv{margin-bottom:20px;}.areaflowAnalysisContainer > .drawDiv > img{margin-top:-4px;}.areaflowAnalysisContainer > .timeDiv{margin-bottom:20px;}.areaflowAnalysisContainer > .timeDiv > input.Wdate{width:140px;height:26px;}.areaflowAnalysisContainer > .msg{height:20px;margin:10px 0;color:#2276c2;margin-top:0;}.areaflowAnalysisContainer > .btnDiv{text-align:center;}.areaflowAnalysisContainer > .btnDiv > button{width:140px;height:30px;background-color:#2276c2;color:#fff;text-align:center;outline:none;}.areaflowAnalysisContainer > .btnDiv > button:hover{background-color:#095596;}.areaflow_stastic_container{position:relative;}.areaflow_stastic_container > .titleDiv{position:relative;}.areaflow_stastic_container > .titleDiv > .nav{width:240px;text-align:center;margin-left:auto;margin-right:auto;list-style:none;clear:both;border:1px solid #244474;}.areaflow_stastic_container > .titleDiv > .nav > li{width:50%;position:relative;display:block;float:left;}.areaflow_stastic_container > .titleDiv > .nav > li > a{position:relative;display:block;text-decoration:none;padding:5px 10px;color:#244474;background-color:#fff;}.areaflow_stastic_container > .titleDiv > .nav >li.active > a{color:#fff;background-color:#244474;}.areaflow_stastic_container .stasticChartDiv{}.areaflow_stastic_container .stasticChartDiv > .stastic_chart_enter{width:100%;height:200px;margin-bottom:10px;border:solid 1px silver;}.areaflow_stastic_container .stasticChartDiv > .stastic_chart_out{width:100%;height:200px;border:solid 1px silver;}.areaflow_stastic_container .stasticTableDiv{}.areaflow_stastic_container .stasticTableDiv > .stastic_table_enter{width:100%;height:200px;margin-bottom:10px;}.areaflow_stastic_container .stasticTableDiv > .stastic_table_out{width:100%;height:220px;}.areaflow_stastic_container .stasticTableDiv table{table-layout:auto;border-collapse:collapse;width:100%;}.areaflow_stastic_container .stasticTableDiv table tr img{padding-right:5px;}.areaflow_stastic_container .stasticTableDiv table th,.areaflow_stastic_container .stasticTableDiv table td{border-top:1px solid silver ;border-bottom:1px solid silver ;text-align:center;}.areaflow_stastic_container .stasticTableDiv table>thead>tr>th{padding:10px 0;}.areaflow_stastic_container .stasticTableDiv table>tbody>tr>td{padding:15px 0;}.areaflow_stastic_container .stasticTableDiv table>thead>tr>th:first-child,.areaflow_stastic_container .stasticTableDiv table>tbody>tr>td:first-child{border-left:1px solid silver;}.areaflow_stastic_container .stasticTableDiv table>thead>tr>th:last-child,.areaflow_stastic_container .stasticTableDiv table>tbody>tr>td:last-child{border-right:1px solid silver;}.areaflow_stastic_container .stasticTableDiv table tr:not(.splitTr){background-color:#F5F6FA;}.areaflow_stastic_container .stasticTableDiv table tr.splitTr>td{border:none !important;padding:0 !important;line-height:10px;}button.cdgl_tree_del{background:url("../../release/themes/images/baoChuan/DEL.png") no-repeat scroll 1px 1px transparent;}button.cdgl_tree_edit{background:url("../../release/themes/images/baoChuan/edit.png") no-repeat scroll 1px 1px transparent;}button.cdgl_tree_del:hover{background:url("../../release/themes/images/baoChuan/DEL-hover.png") no-repeat scroll 1px 1px transparent;}button.cdgl_tree_edit:hover{background:url("../../release/themes/images/baoChuan/edit-hover.png") no-repeat scroll 1px 1px transparent;}.cdgl_labelfont{font-family:Microsoft Yahei;font-size:12px;color:#373737;font-weight:normal;}.cdgl_labelfont_del{font-family:Microsoft Yahei;font-size:14px;color:#373737;font-weight:normal;}.cdgl_font_error{border-style:none;text-align:left;width:100%;font-family:Microsoft Yahei;font-size:12px;color:#2276c2;font-weight:normal;}.cdgl_input_sj{width:126px;height:25px;line-height:25px;border:1px solid #b5b5b5;}.cdgl_img_btn_add{background:url("../../release/themes/images/baoChuan/cdgl_img_btn_back.png");height:25px;line-height:25px;width:58px;cursor:pointer;text-align:center;}.cdgl_img_btn_ok{background:url("../../release/themes/images/baoChuan/cdgl_img_btn_back.png");height:25px;line-height:25px;width:58px;cursor:pointer;text-align:center;}.cdgl_btn_search{background-color:#dfeefd;border:1px solid #b5b5b5;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;font-family:Microsoft Yahei;font-size:14px;color:#373737;font-weight:normal;text-align:center;vertical-align:middle;width:60px;height:25px;line-height:25px;cursor:pointer;}.cdgl_btn_search:hover{background-color:#dfeefd;border:solid 1px #b5b5b5;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;font-family:Microsoft Yahei;font-size:14px;color:#bccfe3;font-weight:normal;text-align:center;vertical-align:middle;width:60px;height:25px;line-height:25px;cursor:pointer;}.cdgl_dialog_btn_ok_cancel{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;font-family:Microsoft Yahei;font-size:12px;color:#ffffff;font-weight:normal;text-align:center;vertical-align:middle;width:122px;height:33px;line-height:33px;cursor:pointer;}.cdgl_page_first{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.cdgl_page_numlabel_select{height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#000000;font-weight:normal;cursor:pointer;border:1px solid #b5b5b5;}.cdgl_page_numlabel_noselect{height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#000000;font-weight:normal;cursor:pointer;border:0px solid #b5b5b5;}.cdgl_page_last{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.cdgl_page_pre{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.cdgl_page_next{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.tree{margin:0;padding:5px 10px 15px 11px;color:#333;font-size:12px;font-family:Verdana,Arial,Helvetica,AppleGothic,sans-serif;}.tree li{padding:0;margin:0;list-style:none;line-height:18px;text-align:left;white-space:nowrap;}.tree li ul{margin:0;padding:0 0 0 18px;}.tree li ul.line{background:url(../../release/plugins/zTree/img/line_conn.gif) 0 0 repeat-y;}.tree li a{padding:0;margin:0 10px 0 0;cursor:pointer;color:#333;text-decoration:none;}.tree li a:hover{text-decoration:underline;}.tree li a.curSelectedNode{background-color:#FFFFFF;color:black;border:0px #FFB951 solid;opacity:0.8;filter:alpha(opacity=80);}.tree li a.curSelectedNode_Edit{line-height:18px;background-color:#FFE6B0;color:black;border:1px #FFB951 solid;opacity:0.8;filter:alpha(opacity=80);}.tree li a.tmpTargetNode{background-color:#316AC5;color:white;border:1px #316AC5 solid;opacity:0.8;filter:alpha(opacity=80);}.tree li a input.rename{height:13px;width:80px;padding:0;margin:0;font-size:12px;}.tree li button{width:18px;height:18px;padding:0;margin:0;vertical-align:middle;border:0 none;background-color:transparent;background-repeat:no-repeat;background-position:0 0;cursor:pointer;}.tree li button.ico{padding:0;margin:0 2px 0 0;}.tree li button.edit{background:url("../../release/plugins/zTree/img/edit.png") no-repeat scroll 0 0 transparent;}.tree li button.remove{background:url("../../release/plugins/zTree/img/remove.png") no-repeat scroll 0 0 transparent;}.tree li button.chk{width:13px;height:13px;padding:0;margin:0 3px 0 0;vertical-align:middle;border:0 none;cursor:auto;}.tree li button.chk.checkbox_false_full{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 0 transparent;}.tree li button.chk.checkbox_false_full_focus{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -12px transparent;}.tree li button.chk.checkbox_false_part{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -72px transparent;}.tree li button.chk.checkbox_false_part_focus{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -84px transparent;}.tree li button.chk.checkbox_true_full{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -24px transparent;}.tree li button.chk.checkbox_true_full_focus{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -36px transparent;}.tree li button.chk.checkbox_true_part{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -48px transparent;}.tree li button.chk.checkbox_true_part_focus{background:url("../../release/plugins/zTree/img/checkbox.png") no-repeat scroll 0 -60px transparent;}.tree li button.chk.radio_false_full{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 0 transparent;}.tree li button.chk.radio_false_full_focus{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -12px transparent;}.tree li button.chk.radio_false_part{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -72px transparent;}.tree li button.chk.radio_false_part_focus{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -84px transparent;}.tree li button.chk.radio_true_full{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -24px transparent;}.tree li button.chk.radio_true_full_focus{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -36px transparent;}.tree li button.chk.radio_true_part{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -48px transparent;}.tree li button.chk.radio_true_part_focus{background:url("../../release/plugins/zTree/img/radio.png") no-repeat scroll 0 -60px transparent;}.tree li button.switch_root_open{background:url(../../release/plugins/zTree/img/minus_root.gif);}.tree li button.switch_root_close{background:url(../../release/plugins/zTree/img/plus_root.gif);}.tree li button.switch_roots_open{background:url(../../release/plugins/zTree/img/minus_top.gif);}.tree li button.switch_roots_close{background:url(../../release/plugins/zTree/img/plus_top.gif);}.tree li button.switch_center_open{background:url(../../release/plugins/zTree/img/minus_center.gif);}.tree li button.switch_center_close{background:url(../../release/plugins/zTree/img/plus_center.gif);}.tree li button.switch_bottom_open{background:url(../../release/plugins/zTree/img/minus_bottom.gif);}.tree li button.switch_bottom_close{background:url(../../release/plugins/zTree/img/plus_bottom.gif);}.tree li button.switch_noLine_open{background:url(../../release/plugins/zTree/img/minus_noLine.gif);}.tree li button.switch_noLine_close{background:url(../../release/plugins/zTree/img/plus_noLine.gif);}.tree li button.switch_root_docu{background:none;}.tree li button.switch_roots_docu{background:url(../../release/plugins/zTree/img/line_top.gif);}.tree li button.switch_center_docu{background:url(../../release/plugins/zTree/img/line_center.gif);}.tree li button.switch_bottom_docu{background:url(../../release/plugins/zTree/img/line_bottom.gif);}.tree li button.switch_noLine_docu{background:none;}.tree li button.ico_loading{background:url(../../release/plugins/zTree/img/loading.gif) no-repeat scroll 1px 1px transparent;}.tree li button.ico_open{background:url(../../release/plugins/zTree/img/folder_Open.gif);}.tree li button.ico_close{background:url(../../release/plugins/zTree/img/folder_Close.gif);}.tree li button.ico_docu{background:url(../../release/plugins/zTree/img/page.gif);}.tree INPUT.checkbox{padding:0;margin:0 2px 0 0;width:18px;height:18px;vertical-align:middle;}.tmpTargetTree{background-color:#FFE6B0;border:0px #FFB951 solid;opacity:0.8;filter:alpha(opacity=80);}button.tmpzTreeMove_arrow{width:16px;height:16px;padding:0;margin:2px 0 0 1px;border:0 none;position:absolute;background:url(../../release/plugins/zTree/img/moveArrow.png) no-repeat scroll 0 0 transparent;}.zTreeDragUL{margin:0;padding:0;position:absolute;background-color:#cfcfcf;border:1px #00B83F dotted;opacity:0.8;filter:alpha(opacity=80);}.zTreeMask{z-index:10000;background-color:#cfcfcf;opacity:0.0;filter:alpha(opacity=0);position:absolute;}.weather_nav_box_weather{right:5px;top:0px;width:95%;padding-bottom:5px;height:auto;}.weather_tyhoon{padding-left:5px;padding-top:0px;}.weather_radioclass{opacity:0.5;cursor:pointer;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);vertical-align:middle;margin-top:0;}.searchResContainer{font-size:12px;}.searchResContainer .searchTableContainer{height:180px;overflow-x:hidden;}.searchResContainer .searchTableContainer .mscrollbar{height:180px;width:100%;}.searchResContainer .searchTableContainer table{width:100%;}.searchResContainer .searchTableContainer table tr.active{background-color:rgb(238,245,254);}.searchResContainer .searchTableContainer table tr:hover{background-color:rgb(238,245,254);}.searchResContainer .searchTableContainer table tr td{text-align:left;height:25px;padding-left:24px;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.searchResContainer .pageContainer{height:30px;}.paging{user-select:none;-webkit-user-select:none;}.paging.container{display:block;width:100%;text-align:center;}.paging.number,.paging.button{margin-left:4px;background:transparent;display:inline-block;width:24px;height:24px;line-height:24px;border-radius:12px;text-align:center;font-size:14px;color:#505050;cursor:pointer;}.paging.button:first-child{margin-left:0px;margin-top:2px;}.paging.number.present{background:#4368a0 !important;}.paging.number.present,.paging.number:hover,.paging.button:hover{color:white;}.paging.number:hover,.paging.button:hover{background:#d2d2d2}.hidden{visibility:hidden}.jrtx_page_first{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.jrtx_page_numlabel_select{height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#000000;font-weight:normal;cursor:pointer;border:1px solid #b5b5b5;}.jrtx_page_numlabel_noselect{height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#000000;font-weight:normal;cursor:pointer;border:0px solid #b5b5b5;}.jrtx_page_last{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.jrtx_page_pre{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.jrtx_page_next{background-color:#004191;border:1px solid #004191;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius :4px;height:20px;line-height:20px;padding-left:5px;padding-right:5px;font-family:Microsoft Yahei;font-size:14px;color:#ffffff;font-weight:normal;cursor:pointer;}.jrtx_input_lb{border-style:none;text-align:left;width:100%;font-family:Microsoft Yahei;font-size:12px;font-weight:normal;}');