define("util/dateTime",["leaflet","core/namespace"],function(e){e.ICT.Util.DateTime=e.Class.extend({initialize:function(){},getNewDateTimeBeforHour:function(e){var t=new Date;return t=t.valueOf(),t-=e*60*60*1e3,t=new Date(t),t},getCusUnixTime:function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":"),i=parseInt(n[0]),s=parseInt(n[1])>0?parseInt(n[1])-1:0,o=parseInt(n[2]),u=parseInt(r[0]),a=parseInt(r[1]),f=parseInt(r[2]),l=new Date(i,s,o,u,a,f);return l.valueOf()/1e3},getCurrentUnixTime:function(){var e=new Date;return parseInt(e.valueOf()/1e3)},getDateFromformatFull:function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":"),i=parseInt(n[0]),s=parseInt(n[1]),o=parseInt(n[2]),u=parseInt(r[0]),a=parseInt(r[1]),f=parseInt(r[2]),l=new Date(i,s,o,u,a,f);return l},formatDateFULL:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),u=t+"-"+n+"-"+r+" "+i+":"+s+":"+o;return u},formatDateH:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=t+"-"+n+"-"+r+" "+i;return s},formatDateHM:function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=t+"-"+n+"-"+r+" "+i+":"+s;return o},getTimeStrFromUnix:function(e){e=parseInt(e);if(isNaN(e))return"";var t=new Date(e*1e3),n=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),u=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),a=n+"-"+r+"-"+i+" "+s+":"+o+":"+u;return a},getTimeString:function(){var e=new Date,t=e.getFullYear().toString(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1).toString():(e.getMonth()+1).toString(),r=e.getDate()<10?"0"+e.getDate().toString():e.getDate().toString(),i=e.getHours()<10?"0"+e.getHours().toString():e.getHours().toString(),s=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes().toString(),o=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds().toString();return t+n+r+i+s+o},getDate:function(e,t){var n=t?t:new Date,r=n.getFullYear().toString(),i=n.getMonth()+1<10?"0"+(n.getMonth()+1).toString():(n.getMonth()+1).toString(),s=(n.getMonth()+1).toString(),o=n.getDate()<10?"0"+n.getDate().toString():n.getDate().toString(),u=n.getDate().toString(),a=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),f=n.getHours().toString(),l=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString(),c=n.getMinutes().toString(),h=n.getSeconds()<10?"0"+n.getSeconds().toString():n.getSeconds().toString(),p=n.getSeconds().toString();switch(e){case"yyyyMMddhhmmss":return r+i+o+a+l+h;case"yyyyMMdd":return r+i+o;case"yyyy/MM/dd":return r+"/"+i+"/"+o;case"yyyy/M/d":return r+"/"+s+"/"+u;case"yyyy-MM-dd":return r+"-"+i+"-"+o;case"yyyy-M-d":return r+"-"+s+"-"+u;default:return{year:r,month:s,day:u,hour:f,minutes:c,seconds:p}}},checkStrartEndTime:function(e,t,n){var r=$.i18n.prop("common_time_error1"),i=$.i18n.prop("common_time_error2"),s=$.i18n.prop("common_time_error3",n),o=this.getDateFromformatFull(e),u=this.getDateFromformatFull(t);o=o.valueOf(),u=u.valueOf();if(o>u)return{result:!1,msg:r};if(n){var a=n*24*60*60*1e3,f=u-o;if(f>a){var l=n>=30?i:s;return{result:!1,msg:l}}}return{result:!0,msg:""}}})});