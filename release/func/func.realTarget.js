define("func/realTarget",["leaflet","core/namespace","leaflet/shipDistLayer","leaflet/rotateMarker","plugins/contextmenu","data/ajax","func/base","func/hjcx","func/tshf","func/cdgladdship"],function(e,t){e.ICT.RealTarget=e.Class.extend({initialize:function(t){this.ajax=new e.ICT.Ajax,this.config=Project_ParamConfig.RealTargetConfig,this.ictmap=t,this.realtargetFeatureGroup=e.featureGroup([]),this.currentTarget=null,this._greendisLayer=null,this._shipSelectMarker=null,this._curDistType="1",this.lang=window.localStorage.getItem("language")||"zh",this.ictmap.map.addLayer(this.realtargetFeatureGroup),this.shipTypeList=Project_ParamConfig.FilterDisplayConfig.shipTypeList,this.shipFlagList=Project_ParamConfig.FilterDisplayConfig.shipFlagList,this.shipStateList=Project_ParamConfig.FilterDisplayConfig.shipStateList,this.shipSourceList=Project_ParamConfig.FilterDisplayConfig.shipSourceList,this.config.isZoomEndRequest&&this.getRealTarget()},chartToGoogle:function(){this.realtargetFeatureGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat+r,n.lng+i);t.setLatLng(s)},this)},googleToChart:function(){this.realtargetFeatureGroup.eachLayer(function(t){var n=t.getLatLng(),r=Project_ParamConfig.MapOptions.offset.offsetLat,i=Project_ParamConfig.MapOptions.offset.offsetLng,s=e.latLng(n.lat-r,n.lng-i);t.setLatLng(s)},this)},reloadTargets:function(){this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.realtargetFeatureGroup.clearLayers(),this.getRealTarget(),this.ictmap.map.hasLayer(this._shipSelectMarker)&&this.currentTarget&&this._shipSelectMarker.setLatLng(this.currentTarget.getLatLng())},updateFilterLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){var t=!0,n=e.options.data;this.checkFilter(n)&&(t=!1),t?(e.setOpacity(0),this.removeTargetEvt(e)):(e.setOpacity(1),this.addTargetEvt(e))},this)},convertNameToKey:function(e,t){e=e.toString();var n=null;if(t!=="shiptype")if(t==="shipflag")switch(e){case"中国":n="1";break;case"英国":n="2";break;case"法国":n="3";break;case"美国":n="4";break;case"俄罗斯":n="5";break;default:n="100"}else t!=="shipstate"&&t==="shipsrc";return n},getTargetIcon:function(t){var t=t.toString(),n=null;switch(t){case"1":n=e.ICT.ShipIcon.ship1;break;case"2":n=e.ICT.ShipIcon.ship2;break;case"3":n=e.ICT.ShipIcon.ship3;break;case"4":n=e.ICT.ShipIcon.ship4;break;case"5":n=e.ICT.ShipIcon.ship5;break;case"6":n=e.ICT.ShipIcon.ship6;break;case"7":n=e.ICT.ShipIcon.ship7;break;case"8":n=e.ICT.ShipIcon.ship8;break;default:n=e.ICT.ShipIcon.ship100}return n},locateShip:function(t){var n=$.i18n.prop("dialog_alert_title"),r=$.i18n.prop("func_realtarget_infoerror");this.clearLocatLyr();var i=this.getShipById(t.shipid);if(i)this.locateLayer(i);else{var s=this.config.shipInfoUrl;this.ajax.post(s,t,!0,this,function(t){if(t.state!==1)e.ict.app.util.dialog.error(n,r);else{var i=this.convertshipInfoObj(t.msg),s=this.convertTargetObj(t.msg);this._locateShiplyr=this.createMarker(s,!0),this.ictmap.map.addLayer(this._locateShiplyr),this.locateLayer(this._locateShiplyr)}},function(e){})}},locateLayer:function(e){this.isRealTargetShow()?(this.ictmap.map.panTo(e.getLatLng()),e.fire("click")):(this.ictmap.map.setView(e.getLatLng(),this.config.showLevel),e.setOpacity(1),e.fire("click"))},clearLocatLyr:function(){this._locateShiplyr&&(this._locateShiplyr.options.hasSelectState&&this.removeShipInfoPopPanel(),this.ictmap.map.removeLayer(this._locateShiplyr),this._locateShiplyr=null)},showLocateLayer:function(){this._locateShiplyr&&this._locateShiplyr.setOpacity(1)},hideLocateLayer:function(){this._locateShiplyr&&this._locateShiplyr.setOpacity(0)},getShipById:function(e){var t=null,n=this.realtargetFeatureGroup.getLayers();for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.options.data;if(e===o.id){t=s;break}}return t},isRealTargetShow:function(){var e=!1;return this.realtargetFeatureGroup&&this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.ictmap.map.getZoom()>=this.config.showLevel&&(e=!0),e},changeShipDistLayer:function(e){this._curDistType=e,e==="1"?(this.hideRasterLayer(),this.ictmap.map.getZoom()<this.config.showLevel&&this.showGreenDistLayer()):(this.hideGreenDistLayer(),this.ictmap.map.getZoom()<this.config.showLevel&&this.showRasterLayer())},showShipDistLayer:function(){this._curDistType==="1"?this.showGreenDistLayer():this.showRasterLayer()},hideShipDistLayer:function(){this._curDistType==="1"?this.hideGreenDistLayer():this.hideRasterLayer()},addGreenDistLayer:function(){this.removeGreenDistLayer(),this._greendisLayer=new e.TileLayer.ShipDistLayer(this.config.shipDistLayerUrl),this.ictmap.map.addLayer(this._greendisLayer)},removeGreenDistLayer:function(){this._greendisLayer&&(this.ictmap.map.removeLayer(this._greendisLayer),this._greendisLayer=null)},showGreenDistLayer:function(){this._greendisLayer?this._greendisLayer.setOpacity(1):this.addGreenDistLayer()},hideGreenDistLayer:function(){this._greendisLayer&&this._greendisLayer.setOpacity(0)},addRasterLayer:function(){this.removeRasterLayer();var t=this.config.rasterUrl;this.ajax.post(t,{timeout:this.config.timeout},!0,this,function(t){t.state!==1?console.error(t.msg.error):(this._rasterLayer=e.featureGroup([]),this.ictmap.map.addLayer(this._rasterLayer),this._rasterLayer.bringToFront(),this.makeGrid(t.msg.data),(this._curDistType!=="2"||this.ictmap.map.getZoom()>=this.config.showLevel)&&this.hideRasterLayer())},function(e){console.error(e)})},makeGrid:function(t){for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.lat,o=i.lon;s>89&&(s=89),o>179&&(o=179);var u=e.latLng(s,o),a=e.latLng(s+1,o+1),f=e.latLngBounds(u,a),l=e.rectangle(f,{stroke:!1,text:i.v,fillColor:this.getBgColor(i.v),fillOpacity:.6});this._rasterLayer.addLayer(l)}},getBgColor:function(e){if(e<=10)return"#91E201";if(e>10&&e<=50)return"#009E01";if(e>50&&e<=100)return"#FFFF01";if(e>100&&e<=500)return"#FCCF00";if(e>500&&e<=1e3)return"#FD910B";if(e>1e3&&e<=5e3)return"#FA5E11";if(e>5e3)return"#F11415"},removeRasterLayer:function(){this._rasterLayer&&(this.ictmap.map.removeLayer(this._rasterLayer),this._rasterLayer=null)},showRasterLayer:function(){this._rasterLayer?this._rasterLayer.eachLayer(function(e){e.setStyle({fillOpacity:.6})},this):this.addRasterLayer()},hideRasterLayer:function(){this._rasterLayer&&this._rasterLayer.eachLayer(function(e){e.setStyle({fillOpacity:0})},this)},showRealTargetLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){this.checkFilter(e.options.data)&&e.setOpacity(1)},this),this.showLocateLayer(),this.showShipInfoPopPanel()},hideRealTargetLayer:function(){this.realtargetFeatureGroup.eachLayer(function(e){e.setOpacity(0)},this),this.hideLocateLayer(),this.hideShipInfoPopPanel()},removeRealTargetLayer:function(){this.ictmap.map.hasLayer(this.realtargetFeatureGroup)&&this.realtargetFeatureGroup.clearLayers(),this.removeShipInfoPopPanel()},addRealTargetLayer:function(){this.ictmap.getCurZoom()<this.config.showLevel?(this.showShipDistLayer(),this.hideRealTargetLayer()):(this.hideShipDistLayer(),this.showRealTargetLayer())},getRealTarget:function(){var t=this.config.shipRealUrl,n={};n.limit=this.config.limit,n.timeout=this.config.timeout,n=e.extend(n,this.getCurRectExtend()),this.ajax.post(t,n,!0,this,this._getRectTargetSuccessCallback,this._getRectTargetFailCallback),this.stopInterval(),this._interval=window.setInterval(function(){this.ajax.post(t,n,!0,this,this._getRectTargetSuccessCallback,this._getRectTargetFailCallback)}.bind(this),this.config.updatetime*1e3)},_getRectTargetSuccessCallback:function(e){if(e.state!==1||!e.msg.shipList||!e.msg.shipList.length)return;this.updateLayer(e)},_getRectTargetFailCallback:function(e){},stopInterval:function(){this._interval&&(window.clearInterval(this._interval),this._interval=null)},updateLayer:function(e){var t=this.convertShipList(e);this.updateAllTarget(t),this.removeInvalidTarget(t)},convertShipList:function(e){var t=e.msg.shipList,n=[];for(var r=0,i=t.length;r<i;r++){var s=this.convertTargetObj(t[r]);n.push(s)}return n},convertTargetObj:function(e){var t={};return t.id=e.mi,t.time=e.re,t.lon=parseFloat(e.lo/6e5),t.lat=parseFloat(e.la/6e5),t.dir=(e.di/10).toFixed(1),t.heading=e.he,t.speed=(e.sp/10).toFixed(1),t.status=e.st,t.infosrc=e.os,t.mmsi=e.mi,t.shipname=e.sn.replace(/@/g,""),t.callsign=e.cs.replace(/@/g,""),t.imo=e.imn,t.country=this.getDetialConvertName(e.cn,"country"),t.shiptype=e.ast,t},updateAllTarget:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this.updateOneTarget(r)}},updateOneTarget:function(t){var n=!1,r=this.realtargetFeatureGroup.getLayers();for(var i=0,s=r.length;i<s;i++){var o=r[i],u=o.options.data;if(u.id===t.id){n=!0;if(this.isChange(u,t)){var a=e.latLng(t.lat,t.lon);o.setLatLng(a),o.setRotationAngle(t.dir),o.options.data=t}break}}if(!n&&r.length<this.config.limit){var f=this.createMarker(t,!0);this.isShowNewTarget(t)||f.setOpacity(0),this.realtargetFeatureGroup.addLayer(f)}},isShowNewTarget:function(e){return!this.ictmap.OperateState.tshf&&!this.ictmap.OperateState.hjcx&&!this.ictmap.OperateState.heatmap&&this.checkFilter(e)&&this.isRealTargetShow()},isChange:function(e,t){var n=!1;if(t.lat!==e.lat||t.lon!==e.lon)n=!0;return n},createMarker:function(t,n){var n=n?n:!1,r=e.latLng(t.lat,t.lon),i=t.shipname,s=this.getTargetIcon(t.shiptype),o={icon:s,opacity:1,rotationAngle:t.dir,rotationOrigin:"center center",title:i,data:t};o.icon.options.className="leaflet-marker-rightclick-icon";var u=e.marker(r,o);return n&&this.addTargetEvt(u),u},checkFilter:function(e){return!0;var t,n,r,i,s,s,s,s},removeInvalidTarget:function(e){var t=this.realtargetFeatureGroup.getLayers();for(var n=0,r=t.length;n<r;n++){var i=t[n],s=i.options.data;this.isContain(s,e)||this.realtargetFeatureGroup.removeLayer(i)}},isContain:function(e,t){var n=!1;for(var r=0,i=t.length;r<i;r++)if(t[r].id===e.id){n=!0;break}return n},addTargetEvt:function(e){e.on("contextmenu",this._markerRightClickEvt,this),e.on("click",this._markerClickEvt,this)},removeTargetEvt:function(e){e.off("contextmenu",this._markerRightClickEvt,this),e.off("click",this._markerClickEvt,this)},_markerRightClickEvt:function(t){e.DomEvent.stopPropagation(t);var n=this.ictmap.map.getContainer(),r=t.containerPoint.x+n.offsetLeft,i=t.containerPoint.y+n.offsetTop;this.currentTarget=t.target,$(".leaflet-marker-rightclick-icon").contextMenu({x:r,y:i})},initContextMenu:function(){var e=this,t=$.i18n.prop("contextmenu_tshf"),n=$.i18n.prop("contextmenu_addhf"),r=$.i18n.prop("contextmenu_hjcx"),i=$.i18n.prop("contextmenu_addhj");$.contextMenu({selector:".leaflet-marker-rightclick-icon",trigger:"none",callback:function(t,n){e._rightClickCallback(t,n)},items:{tshf:{name:t,icon:e.getContextMenuIcon("tshf")},addhf:{name:n,icon:e.getContextMenuIcon("add")},hjcx:{name:r,icon:e.getContextMenuIcon("hjcx")},addcx:{name:i,icon:e.getContextMenuIcon("add")}}}),$(".ict_contextmenu_item_li").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})},getContextMenuIcon:function(e){return function(t,n,r,i){var s="icon-contextmenu-"+e,o=[];return o.push('<span class="'+s+'"></span>'),o.push('<span class="nametxt">'+i.name+"</span>"),o=o.join(""),n.html(o),"ict_contextmenu_item_li"}},_rightClickCallback:function(t,n){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}var r=this.currentTarget.options.data;if(t==="tshf")e.ICT.Func.TSHFOneShip.run();else if(t==="addhf"){var i=e.ICT.Func.TSHF.getInstance();i.addTarget(r),i._targetPanel?i.updateList():e.ict.app.util.dialog.success($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_right_add"))}else if(t==="hjcx")e.ICT.Func.HJCXOneShip.run();else if(t==="addcx"){var s=e.ICT.Func.HJCXMoreShip.getInstance();s.addTarget(r),s._popPanel?s.updateList():e.ict.app.util.dialog.success($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_right_add"))}},_markerClickEvt:function(t){var n=t.target,r=this.config.shipInfoUrl,i=t.target.options.data.id,s={};s.shipid=i,this.currentTarget=t.target,this.removeSelectMarker(),this.createSelectMarker(t),this.ajax.post(r,s,!0,this,function(t){if(t.state!==1)e.ict.app.util.dialog.error($.i18n.prop("dialog_alert_title"),$.i18n.prop("func_realtarget_geterror")),this.removeShipInfoPopPanel();else{var n=this.convertshipInfoObj(t.msg),r=this.config.isIncdUrl,s=!1,o=this;this.ajax.post(r,{mmsi:i},!0,this,function(e){e.state===1&&(s=!0)}).always(function(){o.createShipInfoPopPanel(n,s),o._initPopEvt()})}},function(e){this.removeShipInfoPopPanel()})},createSelectMarker:function(t){var n=t.target.getLatLng(),r=e.divIcon({iconSize:[24,24],iconAnchor:[12,12],className:"ict_markerselect_divicon"});this._shipSelectMarker=e.marker(n,{icon:r}),this._shipSelectMarker.on("contextmenu",function(e){var n={};n.containerPoint=e.containerPoint,n.layerPoint=e.layerPoint,n.latlng=t.target.getLatLng(),t.target.fire("contextmenu",n)},this),this._shipSelectMarker.on("click",function(e){var n={};n.containerPoint=e.containerPoint,n.layerPoint=e.layerPoint,n.latlng=t.target.getLatLng(),t.target.fire("click",n)},this),this._shipSelectMarker.addTo(this.ictmap.map),$(".ict_markerselect_divicon").css("border","dotted 2px #f00"),t.target.options.hasSelectState=!0,t.target.on("move",function(e){this._shipSelectMarker&&t.target.options.hasSelectState&&this._shipSelectMarker.setLatLng(e.target.getLatLng())},this)},removeSelectMarker:function(){this._shipSelectMarker&&(this._shipSelectMarker.remove(),this._shipSelectMarker=null,this.clearSelectState())},showSelectMarker:function(){this._shipSelectMarker&&this._shipSelectMarker.setOpacity(1)},hideSelectMarker:function(){this._shipSelectMarker&&this._shipSelectMarker.setOpacity(0)},clearSelectState:function(){var e=this.realtargetFeatureGroup.getLayers();for(var t=0,n=e.length;t<n;t++){var r=e[t];r.options.hasSelectState&&(r.options.hasSelectState=!1)}},createShipInfoPopPanel:function(t,n){if(this._shipinfoPopPanel){this.showShipInfoPopPanel(),this._shipinfoPopPanel.setContent(this.getPopupContent(t,n));return}var r=$.i18n.prop("func_realtarget_info_title"),i={title:r,width:460,height:330,right:40,top:100,disableSelect:!1,className:"ict_realTarget_popupContainer",contentHTML:this.getPopupContent(t,n)};this._shipinfoPopPanel=new e.ICT.PopPanel(i),this._shipinfoPopPanel.on("popPanelRemove",function(){this._shipinfoPopPanel=null,this.removeSelectMarker()},this),this._shipinfoPopPanel.show()},removeShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.remove(),this._shipinfoPopPanel=null)},showShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.show(),this.showSelectMarker())},hideShipInfoPopPanel:function(){this._shipinfoPopPanel&&(this._shipinfoPopPanel.close(),this.hideSelectMarker())},convertshipInfoObj:function(e){var t=$.i18n.prop("common_default_val"),n=$.i18n.prop("common_unit_mile"),r=$.i18n.prop("func_filter_shipflag_100"),i={};i.id=e.mi,i.time=e.re,i.lon=parseFloat(e.lo/6e5),i.lat=parseFloat(e.la/6e5),i.dir=(e.di/10).toFixed(1),i.heading=e.he,i.speed=e.sp/10,i.status=this.getDetialConvertName(e.st,"status"),i.infosrc=e.os,i.mmsi=e.mi,i.shipname=e.sn.replace(/@/g,"")||t,i.callsign=e.cs.replace(/@/g,"")||t,i.imo=e.imn;var s=this.lang==="en"?e.cne.replace(/@/g,""):e.cn.replace(/@/g,"");return i.country=s||r,i.shiptype=this.getDetialConvertName(e.ast,"ship_type"),i.shiplength=e.sl+" "+n,i.shipwidth=e.sb+" "+n,i.rotsensor=e.ro,i.destination=e.de.replace(/@/g,"")||t,i.reachtime=e.et,i},getPopupContent:function(t,n){var r=$.i18n.prop("common_ship_shipname"),i=$.i18n.prop("common_ship_country"),s=$.i18n.prop("common_ship_callsign"),o=$.i18n.prop("common_ship_len"),u=$.i18n.prop("common_ship_type"),a=$.i18n.prop("common_ship_width"),f=$.i18n.prop("common_ship_lng"),l=$.i18n.prop("common_ship_lat"),c=$.i18n.prop("common_ship_dir"),h=$.i18n.prop("common_ship_heading"),p=$.i18n.prop("common_ship_rot"),d=$.i18n.prop("common_ship_des"),v=$.i18n.prop("common_ship_arrivetime"),m=$.i18n.prop("common_ship_updatetime"),g=$.i18n.prop("common_ship_record"),y=$.i18n.prop("common_ship_addcd"),b=$.i18n.prop("func_cdgl_editfleet_titlename"),w=$.i18n.prop("common_ship_speed"),E=$.i18n.prop("common_ship_speed_unit"),S=$.i18n.prop("common_ship_status"),x=e.ict.app.util.tool.latlngTodfmStr(t.lat,"lat"),T=e.ict.app.util.tool.latlngTodfmStr(t.lon,"lng"),N=e.ict.app.util.dateTime.getTimeStrFromUnix(t.time),C=[];return C.push('<div class="shipInfo_Div">'),C.push('<div class="shipInfo_table_div">'),C.push('<table data-id="'+t.id+'">'),C.push('<tr><td width="20%">'+r+"</td><td>"+t.shipname+'</td><td width="20%">'+i+"</td><td>"+t.country+"</td></tr>"),C.push("<tr><td>"+s+"</td><td>"+t.callsign+"</td><td>MMSI:</td><td>"+t.mmsi+"</td></tr>"),C.push("<tr><td>IMO:</td><td>"+t.imo+"</td><td>"+o+"</td><td>"+t.shiplength+"</td></tr>"),C.push("<tr><td>"+u+"</td><td>"+t.shiptype+"</td><td>"+a+"</td><td>"+t.shipwidth+"</td></tr>"),C.push("<tr><td>"+f+"</td><td>"+T+"</td><td>"+l+"</td><td>"+x+"</td></tr>"),C.push("<tr><td>"+c+"</td><td>"+t.dir+"°</td><td>"+h+"</td><td>"+t.heading+"°</td></tr>"),C.push("<tr><td>"+w+"</td><td>"+t.speed+" "+E+"</td><td>"+S+"</td><td>"+t.status+"</td></tr>"),C.push("<tr><td>"+p+"</td><td>"+t.rotsensor+"°/min"+"</td><td>"+d+"</td><td>"+t.destination+"</td></tr>"),C.push("<tr><td>"+v+"</td><td>"+t.reachtime+"</td><td>"+m+"</td><td>"+N+"</td></tr>"),C.push("</table>"),C.push("</div>"),C.push('<div class="btnDiv">'),C.push('<button type="button" class="btn daxx">'+g+"</button>"),n?C.push('<button type="button" class="btn editcd">'+b+"</button>"):C.push('<button type="button" class="btn addcd">'+y+"</button>"),C.push("</div>"),C.push("</div>"),C.join("")},_initPopEvt:function(){var t=this;$(".ict_realTarget_popupContainer .btnDiv>button").on("click",function(n){if(!e.ICT.Func.UserLogin.getInstance().isLogin()){e.ICT.Func.UserLogin.getInstance().alertLoginDialog();return}var r=t.currentTarget.options.data.id,i=t.currentTarget.options.data.shipname,s=t.currentTarget.options.data.mmsi;if(!$(this).hasClass("daxx"))if($(this).hasClass("addcd")){var o=new e.ICT.CdglAddShip;o.addShipToFleet(o,r,i,s,function(){if(t.currentTarget.options.data.id===r&&t._shipinfoPopPanel){var e=$.i18n.prop("func_cdgl_editfleet_titlename"),n='<button type="button" class="btn editcd">'+e+"</button>";t._shipinfoPopPanel.getContainer().find("button.addcd").replaceWith(n),t._initPopEvt()}})}else $(this).hasClass("editcd")&&e.ict.app.menu.mainmenu.activeMenu("ict_menu_main_cdgl")})},getDetialConvertName:function(e,t){var n="";e=e.toString();if(t=="ship_type")switch(e){case"1":n=$.i18n.prop("func_filter_shiptype_1");break;case"2":n=$.i18n.prop("func_filter_shiptype_2");break;case"3":n=$.i18n.prop("func_filter_shiptype_3");break;case"4":n=$.i18n.prop("func_filter_shiptype_4");break;case"5":n=$.i18n.prop("func_filter_shiptype_5");break;case"6":n=$.i18n.prop("func_filter_shiptype_6");break;case"7":n=$.i18n.prop("func_filter_shiptype_7");break;default:n=$.i18n.prop("func_filter_shiptype_100")}else if(t=="country")switch(e){case"中国":n="中国";break;case"英国":n="英国";break;case"法国":n="法国";break;case"美国":n="美国";break;default:n="其他"}else if(t=="hwlx")n=e;else if(t=="status")switch(e){case"0":n=$.i18n.prop("func_filter_shipsta_0");break;case"1":n=$.i18n.prop("func_filter_shipsta_1");break;case"2":n=$.i18n.prop("func_filter_shipsta_2");break;case"3":n=$.i18n.prop("func_filter_shipsta_3");break;case"4":n=$.i18n.prop("func_filter_shipsta_4");break;case"5":n=$.i18n.prop("func_filter_shipsta_5");break;case"6":n=$.i18n.prop("func_filter_shipsta_6");break;case"7":n=$.i18n.prop("func_filter_shipsta_7");break;case"8":n=$.i18n.prop("func_filter_shipsta_8");break;default:n=$.i18n.prop("common_default_val")}else if(t=="fixing_device")switch(e){case"-1":res1="非法";break;case"0":n="默认";break;case"1":n="GPS";break;case"2":n="GLONASS";break;case"3":n="GPS/GLONASS组合";break;case"4":n="Loran-C";break;case"5":n="Chayka";break;case"6":n="综合导航系统";break;case"7":n="观测";break;case"8":n="北斗";break;case"9":case"10":case"11":case"12":case"13":case"14":n="未使用";break;case"15":n="内部GNSS";break;default:n=e}else if(t=="commun_state")switch(e){case"0":n="未知";break;case"1":n="SOTDMA";break;case"2":n="ITDMA";break;default:n=e}else if(t=="pos_accuracy")switch(e){case"0":n="未知";break;case"1":n="定位误差大于10米";break;case"2":n="定位误差小于等于10米";break;default:n=e}else if(t=="orig_info_source")switch(e){case"1":n="农业部";break;case"2":n="海事局";break;case"3":n="海监";break;default:n=e}else if(t=="orig_info_type")switch(e){case"1":n="Argos及海事卫星";break;case"2":n="北斗";break;case"3":n="AIS静态";break;case"4":n="AIS动态";break;case"5":n="LRIT";break;case"7":n="海监";break;case"15":n="综合信息";break;default:n=e}return n},getDetialConvertName_lang:function(e,t){var n="";if(t==="shiptype"){var r=e.ast.trim();switch(r){case"1":n=$.i18n.prop("func_filter_shiptype_1");break;case"2":n=$.i18n.prop("func_filter_shiptype_2");break;case"3":n=$.i18n.prop("func_filter_shiptype_3");break;case"4":n=$.i18n.prop("func_filter_shiptype_4");break;case"5":n=$.i18n.prop("func_filter_shiptype_5");break;case"6":n=$.i18n.prop("func_filter_shiptype_6");break;case"7":n=$.i18n.prop("func_filter_shiptype_7");break;default:n=$.i18n.prop("func_filter_shiptype_100")}}else if(t=="country"){var r=this.lang==="en"?e.cn.replace(/@/g,""):e.cne.replace(/@/g,"");switch(r){case"中国":n="中国";break;case"英国":n="英国";break;case"法国":n="法国";break;case"美国":n="美国";break;default:n="其他"}}else if(t=="hwlx")n=code;else if(t=="status")switch(code){case"0":n="机动船在航";break;case"1":n="锚泊";break;case"2":n="船舶失控";break;case"3":n="船舶操作受限";break;default:n=code}else if(t=="fixing_device")switch(code){case"-1":res1="非法";break;case"0":n="默认";break;case"1":n="GPS";break;case"2":n="GLONASS";break;case"3":n="GPS/GLONASS组合";break;case"4":n="Loran-C";break;case"5":n="Chayka";break;case"6":n="综合导航系统";break;case"7":n="观测";break;case"8":n="北斗";break;case"9":case"10":case"11":case"12":case"13":case"14":n="未使用";break;case"15":n="内部GNSS";break;default:n=code}else if(t=="commun_state")switch(code){case"0":n="未知";break;case"1":n="SOTDMA";break;case"2":n="ITDMA";break;default:n=code}else if(t=="pos_accuracy")switch(code){case"0":n="未知";break;case"1":n="定位误差大于10米";break;case"2":n="定位误差小于等于10米";break;default:n=code}else if(t=="orig_info_source")switch(code){case"1":n="农业部";break;case"2":n="海事局";break;case"3":n="海监";break;default:n=code}else if(t=="orig_info_type")switch(code){case"1":n="Argos及海事卫星";break;case"2":n="北斗";break;case"3":n="AIS静态";break;case"4":n="AIS动态";break;case"5":n="LRIT";break;case"7":n="海监";break;case"15":n="综合信息";break;default:n=code}return n},getCurRect:function(){var e={},t=this.ictmap.getBounds(),n=t.getSouthWest(),r=t.getNorthEast();return e.ldlon=parseFloat(n.lng.toFixed(6)),e.ldlat=parseFloat(n.lat.toFixed(6)),e.rulon=parseFloat(r.lng.toFixed(6)),e.rulat=parseFloat(r.lat.toFixed(6)),e},getCurRectExtend:function(){var e={},t=this.ictmap.getBounds().pad(this.config.bufferRatio),n=t.getSouthWest(),r=t.getNorthEast();return e.ldlon=parseFloat(n.lng.toFixed(6)),e.ldlat=parseFloat(n.lat.toFixed(6)),e.rulon=parseFloat(r.lng.toFixed(6)),e.rulat=parseFloat(r.lat.toFixed(6)),e}})});