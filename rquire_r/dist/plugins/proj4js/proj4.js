!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.proj4=t()}(this,function(){function e(e,t){if(e[t])return e[t];for(var n,r,i=Object.keys(e),s=t.toLowerCase().replace(Un,""),o=-1;++o<i.length;)if(n=i[o],r=n.toLowerCase().replace(Un,""),r===s)return e[n]}function t(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Wn}function n(e){var n=new t(e);return n.output()}function r(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,s=n.reduce(function(e,t){return i(t,e),e},r);t&&(e[t]=s)}function i(e,t){if(!Array.isArray(e))return void (t[e]=!0);var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void i(e[0],t[n])):void (t[n]=e[0]);if(!e.length)return void (t[n]=!0);if("TOWGS84"===n)return void (t[n]=e);Array.isArray(n)||(t[n]={});var s;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void (3===e.length&&i(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void (4===e.length&&i(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void r(t,n,e);default:for(s=-1;++s<e.length;)if(!Array.isArray(e[s]))return i(e,t[n]);return r(t,n,e)}}function s(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function o(e){return e*tr}function u(e){function t(t){var n=e.to_meter||1;return t*n}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):(e.to_meter=e.UNIT.convert,10)));var n=e.GEOGCS;"GEOGCS"===e.type&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36")),e.b&&!isFinite(e.b)&&(e.b=e.a);var r=function(t){return s(e,t)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]];i.forEach(r),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=o(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function a(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?a[e]=zn(arguments[1]):a[e]=nr(arguments[1]):a[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?a.apply(t,e):a(e)});if("string"==typeof e){if(e in a)return a[e]}else"EPSG"in e?a["EPSG:"+e.EPSG]=e:"ESRI"in e?a["ESRI:"+e.ESRI]=e:"IAU2000"in e?a["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function f(e){return"string"==typeof e}function l(e){return e in a}function c(e){return rr.some(function(t){return e.indexOf(t)>-1})}function h(e){return"+"===e[0]}function p(e){return f(e)?l(e)?a[e]:c(e)?nr(e):h(e)?zn(e):void 0:e}function d(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function v(e){var t=e.x,n=e.y;if(n*Bn>90&&n*Bn<-90&&t*Bn>180&&t*Bn<-180)return null;var r,i;if(Math.abs(Math.abs(n)-On)<=Pn)return null;if(this.sphere)r=this.x0+this.a*this.k0*ur(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(jn+.5*n));else{var s=Math.sin(n),o=ar(this.e,n,s);r=this.x0+this.a*this.k0*ur(t-this.long0),i=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=i,e}function m(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=On-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var s=Math.exp(-i/(this.a*this.k0));if(n=fr(this.e,s),n===-9999)return null}return t=ur(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}function g(){}function y(e){return e}function b(e,t){var n=mr.length;return e.names?(mr[n]=e,e.names.forEach(function(e){vr[e.toLowerCase()]=n}),this):(console.log(t),!0)}function w(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!=typeof vr[t]&&mr[vr[t]]?mr[vr[t]]:void 0}function E(){dr.forEach(b)}function S(e,t,n,r){var i=e*e,s=t*t,o=(i-s)/i,u=0;r?(e*=1-o*(Mn+o*(_n+o*Dn)),i=e*e,o=0):u=Math.sqrt(o);var a=(i-s)/s;return{es:o,e:u,ep2:a}}function x(t,n,r,i,s){if(!t){var o=e(yr,i);o||(o=br),t=o.a,n=o.b,r=o.rf}return r&&!n&&(n=(1-1/r)*t),(0===r||Math.abs(t-n)<Pn)&&(s=!0,n=t),{a:t,b:n,rf:r,sphere:s}}function T(e,t,n,r,i,s){var o={};return void 0===e||"none"===e?o.datum_type=Ln:o.datum_type=kn,t&&(o.datum_params=t.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=Nn),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=Cn,o.datum_params[3]*=An,o.datum_params[4]*=An,o.datum_params[5]*=An,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=n,o.b=r,o.es=i,o.ep2=s,o}function N(t,n){if(!(this instanceof N))return new N(t);n=n||function(e){if(e)throw e};var r=p(t);if("object"!=typeof r)return void n(t);var i=N.projections.get(r.projName);if(!i)return void n(t);if(r.datumCode&&"none"!==r.datumCode){var s=e(wr,r.datumCode);s&&(r.datum_params=s.towgs84?s.towgs84.split(","):null,r.ellps=s.ellipse,r.datumName=s.datumName?s.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var o=x(r.a,r.b,r.rf,r.ellps,r.sphere),u=S(o.a,o.b,o.rf,r.R_A),a=r.datum||T(r.datumCode,r.datum_params,o.a,o.b,u.es,u.ep2);ir(this,r),ir(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=u.es,this.e=u.e,this.ep2=u.ep2,this.datum=a,this.init(),n(null,this)}function C(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===Nn?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==Cn||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}function k(e,t,n){var r,i,s,o,u=e.x,a=e.y,f=e.z?e.z:0;if(a<-On&&a>-1.001*On)a=-On;else if(a>On&&a<1.001*On)a=On;else if(a<-On||a>On)return null;return u>Math.PI&&(u-=2*Math.PI),i=Math.sin(a),o=Math.cos(a),s=i*i,r=n/Math.sqrt(1-t*s),{x:(r+f)*o*Math.cos(u),y:(r+f)*o*Math.sin(u),z:(r*(1-t)+f)*i}}function L(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w=1e-12,E=w*w,S=30,x=e.x,T=e.y,N=e.z?e.z:0;if(i=Math.sqrt(x*x+T*T),s=Math.sqrt(x*x+T*T+N*N),i/n<w){if(g=0,s/n<w)return y=On,b=-r,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(T,x);o=N/s,u=i/s,a=1/Math.sqrt(1-t*(2-t)*u*u),c=u*(1-t)*a,h=o*a,m=0;do m++,l=n/Math.sqrt(1-t*h*h),b=i*c+N*h-l*(1-t*h*h),f=t*l/(l+b),a=1/Math.sqrt(1-f*(2-f)*u*u),p=u*(1-f)*a,d=o*a,v=d*c-p*h,c=p,h=d;while(v*v>E&&m<S);return y=Math.atan(d/Math.abs(p)),{x:g,y:y,z:b}}function A(e,t,n){if(t===Nn)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===Cn){var r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],f=n[6];return{x:f*(e.x-a*e.y+u*e.z)+r,y:f*(a*e.x+e.y-o*e.z)+i,z:f*(-u*e.x+o*e.y+e.z)+s}}}function O(e,t,n){if(t===Nn)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===Cn){var r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],f=n[6],l=(e.x-r)/f,c=(e.y-i)/f,h=(e.z-s)/f;return{x:l+a*c-u*h,y:-a*l+c+o*h,z:u*l-o*c+h}}}function M(e){return e===Nn||e===Cn}function _(e,t){return(e.datum.datum_type===Nn||e.datum.datum_type===Cn)&&"WGS84"!==t.datumCode||(t.datum.datum_type===Nn||t.datum.datum_type===Cn)&&"WGS84"!==e.datumCode}function D(e,t,n){var r;return Array.isArray(n)&&(n=xr(n)),e.datum&&t.datum&&_(e,t)&&(r=new N("WGS84"),n=D(e,r,n),e=r),"enu"!==e.axis&&(n=Sr(e,!1,n)),"longlat"===e.projName?n={x:n.x*Hn,y:n.y*Hn}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=Er(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),"longlat"===t.projName?n={x:n.x*Bn,y:n.y*Bn}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),"enu"!==t.axis?Sr(t,!0,n):n}function P(e,t,n){var r;return Array.isArray(n)?(r=D(e,t,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):D(e,t,n)}function H(e){return e instanceof N?e:e.oProj?e.oProj:N(e)}function B(e,t,n){e=H(e);var r,i=!1;return"undefined"==typeof t?(t=e,e=Tr,i=!0):("undefined"!=typeof t.x||Array.isArray(t))&&(n=t,t=e,e=Tr,i=!0),t=H(t),n?P(e,t,n):(r={forward:function(n){return P(e,t,n)},inverse:function(n){return P(t,e,n)}},i&&(r.oProj=t),r)}function j(e,t){return t=t||5,X(U({lat:e[1],lon:e[0]}),t)}function F(e){var t=z(K(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function I(e){var t=z(K(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function q(e){return e*(Math.PI/180)}function R(e){return 180*(e/Math.PI)}function U(e){var t,n,r,i,s,o,u,a,f,l=e.lat,c=e.lon,h=6378137,p=.00669438,d=.9996,v=q(l),m=q(c);f=Math.floor((c+180)/6)+1,180===c&&(f=60),l>=56&&l<64&&c>=3&&c<12&&(f=32),l>=72&&l<84&&(c>=0&&c<9?f=31:c>=9&&c<21?f=33:c>=21&&c<33?f=35:c>=33&&c<42&&(f=37)),t=6*(f-1)-180+3,a=q(t),n=p/(1-p),r=h/Math.sqrt(1-p*Math.sin(v)*Math.sin(v)),i=Math.tan(v)*Math.tan(v),s=n*Math.cos(v)*Math.cos(v),o=Math.cos(v)*(m-a),u=h*((1-p/4-3*p*p/64-5*p*p*p/256)*v-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*v)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*v)-35*p*p*p/3072*Math.sin(6*v));var g=d*r*(o+(1-i+s)*o*o*o/6+(5-18*i+i*i+72*s-58*n)*o*o*o*o*o/120)+5e5,y=d*(u+r*Math.tan(v)*(o*o/2+(5-i+9*s+4*s*s)*o*o*o*o/24+(61-58*i+i*i+600*s-330*n)*o*o*o*o*o*o/720));return l<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(g),zoneNumber:f,zoneLetter:W(l)}}function z(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var s,o,u,a,f,l,c,h,p,d,v=.9996,m=6378137,g=.00669438,y=(1-Math.sqrt(1-g))/(1+Math.sqrt(1-g)),b=n-5e5,w=t;r<"N"&&(w-=1e7),h=6*(i-1)-180+3,s=g/(1-g),c=w/v,p=c/(m*(1-g/4-3*g*g/64-5*g*g*g/256)),d=p+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),o=m/Math.sqrt(1-g*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),a=s*Math.cos(d)*Math.cos(d),f=m*(1-g)/Math.pow(1-g*Math.sin(d)*Math.sin(d),1.5),l=b/(o*v);var E=d-o*Math.tan(d)/f*(l*l/2-(5+3*u+10*a-4*a*a-9*s)*l*l*l*l/24+(61+90*u+298*a+45*u*u-252*s-3*a*a)*l*l*l*l*l*l/720);E=R(E);var S=(l-(1+2*u+a)*l*l*l/6+(5-2*a+28*u-3*a*a+8*s+24*u*u)*l*l*l*l*l/120)/Math.cos(d);S=h+R(S);var x;if(e.accuracy){var T=z({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});x={top:T.lat,right:T.lon,bottom:E,left:S}}else x={lat:E,lon:S};return x}function W(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function X(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+V(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function V(e,t,n){var r=$(n),i=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return J(i,s,r)}function $(e){var t=e%Nr;return 0===t&&(t=Nr),t}function J(e,t,n){var r=n-1,i=Cr.charCodeAt(r),s=kr.charCodeAt(r),o=i+e-1,u=s+t,a=!1;o>_r&&(o=o-_r+Lr-1,a=!0),(o===Ar||i<Ar&&o>Ar||(o>Ar||i<Ar)&&a)&&o++,(o===Or||i<Or&&o>Or||(o>Or||i<Or)&&a)&&(o++,o===Ar&&o++),o>_r&&(o=o-_r+Lr-1),u>Mr?(u=u-Mr+Lr-1,a=!0):a=!1,(u===Ar||s<Ar&&u>Ar||(u>Ar||s<Ar)&&a)&&u++,(u===Or||s<Or&&u>Or||(u>Or||s<Or)&&a)&&(u++,u===Ar&&u++),u>Mr&&(u=u-Mr+Lr-1);var f=String.fromCharCode(o)+String.fromCharCode(u);return f}function K(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",s=0;!/[A-Z]/.test(t=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,s++}var o=parseInt(i,10);if(0===s||s+3>n)throw"MGRSPoint bad conversion from: "+e;var u=e.charAt(s++);if(u<="A"||"B"===u||"Y"===u||u>="Z"||"I"===u||"O"===u)throw"MGRSPoint zone letter "+u+" not handled: "+e;r=e.substring(s,s+=2);for(var a=$(o),f=Q(r.charAt(0),a),l=G(r.charAt(1),a);l<Y(u);)l+=2e6;var c=n-s;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,d,v,m,g=c/2,y=0,b=0;return g>0&&(h=1e5/Math.pow(10,g),p=e.substring(s,s+g),y=parseFloat(p)*h,d=e.substring(s+g),b=parseFloat(d)*h),v=y+f,m=b+l,{easting:v,northing:m,zoneLetter:u,zoneNumber:o,accuracy:h}}function Q(e,t){for(var n=Cr.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===Ar&&n++,n===Or&&n++,n>_r){if(i)throw"Bad character: "+e;n=Lr,i=!0}r+=1e5}return r}function G(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=kr.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===Ar&&n++,n===Or&&n++,n>Mr){if(i)throw"Bad character: "+e;n=Lr,i=!0}r+=1e5}return r}function Y(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&"undefined"==typeof t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function et(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=$r(this.es),this.ml0=Jr(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function tt(e){var t,n,r,i=e.x,s=e.y,o=ur(i-this.long0),u=Math.sin(s),a=Math.cos(s);if(this.es){var f=a*o,l=Math.pow(f,2),c=this.ep2*Math.pow(a,2),h=Math.pow(c,2),p=Math.abs(a)>Pn?Math.tan(s):0,d=Math.pow(p,2),v=Math.pow(d,2);t=1-this.es*Math.pow(u,2),f/=Math.sqrt(t);var m=Jr(s,u,a,this.en);n=this.a*this.k0*f*(1+l/6*(1-d+c+l/20*(5-18*d+v+14*c-58*d*c+l/42*(61+179*v-v*d-479*d))))+this.x0,r=this.a*this.k0*(m-this.ml0+u*o*f/2*(1+l/12*(5-d+9*c+4*h+l/30*(61+v-58*d+270*c-330*d*c+l/56*(1385+543*v-v*d-3111*d)))))+this.y0}else{var g=a*Math.sin(o);if(Math.abs(Math.abs(g)-1)<Pn)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,r=a*Math.cos(o)/Math.sqrt(1-Math.pow(g,2)),g=Math.abs(r),g>=1){if(g-1>Pn)return 93;r=0}else r=Math.acos(r);s<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function nt(e){var t,n,r,i,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=Qr(t,this.es,this.en),Math.abs(n)<On){var u=Math.sin(n),a=Math.cos(n),f=Math.abs(a)>Pn?Math.tan(n):0,l=this.ep2*Math.pow(a,2),c=Math.pow(l,2),h=Math.pow(f,2),p=Math.pow(h,2);t=1-this.es*Math.pow(u,2);var d=s*Math.sqrt(t)/this.k0,v=Math.pow(d,2);t*=f,r=n-t*v/(1-this.es)*.5*(1-v/12*(5+3*h-9*l*h+l-4*c-v/30*(61+90*h-252*l*h+45*p+46*l-v/56*(1385+3633*h+4095*p+1574*p*h)))),i=ur(this.long0+d*(1-v/6*(1+2*h+l-v/20*(5+28*h+24*p+8*l*h+6*l-v/42*(61+662*h+1320*p+720*p*h))))/a)}else r=On*or(o),i=0;else{var m=Math.exp(s/this.k0),g=.5*(m-1/m),y=this.lat0+o/this.k0,b=Math.cos(y);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(g,2))),r=Math.asin(t),o<0&&(r=-r),i=0===g&&0===b?0:ur(Math.atan2(g,b)+this.long0)}return e.x=i,e.y=r,e}function rt(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n*=t,this.cgb[1]=n*(7/3+t*(-1.6+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-2.4+t*(-24832/14175))),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(-0.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-0.6+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*-0.03233083094085698,this.gtu[5]=.6650675310896665*n;var r=ri(this.cbg,this.lat0);this.Zb=-this.Qn*(r+ii(this.gtu,2*r))}function it(e){var t=ur(e.x-this.long0),n=e.y;n=ri(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(s*i,ei(r,i*o)),t=ni(Math.tan(t));var u=oi(this.gtu,2*n,2*t);n+=u[0],t+=u[1];var a,f;return Math.abs(t)<=2.623395162778?(a=this.a*this.Qn*t+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,f=1/0),e.x=a,e.y=f,e}function st(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var s=oi(this.utg,2*n,2*t);n+=s[0],t+=s[1],t=Math.atan(Zr(t));var o=Math.sin(n),u=Math.cos(n),a=Math.sin(t),f=Math.cos(t);n=Math.atan2(o*f,ei(a,f*u)),t=Math.atan2(a,f*u),r=ur(t+this.long0),i=ri(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}function ot(){var e=fi(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Hn,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ai.init.apply(this),this.forward=ai.forward,this.inverse=ai.inverse}function ut(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+jn)/(Math.pow(Math.tan(.5*this.lat0+jn),this.C)*pi(this.e*e,this.ratexp))}function at(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+jn),this.C)*pi(this.e*Math.sin(n),this.ratexp))-On,e.x=this.C*t,e}function ft(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+jn)/this.K,1/this.C),s=di;s>0&&(r=2*Math.atan(i*pi(this.e*Math.sin(e.y),-0.5*this.e))-On,!(Math.abs(r-e.y)<t));--s)e.y=r;return s?(e.x=n,e.y=r,e):null}function lt(){mi.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ct(e){var t,n,r,i;return e.x=ur(e.x-this.long0),mi.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function ht(e){var t,n,r,i,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,mi.inverse.apply(this,[e]),e.x=ur(e.x+this.long0),e}function pt(e,t,n){return t*=n,Math.tan(.5*(On+e))*Math.pow((1-t)/(1+t),.5*n)}function dt(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Pn&&(this.k0=.5*(1+or(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Pn&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Pn&&(this.k0=.5*this.cons*sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ar(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=sr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-On,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vt(e){var t,n,r,i,s,o,u=e.x,a=e.y,f=Math.sin(a),l=Math.cos(a),c=ur(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=Pn&&Math.abs(a+this.lat0)<=Pn?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*f+this.coslat0*l*Math.cos(c)),e.x=this.a*t*l*Math.sin(c)+this.x0,e.y=this.a*t*(this.coslat0*f-this.sinlat0*l*Math.cos(c))+this.y0,e):(n=2*Math.atan(this.ssfn_(a,f,this.e))-On,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=Pn?(s=ar(this.e,a*this.con,this.con*f),o=2*this.a*this.k0*s/this.cons,e.x=this.x0+o*Math.sin(u-this.long0),e.y=this.y0-this.con*o*Math.cos(u-this.long0),e):(Math.abs(this.sinlat0)<Pn?(t=2*this.a*this.k0/(1+i*Math.cos(c)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(c))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(c))+this.y0),e.x=t*i*Math.sin(c)+this.x0,e))}function mt(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var u=2*Math.atan(o/(.5*this.a*this.k0));return t=this.long0,n=this.lat0,o<=Pn?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(u)*this.sinlat0+e.y*Math.sin(u)*this.coslat0/o),t=ur(Math.abs(this.coslat0)<Pn?this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y):this.long0+Math.atan2(e.x*Math.sin(u),o*this.coslat0*Math.cos(u)-e.y*this.sinlat0*Math.sin(u))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=Pn){if(o<=Pn)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*fr(this.e,r),t=this.con*ur(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=Pn?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=ur(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*fr(this.e,Math.tan(.5*(On+s)));return e.x=t,e.y=n,e}function gt(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var u=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),f=Math.log((1+o*t)/(1-o*t));this.K=u-this.alpha*a+this.alpha*o/2*f}function yt(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),u=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(u))/(1-Math.sin(u)))+this.y0,e.x=this.R*o+this.x0,e}function bt(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),u=this.lambda0+o/this.alpha,a=0,f=s,l=-1e3,c=0;Math.abs(f-l)>1e-7;){if(++c>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),l=f,f=2*Math.atan(Math.exp(a))-Math.PI/2}return e.x=u,e.y=f,e}function wt(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=ar(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var s,o;if(isNaN(this.longc)){var u=ar(this.e,this.lat1,Math.sin(this.lat1)),a=ar(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var f=Math.pow(u,this.bl),l=Math.pow(a,this.bl);s=this.el/f,o=.5*(s-1/s);var c=(this.el*this.el-l*f)/(this.el*this.el+l*f),h=(l-f)/(l+f),p=ur(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=ur(this.long0);var d=ur(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/o),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else s=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=s*Math.pow(r,this.bl),o=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function Et(e){var t,n,r,i=e.x,s=e.y,o=ur(i-this.long0);if(Math.abs(Math.abs(s)-On)<=Pn)r=s>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(jn+r*this.gamma0*.5)),t=-1*r*On*this.al/this.bl;else{var u=ar(this.e,s,Math.sin(s)),a=this.el/Math.pow(u,this.bl),f=.5*(a-1/a),l=.5*(a+1/a),c=Math.sin(this.bl*o),h=(f*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/l;n=Math.abs(Math.abs(h)-1)<=Pn?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,t=Math.abs(Math.cos(this.bl*o))<=Pn?this.al*this.bl*o:this.al*Math.atan2(f*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function St(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.bl*t/this.al),u=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/s,a=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<Pn?(e.x=this.long0,e.y=On):Math.abs(u+1)<Pn?(e.x=this.long0,e.y=-1*On):(e.y=fr(this.e,a),e.x=ur(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function xt(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Pn)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=sr(this.e,t,n),i=ar(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),u=sr(this.e,s,o),a=ar(this.e,this.lat2,s),f=ar(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Pn?this.ns=Math.log(r/u)/Math.log(i/a):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Tt(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=Pn&&(n=or(n)*(On-2*Pn));var r,i,s=Math.abs(Math.abs(n)-On);if(s>Pn)r=ar(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if(s=n*this.ns,s<=0)return null;i=0}var o=this.ns*ur(t-this.long0);return e.x=this.k0*i*Math.sin(o)+this.x0,e.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,e}function Nt(e){var t,n,r,i,s,o=(e.x-this.x0)/this.k0,u=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+u*u),n=1):(t=-Math.sqrt(o*o+u*u),n=-1);var a=0;if(0!==t&&(a=Math.atan2(n*o,n*u)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=fr(this.e,r),i===-9999)return null}else i=-On;return s=ur(a/this.ns+this.long0),e.x=s,e.y=i,e}function Ct(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function kt(e){var t,n,r,i,s,o,u,a=e.x,f=e.y,l=ur(a-this.long0);return t=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/t)-this.s45),r=-l*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=u*Math.cos(o)/1,e.x=u*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Lt(e){var t,n,r,i,s,o,u,a,f=e.x;e.x=e.y,e.y=f,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,u=t,a=0;var l=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.e/2))-this.s45),Math.abs(u-e.y)<1e-10&&(a=1),u=e.y,l+=1;while(0===a&&l<15);return l>=15?null:e}function At(){this.sphere||(this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.ml0=this.a*Ai(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Ot(e){var t,n,r=e.x,i=e.y;if(r=ur(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),u=Pi(this.a,this.e,s),a=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),l=f*f,c=this.es*o*o/(1-this.es),h=this.a*Ai(this.e0,this.e1,this.e2,this.e3,i);t=u*f*(1-l*a*(1/6-(8-a+8*c)*l/120)),n=h-this.ml0+u*s/o*l*(.5+(5-a+6*c)*l/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Mt(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var s=i+this.lat0;t=Math.asin(Math.sin(s)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(s))}else{var o=this.ml0/this.a+i,u=Bi(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-On)<=Pn)return e.x=this.long0,e.y=On,i<0&&(e.y*=-1),e;var a=Pi(this.a,this.e,Math.sin(u)),f=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(u),2),c=r*this.a/a,h=c*c;t=u-a*Math.tan(u)/f*c*c*(.5-(1+3*l)*c*c/24),n=c*(1-h*(l/3+(1+3*l)*l*h/15))/Math.cos(u)}return e.x=ur(n+this.long0),e.y=Hi(t),e}function _t(){var e=Math.abs(this.lat0);if(Math.abs(e-On)<Pn?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Pn?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Ii(this.e,1),this.mmf=.5/(1-this.es),this.apa=Ht(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ii(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Dt(e){var t,n,r,i,s,o,u,a,f,l,c=e.x,h=e.y;if(c=ur(c-this.long0),this.sphere){if(s=Math.sin(h),l=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+l*r:1+this.sinph0*s+this.cosph0*l*r,n<=Pn)return null;n=Math.sqrt(2/n),t=n*l*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*l*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.phi0)<Pn)return null;n=jn-.5*h,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(c),n*=r}}else{switch(u=0,a=0,f=0,r=Math.cos(c),i=Math.sin(c),s=Math.sin(h),o=Ii(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(u=o/this.qp,a=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:f=1+this.sinb1*u+this.cosb1*a*r;break;case this.EQUIT:f=1+a*r;break;case this.N_POLE:f=On+h,o=this.qp-o;break;case this.S_POLE:f=h-On,o=this.qp+o}if(Math.abs(f)<Pn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),n=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*u-this.sinb1*a*r):(f=Math.sqrt(2/(1+a*r)))*u*this.ymf,t=this.xmf*f*a*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(f=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?f:-f)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Pt(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o,u,a=e.x/this.a,f=e.y/this.a;if(this.sphere){var l,c=0,h=0;if(l=Math.sqrt(a*a+f*f),n=.5*l,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),c=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(l)<=Pn?0:Math.asin(f*h/l),a*=h,f=c*l;break;case this.OBLIQ:n=Math.abs(l)<=Pn?this.phi0:Math.asin(c*this.sinph0+f*h*this.cosph0/l),a*=h*this.cosph0,f=(c-Math.sin(n)*this.sinph0)*l;break;case this.N_POLE:f=-f,n=On-n;break;case this.S_POLE:n-=On}t=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(a,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a/=this.dd,f*=this.dd,o=Math.sqrt(a*a+f*f),o<Pn)return e.x=0,e.y=this.phi0,e;i=2*Math.asin(.5*o/this.rq),r=Math.cos(i),a*=i=Math.sin(i),this.mode===this.OBLIQ?(u=r*this.sinb1+f*i*this.cosb1/o,s=this.qp*u,f=o*this.cosb1*r-f*this.sinb1*i):(u=f*i/o,s=this.qp*u,f=o*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),s=a*a+f*f,!s)return e.x=0,e.y=this.phi0,e;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}t=Math.atan2(a,f),n=Bt(Math.asin(u),this.apa)}return e.x=ur(this.long0+t),e.y=n,e}function Ht(e){var t,n=[];return n[0]=e*Wi,t=e*e,n[0]+=t*Xi,n[1]=t*$i,t*=e,n[0]+=t*Vi,n[1]+=t*Ji,n[2]=t*Ki,n}function Bt(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function jt(){Math.abs(this.lat1+this.lat2)<Pn||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=sr(this.e3,this.sin_po,this.cos_po),this.qs1=Ii(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=sr(this.e3,this.sin_po,this.cos_po),this.qs2=Ii(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ii(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Pn?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ft(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ii(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ur(t-this.long0),o=i*Math.sin(s)+this.x0,u=this.rh-i*Math.cos(s)+this.y0;return e.x=o,e.y=u,e}function It(e){var t,n,r,i,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=ur(i/this.ns0+this.long0),e.x=s,e.y=o,e}function qt(e,t){var n,r,i,s,o,u=Yi(.5*t);if(e<Pn)return u;for(var a=e*e,f=1;f<=25;f++)if(n=Math.sin(u),r=Math.cos(u),i=e*n,s=1-i*i,o=.5*s*s/r*(t/(1-a)-n/s+.5/e*Math.log((1-i)/(1+i))),u+=o,Math.abs(o)<=1e-7)return u;return null}function Rt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ut(e){var t,n,r,i,s,o,u,a,f=e.x,l=e.y;return r=ur(f-this.long0),t=Math.sin(l),n=Math.cos(l),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=Pn?(u=this.x0+this.a*s*n*Math.sin(r)/o,a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)/o):(u=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=u,e.y=a,e}function zt(e){var t,n,r,i,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=Yi(r*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),s=ur(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}function Wt(){this.sphere||(this.k0=sr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Xt(e){var t,n,r=e.x,i=e.y,s=ur(r-this.long0);if(this.sphere)t=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=Ii(this.e,Math.sin(i));t=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return e.x=t,e.y=n,e}function Vt(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=ur(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=rs(this.e,2*e.y*this.k0/this.a),t=ur(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function $t(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Jt(e){var t=e.x,n=e.y,r=ur(t-this.long0),i=Hi(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function Kt(e){var t=e.x,n=e.y;return e.x=ur(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Hi(this.lat0+(n-this.y0)/this.a),e}function Qt(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.ml0=this.a*Ai(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Gt(e){var t,n,r,i=e.x,s=e.y,o=ur(i-this.long0);if(r=o*Math.sin(s),this.sphere)Math.abs(s)<=Pn?(t=this.a*o,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(s),n=this.a*(Hi(s-this.lat0)+(1-Math.cos(r))/Math.tan(s)));else if(Math.abs(s)<=Pn)t=this.a*o,n=-1*this.ml0;else{var u=Pi(this.a,this.e,Math.sin(s))/Math.tan(s);t=u*Math.sin(r),n=this.a*Ai(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+u*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function Yt(e){var t,n,r,i,s,o,u,a,f;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Pn)t=ur(r/this.a+this.long0),n=0;else{o=this.lat0+i/this.a,u=r*r/this.a/this.a+o*o,a=o;var l;for(s=as;s;--s)if(l=Math.tan(a),f=-1*(o*(a*l+1)-a-.5*(a*a+u)*l)/((a-o)/l-1),a+=f,Math.abs(f)<=Pn){n=a;break}t=ur(this.long0+Math.asin(r*Math.tan(a)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Pn)n=0,t=ur(this.long0+r/this.a);else{o=(this.ml0+i)/this.a,u=r*r/this.a/this.a+o*o,a=o;var c,h,p,d,v;for(s=as;s;--s)if(v=this.e*Math.sin(a),c=Math.sqrt(1-v*v)*Math.tan(a),h=this.a*Ai(this.e0,this.e1,this.e2,this.e3,a),p=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),d=h/this.a,f=(o*(c*d+1)-d-.5*c*(d*d+u))/(this.es*Math.sin(2*a)*(d*d+u-2*o*d)/(4*c)+(o-d)*(c*p-2/Math.sin(2*a))-p),a-=f,Math.abs(f)<=Pn){n=a;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=ur(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function Zt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-0.1358797613,this.A[3]=.063294409,this.A[4]=-0.02526853,this.A[5]=.0117879,this.A[6]=-0.0055161,this.A[7]=.0026906,this.A[8]=-0.001333,this.A[9]=67e-5,this.A[10]=-0.00034,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-0.001541739,this.B_im[3]=.04105856,this.B_re[4]=-0.10162907,this.B_im[4]=.01727609,this.B_re[5]=-0.26623489,this.B_im[5]=-0.36249218,this.B_re[6]=-0.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-0.577245789,this.C_im[2]=-0.007809598,this.C_re[3]=.508307513,this.C_im[3]=-0.112208952,this.C_re[4]=-0.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-0.03333098,this.D[4]=-0.1052906,this.D[5]=-0.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-0.0013}function en(e){var t,n=e.x,r=e.y,i=r-this.lat0,s=n-this.long0,o=i/An*1e-5,u=s,a=1,f=0;for(t=1;t<=10;t++)a*=o,f+=this.A[t]*a;var l,c,h=f,p=u,d=1,v=0,m=0,g=0;for(t=1;t<=6;t++)l=d*h-v*p,c=v*h+d*p,d=l,v=c,m=m+this.B_re[t]*d-this.B_im[t]*v,g=g+this.B_im[t]*d+this.B_re[t]*v;return e.x=g*this.a+this.x0,e.y=m*this.a+this.y0,e}function tn(e){var t,n,r,i=e.x,s=e.y,o=i-this.x0,u=s-this.y0,a=u/this.a,f=o/this.a,l=1,c=0,h=0,p=0;for(t=1;t<=6;t++)n=l*a-c*f,r=c*a+l*f,l=n,c=r,h=h+this.C_re[t]*l-this.C_im[t]*c,p=p+this.C_im[t]*l+this.C_re[t]*c;for(var d=0;d<this.iterations;d++){var v,m,g=h,y=p,b=a,w=f;for(t=2;t<=6;t++)v=g*h-y*p,m=y*h+g*p,g=v,y=m,b+=(t-1)*(this.B_re[t]*g-this.B_im[t]*y),w+=(t-1)*(this.B_im[t]*g+this.B_re[t]*y);g=1,y=0;var E=this.B_re[1],S=this.B_im[1];for(t=2;t<=6;t++)v=g*h-y*p,m=y*h+g*p,g=v,y=m,E+=t*(this.B_re[t]*g-this.B_im[t]*y),S+=t*(this.B_im[t]*g+this.B_re[t]*y);var x=E*E+S*S;h=(b*E+w*S)/x,p=(w*E-b*S)/x}var T=h,N=p,C=1,k=0;for(t=1;t<=9;t++)C*=T,k+=this.D[t]*C;var L=this.lat0+k*An*1e5,A=this.long0+N;return e.x=A,e.y=L,e}function nn(){}function rn(e){var t=e.x,n=e.y,r=ur(t-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=s,e}function sn(e){e.x-=this.x0,e.y-=this.y0;var t=ur(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function on(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=$r(this.es)}function un(e){var t,n,r=e.x,i=e.y;if(r=ur(r-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(i),o=vs;o;--o){var u=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=u,Math.abs(u)<Pn)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var a=Math.sin(i),f=Math.cos(i);n=this.a*Jr(i,a,f,this.en),t=this.a*r*f/Math.sqrt(1-this.es*a*a)}return e.x=t,e.y=n,e}function an(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=Yi((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Yi(Math.sin(t)/this.n)),r=ur(r+this.long0),t=Hi(t)):(t=Qr(e.y/this.a,this.es,this.en),i=Math.abs(t),i<On?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=ur(n)):i-Pn<On&&(r=this.long0)),e.x=r,e.y=t,e}function fn(){}function ln(e){for(var t=e.x,n=e.y,r=ur(t-this.long0),i=n,s=Math.PI*Math.sin(n),o=0;!0;o++){var u=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=u,Math.abs(u)<Pn)break}i/=2,Math.PI/2-Math.abs(n)<Pn&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,f=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=f,e}function cn(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=ur(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}function hn(){Math.abs(this.lat1+this.lat2)<Pn||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oi(this.es),this.e1=Mi(this.es),this.e2=_i(this.es),this.e3=Di(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=sr(this.e,this.sinphi,this.cosphi),this.ml1=Ai(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Pn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=sr(this.e,this.sinphi,this.cosphi),this.ml2=Ai(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ai(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function pn(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=Ai(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var s=this.ns*ur(n-this.long0),o=this.x0+t*Math.sin(s),u=this.y0+this.rh-t*Math.cos(s);return e.x=o,e.y=u,e}function dn(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(0!==n&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=ur(this.long0+s/this.ns),r=Hi(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=Bi(o,this.e0,this.e1,this.e2,this.e3),i=ur(this.long0+s/this.ns),e.x=i,e.y=r,e}function vn(){this.R=this.a}function mn(e){var t,n,r=e.x,i=e.y,s=ur(r-this.long0);Math.abs(i)<=Pn&&(t=this.x0+this.R*s,n=this.y0);var o=Yi(2*Math.abs(i/Math.PI));(Math.abs(s)<=Pn||Math.abs(Math.abs(i)-On)<=Pn)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var u=.5*Math.abs(Math.PI/s-s/Math.PI),a=u*u,f=Math.sin(o),l=Math.cos(o),c=l/(f+l-1),h=c*c,p=c*(2/f-1),d=p*p,v=Math.PI*this.R*(u*(c-d)+Math.sqrt(a*(c-d)*(c-d)-(d+a)*(h-d)))/(d+a);s<0&&(v=-v),t=this.x0+v;var m=a+c;return v=Math.PI*this.R*(p*m-u*Math.sqrt((d+a)*(a+1)-m*m))/(d+a),n=i>=0?this.y0+v:this.y0-v,e.x=t,e.y=n,e}function gn(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;return e.x-=this.x0,e.y-=this.y0,c=Math.PI*this.R,r=e.x/c,i=e.y/c,s=r*r+i*i,o=-Math.abs(i)*(1+s),u=o-2*i*i+r*r,a=-2*o+1+2*i*i+s*s,p=i*i/a+(2*u*u*u/a/a/a-9*o*u/a/a)/27,f=(o-u*u/3/a)/a,l=2*Math.sqrt(-f/3),c=3*p/f/l,Math.abs(c)>1&&(c=c>=0?1:-1),h=Math.acos(c)/3,n=e.y>=0?(-l*Math.cos(h+Math.PI/3)-u/3/a)*Math.PI:-(-l*Math.cos(h+Math.PI/3)-u/3/a)*Math.PI,t=Math.abs(r)<Pn?this.long0:ur(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),e.x=t,e.y=n,e}function yn(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function bn(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=e.x,N=e.y,C=Math.sin(e.y),k=Math.cos(e.y),L=ur(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Pn?(e.x=this.x0+this.a*(On-N)*Math.sin(L),e.y=this.y0-this.a*(On-N)*Math.cos(L),e):Math.abs(this.sin_p12+1)<=Pn?(e.x=this.x0+this.a*(On+N)*Math.sin(L),e.y=this.y0+this.a*(On+N)*Math.cos(L),e):(y=this.sin_p12*C+this.cos_p12*k*Math.cos(L),m=Math.acos(y),g=m/Math.sin(m),e.x=this.x0+this.a*g*k*Math.sin(L),e.y=this.y0+this.a*g*(this.cos_p12*C-this.sin_p12*k*Math.cos(L)),e):(t=Oi(this.es),n=Mi(this.es),r=_i(this.es),i=Di(this.es),Math.abs(this.sin_p12-1)<=Pn?(s=this.a*Ai(t,n,r,i,On),o=this.a*Ai(t,n,r,i,N),e.x=this.x0+(s-o)*Math.sin(L),e.y=this.y0-(s-o)*Math.cos(L),e):Math.abs(this.sin_p12+1)<=Pn?(s=this.a*Ai(t,n,r,i,On),o=this.a*Ai(t,n,r,i,N),e.x=this.x0+(s+o)*Math.sin(L),e.y=this.y0+(s+o)*Math.cos(L),e):(u=C/k,a=Pi(this.a,this.e,this.sin_p12),f=Pi(this.a,this.e,C),l=Math.atan((1-this.es)*u+this.es*a*this.sin_p12/(f*k)),c=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(L)),b=0===c?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(c)-Math.PI)<=Pn?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(L)*Math.cos(l)/Math.sin(c)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),d=h*p,v=p*p,w=b*b,E=w*b,S=E*b,x=S*b,m=a*b*(1-w*v*(1-v)/6+E/8*d*(1-2*v)+S/120*(v*(4-7*v)-3*h*h*(1-7*v))-x/48*d),e.x=this.x0+m*Math.sin(c),e.y=this.y0+m*Math.cos(c),e))}function wn(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;if(this.sphere){if(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*On*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=Pn?o=this.lat0:(o=Yi(i*this.sin_p12+e.y*r*this.cos_p12/t),u=Math.abs(this.lat0)-On,s=ur(Math.abs(u)<=Pn?this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y):this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=s,e.y=o,e}return a=Oi(this.es),f=Mi(this.es),l=_i(this.es),c=Di(this.es),Math.abs(this.sin_p12-1)<=Pn?(h=this.a*Ai(a,f,l,c,On),t=Math.sqrt(e.x*e.x+e.y*e.y),p=h-t,o=Bi(p/this.a,a,f,l,c),s=ur(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=Pn?(h=this.a*Ai(a,f,l,c,On),t=Math.sqrt(e.x*e.x+e.y*e.y),p=t-h,o=Bi(p/this.a,a,f,l,c),s=ur(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),d=Pi(this.a,this.e,this.sin_p12),g=Math.cos(m),y=this.e*this.cos_p12*g,b=-y*y/(1-this.es),w=3*this.es*(1-b)*this.sin_p12*this.cos_p12*g/(1-this.es),E=t/d,S=E-b*(1+b)*Math.pow(E,3)/6-w*(1+3*b)*Math.pow(E,4)/24,x=1-b*S*S/2-E*S*S*S/6,v=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*g),s=ur(this.long0+Math.asin(Math.sin(m)*Math.sin(S)/Math.cos(v))),o=Math.atan((1-this.es*x*this.sin_p12/Math.sin(v))*Math.tan(v)/(1-this.es)),e.x=s,e.y=o,e)}function En(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Sn(e){var t,n,r,i,s,o,u,a,f=e.x,l=e.y;return r=ur(f-this.long0),t=Math.sin(l),n=Math.cos(l),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,(o>0||Math.abs(o)<=Pn)&&(u=this.a*s*n*Math.sin(r),a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)),e.x=u,e.y=a,e}function xn(e){var t,n,r,i,s,o,u;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Yi(t/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=Pn?(u=this.lat0,e.x=o,e.y=u,e):(u=Yi(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-On,Math.abs(s)<=Pn?(o=ur(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=u,e):(o=ur(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=o,e.y=u,e))}var Tn=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]},Nn=1,Cn=2,kn=4,Ln=5,An=484813681109536e-20,On=Math.PI/2,Mn=.16666666666666666,_n=.04722222222222222,Dn=.022156084656084655,Pn="undefined"==typeof Number.EPSILON?1e-10:Number.EPSILON,Hn=.017453292519943295,Bn=57.29577951308232,jn=Math.PI/4,Fn=2*Math.PI,In=3.14159265359,qn={};qn.greenwich=0,qn.lisbon=-9.131906111111,qn.paris=2.337229166667,qn.bogota=-74.080916666667,qn.madrid=-3.687938888889,qn.rome=12.452333333333,qn.bern=7.439583333333,qn.jakarta=106.807719444444,qn.ferro=-17.666666666667,qn.brussels=4.367975,qn.stockholm=18.058277777778,qn.athens=23.7163375,qn.oslo=10.722916666667;var Rn={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Un=/[\s_\-\/\(\)]/g,zn=function(t){var n,r,i,s={},o=t.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),u={proj:"projName",datum:"datumCode",rf:function(e){s.rf=parseFloat(e)},lat_0:function(e){s.lat0=e*Hn},lat_1:function(e){s.lat1=e*Hn},lat_2:function(e){s.lat2=e*Hn},lat_ts:function(e){s.lat_ts=e*Hn},lon_0:function(e){s.long0=e*Hn},lon_1:function(e){s.long1=e*Hn},lon_2:function(e){s.long2=e*Hn},alpha:function(e){s.alpha=parseFloat(e)*Hn},lonc:function(e){s.longc=e*Hn},x_0:function(e){s.x0=parseFloat(e)},y_0:function(e){s.y0=parseFloat(e)},k_0:function(e){s.k0=parseFloat(e)},k:function(e){s.k0=parseFloat(e)},a:function(e){s.a=parseFloat(e)},b:function(e){s.b=parseFloat(e)},r_a:function(){s.R_A=!0},zone:function(e){s.zone=parseInt(e,10)},south:function(){s.utmSouth=!0},towgs84:function(e){s.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){s.to_meter=parseFloat(e)},units:function(t){s.units=t;var n=e(Rn,t);n&&(s.to_meter=n.to_meter)},from_greenwich:function(e){s.from_greenwich=e*Hn},pm:function(t){var n=e(qn,t);s.from_greenwich=(n?n:parseFloat(t))*Hn},nadgrids:function(e){"@null"===e?s.datumCode="none":s.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&t.indexOf(e.substr(0,1))!==-1&&t.indexOf(e.substr(1,1))!==-1&&t.indexOf(e.substr(2,1))!==-1&&(s.axis=e)}};for(n in o)r=o[n],n in u?(i=u[n],"function"==typeof i?i(r):s[i]=r):s[n]=r;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s},Wn=1,Xn=2,Vn=3,$n=4,Jn=5,Kn=-1,Qn=/\s/,Gn=/[A-Za-z]/,Yn=/[A-Za-z84]/,Zn=/[,\]]/,er=/[\d\.E\-\+]/;t.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==$n)for(;Qn.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Wn:return this.neutral(e);case Xn:return this.keyword(e);case $n:return this.quoted(e);case Jn:return this.afterquote(e);case Vn:return this.number(e);case Kn:return}},t.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void (this.state=$n);if(Zn.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},t.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void (this.state=Wn)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Wn,this.currentObject=this.stack.pop(),void (this.currentObject||(this.state=Kn))):void 0},t.prototype.number=function(e){if(er.test(e))return void (this.word+=e);if(Zn.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},t.prototype.quoted=function(e){return'"'===e?void (this.state=Jn):void (this.word+=e)},t.prototype.keyword=function(e){if(Yn.test(e))return void (this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void (this.state=Wn)}if(Zn.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},t.prototype.neutral=function(e){if(Gn.test(e))return this.word=e,void (this.state=Xn);if('"'===e)return this.word="",void (this.state=$n);if(er.test(e))return this.word=e,void (this.state=Vn);if(Zn.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},t.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Kn)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var tr=.017453292519943295,nr=function(e){var t=n(e),r=t.shift(),s=t.shift();t.unshift(["name",s]),t.unshift(["type",r]);var o={};return i(t,o),u(o),o};Tn(a);var rr=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ir=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],void 0!==n&&(e[r]=n);return e},sr=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},or=function(e){return e<0?-1:1},ur=function(e){return Math.abs(e)<=In?e:e-or(e)*Fn},ar=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(On-t))/r},fr=function(e,t){for(var n,r,i=.5*e,s=On-2*Math.atan(t),o=0;o<=15;o++)if(n=e*Math.sin(s),r=On-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999},lr=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],cr={init:d,forward:v,inverse:m,names:lr},hr=["longlat","identity"],pr={init:g,forward:y,inverse:y,names:hr},dr=[cr,pr],vr={},mr=[],gr={start:E,add:b,get:w},yr={};yr.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},yr.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},yr.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},yr.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},yr.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},yr.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},yr.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},yr.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},yr.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},yr.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},yr.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},yr.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},yr.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},yr.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},yr.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},yr.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},yr.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},yr.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},yr.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},yr.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},yr.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},yr.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},yr.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},yr.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},yr.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},yr.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},yr.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},yr.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},yr.hough={a:6378270,rf:297,ellipseName:"Hough"},yr.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},yr.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},yr.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},yr.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},yr.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},yr.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},yr.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},yr.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},yr.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},yr.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},yr.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},yr.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var br=yr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};yr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var wr={};wr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},wr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},wr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},wr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},wr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},wr.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},wr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},wr.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},wr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},wr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},wr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},wr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},wr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},wr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},wr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},wr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},N.projections=gr,N.projections.start();var Er=function(e,t,n){return C(e,t)?n:e.datum_type===Ln||t.datum_type===Ln?n:e.es!==t.es||e.a!==t.a||M(e.datum_type)||M(t.datum_type)?(n=k(n,e.es,e.a),M(e.datum_type)&&(n=A(n,e.datum_type,e.datum_params)),M(t.datum_type)&&(n=O(n,t.datum_type,t.datum_params)),L(n,t.es,t.a,t.b)):n},Sr=function(e,t,n){var r,i,s,o=n.x,u=n.y,a=n.z||0,f={};for(s=0;s<3;s++)if(!t||2!==s||void 0!==n.z)switch(0===s?(r=o,i="x"):1===s?(r=u,i="y"):(r=a,i="z"),e.axis[s]){case"e":f[i]=r;break;case"w":f[i]=-r;break;case"n":f[i]=r;break;case"s":f[i]=-r;break;case"u":void 0!==n[i]&&(f.z=r);break;case"d":void 0!==n[i]&&(f.z=-r);break;default:return null}return f},xr=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},Tr=N("WGS84"),Nr=6,Cr="AJSAJS",kr="AFAFAF",Lr=65,Ar=73,Or=79,Mr=86,_r=90,Dr={forward:j,inverse:F,toPoint:I};Z.fromMGRS=function(e){return new Z(I(e))},Z.prototype.toMGRS=function(e){return j([this.x,this.y],e)};var Pr="2.4.3",Hr=1,Br=.25,jr=.046875,Fr=.01953125,Ir=.01068115234375,qr=.75,Rr=.46875,Ur=.013020833333333334,zr=.007120768229166667,Wr=.3645833333333333,Xr=.005696614583333333,Vr=.3076171875,$r=function(e){var t=[];t[0]=Hr-e*(Br+e*(jr+e*(Fr+e*Ir))),t[1]=e*(qr-e*(jr+e*(Fr+e*Ir)));var n=e*e;return t[2]=n*(Rr-e*(Ur+e*zr)),n*=e,t[3]=n*(Wr-e*Xr),t[4]=n*e*Vr,t},Jr=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},Kr=20,Qr=function(e,t,n){for(var r=1/(1-t),i=e,s=Kr;s;--s){var o=Math.sin(i),u=1-t*o*o;if(u=(Jr(i,o,Math.cos(i),n)-e)*u*Math.sqrt(u)*r,i-=u,Math.abs(u)<Pn)return i}return i},Gr=["Transverse_Mercator","Transverse Mercator","tmerc"],Yr={init:et,forward:tt,inverse:nt,names:Gr},Zr=function(e){var t=Math.exp(e);return t=(t-1/t)/2},ei=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n?n:1);return n*Math.sqrt(1+Math.pow(r,2))},ti=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n},ni=function(e){var t=Math.abs(e);return t=ti(t*(1+t/(ei(1,t)+1))),e<0?-t:t},ri=function(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,s=e[i],o=0;--i>=0;)n=-o+r*s+e[i],o=s,s=n;return t+n*Math.sin(2*t)},ii=function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,s=e[i],o=0;--i>=0;)n=-o+r*s+e[i],o=s,s=n;return Math.sin(t)*n},si=function(e){var t=Math.exp(e);return t=(t+1/t)/2},oi=function(e,t,n){for(var r,i,s=Math.sin(t),o=Math.cos(t),u=Zr(n),a=si(n),f=2*o*a,l=-2*s*u,c=e.length-1,h=e[c],p=0,d=0,v=0;--c>=0;)r=d,i=p,d=h,p=v,h=-r+f*d-l*p+e[c],v=-i+l*d+f*p;return f=s*a,l=o*u,[f*h-l*v,f*v+l*h]},ui=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],ai={init:rt,forward:it,inverse:st,names:ui},fi=function(e,t){if(void 0===e){if(e=Math.floor(30*(ur(t)+Math.PI)/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e},li="etmerc",ci=["Universal Transverse Mercator System","utm"],hi={init:ot,names:ci,dependsOn:li},pi=function(e,t){return Math.pow((1-e)/(1+e),t)},di=20,vi=["gauss"],mi={init:ut,forward:at,inverse:ft,names:vi},gi=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],yi={init:lt,forward:ct,inverse:ht,names:gi},bi=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],wi={init:dt,forward:vt,inverse:mt,names:bi,ssfn_:pt},Ei=["somerc"],Si={init:gt,forward:yt,inverse:bt,names:Ei},xi=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],Ti={init:wt,forward:Et,inverse:St,names:xi},Ni=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Ci={init:xt,forward:Tt,inverse:Nt,names:Ni},ki=["Krovak","krovak"],Li={init:Ct,forward:kt,inverse:Lt,names:ki},Ai=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Oi=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},Mi=function(e){return.375*e*(1+.25*e*(1+.46875*e))},_i=function(e){return.05859375*e*e*(1+.75*e)},Di=function(e){return e*e*e*(35/3072)},Pi=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},Hi=function(e){return Math.abs(e)<On?e:e-or(e)*Math.PI},Bi=function(e,t,n,r,i){var s,o;s=e/t;for(var u=0;u<15;u++)if(o=(e-(t*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN},ji=["Cassini","Cassini_Soldner","cass"],Fi={init:At,forward:Ot,inverse:Mt,names:ji},Ii=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},qi=1,Ri=2,Ui=3,zi=4,Wi=.3333333333333333,Xi=.17222222222222222,Vi=.10257936507936508,$i=.06388888888888888,Ji=.0664021164021164,Ki=.016415012942191543,Qi=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Gi={init:_t,forward:Dt,inverse:Pt,names:Qi,S_POLE:qi,N_POLE:Ri,EQUIT:Ui,OBLIQ:zi},Yi=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},Zi=["Albers_Conic_Equal_Area","Albers","aea"],es={init:jt,forward:Ft,inverse:It,names:Zi,phi1z:qt},ts=["gnom"],ns={init:Rt,forward:Ut,inverse:zt,names:ts},rs=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*On:On;for(var r,i,s,o,u=Math.asin(.5*t),a=0;a<30;a++)if(i=Math.sin(u),s=Math.cos(u),o=e*i,r=Math.pow(1-o*o,2)/(2*s)*(t/(1-e*e)-i/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),u+=r,Math.abs(r)<=1e-10)return u;return NaN},is=["cea"],ss={init:Wt,forward:Xt,inverse:Vt,names:is},os=["Equirectangular","Equidistant_Cylindrical","eqc"],us={init:$t,forward:Jt,inverse:Kt,names:os},as=20,fs=["Polyconic","poly"],ls={init:Qt,forward:Gt,inverse:Yt,names:fs},cs=["New_Zealand_Map_Grid","nzmg"],hs={init:Zt,forward:en,inverse:tn,names:cs},ps=["Miller_Cylindrical","mill"],ds={init:nn,forward:rn,inverse:sn,names:ps},vs=20,ms=["Sinusoidal","sinu"],gs={init:on,forward:un,inverse:an,names:ms},ys=["Mollweide","moll"],bs={init:fn,forward:ln,inverse:cn,names:ys},ws=["Equidistant_Conic","eqdc"],Es={init:hn,forward:pn,inverse:dn,names:ws},Ss=["Van_der_Grinten_I","VanDerGrinten","vandg"],xs={init:vn,forward:mn,inverse:gn,names:Ss},Ts=["Azimuthal_Equidistant","aeqd"],Ns={init:yn,forward:bn,inverse:wn,names:Ts},Cs=["ortho"],ks={init:En,forward:Sn,inverse:xn,names:Cs},Ls=function(e){e.Proj.projections.add(Yr),e.Proj.projections.add(ai),e.Proj.projections.add(hi),e.Proj.projections.add(yi),e.Proj.projections.add(wi),e.Proj.projections.add(Si),e.Proj.projections.add(Ti),e.Proj.projections.add(Ci),e.Proj.projections.add(Li),e.Proj.projections.add(Fi),e.Proj.projections.add(Gi),e.Proj.projections.add(es),e.Proj.projections.add(ns),e.Proj.projections.add(ss),e.Proj.projections.add(us),e.Proj.projections.add(ls),e.Proj.projections.add(hs),e.Proj.projections.add(ds),e.Proj.projections.add(gs),e.Proj.projections.add(bs),e.Proj.projections.add(Es),e.Proj.projections.add(xs),e.Proj.projections.add(Ns),e.Proj.projections.add(ks)};return B.defaultDatum="WGS84",B.Proj=N,B.WGS84=new B.Proj("WGS84"),B.Point=Z,B.toPoint=xr,B.defs=a,B.transform=D,B.mgrs=Dr,B.version=Pr,Ls(B),B});