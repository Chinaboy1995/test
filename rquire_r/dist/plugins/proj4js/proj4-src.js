(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.proj4=t()})(this,function(){function b(e,t){if(e[t])return e[t];var n=Object.keys(e),r=t.toLowerCase().replace(y,""),i=-1,s,o;while(++i<n.length){s=n[i],o=s.toLowerCase().replace(y,"");if(o===r)return e[s]}}function _(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=E}function D(e){var t=new _(e);return t.output()}function P(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(e,t){return H(t,e),e},r);t&&(e[t]=i)}function H(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();n==="PARAMETER"&&(n=e.shift());if(e.length===1){if(Array.isArray(e[0])){t[n]={},H(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&H(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&H(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],P(t,n,e);return;default:r=-1;while(++r<e.length)if(!Array.isArray(e[r]))return H(e,t[n]);return P(t,n,e)}}function j(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],t.length===3&&(e[n]=t[2](e[n])))}function F(e){return e*B}function I(e){function n(t){var n=e.to_meter||1;return t*n}e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):(e.to_meter=e.UNIT.convert,10)));var t=e.GEOGCS;e.type==="GEOGCS"&&(t=e);if(t){t.DATUM?e.datumCode=t.DATUM.name.toLowerCase():e.datumCode=t.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2));if(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")e.datumCode="nzgd49";e.datumCode==="wgs_1984"&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),t.DATUM&&t.DATUM.SPHEROID&&(e.ellps=t.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=t.DATUM.SPHEROID.a,e.rf=parseFloat(t.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36")}e.b&&!isFinite(e.b)&&(e.b=e.a);var r=function(t){return j(e,t)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",F],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",F],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",F],["lat0","latitude_of_origin",F],["lat0","standard_parallel_1",F],["lat1","standard_parallel_1",F],["lat2","standard_parallel_2",F],["alpha","azimuth",F],["srsCode","name"]];i.forEach(r),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")&&(e.lat0=F(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function R(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?R[e]=w(arguments[1]):R[e]=q(arguments[1]):R[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?R.apply(t,e):R(e)});if(typeof e=="string"){if(e in R)return R[e]}else"EPSG"in e?R["EPSG:"+e.EPSG]=e:"ESRI"in e?R["ESRI:"+e.ESRI]=e:"IAU2000"in e?R["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function U(e){return typeof e=="string"}function z(e){return e in R}function X(e){return W.some(function(t){return e.indexOf(t)>-1})}function V(e){return e[0]==="+"}function $(e){if(!U(e))return e;if(z(e))return R[e];if(X(e))return q(e);if(V(e))return w(e)}function et(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function tt(e){var t=e.x,n=e.y;if(n*h>90&&n*h<-90&&t*h>180&&t*h<-180)return null;var r,i;if(Math.abs(Math.abs(n)-o)<=l)return null;if(this.sphere)r=this.x0+this.a*this.k0*G(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(p+.5*n));else{var s=Math.sin(n),u=Y(this.e,n,s);r=this.x0+this.a*this.k0*G(t-this.long0),i=this.y0-this.a*this.k0*Math.log(u)}return e.x=r,e.y=i,e}function nt(e){var t=e.x-this.x0,n=e.y-this.y0,r,i;if(this.sphere)i=o-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));i=Z(this.e,s);if(i===-9999)return null}return r=G(this.long0+t/(this.a*this.k0)),e.x=r,e.y=i,e}function st(){}function ot(e){return e}function ht(e,t){var n=ct.length;return e.names?(ct[n]=e,e.names.forEach(function(e){lt[e.toLowerCase()]=n}),this):(console.log(t),!0)}function pt(e){if(!e)return!1;var t=e.toLowerCase();if(typeof lt[t]!="undefined"&&ct[lt[t]])return ct[lt[t]]}function dt(){ft.forEach(ht)}function yt(e,t,n,r){var i=e*e,s=t*t,o=(i-s)/i,l=0;r?(e*=1-o*(u+o*(a+o*f)),i=e*e,o=0):l=Math.sqrt(o);var c=(i-s)/s;return{es:o,e:l,ep2:c}}function bt(e,t,n,r,i){if(!e){var s=b(mt,r);s||(s=gt),e=s.a,t=s.b,n=s.rf}n&&!t&&(t=(1-1/n)*e);if(n===0||Math.abs(e-t)<l)i=!0,t=e;return{a:e,b:t,rf:n,sphere:i}}function Et(e,o,u,a,f,l){var c={};e===undefined||e==="none"?c.datum_type=i:c.datum_type=r;if(o){c.datum_params=o.map(parseFloat);if(c.datum_params[0]!==0||c.datum_params[1]!==0||c.datum_params[2]!==0)c.datum_type=t;c.datum_params.length>3&&(c.datum_params[3]!==0||c.datum_params[4]!==0||c.datum_params[5]!==0||c.datum_params[6]!==0)&&(c.datum_type=n,c.datum_params[3]*=s,c.datum_params[4]*=s,c.datum_params[5]*=s,c.datum_params[6]=c.datum_params[6]/1e6+1)}return c.a=u,c.b=a,c.es=f,c.ep2=l,c}function St(e,t){if(!(this instanceof St))return new St(e);t=t||function(e){if(e)throw e};var n=$(e);if(typeof n!="object"){t(e);return}var r=St.projections.get(n.projName);if(!r){t(e);return}if(n.datumCode&&n.datumCode!=="none"){var i=b(wt,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var s=bt(n.a,n.b,n.rf,n.ellps,n.sphere),o=yt(s.a,s.b,s.rf,n.R_A),u=n.datum||Et(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2);J(this,n),J(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=u,this.init(),t(null,this)}function xt(e,r){return e.datum_type!==r.datum_type?!1:e.a!==r.a||Math.abs(e.es-r.es)>5e-11?!1:e.datum_type===t?e.datum_params[0]===r.datum_params[0]&&e.datum_params[1]===r.datum_params[1]&&e.datum_params[2]===r.datum_params[2]:e.datum_type===n?e.datum_params[0]===r.datum_params[0]&&e.datum_params[1]===r.datum_params[1]&&e.datum_params[2]===r.datum_params[2]&&e.datum_params[3]===r.datum_params[3]&&e.datum_params[4]===r.datum_params[4]&&e.datum_params[5]===r.datum_params[5]&&e.datum_params[6]===r.datum_params[6]:!0}function Tt(e,t,n){var r=e.x,i=e.y,s=e.z?e.z:0,u,a,f,l;if(i<-o&&i>-1.001*o)i=-o;else if(i>o&&i<1.001*o)i=o;else if(i<-o||i>o)return null;return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(i),l=Math.cos(i),f=a*a,u=n/Math.sqrt(1-t*f),{x:(u+s)*l*Math.cos(r),y:(u+s)*l*Math.sin(r),z:(u*(1-t)+s)*a}}function Nt(e,t,n,r){var i=1e-12,s=i*i,u=30,a,f,l,c,h,p,d,v,m,g,y,b,w,E=e.x,S=e.y,x=e.z?e.z:0,T,N,C;a=Math.sqrt(E*E+S*S),f=Math.sqrt(E*E+S*S+x*x);if(a/n<i){T=0;if(f/n<i)return N=o,C=-r,{x:e.x,y:e.y,z:e.z}}else T=Math.atan2(S,E);l=x/f,c=a/f,h=1/Math.sqrt(1-t*(2-t)*c*c),v=c*(1-t)*h,m=l*h,w=0;do w++,d=n/Math.sqrt(1-t*m*m),C=a*v+x*m-d*(1-t*m*m),p=t*d/(d+C),h=1/Math.sqrt(1-p*(2-p)*c*c),g=c*(1-p)*h,y=l*h,b=y*v-g*m,v=g,m=y;while(b*b>s&&w<u);return N=Math.atan(y/Math.abs(g)),{x:T,y:N,z:C}}function Ct(e,r,i){if(r===t)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(r===n){var s=i[0],o=i[1],u=i[2],a=i[3],f=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+f*e.z)+s,y:c*(l*e.x+e.y-a*e.z)+o,z:c*(-f*e.x+a*e.y+e.z)+u}}}function kt(e,r,i){if(r===t)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(r===n){var s=i[0],o=i[1],u=i[2],a=i[3],f=i[4],l=i[5],c=i[6],h=(e.x-s)/c,p=(e.y-o)/c,d=(e.z-u)/c;return{x:h+l*p-f*d,y:-l*h+p+a*d,z:f*h-a*p+d}}}function Lt(e){return e===t||e===n}function _t(e,r){return(e.datum.datum_type===t||e.datum.datum_type===n)&&r.datumCode!=="WGS84"||(r.datum.datum_type===t||r.datum.datum_type===n)&&e.datumCode!=="WGS84"}function Dt(e,t,n){var r;return Array.isArray(n)&&(n=Mt(n)),e.datum&&t.datum&&_t(e,t)&&(r=new St("WGS84"),n=Dt(e,r,n),e=r),e.axis!=="enu"&&(n=Ot(e,!1,n)),e.projName==="longlat"?n={x:n.x*c,y:n.y*c}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=At(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),t.projName==="longlat"?n={x:n.x*h,y:n.y*h}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),t.axis!=="enu"?Ot(t,!0,n):n}function Ht(e,t,n){var r;return Array.isArray(n)?(r=Dt(e,t,n),n.length===3?[r.x,r.y,r.z]:[r.x,r.y]):Dt(e,t,n)}function Bt(e){return e instanceof St?e:e.oProj?e.oProj:St(e)}function jt(e,t,n){e=Bt(e);var r=!1,i;if(typeof t=="undefined")t=e,e=Pt,r=!0;else if(typeof t.x!="undefined"||Array.isArray(t))n=t,t=e,e=Pt,r=!0;return t=Bt(t),n?Ht(e,t,n):(i={forward:function(n){return Ht(e,t,n)},inverse:function(n){return Ht(t,e,n)}},r&&(i.oProj=t),i)}function $t(e,t){return t=t||5,tn(Yt({lat:e[1],lon:e[0]}),t)}function Jt(e){var t=Zt(on(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Kt(e){var t=Zt(on(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Qt(e){return e*(Math.PI/180)}function Gt(e){return 180*(e/Math.PI)}function Yt(e){var t=e.lat,n=e.lon,r=6378137,i=.00669438,s=.9996,o,u,a,f,l,c,h,p=Qt(t),d=Qt(n),v,m;m=Math.floor((n+180)/6)+1,n===180&&(m=60),t>=56&&t<64&&n>=3&&n<12&&(m=32),t>=72&&t<84&&(n>=0&&n<9?m=31:n>=9&&n<21?m=33:n>=21&&n<33?m=35:n>=33&&n<42&&(m=37)),o=(m-1)*6-180+3,v=Qt(o),u=i/(1-i),a=r/Math.sqrt(1-i*Math.sin(p)*Math.sin(p)),f=Math.tan(p)*Math.tan(p),l=u*Math.cos(p)*Math.cos(p),c=Math.cos(p)*(d-v),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*p-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*p)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*p)-35*i*i*i/3072*Math.sin(6*p));var g=s*a*(c+(1-f+l)*c*c*c/6+(5-18*f+f*f+72*l-58*u)*c*c*c*c*c/120)+5e5,y=s*(h+a*Math.tan(p)*(c*c/2+(5-f+9*l+4*l*l)*c*c*c*c/24+(61-58*f+f*f+600*l-330*u)*c*c*c*c*c*c/720));return t<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(g),zoneNumber:m,zoneLetter:en(t)}}function Zt(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var s=.9996,o=6378137,u=.00669438,a,f=(1-Math.sqrt(1-u))/(1+Math.sqrt(1-u)),l,c,h,p,d,v,m,g,y,b=n-5e5,w=t;r<"N"&&(w-=1e7),m=(i-1)*6-180+3,a=u/(1-u),v=w/s,g=v/(o*(1-u/4-3*u*u/64-5*u*u*u/256)),y=g+(3*f/2-27*f*f*f/32)*Math.sin(2*g)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*g)+151*f*f*f/96*Math.sin(6*g),l=o/Math.sqrt(1-u*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),h=a*Math.cos(y)*Math.cos(y),p=o*(1-u)/Math.pow(1-u*Math.sin(y)*Math.sin(y),1.5),d=b/(l*s);var E=y-l*Math.tan(y)/p*(d*d/2-(5+3*c+10*h-4*h*h-9*a)*d*d*d*d/24+(61+90*c+298*h+45*c*c-252*a-3*h*h)*d*d*d*d*d*d/720);E=Gt(E);var S=(d-(1+2*c+h)*d*d*d/6+(5-2*h+28*c-3*h*h+8*a+24*c*c)*d*d*d*d*d/120)/Math.cos(y);S=m+Gt(S);var x;if(e.accuracy){var T=Zt({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});x={top:T.lat,right:T.lon,bottom:E,left:S}}else x={lat:E,lon:S};return x}function en(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function tn(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+nn(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function nn(e,t,n){var r=rn(n),i=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return sn(i,s,r)}function rn(e){var t=e%Ft;return t===0&&(t=Ft),t}function sn(e,t,n){var r=n-1,i=It.charCodeAt(r),s=qt.charCodeAt(r),o=i+e-1,u=s+t,a=!1;o>Xt&&(o=o-Xt+Rt-1,a=!0),(o===Ut||i<Ut&&o>Ut||(o>Ut||i<Ut)&&a)&&o++;if(o===zt||i<zt&&o>zt||(o>zt||i<zt)&&a)o++,o===Ut&&o++;o>Xt&&(o=o-Xt+Rt-1),u>Wt?(u=u-Wt+Rt-1,a=!0):a=!1,(u===Ut||s<Ut&&u>Ut||(u>Ut||s<Ut)&&a)&&u++;if(u===zt||s<zt&&u>zt||(u>zt||s<zt)&&a)u++,u===Ut&&u++;u>Wt&&(u=u-Wt+Rt-1);var f=String.fromCharCode(o)+String.fromCharCode(u);return f}function on(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";var t=e.length,n=null,r="",i,s=0;while(!/[A-Z]/.test(i=e.charAt(s))){if(s>=2)throw"MGRSPoint bad conversion from: "+e;r+=i,s++}var o=parseInt(r,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var u=e.charAt(s++);if(u<="A"||u==="B"||u==="Y"||u>="Z"||u==="I"||u==="O")throw"MGRSPoint zone letter "+u+" not handled: "+e;n=e.substring(s,s+=2);var a=rn(o),f=un(n.charAt(0),a),l=an(n.charAt(1),a);while(l<fn(u))l+=2e6;var c=t-s;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h=c/2,p=0,d=0,v,m,g,y,b;return h>0&&(v=1e5/Math.pow(10,h),m=e.substring(s,s+h),p=parseFloat(m)*v,g=e.substring(s+h),d=parseFloat(g)*v),y=p+f,b=d+l,{easting:y,northing:b,zoneLetter:u,zoneNumber:o,accuracy:v}}function un(e,t){var n=It.charCodeAt(t-1),r=1e5,i=!1;while(n!==e.charCodeAt(0)){n++,n===Ut&&n++,n===zt&&n++;if(n>Xt){if(i)throw"Bad character: "+e;n=Rt,i=!0}r+=1e5}return r}function an(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=qt.charCodeAt(t-1),r=0,i=!1;while(n!==e.charCodeAt(0)){n++,n===Ut&&n++,n===zt&&n++;if(n>Wt){if(i)throw"Bad character: "+e;n=Rt,i=!0}r+=1e5}return r}function fn(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function ln(e,t,n){if(!(this instanceof ln))return new ln(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t=="undefined"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function Ln(){this.x0=this.x0!==undefined?this.x0:0,this.y0=this.y0!==undefined?this.y0:0,this.long0=this.long0!==undefined?this.long0:0,this.lat0=this.lat0!==undefined?this.lat0:0,this.es&&(this.en=Tn(this.es),this.ml0=Nn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function An(e){var t=e.x,n=e.y,r=G(t-this.long0),i,s,o,u=Math.sin(n),a=Math.cos(n);if(!this.es){var f=a*Math.sin(r);if(Math.abs(Math.abs(f)-1)<l)return 93;s=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,o=a*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(o);if(f>=1){if(f-1>l)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}else{var c=a*r,h=Math.pow(c,2),p=this.ep2*Math.pow(a,2),d=Math.pow(p,2),v=Math.abs(a)>l?Math.tan(n):0,m=Math.pow(v,2),g=Math.pow(m,2);i=1-this.es*Math.pow(u,2),c/=Math.sqrt(i);var y=Nn(n,u,a,this.en);s=this.a*this.k0*c*(1+h/6*(1-m+p+h/20*(5-18*m+g+14*p-58*m*p+h/42*(61+179*g-g*m-479*m))))+this.x0,o=this.a*this.k0*(y-this.ml0+u*r*c/2*(1+h/12*(5-m+9*p+4*d+h/30*(61+g-58*m+270*p-330*m*p+h/56*(1385+543*g-g*m-3111*m)))))+this.y0}return e.x=s,e.y=o,e}function On(e){var t,n,r,i,s=(e.x-this.x0)*(1/this.a),u=(e.y-this.y0)*(1/this.a);if(!this.es){var a=Math.exp(s/this.k0),f=.5*(a-1/a),c=this.lat0+u/this.k0,h=Math.cos(c);t=Math.sqrt((1-Math.pow(h,2))/(1+Math.pow(f,2))),r=Math.asin(t),u<0&&(r=-r),f===0&&h===0?i=0:i=G(Math.atan2(f,h)+this.long0)}else{t=this.ml0+u/this.k0,n=kn(t,this.es,this.en);if(Math.abs(n)<o){var p=Math.sin(n),d=Math.cos(n),v=Math.abs(d)>l?Math.tan(n):0,m=this.ep2*Math.pow(d,2),g=Math.pow(m,2),y=Math.pow(v,2),b=Math.pow(y,2);t=1-this.es*Math.pow(p,2);var w=s*Math.sqrt(t)/this.k0,E=Math.pow(w,2);t*=v,r=n-t*E/(1-this.es)*.5*(1-E/12*(5+3*y-9*m*y+m-4*g-E/30*(61+90*y-252*m*y+45*b+46*m-E/56*(1385+3633*y+4095*b+1574*b*y)))),i=G(this.long0+w*(1-E/6*(1+2*y+m-E/20*(5+28*y+24*b+8*m*y+6*m-E/42*(61+662*y+1320*b+720*b*y))))/d)}else r=o*Q(u),i=0}return e.x=i,e.y=r,e}function Rn(){if(this.es===undefined||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=this.x0!==undefined?this.x0:0,this.y0=this.y0!==undefined?this.y0:0,this.long0=this.long0!==undefined?this.long0:0,this.lat0=this.lat0!==undefined?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n*=t,this.cgb[1]=n*(7/3+t*(-1.6+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-2.4+t*(-24832/14175))),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(-0.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-0.6+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*.6650675310896665;var r=jn(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Fn(this.gtu,2*r))}function Un(e){var t=G(e.x-this.long0),n=e.y;n=jn(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(s*i,Pn(r,i*o)),t=Bn(Math.tan(t));var u=qn(this.gtu,2*n,2*t);n+=u[0],t+=u[1];var a,f;return Math.abs(t)<=2.623395162778?(a=this.a*this.Qn*t+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(a=Infinity,f=Infinity),e.x=a,e.y=f,e}function zn(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var s=qn(this.utg,2*n,2*t);n+=s[0],t+=s[1],t=Math.atan(Dn(t));var o=Math.sin(n),u=Math.cos(n),a=Math.sin(t),f=Math.cos(t);n=Math.atan2(o*f,Pn(a,f*u)),t=Math.atan2(a,f*u),r=G(t+this.long0),i=jn(this.cgb,n)}else r=Infinity,i=Infinity;return e.x=r,e.y=i,e}function Jn(){var e=Vn(this.zone,this.long0);if(e===undefined)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*c,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Xn.init.apply(this),this.forward=Xn.forward,this.inverse=Xn.inverse}function Zn(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+p)/(Math.pow(Math.tan(.5*this.lat0+p),this.C)*Gn(this.e*e,this.ratexp))}function er(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+p),this.C)*Gn(this.e*Math.sin(n),this.ratexp))-o,e.x=this.C*t,e}function tr(e){var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+p)/this.K,1/this.C);for(var s=Yn;s>0;--s){r=2*Math.atan(i*Gn(this.e*Math.sin(e.y),-0.5*this.e))-o;if(Math.abs(r-e.y)<t)break;e.y=r}return s?(e.x=n,e.y=r,e):null}function ir(){rr.init.apply(this);if(!this.rc)return;this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative")}function sr(e){var t,n,r,i;return e.x=G(e.x-this.long0),rr.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function or(e){var t,n,r,i,s;e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0;if(s=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,rr.inverse.apply(this,[e]),e.x=G(e.x+this.long0),e}function fr(e,t,n){return t*=n,Math.tan(.5*(o+e))*Math.pow((1-t)/(1+t),.5*n)}function lr(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l&&(this.k0=.5*(1+Q(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=l&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l&&(this.k0=.5*this.cons*K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Y(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=K(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-o,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function cr(e){var t=e.x,n=e.y,r=Math.sin(n),i=Math.cos(n),s,u,a,f,c,h,p=G(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=l&&Math.abs(n+this.lat0)<=l?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(p)),e.x=this.a*s*i*Math.sin(p)+this.x0,e.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(p))+this.y0,e):(u=2*Math.atan(this.ssfn_(n,r,this.e))-o,f=Math.cos(u),a=Math.sin(u),Math.abs(this.coslat0)<=l?(c=Y(this.e,n*this.con,this.con*r),h=2*this.a*this.k0*c/this.cons,e.x=this.x0+h*Math.sin(t-this.long0),e.y=this.y0-this.con*h*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<l?(s=2*this.a*this.k0/(1+f*Math.cos(p)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*f*Math.cos(p))),e.y=s*(this.cosX0*a-this.sinX0*f*Math.cos(p))+this.y0),e.x=s*f*Math.sin(p)+this.x0,e))}function hr(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,u=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(u/(.5*this.a*this.k0));return t=this.long0,n=this.lat0,u<=l?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/u),Math.abs(this.coslat0)<l?this.lat0>0?t=G(this.long0+Math.atan2(e.x,-1*e.y)):t=G(this.long0+Math.atan2(e.x,e.y)):t=G(this.long0+Math.atan2(e.x*Math.sin(a),u*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=l){if(u<=l)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*Z(this.e,r),t=this.con*G(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,u<=l?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/u),t=G(this.long0+Math.atan2(e.x*Math.sin(i),u*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*Z(this.e,Math.tan(.5*(o+s)));return e.x=t,e.y=n,e}function vr(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var u=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),f=Math.log((1+o*t)/(1-o*t));this.K=u-this.alpha*a+this.alpha*o/2*f}function mr(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),u=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(u))/(1-Math.sin(u)))+this.y0,e.x=this.R*o+this.x0,e}function gr(e){var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),u=this.lambda0+o/this.alpha,a=0,f=s,l=-1e3,c=0;while(Math.abs(f-l)>1e-7){if(++c>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),l=f,f=2*Math.atan(Math.exp(a))-Math.PI/2}return e.x=u,e.y=f,e}function wr(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=Y(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var s,o;if(!isNaN(this.longc))this.lat0>=0?s=i+Math.sqrt(i*i-1):s=i-Math.sqrt(i*i-1),this.el=s*Math.pow(r,this.bl),o=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;else{var u=Y(this.e,this.lat1,Math.sin(this.lat1)),a=Y(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var f=Math.pow(u,this.bl),l=Math.pow(a,this.bl);s=this.el/f,o=.5*(s-1/s);var c=(this.el*this.el-l*f)/(this.el*this.el+l*f),h=(l-f)/(l+f),p=G(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=G(this.long0);var d=G(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/o),this.alpha=Math.asin(i*Math.sin(this.gamma0))}this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function Er(e){var t=e.x,n=e.y,r=G(t-this.long0),i,s,u;if(Math.abs(Math.abs(n)-o)<=l)n>0?u=-1:u=1,s=this.al/this.bl*Math.log(Math.tan(p+u*this.gamma0*.5)),i=-1*u*o*this.al/this.bl;else{var a=Y(this.e,n,Math.sin(n)),f=this.el/Math.pow(a,this.bl),c=.5*(f-1/f),h=.5*(f+1/f),d=Math.sin(this.bl*r),v=(c*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/h;Math.abs(Math.abs(v)-1)<=l?s=Number.POSITIVE_INFINITY:s=.5*this.al*Math.log((1-v)/(1+v))/this.bl,Math.abs(Math.cos(this.bl*r))<=l?i=this.al*this.bl*r:i=this.al*Math.atan2(c*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*r))/this.bl}return this.no_rot?(e.x=this.x0+i,e.y=this.y0+s):(i-=this.uc,e.x=this.x0+s*Math.cos(this.alpha)+i*Math.sin(this.alpha),e.y=this.y0+i*Math.cos(this.alpha)-s*Math.sin(this.alpha)),e}function Sr(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),s=.5*(r+1/r),u=Math.sin(this.bl*t/this.al),a=(u*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/s,f=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<l?(e.x=this.long0,e.y=o):Math.abs(a+1)<l?(e.x=this.long0,e.y=-1*o):(e.y=Z(this.e,f),e.x=G(this.long0-Math.atan2(i*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function Nr(){this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<l)return;var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=K(this.e,t,n),i=Y(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),u=K(this.e,s,o),a=Y(this.e,this.lat2,s),f=Y(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>l?this.ns=Math.log(r/u)/Math.log(i/a):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}function Cr(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=l&&(n=Q(n)*(o-2*l));var r=Math.abs(Math.abs(n)-o),i,s;if(r>l)i=Y(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{r=n*this.ns;if(r<=0)return null;s=0}var u=this.ns*G(t-this.long0);return e.x=this.k0*s*Math.sin(u)+this.x0,e.y=this.k0*(this.rh-s*Math.cos(u))+this.y0,e}function kr(e){var t,n,r,i,s,u=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(u*u+a*a),n=1):(t=-Math.sqrt(u*u+a*a),n=-1);var f=0;t!==0&&(f=Math.atan2(n*u,n*a));if(t!==0||this.ns>0){n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=Z(this.e,r);if(i===-9999)return null}else i=-o;return s=G(f/this.ns+this.long0),e.x=s,e.y=i,e}function Or(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Mr(e){var t,n,r,i,s,o,u,a=e.x,f=e.y,l=G(a-this.long0);return t=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/t)-this.s45),r=-l*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=u*Math.cos(o)/1,e.x=u*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function _r(e){var t,n,r,i,s,o,u,a,f=e.x;e.x=e.y,e.y=f,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,u=t,a=0;var l=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.e/2))-this.s45),Math.abs(u-e.y)<1e-10&&(a=1),u=e.y,l+=1;while(a===0&&l<15);return l>=15?null:e}function zr(){this.sphere||(this.e0=Br(this.es),this.e1=jr(this.es),this.e2=Fr(this.es),this.e3=Ir(this.es),this.ml0=this.a*Hr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Wr(e){var t,n,r=e.x,i=e.y;r=G(r-this.long0);if(this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),u=qr(this.a,this.e,s),a=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),l=f*f,c=this.es*o*o/(1-this.es),h=this.a*Hr(this.e0,this.e1,this.e2,this.e3,i);t=u*f*(1-l*a*(1/6-(8-a+8*c)*l/120)),n=h-this.ml0+u*s/o*l*(.5+(5-a+6*c)*l/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Xr(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(s))}else{var u=this.ml0/this.a+n,a=Ur(u,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-o)<=l)return e.x=this.long0,e.y=o,n<0&&(e.y*=-1),e;var f=qr(this.a,this.e,Math.sin(a)),c=f*f*f/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(a),2),p=t*this.a/f,d=p*p;r=a-f*Math.tan(a)/c*p*p*(.5-(1+3*h)*p*p/24),i=p*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(a)}return e.x=G(i+this.long0),e.y=Rr(r),e}function Zr(){var e=Math.abs(this.lat0);Math.abs(e-o)<l?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<l?this.mode=this.EQUIT:this.mode=this.OBLIQ;if(this.es>0){var t;this.qp=Jr(this.e,1),this.mmf=.5/(1-this.es),this.apa=ai(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Jr(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ei(e){var t,n,r,i,s,u,a,f,c,h,d=e.x,v=e.y;d=G(d-this.long0);if(this.sphere){s=Math.sin(v),h=Math.cos(v),r=Math.cos(d);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){n=this.mode===this.EQUIT?1+h*r:1+this.sinph0*s+this.cosph0*h*r;if(n<=l)return null;n=Math.sqrt(2/n),t=n*h*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*h*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(r=-r);if(Math.abs(v+this.phi0)<l)return null;n=p-v*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(d),n*=r}}else{a=0,f=0,c=0,r=Math.cos(d),i=Math.sin(d),s=Math.sin(v),u=Jr(this.e,s);if(this.mode===this.OBLIQ||this.mode===this.EQUIT)a=u/this.qp,f=Math.sqrt(1-a*a);switch(this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*f*r;break;case this.EQUIT:c=1+f*r;break;case this.N_POLE:c=o+v,u=this.qp-u;break;case this.S_POLE:c=v-o,u=this.qp+u}if(Math.abs(c)<l)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*f*r):n=(c=Math.sqrt(2/(1+f*r)))*a*this.ymf,t=this.xmf*c*f*i;break;case this.N_POLE:case this.S_POLE:u>=0?(t=(c=Math.sqrt(u))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function ti(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i,s,u,a,f,c;if(this.sphere){var h=0,p,d=0;p=Math.sqrt(t*t+n*n),i=p*.5;if(i>1)return null;i=2*Math.asin(i);if(this.mode===this.OBLIQ||this.mode===this.EQUIT)d=Math.sin(i),h=Math.cos(i);switch(this.mode){case this.EQUIT:i=Math.abs(p)<=l?0:Math.asin(n*d/p),t*=d,n=h*p;break;case this.OBLIQ:i=Math.abs(p)<=l?this.phi0:Math.asin(h*this.sinph0+n*d*this.cosph0/p),t*=d*this.cosph0,n=(h-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:n=-n,i=o-i;break;case this.S_POLE:i-=o}r=n!==0||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(t,n):0}else{c=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){t/=this.dd,n*=this.dd,f=Math.sqrt(t*t+n*n);if(f<l)return e.x=0,e.y=this.phi0,e;u=2*Math.asin(.5*f/this.rq),s=Math.cos(u),t*=u=Math.sin(u),this.mode===this.OBLIQ?(c=s*this.sinb1+n*u*this.cosb1/f,a=this.qp*c,n=f*this.cosb1*s-n*this.sinb1*u):(c=n*u/f,a=this.qp*c,n=f*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(n=-n),a=t*t+n*n;if(!a)return e.x=0,e.y=this.phi0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,n),i=fi(Math.asin(c),this.apa)}return e.x=G(this.long0+r),e.y=i,e}function ai(e){var t,n=[];return n[0]=e*ni,t=e*e,n[0]+=t*ri,n[1]=t*si,t*=e,n[0]+=t*ii,n[1]+=t*oi,n[2]=t*ui,n}function fi(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function pi(){if(Math.abs(this.lat1+this.lat2)<l)return;this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=K(this.e3,this.sin_po,this.cos_po),this.qs1=Jr(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=K(this.e3,this.sin_po,this.cos_po),this.qs2=Jr(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Jr(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>l?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0}function di(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Jr(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*G(t-this.long0),o=i*Math.sin(s)+this.x0,u=this.rh-i*Math.cos(s)+this.y0;return e.x=o,e.y=u,e}function vi(e){var t,n,r,i,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,t!==0&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=G(i/this.ns0+this.long0),e.x=s,e.y=o,e}function mi(e,t){var n,r,i,s,o,u=hi(.5*t);if(e<l)return u;var a=e*e;for(var f=1;f<=25;f++){n=Math.sin(u),r=Math.cos(u),i=e*n,s=1-i*i,o=.5*s*s/r*(t/(1-a)-n/s+.5/e*Math.log((1-i)/(1+i))),u+=o;if(Math.abs(o)<=1e-7)return u}return null}function bi(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function wi(e){var t,n,r,i,s,o,u,a,f=e.x,c=e.y;return r=G(f-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=l?(u=this.x0+this.a*s*n*Math.sin(r)/o,a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)/o):(u=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=u,e.y=a,e}function Ei(e){var t,n,r,i,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=hi(r*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),s=G(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}function Ni(){this.sphere||(this.k0=K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Ci(e){var t=e.x,n=e.y,r,i,s=G(t-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Jr(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=i,e}function ki(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=G(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Ti(this.e,2*e.y*this.k0/this.a),t=G(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function Oi(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Mi(e){var t=e.x,n=e.y,r=G(t-this.long0),i=Rr(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function _i(e){var t=e.x,n=e.y;return e.x=G(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Rr(this.lat0+(n-this.y0)/this.a),e}function Bi(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Br(this.es),this.e1=jr(this.es),this.e2=Fr(this.es),this.e3=Ir(this.es),this.ml0=this.a*Hr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ji(e){var t=e.x,n=e.y,r,i,s,o=G(t-this.long0);s=o*Math.sin(n);if(this.sphere)Math.abs(n)<=l?(r=this.a*o,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(Rr(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=l)r=this.a*o,i=-1*this.ml0;else{var u=qr(this.a,this.e,Math.sin(n))/Math.tan(n);r=u*Math.sin(s),i=this.a*Hr(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+u*(1-Math.cos(s))}return e.x=r+this.x0,e.y=i+this.y0,e}function Fi(e){var t,n,r,i,s,o,u,a,f;r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)if(Math.abs(i+this.a*this.lat0)<=l)t=G(r/this.a+this.long0),n=0;else{o=this.lat0+i/this.a,u=r*r/this.a/this.a+o*o,a=o;var c;for(s=Hi;s;--s){c=Math.tan(a),f=-1*(o*(a*c+1)-a-.5*(a*a+u)*c)/((a-o)/c-1),a+=f;if(Math.abs(f)<=l){n=a;break}}t=G(this.long0+Math.asin(r*Math.tan(a)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=l)n=0,t=G(this.long0+r/this.a);else{o=(this.ml0+i)/this.a,u=r*r/this.a/this.a+o*o,a=o;var h,p,d,v,m;for(s=Hi;s;--s){m=this.e*Math.sin(a),h=Math.sqrt(1-m*m)*Math.tan(a),p=this.a*Hr(this.e0,this.e1,this.e2,this.e3,a),d=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),v=p/this.a,f=(o*(h*v+1)-v-.5*h*(v*v+u))/(this.es*Math.sin(2*a)*(v*v+u-2*o*v)/(4*h)+(o-v)*(h*d-2/Math.sin(2*a))-d),a-=f;if(Math.abs(f)<=l){n=a;break}}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=G(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function Ri(){this.A=[],this.A[1]=.6399175073,this.A[2]=-0.1358797613,this.A[3]=.063294409,this.A[4]=-0.02526853,this.A[5]=.0117879,this.A[6]=-0.0055161,this.A[7]=.0026906,this.A[8]=-0.001333,this.A[9]=67e-5,this.A[10]=-0.00034,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-0.001541739,this.B_im[3]=.04105856,this.B_re[4]=-0.10162907,this.B_im[4]=.01727609,this.B_re[5]=-0.26623489,this.B_im[5]=-0.36249218,this.B_re[6]=-0.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-0.577245789,this.C_im[2]=-0.007809598,this.C_re[3]=.508307513,this.C_im[3]=-0.112208952,this.C_re[4]=-0.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-0.03333098,this.D[4]=-0.1052906,this.D[5]=-0.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-0.0013}function Ui(e){var t,n=e.x,r=e.y,i=r-this.lat0,o=n-this.long0,u=i/s*1e-5,a=o,f=1,l=0;for(t=1;t<=10;t++)f*=u,l+=this.A[t]*f;var c=l,h=a,p=1,d=0,v,m,g=0,y=0;for(t=1;t<=6;t++)v=p*c-d*h,m=d*c+p*h,p=v,d=m,g=g+this.B_re[t]*p-this.B_im[t]*d,y=y+this.B_im[t]*p+this.B_re[t]*d;return e.x=y*this.a+this.x0,e.y=g*this.a+this.y0,e}function zi(e){var t,n=e.x,r=e.y,i=n-this.x0,o=r-this.y0,u=o/this.a,a=i/this.a,f=1,l=0,c,h,p=0,d=0;for(t=1;t<=6;t++)c=f*u-l*a,h=l*u+f*a,f=c,l=h,p=p+this.C_re[t]*f-this.C_im[t]*l,d=d+this.C_im[t]*f+this.C_re[t]*l;for(var v=0;v<this.iterations;v++){var m=p,g=d,y,b,w=u,E=a;for(t=2;t<=6;t++)y=m*p-g*d,b=g*p+m*d,m=y,g=b,w+=(t-1)*(this.B_re[t]*m-this.B_im[t]*g),E+=(t-1)*(this.B_im[t]*m+this.B_re[t]*g);m=1,g=0;var S=this.B_re[1],x=this.B_im[1];for(t=2;t<=6;t++)y=m*p-g*d,b=g*p+m*d,m=y,g=b,S+=t*(this.B_re[t]*m-this.B_im[t]*g),x+=t*(this.B_im[t]*m+this.B_re[t]*g);var T=S*S+x*x;p=(w*S+E*x)/T,d=(E*S-w*x)/T}var N=p,C=d,k=1,L=0;for(t=1;t<=9;t++)k*=N,L+=this.D[t]*k;var A=this.lat0+L*s*1e5,O=this.long0+C;return e.x=O,e.y=A,e}function Vi(){}function $i(e){var t=e.x,n=e.y,r=G(t-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=s,e}function Ji(e){e.x-=this.x0,e.y-=this.y0;var t=G(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function Yi(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Tn(this.es)}function Zi(e){var t,n,r=e.x,i=e.y;r=G(r-this.long0);if(this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else{var s=this.n*Math.sin(i);for(var o=Gi;o;--o){var u=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));i-=u;if(Math.abs(u)<l)break}}t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var a=Math.sin(i),f=Math.cos(i);n=this.a*Nn(i,a,f,this.en),t=this.a*r*f/Math.sqrt(1-this.es*a*a)}return e.x=t,e.y=n,e}function es(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=hi((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=hi(Math.sin(t)/this.n)),r=G(r+this.long0),t=Rr(t)):(t=kn(e.y/this.a,this.es,this.en),i=Math.abs(t),i<o?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=G(n)):i-l<o&&(r=this.long0)),e.x=r,e.y=t,e}function rs(){}function is(e){var t=e.x,n=e.y,r=G(t-this.long0),i=n,s=Math.PI*Math.sin(n);for(var o=0;!0;o++){var u=-(i+Math.sin(i)-s)/(1+Math.cos(i));i+=u;if(Math.abs(u)<l)break}i/=2,Math.PI/2-Math.abs(n)<l&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,f=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=f,e}function ss(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=G(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}function as(){if(Math.abs(this.lat1+this.lat2)<l)return;this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Br(this.es),this.e1=jr(this.es),this.e2=Fr(this.es),this.e3=Ir(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=K(this.e,this.sinphi,this.cosphi),this.ml1=Hr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<l?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=K(this.e,this.sinphi,this.cosphi),this.ml2=Hr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Hr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0)}function fs(e){var t=e.x,n=e.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Hr(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*G(t-this.long0),o=this.x0+r*Math.sin(s),u=this.y0+this.rh-r*Math.cos(s);return e.x=o,e.y=u,e}function ls(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;n!==0&&(s=Math.atan2(t*e.x,t*e.y));if(this.sphere)return i=G(this.long0+s/this.ns),r=Rr(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=Ur(o,this.e0,this.e1,this.e2,this.e3),i=G(this.long0+s/this.ns),e.x=i,e.y=r,e}function ps(){this.R=this.a}function ds(e){var t=e.x,n=e.y,r=G(t-this.long0),i,s;Math.abs(n)<=l&&(i=this.x0+this.R*r,s=this.y0);var u=hi(2*Math.abs(n/Math.PI));if(Math.abs(r)<=l||Math.abs(Math.abs(n)-o)<=l)i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*u):s=this.y0+Math.PI*this.R*-Math.tan(.5*u);var a=.5*Math.abs(Math.PI/r-r/Math.PI),f=a*a,c=Math.sin(u),h=Math.cos(u),p=h/(c+h-1),d=p*p,v=p*(2/c-1),m=v*v,g=Math.PI*this.R*(a*(p-m)+Math.sqrt(f*(p-m)*(p-m)-(m+f)*(d-m)))/(m+f);r<0&&(g=-g),i=this.x0+g;var y=f+p;return g=Math.PI*this.R*(v*y-a*Math.sqrt((m+f)*(f+1)-y*y))/(m+f),n>=0?s=this.y0+g:s=this.y0-g,e.x=i,e.y=s,e}function vs(e){var t,n,r,i,s,o,u,a,f,c,h,p,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,r=e.x/h,i=e.y/h,s=r*r+i*i,o=-Math.abs(i)*(1+s),u=o-2*i*i+r*r,a=-2*o+1+2*i*i+s*s,d=i*i/a+(2*u*u*u/a/a/a-9*o*u/a/a)/27,f=(o-u*u/3/a)/a,c=2*Math.sqrt(-f/3),h=3*d/f/c,Math.abs(h)>1&&(h>=0?h=1:h=-1),p=Math.acos(h)/3,e.y>=0?n=(-c*Math.cos(p+Math.PI/3)-u/3/a)*Math.PI:n=-(-c*Math.cos(p+Math.PI/3)-u/3/a)*Math.PI,Math.abs(r)<l?t=this.long0:t=G(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),e.x=t,e.y=n,e}function ys(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function bs(e){var t=e.x,n=e.y,r=Math.sin(e.y),i=Math.cos(e.y),s=G(t-this.long0),u,a,f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;return this.sphere?Math.abs(this.sin_p12-1)<=l?(e.x=this.x0+this.a*(o-n)*Math.sin(s),e.y=this.y0-this.a*(o-n)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=l?(e.x=this.x0+this.a*(o+n)*Math.sin(s),e.y=this.y0+this.a*(o+n)*Math.cos(s),e):(N=this.sin_p12*r+this.cos_p12*i*Math.cos(s),x=Math.acos(N),T=x/Math.sin(x),e.x=this.x0+this.a*T*i*Math.sin(s),e.y=this.y0+this.a*T*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),e):(u=Br(this.es),a=jr(this.es),f=Fr(this.es),c=Ir(this.es),Math.abs(this.sin_p12-1)<=l?(h=this.a*Hr(u,a,f,c,o),p=this.a*Hr(u,a,f,c,n),e.x=this.x0+(h-p)*Math.sin(s),e.y=this.y0-(h-p)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=l?(h=this.a*Hr(u,a,f,c,o),p=this.a*Hr(u,a,f,c,n),e.x=this.x0+(h+p)*Math.sin(s),e.y=this.y0+(h+p)*Math.cos(s),e):(d=r/i,v=qr(this.a,this.e,this.sin_p12),m=qr(this.a,this.e,r),g=Math.atan((1-this.es)*d+this.es*v*this.sin_p12/(m*i)),y=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(s)),y===0?C=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):Math.abs(Math.abs(y)-Math.PI)<=l?C=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):C=Math.asin(Math.sin(s)*Math.cos(g)/Math.sin(y)),b=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(y)/Math.sqrt(1-this.es),E=b*w,S=w*w,k=C*C,L=k*C,A=L*C,O=A*C,x=v*C*(1-k*S*(1-S)/6+L/8*E*(1-2*S)+A/120*(S*(4-7*S)-3*b*b*(1-7*S))-O/48*E),e.x=this.x0+x*Math.sin(y),e.y=this.y0+x*Math.cos(y),e))}function ws(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,u,a,f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;if(this.sphere){t=Math.sqrt(e.x*e.x+e.y*e.y);if(t>2*o*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=l?u=this.lat0:(u=hi(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-o,Math.abs(a)<=l?this.lat0>=0?s=G(this.long0+Math.atan2(e.x,-e.y)):s=G(this.long0-Math.atan2(-e.x,e.y)):s=G(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=s,e.y=u,e}return f=Br(this.es),c=jr(this.es),h=Fr(this.es),p=Ir(this.es),Math.abs(this.sin_p12-1)<=l?(d=this.a*Hr(f,c,h,p,o),t=Math.sqrt(e.x*e.x+e.y*e.y),v=d-t,u=Ur(v/this.a,f,c,h,p),s=G(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=u,e):Math.abs(this.sin_p12+1)<=l?(d=this.a*Hr(f,c,h,p,o),t=Math.sqrt(e.x*e.x+e.y*e.y),v=t-d,u=Ur(v/this.a,f,c,h,p),s=G(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=u,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),y=Math.atan2(e.x,e.y),m=qr(this.a,this.e,this.sin_p12),b=Math.cos(y),w=this.e*this.cos_p12*b,E=-w*w/(1-this.es),S=3*this.es*(1-E)*this.sin_p12*this.cos_p12*b/(1-this.es),x=t/m,T=x-E*(1+E)*Math.pow(x,3)/6-S*(1+3*E)*Math.pow(x,4)/24,N=1-E*T*T/2-x*T*T*T/6,g=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*b),s=G(this.long0+Math.asin(Math.sin(y)*Math.sin(T)/Math.cos(g))),u=Math.atan((1-this.es*N*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),e.x=s,e.y=u,e)}function xs(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Ts(e){var t,n,r,i,s,o,u,a,f=e.x,c=e.y;r=G(f-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1;if(o>0||Math.abs(o)<=l)u=this.a*s*n*Math.sin(r),a=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i);return e.x=u,e.y=a,e}function Ns(e){var t,n,r,i,s,u,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=hi(t/this.a),r=Math.sin(n),i=Math.cos(n),u=this.long0,Math.abs(t)<=l?(a=this.lat0,e.x=u,e.y=a,e):(a=hi(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-o,Math.abs(s)<=l?(this.lat0>=0?u=G(this.long0+Math.atan2(e.x,-e.y)):u=G(this.long0-Math.atan2(-e.x,e.y)),e.x=u,e.y=a,e):(u=G(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=u,e.y=a,e))}var e=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]},t=1,n=2,r=4,i=5,s=484813681109536e-20,o=Math.PI/2,u=.16666666666666666,a=.04722222222222222,f=.022156084656084655,l=typeof Number.EPSILON=="undefined"?1e-10:Number.EPSILON,c=.017453292519943295,h=57.29577951308232,p=Math.PI/4,d=Math.PI*2,v=3.14159265359,m={};m.greenwich=0,m.lisbon=-9.131906111111,m.paris=2.337229166667,m.bogota=-74.080916666667,m.madrid=-3.687938888889,m.rome=12.452333333333,m.bern=7.439583333333,m.jakarta=106.807719444444,m.ferro=-17.666666666667,m.brussels=4.367975,m.stockholm=18.058277777778,m.athens=23.7163375,m.oslo=10.722916666667;var g={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},y=/[\s_\-\/\(\)]/g,w=function(e){var t={},n=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),r,i,s,o={proj:"projName",datum:"datumCode",rf:function(e){t.rf=parseFloat(e)},lat_0:function(e){t.lat0=e*c},lat_1:function(e){t.lat1=e*c},lat_2:function(e){t.lat2=e*c},lat_ts:function(e){t.lat_ts=e*c},lon_0:function(e){t.long0=e*c},lon_1:function(e){t.long1=e*c},lon_2:function(e){t.long2=e*c},alpha:function(e){t.alpha=parseFloat(e)*c},lonc:function(e){t.longc=e*c},x_0:function(e){t.x0=parseFloat(e)},y_0:function(e){t.y0=parseFloat(e)},k_0:function(e){t.k0=parseFloat(e)},k:function(e){t.k0=parseFloat(e)},a:function(e){t.a=parseFloat(e)},b:function(e){t.b=parseFloat(e)},r_a:function(){t.R_A=!0},zone:function(e){t.zone=parseInt(e,10)},south:function(){t.utmSouth=!0},towgs84:function(e){t.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){t.to_meter=parseFloat(e)},units:function(e){t.units=e;var n=b(g,e);n&&(t.to_meter=n.to_meter)},from_greenwich:function(e){t.from_greenwich=e*c},pm:function(e){var n=b(m,e);t.from_greenwich=(n?n:parseFloat(e))*c},nadgrids:function(e){e==="@null"?t.datumCode="none":t.nadgrids=e},axis:function(e){var n="ewnsud";e.length===3&&n.indexOf(e.substr(0,1))!==-1&&n.indexOf(e.substr(1,1))!==-1&&n.indexOf(e.substr(2,1))!==-1&&(t.axis=e)}};for(r in n)i=n[r],r in o?(s=o[r],typeof s=="function"?s(i):t[s]=i):t[r]=i;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t},E=1,S=2,x=3,T=4,N=5,C=-1,k=/\s/,L=/[A-Za-z]/,A=/[A-Za-z84]/,O=/[,\]]/,M=/[\d\.E\-\+]/;_.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==T)while(k.test(e)){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case E:return this.neutral(e);case S:return this.keyword(e);case T:return this.quoted(e);case N:return this.afterquote(e);case x:return this.number(e);case C:return}},_.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=T;return}if(O.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},_.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=E;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=E,this.currentObject=this.stack.pop(),this.currentObject||(this.state=C);return}},_.prototype.number=function(e){if(M.test(e)){this.word+=e;return}if(O.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},_.prototype.quoted=function(e){if(e==='"'){this.state=N;return}this.word+=e;return},_.prototype.keyword=function(e){if(A.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=E;return}if(O.test(e)){this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},_.prototype.neutral=function(e){if(L.test(e)){this.word=e,this.state=S;return}if(e==='"'){this.word="",this.state=T;return}if(M.test(e)){this.word=e,this.state=x;return}if(O.test(e)){this.afterItem(e);return}throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},_.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===C)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var B=.017453292519943295,q=function(e){var t=D(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return H(t,i),I(i),i};e(R);var W=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],J=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],n!==undefined&&(e[r]=n);return e},K=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},Q=function(e){return e<0?-1:1},G=function(e){return Math.abs(e)<=v?e:e-Q(e)*d},Y=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(o-t))/r},Z=function(e,t){var n=.5*e,r,i,s=o-2*Math.atan(t);for(var u=0;u<=15;u++){r=e*Math.sin(s),i=o-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-s,s+=i;if(Math.abs(i)<=1e-10)return s}return-9999},rt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],it={init:et,forward:tt,inverse:nt,names:rt},ut=["longlat","identity"],at={init:st,forward:ot,inverse:ot,names:ut},ft=[it,at],lt={},ct=[],vt={start:dt,add:ht,get:pt},mt={};mt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},mt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},mt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},mt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},mt.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},mt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},mt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mt.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},mt.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},mt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},mt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},mt.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},mt.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},mt.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},mt.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},mt.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},mt.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},mt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},mt.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},mt.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},mt.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},mt.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},mt.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},mt.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},mt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},mt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},mt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},mt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},mt.hough={a:6378270,rf:297,ellipseName:"Hough"},mt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},mt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},mt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},mt.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},mt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},mt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},mt.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},mt.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},mt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},mt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},mt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var gt=mt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};mt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var wt={};wt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},wt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},wt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},wt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},wt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},wt.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},wt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},wt.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},wt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},wt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},wt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},wt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},wt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},wt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},wt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},wt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},St.projections=vt,St.projections.start();var At=function(e,t,n){return xt(e,t)?n:e.datum_type===i||t.datum_type===i?n:e.es===t.es&&e.a===t.a&&!Lt(e.datum_type)&&!Lt(t.datum_type)?n:(n=Tt(n,e.es,e.a),Lt(e.datum_type)&&(n=Ct(n,e.datum_type,e.datum_params)),Lt(t.datum_type)&&(n=kt(n,t.datum_type,t.datum_params)),Nt(n,t.es,t.a,t.b))},Ot=function(e,t,n){var r=n.x,i=n.y,s=n.z||0,o,u,a,f={};for(a=0;a<3;a++){if(t&&a===2&&n.z===undefined)continue;a===0?(o=r,u="x"):a===1?(o=i,u="y"):(o=s,u="z");switch(e.axis[a]){case"e":f[u]=o;break;case"w":f[u]=-o;break;case"n":f[u]=o;break;case"s":f[u]=-o;break;case"u":n[u]!==undefined&&(f.z=o);break;case"d":n[u]!==undefined&&(f.z=-o);break;default:return null}}return f},Mt=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},Pt=St("WGS84"),Ft=6,It="AJSAJS",qt="AFAFAF",Rt=65,Ut=73,zt=79,Wt=86,Xt=90,Vt={forward:$t,inverse:Jt,toPoint:Kt};ln.fromMGRS=function(e){return new ln(Kt(e))},ln.prototype.toMGRS=function(e){return $t([this.x,this.y],e)};var cn="2.4.3",hn=1,pn=.25,dn=.046875,vn=.01953125,mn=.01068115234375,gn=.75,yn=.46875,bn=.013020833333333334,wn=.007120768229166667,En=.3645833333333333,Sn=.005696614583333333,xn=.3076171875,Tn=function(e){var t=[];t[0]=hn-e*(pn+e*(dn+e*(vn+e*mn))),t[1]=e*(gn-e*(dn+e*(vn+e*mn)));var n=e*e;return t[2]=n*(yn-e*(bn+e*wn)),n*=e,t[3]=n*(En-e*Sn),t[4]=n*e*xn,t},Nn=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},Cn=20,kn=function(e,t,n){var r=1/(1-t),i=e;for(var s=Cn;s;--s){var o=Math.sin(i),u=1-t*o*o;u=(Nn(i,o,Math.cos(i),n)-e)*u*Math.sqrt(u)*r,i-=u;if(Math.abs(u)<l)return i}return i},Mn=["Transverse_Mercator","Transverse Mercator","tmerc"],_n={init:Ln,forward:An,inverse:On,names:Mn},Dn=function(e){var t=Math.exp(e);return t=(t-1/t)/2,t},Pn=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n?n:1);return n*Math.sqrt(1+Math.pow(r,2))},Hn=function(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n},Bn=function(e){var t=Math.abs(e);return t=Hn(t*(1+t/(Pn(1,t)+1))),e<0?-t:t},jn=function(e,t){var n=2*Math.cos(2*t),r=e.length-1,i=e[r],s=0,o;while(--r>=0)o=-s+n*i+e[r],s=i,i=o;return t+o*Math.sin(2*t)},Fn=function(e,t){var n=2*Math.cos(t),r=e.length-1,i=e[r],s=0,o;while(--r>=0)o=-s+n*i+e[r],s=i,i=o;return Math.sin(t)*o},In=function(e){var t=Math.exp(e);return t=(t+1/t)/2,t},qn=function(e,t,n){var r=Math.sin(t),i=Math.cos(t),s=Dn(n),o=In(n),u=2*i*o,a=-2*r*s,f=e.length-1,l=e[f],c=0,h=0,p=0,d,v;while(--f>=0)d=h,v=c,h=l,c=p,l=-d+u*h-a*c+e[f],p=-v+a*h+u*c;return u=r*o,a=i*s,[u*l-a*p,u*p+a*l]},Wn=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],Xn={init:Rn,forward:Un,inverse:zn,names:Wn},Vn=function(e,t){if(e===undefined){e=Math.floor((G(t)+Math.PI)*30/Math.PI)+1;if(e<0)return 0;if(e>60)return 60}return e},$n="etmerc",Kn=["Universal Transverse Mercator System","utm"],Qn={init:Jn,names:Kn,dependsOn:$n},Gn=function(e,t){return Math.pow((1-e)/(1+e),t)},Yn=20,nr=["gauss"],rr={init:Zn,forward:er,inverse:tr,names:nr},ur=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],ar={init:ir,forward:sr,inverse:or,names:ur},pr=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],dr={init:lr,forward:cr,inverse:hr,names:pr,ssfn_:fr},yr=["somerc"],br={init:vr,forward:mr,inverse:gr,names:yr},xr=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],Tr={init:wr,forward:Er,inverse:Sr,names:xr},Lr=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Ar={init:Nr,forward:Cr,inverse:kr,names:Lr},Dr=["Krovak","krovak"],Pr={init:Or,forward:Mr,inverse:_r,names:Dr},Hr=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Br=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},jr=function(e){return.375*e*(1+.25*e*(1+.46875*e))},Fr=function(e){return.05859375*e*e*(1+.75*e)},Ir=function(e){return e*e*e*(35/3072)},qr=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},Rr=function(e){return Math.abs(e)<o?e:e-Q(e)*Math.PI},Ur=function(e,t,n,r,i){var s,o;s=e/t;for(var u=0;u<15;u++){o=(e-(t*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o;if(Math.abs(o)<=1e-10)return s}return NaN},Vr=["Cassini","Cassini_Soldner","cass"],$r={init:zr,forward:Wr,inverse:Xr,names:Vr},Jr=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},Kr=1,Qr=2,Gr=3,Yr=4,ni=.3333333333333333,ri=.17222222222222222,ii=.10257936507936508,si=.06388888888888888,oi=.0664021164021164,ui=.016415012942191543,li=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],ci={init:Zr,forward:ei,inverse:ti,names:li,S_POLE:Kr,N_POLE:Qr,EQUIT:Gr,OBLIQ:Yr},hi=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},gi=["Albers_Conic_Equal_Area","Albers","aea"],yi={init:pi,forward:di,inverse:vi,names:gi,phi1z:mi},Si=["gnom"],xi={init:bi,forward:wi,inverse:Ei,names:Si},Ti=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*o:o;var r=Math.asin(.5*t),i,s,u,a;for(var f=0;f<30;f++){s=Math.sin(r),u=Math.cos(r),a=e*s,i=Math.pow(1-a*a,2)/(2*u)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=i;if(Math.abs(i)<=1e-10)return r}return NaN},Li=["cea"],Ai={init:Ni,forward:Ci,inverse:ki,names:Li},Di=["Equirectangular","Equidistant_Cylindrical","eqc"],Pi={init:Oi,forward:Mi,inverse:_i,names:Di},Hi=20,Ii=["Polyconic","poly"],qi={init:Bi,forward:ji,inverse:Fi,names:Ii},Wi=["New_Zealand_Map_Grid","nzmg"],Xi={init:Ri,forward:Ui,inverse:zi,names:Wi},Ki=["Miller_Cylindrical","mill"],Qi={init:Vi,forward:$i,inverse:Ji,names:Ki},Gi=20,ts=["Sinusoidal","sinu"],ns={init:Yi,forward:Zi,inverse:es,names:ts},os=["Mollweide","moll"],us={init:rs,forward:is,inverse:ss,names:os},cs=["Equidistant_Conic","eqdc"],hs={init:as,forward:fs,inverse:ls,names:cs},ms=["Van_der_Grinten_I","VanDerGrinten","vandg"],gs={init:ps,forward:ds,inverse:vs,names:ms},Es=["Azimuthal_Equidistant","aeqd"],Ss={init:ys,forward:bs,inverse:ws,names:Es},Cs=["ortho"],ks={init:xs,forward:Ts,inverse:Ns,names:Cs},Ls=function(e){e.Proj.projections.add(_n),e.Proj.projections.add(Xn),e.Proj.projections.add(Qn),e.Proj.projections.add(ar),e.Proj.projections.add(dr),e.Proj.projections.add(br),e.Proj.projections.add(Tr),e.Proj.projections.add(Ar),e.Proj.projections.add(Pr),e.Proj.projections.add($r),e.Proj.projections.add(ci),e.Proj.projections.add(yi),e.Proj.projections.add(xi),e.Proj.projections.add(Ai),e.Proj.projections.add(Pi),e.Proj.projections.add(qi),e.Proj.projections.add(Xi),e.Proj.projections.add(Qi),e.Proj.projections.add(ns),e.Proj.projections.add(us),e.Proj.projections.add(hs),e.Proj.projections.add(gs),e.Proj.projections.add(Ss),e.Proj.projections.add(ks)};return jt.defaultDatum="WGS84",jt.Proj=St,jt.WGS84=new jt.Proj("WGS84"),jt.Point=ln,jt.toPoint=Mt,jt.defs=R,jt.transform=Dt,jt.mgrs=Vt,jt.version=cn,Ls(jt),jt});