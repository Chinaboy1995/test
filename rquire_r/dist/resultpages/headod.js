function odanalysisopen(){var e=$("#shiptype").find(" option:selected").val(),t=$("#shipyear").find(" option:selected").val(),n=$("#shipmonth").find(" option:selected").val(),r=$("#shipquarter").find(" option:selected").val();ajaxFun(e,t,n,r)}function ajaxFun(e,t,n,r){var i=[],s=[],o=[],u=[],a=[];r=r===undefined?0:r,$.ajax({url:Project_ParamConfig.PortConfig.odAnlysisUrl,type:"POST",data:{limit:10,ship_type:e,years:t,month:n,quarter:r},dataType:"json",success:function(e){var t=e.msg.exportWeight,n=e.msg.importWeight,r=e.msg.weight,s=[],f=[];for(var l=0;l<t.length;l++)i.push(t[l].port_name),s.push((t[l].tonnageMore/2e5).toFixed(2)),exitOption={color:["#055f88","#0a7cb0","#1992ca","#0ea0e3","#17b6ff","#17cbff","#3ad3ff","#6ddeff","#a0eaff","#bef1ff"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},title:{text:$.i18n.prop("port_query_odanalysis_out_pie"),x:"center",y:"center",textStyle:{color:"rgba(77,95,113,1)",fontFamily:"微软雅黑",fontSize:18,fontWeight:"bolder"}},legend:{orient:"vertical",x:"left",data:i},series:[{name:$.i18n.prop("port_query_odanalysis_out_units"),type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,labelLine:{normal:{show:!0}},data:[{value:(t[0].tonnageMore/2e5).toFixed(2),name:t[0].port_name},{value:(t[1].tonnageMore/2e5).toFixed(2),name:t[1].port_name},{value:(t[2].tonnageMore/2e5).toFixed(2),name:t[2].port_name},{value:(t[3].tonnageMore/2e5).toFixed(2),name:t[3].port_name},{value:(t[4].tonnageMore/2e5).toFixed(2),name:t[4].port_name},{value:(t[5].tonnageMore/2e5).toFixed(2),name:t[5].port_name},{value:(t[6].tonnageMore/2e5).toFixed(2),name:t[6].port_name},{value:(t[7].tonnageMore/2e5).toFixed(2),name:t[7].port_name},{value:(t[8].tonnageMore/2e5).toFixed(2),name:t[8].port_name},{value:(t[9].tonnageMore/2e5).toFixed(2),name:t[9].port_name}]}]};for(var l=0;l<n.length;l++)o.push(n[l].port_name),f.push(n[l].tonnageMore/2e5),entranceOption={color:["#055f88","#0a7cb0","#1992ca","#0ea0e3","#17b6ff","#17cbff","#3ad3ff","#6ddeff","#a0eaff","#bef1ff"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},grid:{left:"20%",containLabel:!0},title:{text:$.i18n.prop("port_query_odanalysis_enter_pie"),x:"center",y:"center",textStyle:{color:"rgba(77,95,113,1)",fontFamily:"微软雅黑",fontSize:18,fontWeight:"bolder"}},legend:{orient:"vertical",x:"left",data:o},series:[{name:$.i18n.prop("port_query_odanalysis_enter_units"),type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,labelLine:{normal:{show:!0}},data:[{value:(n[0].tonnageMore/2e5).toFixed(2),name:n[0].port_name},{value:(n[1].tonnageMore/2e5).toFixed(2),name:n[1].port_name},{value:(n[2].tonnageMore/2e5).toFixed(2),name:n[2].port_name},{value:(n[3].tonnageMore/2e5).toFixed(2),name:n[3].port_name},{value:(n[4].tonnageMore/2e5).toFixed(2),name:n[4].port_name},{value:(n[5].tonnageMore/2e5).toFixed(2),name:n[5].port_name},{value:(n[6].tonnageMore/2e5).toFixed(2),name:n[6].port_name},{value:(n[7].tonnageMore/2e5).toFixed(2),name:n[7].port_name},{value:(n[8].tonnageMore/2e5).toFixed(2),name:n[8].port_name},{value:(n[9].tonnageMore/2e5).toFixed(2),name:n[9].port_name}]}]};for(var l=0;l<r.length;l++){var c=r[l].port_nameA+"\n"+r[l].port_nameB;u.push(c),a.push((r[l].tonnageMore/2e5).toFixed(2)),$(".tName").eq(l).html(r[l].port_nameA+"——"+r[l].port_nameB),$(".tW").eq(l).html(r[l].tonnageMore/2e5)}tradeRelationsOption={tooltip:{trigger:"item",axisPointer:{type:"shadow"}},calculable:!0,grid:{y:0,left:"3%",right:"4%",top:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:u,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:$.i18n.prop("port_query_odanalysis_trade_units"),type:"bar",barCategoryGap:"65%",itemStyle:{normal:{color:function(e){var t=["#055f88","#0a7cb0","#1992ca","#0ea0e3","#17b6ff","#17cbff","#3ad3ff","#6ddeff","#a0eaff","#bef1ff"];return t[e.dataIndex]}}},data:a}]},tradeRelationsChart.setOption(tradeRelationsOption),entranceChart.setOption(entranceOption),exitChart.setOption(exitOption)}}),window.onresize=function(){tradeRelationsChart.resize(),entranceChart.resize(),exitChart.resize()}}ajaxFun("0","2015","0","0");var entranceChart=echarts.init(document.getElementById("entrance")),exitChart=echarts.init(document.getElementById("exit")),tradeRelationsChart=echarts.init(document.getElementById("tradeRelations"));