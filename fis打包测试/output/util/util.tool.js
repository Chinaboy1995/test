define("util/tool",["leaflet","core/namespace"],function(n){n.ICT.Util.Tool=n.Class.extend({initialize:function(){},drag:function(t,e){var a,i,r=!1,l=$("#"+e),o=$("#"+t),u="drag_"+n.stamp(o);l.data("drag","drag"),l.data("panel",u),o.addClass(u),this.initDrag||(this.initDrag=!0,$(document).mousedown(function(t){if(o=null,l=null,l=$(t.target),l=l.data("drag")?l:l.parent(),l.data("drag")&&"drag"==l.data("drag")&&l.data("panel")&&(r=!0,o=l.closest("."+l.data("panel")),0!=o.length)){o=o[0],a=t.clientX,i=t.clientY;var e=n.DomUtil.getPosition(o);return e&&(a-=e.x,i-=e.y),!1}}),$(document).mousemove(function(t){if(r&&o){var t=t||window.event,e=t.clientX-a,l=t.clientY-i,u=n.point(e,l);return n.DomUtil.setPosition(o,u),!1}}),$(document).mouseup(function(){r=!1,a=null,i=null,l=null,o=null,u=null}))},latlngTodfm:function(n,t,e,a){var i,r=[];newval=parseFloat(n);var l=Math.abs(newval),o=parseInt(l),u=parseInt(60*l)-60*o,d=60*l*60-60*u-60*o*60;return("undefined"==typeof a||0>=a)&&(a=0),d=d.toFixed(a),"undefined"==typeof e&&(e=!0),e&&("lng"===t?(10>o&&(o="00"+o),o>=10&&100>o&&(o="0"+o)):10>o&&(o="0"+o)),"lat"===t&&(i=0>newval?"S":"N"),"lng"===t&&(i=0>newval?"W":"E"),r.push(o,u,d,i),r},latlngTodfmStr:function(n,t,e){var a=this.latlngTodfm(n,t,e),i=a[3]+" "+a[0]+"°"+a[1]+"′"+a[2]+"″";return i},formatStr:function(n,t){if(n.indexOf(".")>=0){var e=n.length,a=e-n.indexOf("."),i=a-1;if(t>=i)return n;var r=n.indexOf(".")+t+1;return n.substr(0,r)}return n},formatLng:function(n){return 10>n?"00"+n:100>n?"0"+n:n},formatLat:function(n){return 10>n?"0"+n:n},convertMileToNmile:function(n){var t=parseFloat(n),e=54e-5*t;return e.toFixed(3)},invoke:function(n,t,e,a){function i(){var t=setInterval(n,e);a&&setTimeout(function(){clearInterval(t)},a)}t||(t=0),arguments.length<=2?setTimeout(n,t):setTimeout(i,t)}})});